{"version":3,"file":"vendors-node_modules_theia_editor_lib_browser_editor-frontend-module_js.js","mappings":";;;;;;;;;;;;;;;;;AAAA;AACyG;AACjB;AACxF,8BAA8B,sEAA2B,CAAC,+EAAqC;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,oKAAoK,QAAQ,cAAc,MAAM,UAAU,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,WAAW,UAAU,UAAU,MAAM,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,UAAU,YAAY,aAAa,WAAW,OAAO,KAAK,UAAU,UAAU,UAAU,UAAU,MAAM,KAAK,UAAU,MAAM,KAAK,UAAU,OAAO,KAAK,UAAU,UAAU,MAAM,KAAK,YAAY,OAAO,KAAK,UAAU,aAAa,aAAa,aAAa,OAAO,YAAY,MAAM,YAAY,OAAO,QAAQ,YAAY,OAAO,YAAY,MAAM,YAAY,kjCAAkjC,kBAAkB,qBAAqB,GAAG,6CAA6C,+DAA+D,GAAG,wCAAwC,uBAAuB,YAAY,iBAAiB,kBAAkB,GAAG,6CAA6C,0DAA0D,GAAG,6CAA6C,yDAAyD,GAAG,6CAA6C,qBAAqB,GAAG,uCAAuC,kBAAkB,mCAAmC,2BAA2B,mBAAmB,GAAG,6EAA6E,oCAAoC,mBAAmB,iBAAiB,GAAG,8DAA8D,kBAAkB,GAAG,6CAA6C,mBAAmB,GAAG,8CAA8C,mBAAmB,kBAAkB,GAAG,0DAA0D,uBAAuB,GAAG,oEAAoE,mBAAmB,wBAAwB,oEAAoE,GAAG,gHAAgH,4CAA4C,GAAG,qGAAqG,sBAAsB,GAAG,kHAAkH,qDAAqD,GAAG,qBAAqB;AAC/iH;AACA,iEAAe,uBAAuB,EAAC;;;;;;;;;;;;;;;;;;;;AC5GvC;AACyG;AACjB;AACxF,8BAA8B,sEAA2B,CAAC,+EAAqC;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO,yIAAyI,QAAQ,MAAM,UAAU,u3BAAu3B,iBAAiB,GAAG,qBAAqB;AACxkC;AACA,iEAAe,uBAAuB,EAAC;;;;;;;;;;;;AC1BvC,gFAAgF;AAChF,+CAA+C;AAC/C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;AAChF,2HAA2H;AAC3H;;;gGAGgG;AACnF;;;AAEb,0GAAqC;AACrC,oGAAiC;AAejC,SAAgB,kBAAkB;IAC9B,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC/B,CAAC;AAFD,gDAEC;AAMD,MAAM,QAAQ,GAAG,IAAI,CAAC;AACtB,MAAM,UAAU,GAAG,GAAG,CAAC;AACvB,MAAM,UAAU,GAAG,SAAS,CAAC,CAAQ,yBAAyB;AAC9D,MAAM,aAAa,GAAG,UAAU,CAAC,CAAI,kCAAkC;AACvE,MAAM,mBAAmB,GAAG,KAAK,CAAC;AAElC,SAAS,aAAa,CAAC,SAAiB;IACpC,QAAQ,SAAS,EAAE;QACf,KAAK,CAAC;YACF,OAAO,EAAE,CAAC;QACd,KAAK,CAAC;YACF,OAAO,GAAG,aAAa,IAAI,CAAC,CAAC,2FAA2F;QAC5H;YACI,sGAAsG;YACtG,yEAAyE;YACzE,gFAAgF;YAChF,OAAO,MAAM,UAAU,IAAI,aAAa,IAAI,UAAU,IAAI,UAAU,GAAG,aAAa,MAAM,CAAC;KAClG;AACL,CAAC;AAED,SAAgB,cAAc,CAAC,OAAe,EAAE,SAAiB;IAC7D,IAAI,CAAC,OAAO,EAAE;QACV,OAAO,EAAE,CAAC;KACb;IAED,MAAM,QAAQ,GAAa,EAAE,CAAC;IAE9B,IAAI,QAAQ,GAAG,KAAK,CAAC;IACrB,IAAI,UAAU,GAAG,KAAK,CAAC;IAEvB,IAAI,IAAY,CAAC;IACjB,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACrC,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;QAElB,QAAQ,IAAI,EAAE;YACV,KAAK,SAAS;gBACV,IAAI,CAAC,QAAQ,IAAI,CAAC,UAAU,EAAE;oBAC1B,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBACtB,MAAM,GAAG,EAAE,CAAC;oBAEZ,SAAS;iBACZ;gBACD,MAAM;YACV,KAAK,GAAG;gBACJ,QAAQ,GAAG,IAAI,CAAC;gBAChB,MAAM;YACV,KAAK,GAAG;gBACJ,QAAQ,GAAG,KAAK,CAAC;gBACjB,MAAM;YACV,KAAK,GAAG;gBACJ,UAAU,GAAG,IAAI,CAAC;gBAClB,MAAM;YACV,KAAK,GAAG;gBACJ,UAAU,GAAG,KAAK,CAAC;gBACnB,MAAM;SACb;QAED,MAAM,IAAI,IAAI,CAAC;KAClB;IAED,OAAO;IACP,IAAI,MAAM,EAAE;QACR,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACzB;IAED,OAAO,QAAQ,CAAC;AACpB,CAAC;AA/CD,wCA+CC;AAED,SAAS,WAAW,CAAC,OAAe;IAChC,IAAI,CAAC,OAAO,EAAE;QACV,OAAO,EAAE,CAAC;KACb;IAED,IAAI,KAAK,GAAG,EAAE,CAAC;IAEf,8CAA8C;IAC9C,wCAAwC;IACxC,IAAI,QAAQ,GAAG,cAAc,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;IAEnD,4CAA4C;IAC5C,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,QAAQ,CAAC,EAAE;QACrC,KAAK,GAAG,IAAI,CAAC;KAChB;IAED,4BAA4B;IAC5B,oCAAoC;SAC/B;QACD,IAAI,0BAA0B,GAAG,KAAK,CAAC;QACvC,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;YAEhC,sBAAsB;YACtB,IAAI,OAAO,KAAK,QAAQ,EAAE;gBAEtB,kEAAkE;gBAClE,IAAI,CAAC,0BAA0B,EAAE;oBAC7B,KAAK,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC;oBAC1B,0BAA0B,GAAG,IAAI,CAAC;iBACrC;gBAED,OAAO;aACV;YAED,SAAS;YACT,IAAI,QAAQ,GAAG,KAAK,CAAC;YACrB,IAAI,QAAQ,GAAG,EAAE,CAAC;YAElB,IAAI,UAAU,GAAG,KAAK,CAAC;YACvB,IAAI,UAAU,GAAG,EAAE,CAAC;YAEpB,IAAI,IAAY,CAAC;YACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACrC,IAAI,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;gBAElB,0BAA0B;gBAC1B,IAAI,IAAI,KAAK,GAAG,IAAI,QAAQ,EAAE;oBAC1B,QAAQ,IAAI,IAAI,CAAC;oBACjB,SAAS;iBACZ;gBAED,mBAAmB;gBACnB,IAAI,UAAU,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,4EAA4E,EAAE;oBAC1H,IAAI,GAAW,CAAC;oBAEhB,iBAAiB;oBACjB,IAAI,IAAI,KAAK,GAAG,EAAE;wBACd,GAAG,GAAG,IAAI,CAAC;qBACd;oBAED,2DAA2D;oBAC3D,oCAAoC;yBAC/B,IAAI,CAAC,IAAI,KAAK,GAAG,IAAI,IAAI,KAAK,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE;wBACpD,GAAG,GAAG,GAAG,CAAC;qBACb;oBAED,6DAA6D;oBAC7D,uDAAuD;oBACvD,oCAAoC;yBAC/B,IAAI,IAAI,KAAK,UAAU,EAAE;wBAC1B,GAAG,GAAG,EAAE,CAAC;qBACZ;oBAED,6BAA6B;oBAC7B,oCAAoC;yBAC/B;wBACD,GAAG,GAAG,OAAO,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;qBAC9C;oBAED,UAAU,IAAI,GAAG,CAAC;oBAClB,SAAS;iBACZ;gBAED,QAAQ,IAAI,EAAE;oBACV,KAAK,GAAG;wBACJ,QAAQ,GAAG,IAAI,CAAC;wBAChB,SAAS;oBAEb,KAAK,GAAG;wBACJ,UAAU,GAAG,IAAI,CAAC;wBAClB,SAAS;oBAEb,KAAK,GAAG;wBACJ,wCAAwC;wBACxC,IAAI,OAAO,GAAG,cAAc,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;wBAE5C,kCAAkC;wBAClC,wCAAwC;wBACxC,IAAI,WAAW,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;wBAEtE,KAAK,IAAI,WAAW,CAAC;wBAErB,QAAQ,GAAG,KAAK,CAAC;wBACjB,QAAQ,GAAG,EAAE,CAAC;wBAEd,MAAM;oBAEV,KAAK,GAAG;wBACJ,KAAK,IAAI,CAAC,GAAG,GAAG,UAAU,GAAG,GAAG,CAAC,CAAC;wBAElC,UAAU,GAAG,KAAK,CAAC;wBACnB,UAAU,GAAG,EAAE,CAAC;wBAEhB,MAAM;oBAEV,KAAK,GAAG;wBACJ,KAAK,IAAI,aAAa,CAAC,CAAC,mEAAmE;wBAC3F,SAAS;oBAEb,KAAK,GAAG;wBACJ,KAAK,IAAI,aAAa,CAAC,CAAC,CAAC,CAAC;wBAC1B,SAAS;oBAEb;wBACI,KAAK,IAAI,OAAO,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;iBACrD;aACJ;YAED,2GAA2G;YAC3G,yGAAyG;YACzG,gDAAgD;YAChD,4GAA4G;YAC5G,4BAA4B;YAC5B,IAAI,KAAK,GAAG,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,QAAQ,IAAI,KAAK,GAAG,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,EAAE;gBAClG,KAAK,IAAI,UAAU,CAAC;aACvB;YAED,cAAc;YACd,0BAA0B,GAAG,KAAK,CAAC;QACvC,CAAC,CAAC,CAAC;KACN;IAED,OAAO,KAAK,CAAC;AACjB,CAAC;AAED,iFAAiF;AACjF,MAAM,EAAE,GAAG,sBAAsB,CAAC,CAAwC,iBAAiB;AAC3F,MAAM,EAAE,GAAG,uBAAuB,CAAC,CAA4C,eAAe;AAC9F,MAAM,EAAE,GAAG,0DAA0D,CAAC,CAAK,kEAAkE;AAC7I,MAAM,IAAI,GAAG,4EAA4E,CAAC,CAAK,sCAAsC;AACrI,MAAM,EAAE,GAAG,0BAA0B,CAAC,CAAwC,oBAAoB;AAClG,MAAM,EAAE,GAAG,8BAA8B,CAAC,CAAoC,iBAAiB;AA6B/F,MAAM,KAAK,GAAG,IAAI,GAAG,EAA+B,CAAC,CAAE,iFAAiF;AAExI,MAAM,KAAK,GAAG;IACV,OAAO,KAAK,CAAC;AACjB,CAAC,CAAC;AAEF,MAAM,IAAI,GAAG;IACT,OAAO,IAAK,CAAC;AACjB,CAAC,CAAC;AAEF,SAAS,YAAY,CAAC,IAA+B,EAAE,OAAqB;IACxE,IAAI,CAAC,IAAI,EAAE;QACP,OAAO,IAAI,CAAC;KACf;IAED,0BAA0B;IAC1B,IAAI,OAAe,CAAC;IACpB,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;QAC1B,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;KAC1B;SAAM;QACH,OAAO,GAAG,IAAI,CAAC;KAClB;IAED,sBAAsB;IACtB,OAAO,GAAG,OAAO,CAAC,IAAI,EAAE,CAAC;IAEzB,cAAc;IACd,MAAM,UAAU,GAAG,GAAG,OAAO,IAAI,CAAC,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;IAC/D,IAAI,aAAa,GAAG,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IAC1C,IAAI,aAAa,EAAE;QACf,OAAO,mBAAmB,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;KACnD;IAED,oBAAoB;IACpB,IAAI,KAAsB,CAAC;IAC3B,IAAI,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,oDAAoD;QACxE,MAAM,IAAI,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,sBAAsB;QACzD,aAAa,GAAG,UAAU,IAAI,EAAE,QAAQ;YACpC,OAAO,IAAI,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAK,CAAC;QAClE,CAAC,CAAC;KACL;SAAM,IAAI,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAE,EAAE,EAAE,uDAAuD;QACvH,aAAa,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;KAC9C;SAAM,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,gEAAgE;QAChI,aAAa,GAAG,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;KAC7C;SAAM,IAAI,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAE,EAAE,EAAE,6DAA6D;QAC7H,aAAa,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;KACrE;SAAM,IAAI,KAAK,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAE,EAAE,EAAE,wDAAwD;QACxH,aAAa,GAAG,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;KACzD;IAED,+BAA+B;IAC/B,oCAAoC;SAC/B;QACD,aAAa,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC;KACrC;IAED,QAAQ;IACR,KAAK,CAAC,GAAG,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;IAErC,OAAO,mBAAmB,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;AACpD,CAAC;AAED,SAAS,mBAAmB,CAAC,aAAkC,EAAE,IAA+B;IAC5F,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;QAC1B,OAAO,aAAa,CAAC;KACxB;IAED,OAAO,UAAU,IAAI,EAAE,QAAQ;QAC3B,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;YACzC,OAAO,IAAK,CAAC;SAChB;QAED,OAAO,aAAa,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;IAC1F,CAAC,CAAC;AACN,CAAC;AAED,SAAS,iBAAiB,CAAC,OAAe,EAAE,OAAqB;IAC7D,OAAO,OAAO,CAAC,iBAAiB,IAAI,OAAO,CAAC,QAAQ,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,0CAA0C;AACzK,CAAC;AAED,uDAAuD;AACvD,SAAS,OAAO,CAAC,IAAY,EAAE,eAAuB;IAClD,MAAM,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;IAC7B,MAAM,aAAa,GAAG,KAAK,IAAI,EAAE,CAAC;IAClC,MAAM,aAAa,GAAwB,UAAU,IAAI,EAAE,QAAQ;QAC/D,IAAI,CAAC,IAAI,EAAE;YACP,OAAO,IAAK,CAAC;SAChB;QACD,IAAI,QAAQ,EAAE;YACV,OAAO,QAAQ,KAAK,IAAI,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,IAAK,CAAC;SACtD;QACD,OAAO,IAAI,KAAK,IAAI,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,IAAK,CAAC;IACjI,CAAC,CAAC;IACF,MAAM,SAAS,GAAG,CAAC,IAAI,CAAC,CAAC;IACzB,aAAa,CAAC,SAAS,GAAG,SAAS,CAAC;IACpC,aAAa,CAAC,QAAQ,GAAG,CAAC,eAAe,CAAC,CAAC;IAC3C,aAAa,CAAC,YAAY,GAAG,SAAS,CAAC;IACvC,OAAO,aAAa,CAAC;AACzB,CAAC;AAED,gEAAgE;AAChE,SAAS,OAAO,CAAC,OAAe,EAAE,OAAqB;IACnD,MAAM,cAAc,GAAG,wBAAwB,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;SAC1E,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;SAC9C,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,KAAK,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC;IACnD,MAAM,CAAC,GAAG,cAAc,CAAC,MAAM,CAAC;IAChC,IAAI,CAAC,CAAC,EAAE;QACJ,OAAO,IAAI,CAAC;KACf;IACD,IAAI,CAAC,KAAK,CAAC,EAAE;QACT,OAA4B,cAAc,CAAC,CAAC,CAAC,CAAC;KACjD;IACD,MAAM,aAAa,GAAwB,UAAU,IAAY,EAAE,QAAgB;QAC/E,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACnD,IAA0B,cAAc,CAAC,CAAC,CAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE;gBAC1D,OAAO,OAAO,CAAC;aAClB;SACJ;QACD,OAAO,IAAK,CAAC;IACjB,CAAC,CAAC;IACF,MAAM,aAAa,GAAG,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAuB,OAAQ,CAAC,YAAY,CAAC,CAAC;IACpG,gHAAgH;IAChH,IAAI,aAAa,EAAE;QACf,aAAa,CAAC,YAAY,GAAyB,aAAc,CAAC,YAAY,CAAC;KAClF;IACD,MAAM,QAAQ,GAAG,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,EAAY,EAAE,CAAC,CAAC;IAC9H,IAAI,QAAQ,CAAC,MAAM,EAAE;QACjB,aAAa,CAAC,QAAQ,GAAG,QAAQ,CAAC;KACrC;IACD,OAAO,aAAa,CAAC;AACzB,CAAC;AAED,0GAA0G;AAC1G,SAAS,WAAW,CAAC,IAAY,EAAE,OAAe,EAAE,aAAsB;IACtE,MAAM,UAAU,GAAG,KAAK,CAAC,SAAS,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,mBAAmB,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IAC7G,MAAM,aAAa,GAAG,KAAK,CAAC,SAAS,GAAG,UAAU,CAAC;IACnD,wDAAwD;IACxD,MAAM,aAAa,GAAwB,aAAa,CAAC,CAAC,CAAC,UAAU,IAAI,EAAE,QAAQ;QAC/E,OAAO,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,IAAI,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAK,CAAC;QAChG,wDAAwD;IAC5D,CAAC,CAAC,CAAC,CAAC,UAAU,IAAI,EAAE,QAAQ;QACxB,OAAO,IAAI,IAAI,IAAI,KAAK,UAAU,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAK,CAAC;IACzD,CAAC,CAAC;IACF,aAAa,CAAC,QAAQ,GAAG,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;IAChE,OAAO,aAAa,CAAC;AACzB,CAAC;AAED,SAAS,QAAQ,CAAC,OAAe;IAC7B,IAAI;QACA,MAAM,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACvD,OAAO,UAAU,IAAY,EAAE,QAAgB;YAC3C,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,iDAAiD;YACvE,OAAO,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAK,CAAC;QACvD,CAAC,CAAC;KACL;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,IAAI,CAAC;KACf;AACL,CAAC;AAYD,8DAA8D;AAC9D,SAAgB,KAAK,CAAC,IAA6C,EAAE,IAAY,EAAE,UAAsC;IACrH,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,EAAE;QAChB,OAAO,KAAK,CAAC;KAChB;IAED,OAAO,KAAK,CAAc,IAAI,CAAC,CAAC,IAAI,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC;AACjE,CAAC;AAND,sBAMC;AAYD,8DAA8D;AAC9D,SAAgB,KAAK,CAAC,IAA6C,EAAE,UAAwB,EAAE;IAC3F,IAAI,CAAC,IAAI,EAAE;QACP,OAAO,KAAK,CAAC;KAChB;IAED,mBAAmB;IACnB,IAAI,OAAO,IAAI,KAAK,QAAQ,IAAI,iBAAiB,CAAC,IAAI,CAAC,EAAE;QACrD,MAAM,aAAa,GAAG,YAAY,CAAC,IAAiC,EAAE,OAAO,CAAC,CAAC;QAC/E,IAAI,aAAa,KAAK,IAAI,EAAE;YACxB,OAAO,KAAK,CAAC;SAChB;QACD,MAAM,aAAa,GAAG,UAAU,IAAY,EAAE,QAAgB;YAC1D,OAAO,CAAC,CAAC,aAAa,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QAC3C,CAAC,CAAC;QACF,IAAI,aAAa,CAAC,YAAY,EAAE;YAC5B,8DAA8D;YACnC,aAAc,CAAC,YAAY,GAAG,aAAa,CAAC,YAAY,CAAC;SACvF;QACD,IAAI,aAAa,CAAC,QAAQ,EAAE;YACxB,8DAA8D;YACnC,aAAc,CAAC,QAAQ,GAAG,aAAa,CAAC,QAAQ,CAAC;SAC/E;QACD,OAAO,aAAa,CAAC;KACxB;IAED,uBAAuB;IACvB,OAAO,gBAAgB,CAAc,IAAI,EAAE,OAAO,CAAC,CAAC;AACxD,CAAC;AA3BD,sBA2BC;AAED,SAAgB,mBAAmB,CAAC,UAAoC;IACpE,IAAI,CAAC,UAAU,EAAE;QACb,OAAO,SAAS,CAAC;KACpB;IAED,IAAI,QAAuC,CAAC;IAC5C,OAAO,CAAC,IAAY,EAAE,EAAE;QACpB,IAAI,CAAC,QAAQ,EAAE;YACX,QAAQ,GAAG,CAAC,UAAU,EAAE,IAAI,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;iBAC3C,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;SAClD;QACD,OAAO,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;IAC7C,CAAC,CAAC;AACN,CAAC;AAbD,kDAaC;AAED,SAAgB,YAAY,CAAC,UAA2B;IACpD,IAAI,CAAC,UAAU,EAAE;QACb,OAAO,SAAS,CAAC;KACpB;IAED,IAAI,QAA8B,CAAC;IACnC,OAAO,CAAC,IAAY,EAAE,EAAE;QACpB,IAAI,CAAC,QAAQ,EAAE;YACX,MAAM,IAAI,GAAG,UAAU,EAAE,CAAC;YAC1B,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;SAC1C;QACD,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC,CAAC;AACN,CAAC;AAbD,oCAaC;AAED,SAAS,SAAS,CAAC,IAAc;IAC7B,MAAM,GAAG,GAAyB,EAAE,CAAC;IACrC,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;QACpB,GAAG,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;KACnB;IACD,OAAO,GAAG,CAAC;AACf,CAAC;AAED,SAAgB,iBAAiB,CAAC,GAAY;IAC1C,MAAM,EAAE,GAAG,GAAuB,CAAC;IAEnC,OAAO,CAAC,CAAC,EAAE,IAAI,OAAO,EAAE,KAAK,QAAQ,IAAI,OAAO,EAAE,CAAC,IAAI,KAAK,QAAQ,IAAI,OAAO,EAAE,CAAC,OAAO,KAAK,QAAQ,IAAI,OAAO,EAAE,CAAC,cAAc,KAAK,UAAU,CAAC;AACtJ,CAAC;AAJD,8CAIC;AAED;;GAEG;AACH,SAAgB,YAAY,CAAC,UAAuB,EAAE,OAAsB;IACxE,wDAAwD;IACxD,MAAM,gBAAgB,GAAG,KAAK,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IACpD,OAAO,CAAC,IAAY,EAAE,QAAiB,EAAE,UAAyD,EAA4B,EAAE;QAC5H,MAAM,MAAM,GAAG,gBAAgB,CAAC,IAAI,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;QAC5D,OAAO,MAAM,YAAY,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;IACxE,CAAC,CAAC;AACN,CAAC;AAPD,oCAOC;AAED,SAAgB,gBAAgB,CAAC,mBAAqD;IAClF,OAA6B,mBAAoB,CAAC,YAAY,IAAI,EAAE,CAAC;AACzE,CAAC;AAFD,4CAEC;AAED,SAAgB,YAAY,CAAC,mBAAqD;IAC9E,OAA6B,mBAAoB,CAAC,QAAQ,IAAI,EAAE,CAAC;AACrE,CAAC;AAFD,oCAEC;AAED,SAAS,gBAAgB,CAAC,UAAuB,EAAE,OAAqB;IACpE,MAAM,cAAc,GAAG,wBAAwB,CAAC,MAAM,CAAC,mBAAmB,CAAC,UAAU,CAAC;SACjF,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,sBAAsB,CAAC,OAAO,EAAE,UAAU,CAAC,OAAO,CAAC,EAAE,OAAO,CAAC,CAAC;SAC7E,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,KAAK,IAAI,CAAC,CAAC,CAAC;IAE1C,MAAM,CAAC,GAAG,cAAc,CAAC,MAAM,CAAC;IAChC,IAAI,CAAC,CAAC,EAAE;QACJ,OAAO,IAAI,CAAC;KACf;IAED,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAA2B,aAAc,CAAC,gBAAiB,CAAC,EAAE;QACnG,IAAI,CAAC,KAAK,CAAC,EAAE;YACT,OAA4B,cAAc,CAAC,CAAC,CAAC,CAAC;SACjD;QAED,wDAAwD;QACxD,MAAM,gBAAgB,GAAwB,UAAU,IAAY,EAAE,QAAgB;YAClF,wDAAwD;YACxD,wDAAwD;YACxD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBACnD,uBAAuB;gBACvB,MAAM,MAAM,GAAyB,cAAc,CAAC,CAAC,CAAE,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;gBACxE,IAAI,MAAM,EAAE;oBACR,OAAO,MAAM,CAAC;iBACjB;aACJ;YAED,OAAO,IAAK,CAAC;QACjB,CAAC,CAAC;QAEF,wDAAwD;QACxD,MAAM,aAAa,GAAG,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAuB,OAAQ,CAAC,YAAY,CAAC,CAAC;QACpG,IAAI,aAAa,EAAE;YACf,gBAAgB,CAAC,YAAY,GAAyB,aAAc,CAAC,YAAY,CAAC;SACrF;QAED,wDAAwD;QACxD,MAAM,QAAQ,GAAG,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,EAAY,EAAE,CAAC,CAAC;QAC9H,IAAI,QAAQ,CAAC,MAAM,EAAE;YACjB,gBAAgB,CAAC,QAAQ,GAAG,QAAQ,CAAC;SACxC;QAED,OAAO,gBAAgB,CAAC;KAC3B;IAED,MAAM,gBAAgB,GAAwB,UAAU,IAAY,EAAE,QAAgB,EAAE,UAAyD;QAC7I,IAAI,IAAI,GAAW,IAAK,CAAC;QAEzB,wDAAwD;QACxD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACnD,uBAAuB;YACvB,MAAM,aAAa,GAA6B,cAAc,CAAC,CAAC,CAAE,CAAC;YACnE,IAAI,aAAa,CAAC,gBAAgB,IAAI,UAAU,EAAE;gBAC9C,IAAI,CAAC,QAAQ,EAAE;oBACX,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;iBACnC;gBACD,IAAI,CAAC,IAAI,EAAE;oBACP,IAAI,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC;iBAC9E;aACJ;YACD,MAAM,MAAM,GAAG,aAAa,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAW,CAAC,CAAC;YAChE,IAAI,MAAM,EAAE;gBACR,OAAO,MAAM,CAAC;aACjB;SACJ;QAED,OAAO,IAAK,CAAC;IACjB,CAAC,CAAC;IAEF,MAAM,aAAa,GAAG,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAuB,OAAQ,CAAC,YAAY,CAAC,CAAC;IACpG,IAAI,aAAa,EAAE;QACf,gBAAgB,CAAC,YAAY,GAAyB,aAAc,CAAC,YAAY,CAAC;KACrF;IAED,MAAM,QAAQ,GAAG,cAAc,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,EAAY,EAAE,CAAC,CAAC;IAC9H,IAAI,QAAQ,CAAC,MAAM,EAAE;QACjB,gBAAgB,CAAC,QAAQ,GAAG,QAAQ,CAAC;KACxC;IAED,OAAO,gBAAgB,CAAC;AAC5B,CAAC;AAED,8DAA8D;AAC9D,SAAS,sBAAsB,CAAC,OAAe,EAAE,KAAU,EAAE,OAAqB;IAC9E,IAAI,KAAK,KAAK,KAAK,EAAE;QACjB,OAAO,IAAI,CAAC,CAAC,sBAAsB;KACtC;IAED,MAAM,aAAa,GAAG,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;IACrD,IAAI,aAAa,KAAK,IAAI,EAAE;QACxB,OAAO,IAAI,CAAC;KACf;IAED,kCAAkC;IAClC,IAAI,OAAO,KAAK,KAAK,SAAS,EAAE;QAC5B,OAAO,aAAa,CAAC;KACxB;IAED,wCAAwC;IACxC,IAAI,KAAK,EAAE;QACP,MAAM,IAAI,GAAmB,KAAM,CAAC,IAAI,CAAC;QACzC,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YAC1B,MAAM,MAAM,GAA4B,CAAC,IAAY,EAAE,QAAgB,EAAE,IAAY,EAAE,UAAwD,EAAE,EAAE;gBAC/I,IAAI,CAAC,UAAU,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,QAAQ,CAAC,EAAE;oBAC/C,OAAO,IAAK,CAAC;iBAChB;gBAED,MAAM,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBACxD,MAAM,OAAO,GAAG,UAAU,CAAC,aAAa,CAAC,CAAC;gBAC1C,OAAO,OAAO,YAAY,OAAO,CAAC,CAAC;oBAC/B,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAK,CAAC,CAAC,CAAC;oBACxC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,IAAK,CAAC;YAClC,CAAC,CAAC;YACF,MAAM,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC/B,OAAO,MAAM,CAAC;SACjB;KACJ;IAED,yBAAyB;IACzB,OAAO,aAAa,CAAC;AACzB,CAAC;AAED,SAAS,wBAAwB,CAAC,cAAiE,EAAE,MAAe;IAChH,MAAM,gBAAgB,GAAG,cAAc,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAuB,aAAc,CAAC,SAAS,CAAC,CAAC;IAClH,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;QAC7B,OAAO,cAAc,CAAC;KACzB;IAED,MAAM,SAAS,GAAG,gBAAgB,CAAC,MAAM,CAAW,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,CAAuB,OAAQ,CAAC,SAAU,CAAC,EAAE,EAAE,CAAC,CAAC;IACjI,IAAI,QAAkB,CAAC;IACvB,IAAI,MAAM,EAAE;QACR,QAAQ,GAAG,EAAE,CAAC;QACd,wDAAwD;QACxD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YAC9C,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACzB;KACJ;SAAM;QACH,QAAQ,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,CAAuB,OAAQ,CAAC,QAAS,CAAC,EAAY,EAAE,CAAC,CAAC;KAC5H;IACD,MAAM,SAAS,GAAwB,UAAU,IAAI,EAAE,QAAQ;QAC3D,IAAI,CAAC,IAAI,EAAE;YACP,OAAO,IAAK,CAAC;SAChB;QACD,IAAI,CAAC,QAAQ,EAAE;YACX,IAAI,CAAS,CAAC;YACd,KAAK,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAC9B,MAAM,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBAClC,IAAI,EAAE,mBAAmB,IAAI,EAAE,uBAAuB,EAAE;oBACpD,MAAM;iBACT;aACJ;YACD,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;SAChC;QACD,MAAM,KAAK,GAAG,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAC1C,OAAO,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAK,CAAC;IAClD,CAAC,CAAC;IACF,SAAS,CAAC,SAAS,GAAG,SAAS,CAAC;IAChC,SAAS,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC9B,SAAS,CAAC,YAAY,GAAG,SAAS,CAAC;IAEnC,MAAM,kBAAkB,GAAG,cAAc,CAAC,MAAM,CAAC,aAAa,CAAC,EAAE,CAAC,CAAuB,aAAc,CAAC,SAAS,CAAC,CAAC;IACnH,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACnC,OAAO,kBAAkB,CAAC;AAC9B,CAAC;;;;;;;;;;;;ACpuBD,gFAAgF;AAChF,+CAA+C;AAC/C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;AAEhF,4HAA4H;AAC5H;;;gGAGgG;AAChG,4BAA4B;AAC5B,oCAAoC;AACvB;;;AACb,6FAAiC;AACjC,4GAAiD;AAGjD;;GAEG;AACU,WAAG,GAAG,GAAG,CAAC;AAEvB;;GAEG;AACU,iBAAS,GAAG,cAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC;AAEhD,MAAM,aAAa,GAAG,gDAAgD,CAAC;AACvE,MAAM,WAAW,GAAG,gDAAgD,CAAC;AAErE,SAAS,SAAS,CAAC,IAAY,EAAE,GAAY;IACzC,OAAO,GAAG;QACN,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC;QACzB,CAAC,CAAC,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACpC,CAAC;AAED;;GAEG;AACH,SAAgB,QAAQ,CAAC,IAAY;IACjC,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAC9D,IAAI,GAAG,KAAK,CAAC,EAAE;QACX,OAAO,IAAI,CAAC;KACf;SAAM,IAAI,CAAC,GAAG,KAAK,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;QACjC,OAAO,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;KACvD;SAAM;QACH,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;KACnC;AACL,CAAC;AATD,4BASC;AAED;;GAEG;AACH,SAAgB,OAAO,CAAC,IAAY;IAChC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;IACtB,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;IACnC,OAAO,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AAC3C,CAAC;AAJD,0BAIC;AAED,SAAgB,SAAS,CAAC,IAAY,EAAE,QAAkB;IACtD,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC,EAAE;QAClC,OAAO,IAAI,CAAC;KACf;IAED,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;IACxB,IAAI,GAAG,KAAK,CAAC,EAAE;QACX,OAAO,GAAG,CAAC;KACd;IAED,MAAM,cAAc,GAAG,cAAS,IAAI,QAAQ,CAAC;IAC7C,IAAI,SAAS,CAAC,IAAI,EAAE,cAAe,CAAC,EAAE;QAClC,OAAO,IAAI,CAAC;KACf;IAED,wDAAwD;IACxD,MAAM,GAAG,GAAG,cAAc,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC;IACxC,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;IAEhC,oCAAoC;IACpC,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC;IACxB,IAAI,IAAI,GAAG,KAAK,CAAC;IACjB,IAAI,GAAG,GAAG,EAAE,CAAC;IAEb,KAAK,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE;QAE3C,qDAAqD;QACrD,IAAI,GAAG,KAAK,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,mBAAmB,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,uBAAuB,EAAE;YAEvG,IAAI,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,EAAE;gBAChC,iEAAiE;gBACjE,MAAM,UAAU,GAAG,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBACxC,MAAM,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC;gBAC5C,IAAI,CAAC,IAAI,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,IAAI,SAAS,KAAK,IAAI,EAAE;oBACtD,GAAG,GAAG,UAAU,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;oBACxD,IAAI,GAAG,IAAI,CAAC;iBACf;aACJ;iBAAM,IAAI,MAAM,CAAC,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,EAAE;gBACxE,2EAA2E;gBAC3E,IAAI,GAAG,IAAI,CAAC;aACf;YAED,IAAI,CAAC,IAAI,EAAE;gBACP,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;gBACpC,IAAI,GAAG,KAAK,EAAE,IAAI,GAAG,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;oBAC3C,GAAG,IAAI,GAAG,CAAC;iBACd;gBACD,GAAG,IAAI,IAAI,CAAC;aACf;YACD,KAAK,GAAG,GAAG,GAAG,CAAC,CAAC;YAChB,IAAI,GAAG,KAAK,CAAC;SAChB;KACJ;IAED,OAAO,IAAI,GAAG,GAAG,CAAC;AACtB,CAAC;AAvDD,8BAuDC;AACD,SAAS,MAAM,CAAC,KAAa,EAAE,KAAa,EAAE,GAAW,EAAE,KAAa;IACpE,OAAO,KAAK,GAAG,KAAK,CAAC,MAAM,KAAK,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,KAAK,KAAK,CAAC;AACjF,CAAC;AAED;;;;GAIG;AACH,wDAAwD;AACxD,SAAgB,OAAO,CAAC,IAAY,EAAE,MAAc,GAAG;IAEnD,IAAI,CAAC,IAAI,EAAE;QACP,OAAO,EAAE,CAAC;KACb;IAED,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;IACxB,IAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IAC9B,IAAI,IAAI,mBAAmB,IAAI,IAAI,uBAAuB,EAAE;QAExD,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QAC1B,IAAI,IAAI,mBAAmB,IAAI,IAAI,uBAAuB,EAAE;YACxD,uCAAuC;YACvC,oCAAoC;YACpC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAI,IAAI,mBAAmB,IAAI,IAAI,uBAAuB,EAAE;gBACxD,wDAAwD;gBACxD,IAAI,GAAG,GAAG,CAAC,CAAC;gBACZ,MAAM,KAAK,GAAG,GAAG,CAAC;gBAClB,OAAO,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE;oBACrB,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;oBAC5B,IAAI,IAAI,mBAAmB,IAAI,IAAI,uBAAuB,EAAE;wBACxD,MAAM;qBACT;iBACJ;gBACD,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;gBAChC,IAAI,KAAK,KAAK,GAAG,IAAI,IAAI,mBAAmB,IAAI,IAAI,uBAAuB,EAAE;oBACzE,GAAG,IAAI,CAAC,CAAC;oBACT,OAAO,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE;wBACrB,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;wBAC5B,IAAI,IAAI,mBAAmB,IAAI,IAAI,uBAAuB,EAAE;4BACxD,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,yBAAyB;iCAClD,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;yBAC/B;qBACJ;iBACJ;aACJ;SACJ;QAED,YAAY;QACZ,IAAI;QACJ,OAAO,GAAG,CAAC;KAEd;SAAM,IAAI,CAAC,IAAI,cAAc,IAAI,IAAI,cAAc,CAAC,IAAI,CAAC,IAAI,cAAc,IAAI,IAAI,eAAc,CAAC,EAAE;QACjG,2CAA2C;QAE3C,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,mBAAmB,EAAE;YACvC,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAI,IAAI,mBAAmB,IAAI,IAAI,uBAAuB,EAAE;gBACxD,SAAS;gBACT,MAAM;gBACN,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC;aACjC;iBAAM;gBACH,KAAK;gBACL,KAAK;gBACL,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAC3B;SACJ;KACJ;IAED,gBAAgB;IAChB,0BAA0B;IAC1B,sBAAsB;IACtB,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC9B,IAAI,GAAG,KAAK,CAAC,CAAC,EAAE;QACZ,GAAG,IAAI,CAAC,CAAC,CAAC,oBAAoB;QAC9B,OAAO,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE;YACrB,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YAC5B,IAAI,IAAI,mBAAmB,IAAI,IAAI,uBAAuB,EAAE;gBACxD,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,yBAAyB;aAC3D;SACJ;KACJ;IAED,OAAO,EAAE,CAAC;AACd,CAAC;AA3ED,0BA2EC;AAED,SAAgB,eAAe,CAAC,IAAY,EAAE,SAAiB,EAAE,UAAoB;IACjF,IAAI,IAAI,KAAK,SAAS,EAAE;QACpB,OAAO,IAAI,CAAC;KACf;IAED,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS,EAAE;QACrB,OAAO,KAAK,CAAC;KAChB;IAED,IAAI,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE;QAChC,OAAO,KAAK,CAAC;KAChB;IAED,IAAI,UAAU,EAAE;QACZ,MAAM,UAAU,GAAG,kCAAoB,EAAC,IAAI,EAAE,SAAS,CAAC,CAAC;QACzD,IAAI,CAAC,UAAU,EAAE;YACb,OAAO,KAAK,CAAC;SAChB;QAED,IAAI,SAAS,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,EAAE;YAClC,OAAO,IAAI,CAAC,CAAC,8BAA8B;SAC9C;QAED,IAAI,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC;QACjC,IAAI,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,iBAAS,EAAE;YACtD,SAAS,EAAE,CAAC,CAAC,2FAA2F;SAC3G;QAED,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,iBAAS,CAAC;KAC/C;IAED,IAAI,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,iBAAS,EAAE;QACtD,SAAS,IAAI,iBAAS,CAAC;KAC1B;IAED,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;AACzC,CAAC;AApCD,0CAoCC;;;;;;;;;;;;;ACzPD,gFAAgF;AAChF,0CAA0C;AAC1C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;AAEhF;;;gGAGgG;AAEhG,yKAAoE;AACpE,gGAA4B;AAE5B,IAAY,QAMX;AAND,WAAY,QAAQ;IAChB,2CAAU;IACV,yCAAS;IACT,6CAAW;IACX,uCAAQ;IACR,qCAAO;AACX,CAAC,EANW,QAAQ,GAAR,gBAAQ,KAAR,gBAAQ,QAMnB;AAED,MAAM,KAAK,GAAG,QAAQ,CAAC;AACvB,MAAM,OAAO,GAAG,UAAU,CAAC;AAC3B,MAAM,IAAI,GAAG,MAAM,CAAC;AACpB,MAAM,GAAG,GAAG,KAAK,CAAC;AAClB,MAAM,MAAM,GAAG,KAAK,CAAC;AAErB,WAAiB,QAAQ;IACrB,SAAgB,SAAS,CAAC,KAAyB;QAC/C,KAAK,GAAG,KAAK,IAAI,KAAK,CAAC,WAAW,EAAE,CAAC;QAErC,IAAI,CAAC,KAAK,EAAE;YACR,OAAO,QAAQ,CAAC,MAAM,CAAC;SAC1B;QACD,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;YAC3C,OAAO,QAAQ,CAAC,KAAK,CAAC;SACzB;QACD,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE;YACvD,OAAO,QAAQ,CAAC,OAAO,CAAC;SAC3B;QACD,IAAI,KAAK,KAAK,MAAM,EAAE;YAClB,OAAO,QAAQ,CAAC,IAAI,CAAC;SACxB;QACD,IAAI,KAAK,KAAK,KAAK,EAAE;YACjB,OAAO,QAAQ,CAAC,GAAG,CAAC;SACvB;QAED,OAAO,QAAQ,CAAC,MAAM,CAAC;IAC3B,CAAC;IApBe,kBAAS,YAoBxB;IAED,SAAgB,oBAAoB,CAAC,KAAe;QAChD,QAAQ,KAAK,EAAE;YACX,KAAK,QAAQ,CAAC,MAAM;gBAChB,OAAO,mDAAkB,CAAC,IAAI,CAAC;YACnC,KAAK,QAAQ,CAAC,IAAI;gBACd,OAAO,mDAAkB,CAAC,WAAW,CAAC;YAC1C,KAAK,QAAQ,CAAC,GAAG;gBACb,OAAO,mDAAkB,CAAC,WAAW,CAAC;YAC1C,KAAK,QAAQ,CAAC,OAAO;gBACjB,OAAO,mDAAkB,CAAC,OAAO,CAAC;YACtC,KAAK,QAAQ,CAAC,KAAK;gBACf,OAAO,mDAAkB,CAAC,KAAK,CAAC;YACpC;gBACI,OAAO,mDAAkB,CAAC,KAAK,CAAC;SACvC;IACL,CAAC;IAfe,6BAAoB,uBAenC;IAED,SAAgB,QAAQ,CAAC,QAA8B;QACnD,QAAQ,QAAQ,EAAE;YACd,KAAK,QAAQ,CAAC,KAAK;gBACf,OAAO,KAAK,CAAC;YACjB,KAAK,QAAQ,CAAC,OAAO;gBACjB,OAAO,OAAO,CAAC;YACnB,KAAK,QAAQ,CAAC,IAAI;gBACd,OAAO,IAAI,CAAC;YAChB,KAAK,QAAQ,CAAC,GAAG;gBACb,OAAO,GAAG,CAAC;YACf;gBACI,OAAO,MAAM,CAAC;SACrB;IACL,CAAC;IAbe,iBAAQ,WAavB;IAED,SAAgB,cAAc,CAAC,QAA2B;QACtD,IAAI,QAAQ,KAAK,QAAQ,CAAC,KAAK,IAAI,QAAQ,KAAK,KAAK,EAAE;YACnD,OAAO,SAAG,CAAC,QAAQ,CAAC,4BAA4B,EAAE,QAAQ,CAAC,CAAC;SAC/D;aAAM,IAAI,QAAQ,KAAK,QAAQ,CAAC,OAAO,IAAI,QAAQ,KAAK,OAAO,EAAE;YAC9D,OAAO,SAAG,CAAC,QAAQ,CAAC,8BAA8B,EAAE,UAAU,CAAC,CAAC;SACnE;aAAM,IAAI,QAAQ,KAAK,QAAQ,CAAC,IAAI,IAAI,QAAQ,KAAK,IAAI,EAAE;YACxD,OAAO,SAAG,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;SACxC;aAAM,IAAI,QAAQ,KAAK,QAAQ,CAAC,GAAG,IAAI,QAAQ,KAAK,GAAG,EAAE;YACtD,OAAO,SAAG,CAAC,QAAQ,CAAC,yBAAyB,EAAE,KAAK,CAAC,CAAC;SACzD;aAAM;YACH,OAAO,SAAG,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;SACvC;IACL,CAAC;IAZe,uBAAc,iBAY7B;IAED,SAAgB,OAAO;QACnB,OAAO,CAAC,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;IAC/C,CAAC;IAFe,gBAAO,UAEtB;AACL,CAAC,EAxEgB,QAAQ,GAAR,gBAAQ,KAAR,gBAAQ,QAwExB;;;;;;;;;;;AC9GD,mHAA+C;;;;;;;;;;;;;ACA/C,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;;AAEhF,qIAA2F;AAC3F,sHAAuF;AACvF,qHAA6C;AAC7C,yHAA0K;AAC1K,oIAAiD;AACjD,gJAAyD;AACzD,yGAA+D;AAC/D,8JAAqF;AACrF,uKAAkF;AAElF,qHAAiD;AAEjD,IAAiB,cAAc,CAkL9B;AAlLD,WAAiB,cAAc;IAE3B,MAAM,eAAe,GAAG,QAAQ,CAAC;IACjC,MAAM,mBAAmB,GAAG,SAAG,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;IAElD,+BAAgB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC9D,EAAE,EAAE,wBAAwB;QAC5B,KAAK,EAAE,mBAAmB;KAC7B,CAAC,CAAC;IAEH;;OAEG;IACU,8BAAe,GAAY;QACpC,EAAE,EAAE,oCAAoC;KAC3C,CAAC;IACF;;OAEG;IACU,iCAAkB,GAAY;QACvC,EAAE,EAAE,uCAAuC;KAC9C,CAAC;IAEW,yBAAU,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QACxD,EAAE,EAAE,+BAA+B;QACnC,QAAQ,EAAE,eAAe;QACzB,KAAK,EAAE,6BAA6B;KACvC,CAAC,CAAC;IAEU,kCAAmB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QACjE,EAAE,EAAE,uCAAuC;QAC3C,QAAQ,EAAE,eAAe;QACzB,KAAK,EAAE,qBAAqB;KAC/B,CAAC,CAAC;IACU,gCAAiB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC/D,EAAE,EAAE,qCAAqC;QACzC,QAAQ,EAAE,eAAe;QACzB,KAAK,EAAE,mBAAmB;KAC7B,CAAC,CAAC;IACU,8BAAe,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC7D,EAAE,EAAE,4BAA4B;QAChC,QAAQ,EAAE,eAAe;QACzB,KAAK,EAAE,sBAAsB;KAChC,CAAC,CAAC;IACU,8BAAe,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC7D,EAAE,EAAE,4BAA4B;QAChC,QAAQ,EAAE,eAAe;QACzB,KAAK,EAAE,sBAAsB;KAChC,CAAC,CAAC;IACU,4BAAa,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC3D,EAAE,EAAE,+BAA+B;QACnC,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,aAAa;KACvB,CAAC,CAAC;IACU,+BAAgB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC9D,EAAE,EAAE,6CAA6C;QACjD,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,yBAAyB;KACnC,CAAC,CAAC;IAEH;;OAEG;IACU,sBAAO,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QACrD,EAAE,EAAE,6BAA6B;QACjC,QAAQ,EAAE,eAAe;QACzB,KAAK,EAAE,SAAS;KACnB,CAAC,CAAC;IACH;;OAEG;IACU,yBAAU,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QACxD,EAAE,EAAE,gCAAgC;QACpC,QAAQ,EAAE,eAAe;QACzB,KAAK,EAAE,YAAY;KACtB,CAAC,CAAC;IACH;;OAEG;IACU,2BAAY,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC1D,EAAE,EAAE,iCAAiC;QACrC,QAAQ,EAAE,eAAe;QACzB,KAAK,EAAE,0BAA0B;KACpC,CAAC,CAAC;IACH;;OAEG;IACU,mCAAoB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAClE,EAAE,EAAE,mCAAmC;QACvC,QAAQ,EAAE,eAAe;QACzB,KAAK,EAAE,sBAAsB;KAChC,CAAC,CAAC;IACH;;OAEG;IACU,sCAAuB,GAAG,gBAAO,CAAC,kBAAkB,CAAC;QAC9D,EAAE,EAAE,iCAAiC;QACrC,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,yBAAyB;KACnC,EAAE,6BAA6B,EAAE,mBAAmB,CAAC,CAAC;IACvD;;OAEG;IACU,6BAAc,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC5D,EAAE,EAAE,6BAA6B;QACjC,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,gBAAgB;KAC1B,CAAC,CAAC;IACH;;OAEG;IACU,uCAAwB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QACtE,EAAE,EAAE,sCAAsC;QAC1C,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,0BAA0B;KACpC,CAAC,CAAC;IACH;;OAEG;IACU,+BAAgB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC9D,EAAE,EAAE,8BAA8B;QAClC,KAAK,EAAE,wBAAwB;KAClC,CAAC,CAAC;IACH;;OAEG;IACU,mCAAoB,GAAG,gBAAO,CAAC,kBAAkB,CAAC;QAC3D,EAAE,EAAE,kCAAkC;QACtC,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,sBAAsB;KAChC,EAAE,iCAAiC,EAAE,mBAAmB,CAAC,CAAC;IAC3D;;OAEG;IACU,mCAAoB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAClE,EAAE,EAAE,qCAAqC;QACzC,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,sBAAsB;KAChC,CAAC,CAAC;IACH;;OAEG;IACU,iCAAkB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAChE,EAAE,EAAE,mCAAmC;QACvC,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,oBAAoB;KAC9B,CAAC,CAAC;IACU,gCAAiB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC/D,EAAE,EAAE,kCAAkC;QACtC,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,mBAAmB;KAC7B,CAAC,CAAC;IACU,8BAAe,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC7D,EAAE,EAAE,gCAAgC;QACpC,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,iBAAiB;KAC3B,CAAC,CAAC;IACU,gCAAiB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QAC/D,EAAE,EAAE,kCAAkC;QACtC,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,mBAAmB;KAC7B,CAAC,CAAC;IACH;;OAEG;IACU,sCAAuB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QACrE,EAAE,EAAE,8BAA8B;QAClC,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,cAAc;KACxB,CAAC,CAAC;IACH;;OAEG;IACU,oCAAqB,GAAG,gBAAO,CAAC,yBAAyB,CAAC;QACnE,EAAE,EAAE,wCAAwC;QAC5C,QAAQ,EAAE,wBAAc,CAAC,aAAa;QACtC,KAAK,EAAE,yBAAyB;KACnC,CAAC,CAAC;AACP,CAAC,EAlLgB,cAAc,GAAd,sBAAc,KAAd,sBAAc,QAkL9B;AAGD,IAAa,yBAAyB,iCAAtC,MAAa,yBAAyB;IA+BxB,IAAI;QACV,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,CAAC,CAAC,EAAE;YAC3C,IAAI,CAAC,CAAC,cAAc,KAAK,gBAAgB,IAAI,CAAC,CAAC,QAAQ,KAAK,KAAK,EAAE;gBAC/D,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;aACxB;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gBAAgB,CAAC,QAAyB;QACtC,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;QACzD,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;QAC5D,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACpD,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,mBAAmB,CAAC,CAAC;QAC7D,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC;QAC3D,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;QACvD,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;QAC1D,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,eAAe,EAAE;YACrD,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE;YAC5C,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE;YAC5C,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE;SAC1C,CAAC,CAAC;QACH,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,eAAe,EAAE;YACrD,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE;YAC5C,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE;YAC5C,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,iBAAiB,EAAE;SAC1C,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACjD,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACpD,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QACtD,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;QAC9D,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;QACxD,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,wBAAwB,CAAC,CAAC;QAClE,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;QAC1D,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;QAC9D,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,oBAAoB,CAAC,CAAC;QAE9D,QAAQ,CAAC,eAAe,CAAC,wBAAc,CAAC,SAAS,EAAE;YAC/C,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE;YACpC,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE;SACvC,CAAC,CAAC;IACP,CAAC;IAES,oBAAoB;QAC1B,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;QAChD,MAAM,MAAM,GAAG,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC;QACvC,OAAO,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;IAClD,CAAC;IACS,KAAK,CAAC,iBAAiB;;QAC7B,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;QAChD,MAAM,MAAM,GAAG,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC;QACvC,IAAI,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE;YACtC,OAAO;SACV;QACD,MAAM,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;QAC3C,MAAM,KAAK,GAA8E;YACrF,EAAE,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,aAAa,CAAC,EAAE,KAAK,EAAE,YAAY,EAAE;YACpE,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,wBAAwB,CAAC,EAAE;YAC7E,GAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;SAC/I,CAAC;QACF,MAAM,YAAY,GAAG,MAAM,WAAI,CAAC,iBAAiB,0CAAE,aAAa,CAAC,KAAK,EAAE,EAAE,WAAW,EAAE,SAAG,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,EAAE,CAAC,EAAC;QACxI,IAAI,YAAY,IAAI,CAAC,OAAO,IAAI,YAAY,CAAC,EAAE;YAC3C,IAAI,YAAY,CAAC,KAAK,KAAK,YAAY,EAAE;gBACrC,MAAM,CAAC,cAAc,EAAE,CAAC;aAC3B;iBAAM,IAAI,YAAY,CAAC,KAAK,EAAE;gBAC3B,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;aAC7C;SACJ;IACL,CAAC;IAES,oBAAoB;QAC1B,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;QAChD,MAAM,MAAM,GAAG,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC;QACvC,OAAO,CAAC,CAAC,MAAM,CAAC;IACpB,CAAC;IACS,KAAK,CAAC,iBAAiB;;QAC7B,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;QAChD,MAAM,MAAM,GAAG,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC;QACvC,IAAI,CAAC,MAAM,EAAE;YACT,OAAO;SACV;QACD,MAAM,sBAAsB,GAAG,EAAE,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC;QACzG,MAAM,oBAAoB,GAAG,EAAE,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC;QACnG,MAAM,WAAW,GAA6B;YAC1C,sBAAsB;YACtB,oBAAoB;SACvB,CAAC;QACF,MAAM,gBAAgB,GAAG,MAAM,WAAI,CAAC,iBAAiB,0CAAE,aAAa,CAAC,WAAW,EAAE,EAAE,WAAW,EAAE,SAAG,CAAC,iBAAiB,CAAC,eAAe,CAAC,EAAE,CAAC,EAAC;QAC3I,IAAI,CAAC,gBAAgB,EAAE;YACnB,OAAO;SACV;QACD,MAAM,oBAAoB,GAAG,CAAC,gBAAgB,CAAC,KAAK,KAAK,sBAAsB,CAAC,KAAK,CAAC,CAAC;QAEvF,MAAM,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAS,gBAAgB,EAAE,MAAM,EAAE,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;QAEhH,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACzD,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,MAAM,QAAQ,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;QAC5F,QAAQ,CAAC,OAAO,EAAE,CAAC;QAEnB,MAAM,aAAa,GAA0D,MAAM,CAAC,IAAI,CAAC,yCAAmB,CAAC;aACxG,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE;YACb,IAAI,EAAE,KAAK,kBAAkB,EAAE;gBAC3B,OAAO,CAAC,CAAC,CAAC;aACb;iBAAM,IAAI,EAAE,KAAK,kBAAkB,EAAE;gBAClC,OAAO,CAAC,CAAC;aACZ;YACD,OAAO,yCAAmB,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,yCAAmB,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC;QACzE,CAAC,CAAC;aACD,MAAM,CAAC,CAAC,CAAC,EAAE;YACR,IAAI,CAAC,KAAK,eAAe,IAAI,eAAe,KAAK,kBAAkB,EAAE;gBACjE,OAAO,KAAK,CAAC,CAAC,wFAAwF;aACzG;YAED,OAAO,CAAC,oBAAoB,IAAI,CAAC,yCAAmB,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,0EAA0E;QAClJ,CAAC,CAAC;aACD,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,yCAAmB,CAAC,GAAG,CAAC,CAAC,SAAS,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,WAAW,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC;QAEvG,0BAA0B;QAC1B,IAAI,eAAe,IAAI,kBAAkB,KAAK,eAAe,IAAI,yCAAmB,CAAC,eAAe,CAAC,EAAE;YACnG,aAAa,CAAC,OAAO,CAAC;gBAClB,KAAK,EAAE,GAAG,SAAG,CAAC,iBAAiB,CAAC,sBAAsB,CAAC,KAAK,yCAAmB,CAAC,eAAe,CAAC,CAAC,SAAS,EAAE;gBAC5G,KAAK,EAAE,EAAE,EAAE,EAAE,eAAe,EAAE,WAAW,EAAE,eAAe,EAAE;aAC/D,CAAC,CAAC;SACN;QACD,MAAM,oBAAoB,GAAG,MAAM,WAAI,CAAC,iBAAiB,0CAAE,aAAa,CAAsD,aAAa,EAAE;YACzI,WAAW,EAAE,oBAAoB,CAAC,CAAC;gBAC/B,SAAG,CAAC,iBAAiB,CAAC,qCAAqC,CAAC,CAAC,CAAC;gBAC9D,SAAG,CAAC,iBAAiB,CAAC,mCAAmC,CAAC;SACjE,CAAC,EAAC;QAEH,IAAI,CAAC,oBAAoB,EAAE;YACvB,OAAO;SACV;QACD,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,IAAI,oBAAoB,EAAE;YAC/C,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAG,CAAC,QAAQ,CAAC,4BAA4B,EAAE,oFAAoF,CAAC,CAAC,CAAC;YAC3J,OAAO;SACV;aAAM,IAAI,oBAAoB,CAAC,KAAK,EAAE;YACnC,MAAM,CAAC,WAAW,CAAC,oBAAoB,CAAC,KAAK,CAAC,EAAE,EAAE,oBAAoB,CAAC,CAAC,gBAAqB,CAAC,eAAoB,CAAC,CAAC;SACvH;IACL,CAAC;IAES,mBAAmB,CAAC,KAAe,EAAE,OAAe;QAC1D,MAAM,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC9C,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QACrD,MAAM,WAAW,GAAG,IAAI,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QACpE,MAAM,UAAU,GAAG,OAAO,KAAK,KAAK,CAAC,EAAE,CAAC;QACxC,OAAO;YACH,KAAK;YACL,KAAK,EAAE,KAAK,CAAC,IAAI;YACjB,WAAW,EAAE,SAAG,CAAC,iBAAiB,CAAC,QAAQ,UAAU,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,EAAE,CAAC;YAClG,WAAW;SACd,CAAC;IACN,CAAC;IACS,aAAa,CAAC,QAAkB;QACtC,MAAM,SAAS,GAAG,QAAQ,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC;QACtD,IAAI,SAAS,CAAC,KAAK,EAAE;YACjB,OAAO,IAAI,aAAG,CAAC,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;SAChD;QACD,MAAM,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,IAAI,EAAE,CAAC;QACpD,IAAI,QAAQ,CAAC,KAAK,EAAE;YAChB,OAAO,IAAI,aAAG,CAAC,UAAU,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;SAC/C;QACD,OAAO,IAAI,aAAG,CAAC,cAAc,CAAC,CAAC;IACnC,CAAC;IAES,YAAY;QAClB,MAAM,QAAQ,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,2BAAyB,CAAC,mBAAmB,CAAC,CAAC;QAC5F,OAAO,QAAQ,KAAK,KAAK,CAAC;IAC9B,CAAC;IAES,KAAK,CAAC,cAAc;QAC1B,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,2BAAyB,CAAC,mBAAmB,EAAE,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;IACnI,CAAC;CACJ;AA1M0B,6CAAmB,GAAW,gBAAiB;AAGtE;IADC,sBAAM,EAAC,0BAAgB,CAAC;2CACC,0BAAgB;wDAAC;AAG3C;IADC,sBAAM,EAAC,2BAAiB,CAAC;;qEAC+B;AAGzD;IADC,sBAAM,EAAC,sCAAiB,CAAC;;oEAC8B;AAGxD;IADC,sBAAM,EAAC,2BAAiB,CAAC;IAAE,wBAAQ,GAAE;;oEACkB;AAEhC;IAAvB,sBAAM,EAAC,qBAAc,CAAC;2CAAoC,qBAAc;iEAAC;AAG1E;IADC,sBAAM,EAAC,uBAAa,CAAC;2CACY,uBAAa;gEAAC;AAGhD;IADC,sBAAM,EAAC,kCAAe,CAAC;2CACM,kCAAe;4DAAC;AAG9C;IADC,sBAAM,EAAC,8BAAa,CAAC;2CACY,8BAAa;gEAAC;AAGhD;IADC,sBAAM,EAAC,uBAAgB,CAAC;;mEAC6B;AAGtD;IADC,6BAAa,GAAE;;;;qDAOf;AArCQ,yBAAyB;IADrC,0BAAU,GAAE;GACA,yBAAyB,CA4MrC;AA5MY,8DAAyB;;;;;;;;;;;;;ACjNtC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;AAEhF,oIAAiD;AAEjD,qIAA4E;AAC5E,kKAA8F;AAC9F,yHAGiC;AACjC,uKAAgF;AAChF,yGAAwG;AACxG,oIAAkD;AAElD,uKAAkF;AAClF,qHAAiD;AACjD,oNAA2G;AAC3G,iIAA+C;AAC/C,oNAA+F;AAG/F,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;IAA/B;QAsCuB,oCAA+B,GAAG,IAAI,2BAAoB,EAAE,CAAC;IA+GpF,CAAC;IAxIG,OAAO;QACH,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAE7B,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;IAC5E,CAAC;IAES,qBAAqB;QAC3B,MAAM,YAAY,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAU,cAAc,EAAE,KAAK,CAAC,CAAC;QACtF,MAAM,wBAAwB,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAU,0BAA0B,EAAE,KAAK,CAAC,CAAC;QAC9G,MAAM,iBAAiB,GAAG,GAAG,EAAE;YAC3B,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC;YACvC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YACnC,wBAAwB,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,kBAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAChG,CAAC,CAAC;QACF,iBAAiB,EAAE,CAAC;QACpB,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE;YACzC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;SAC9C;QACD,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YAClC,iBAAiB,EAAE,CAAC;YACpB,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;IACP,CAAC;IAGS,eAAe;QACrB,IAAI,CAAC,+BAA+B,CAAC,OAAO,EAAE,CAAC;QAE/C,MAAM,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;QAChD,MAAM,MAAM,GAAG,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC;QACvC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;QAClC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;QAClC,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,CAAC;QACrC,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,+BAA+B,CAAC,OAAO,CAAC;gBACzC,MAAM,CAAC,iBAAiB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBACjE,MAAM,CAAC,iBAAiB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;gBACjE,MAAM,CAAC,uBAAuB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,uBAAuB,CAAC,MAAM,CAAC,CAAC;aAC7E,CAAC,CAAC;SACN;IACL,CAAC;IAES,oBAAoB,CAAC,MAA8B;QACzD,IAAI,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC;IAC5D,CAAC;IAES,oBAAoB,CAAC,MAA8B;QACzD,IAAI,CAAC,MAAM,EAAE;YACT,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;YACvD,OAAO;SACV;QACD,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,wBAAwB,EAAE;YAChD,IAAI,EAAE,yCAAmB,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC,UAAU;YAC1D,SAAS,EAAE,+BAAkB,CAAC,KAAK;YACnC,QAAQ,EAAE,EAAE;YACZ,OAAO,EAAE,+BAAc,CAAC,eAAe,CAAC,EAAE;YAC1C,OAAO,EAAE,SAAG,CAAC,iBAAiB,CAAC,iBAAiB,CAAC;SACpD,CAAC,CAAC;IACP,CAAC;IAES,uBAAuB,CAAC,MAA8B;QAC5D,IAAI,CAAC,MAAM,EAAE;YACT,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,+BAA+B,CAAC,CAAC;YAC9D,OAAO;SACV;QACD,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAC;QAC1B,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,+BAA+B,EAAE;YACvD,IAAI,EAAE,SAAG,CAAC,iBAAiB,CAAC,iBAAiB,EAAE,MAAM,CAAC,IAAI,GAAG,CAAC,EAAE,MAAM,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;YAChG,SAAS,EAAE,+BAAkB,CAAC,KAAK;YACnC,QAAQ,EAAE,GAAG;YACb,OAAO,EAAE,+BAAc,CAAC,gBAAgB,CAAC,KAAK;YAC9C,OAAO,EAAE,+BAAc,CAAC,gBAAgB,CAAC,EAAE;SAC9C,CAAC,CAAC;IACP,CAAC;IAED,gBAAgB,CAAC,QAAyB;QACtC,QAAQ,CAAC,eAAe,CAAC,+BAAc,CAAC,uBAAuB,EAAE;YAC7D,OAAO,EAAE,GAAG,EAAE,WAAC,iBAAI,CAAC,iBAAiB,0CAAE,IAAI,CAAC,MAAM,CAAC;SACtD,CAAC,CAAC;QACH,MAAM,mBAAmB,GAAG,CAAC,SAAgC,EAAkB,EAAE,CAAC,IAAI,4DAA2B,CAAC,IAAI,CAAC,KAAK,EAAE;YAC1H,SAAS,EAAE,KAAK,CAAC,EAAE,CAAC,MAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,KAAK,aAAY,4BAAY;YACxD,OAAO,EAAE,KAAK,EAAC,KAAK,EAAC,EAAE;gBACnB,IAAI,MAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,KAAK,aAAY,4BAAY,EAAE;oBACtC,MAAM,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC;oBAC/C,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,SAAS,EAAE,aAAa,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,EAAE,KAAK,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBACnJ,MAAM,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;oBAC3D,SAAS,CAAC,MAAM,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;iBACrD;YACL,CAAC;SACJ,CAAC,CAAC;QACH,QAAQ,CAAC,eAAe,CAAC,+BAAc,CAAC,uBAAuB,EAAE,mBAAmB,CAAC,aAAa,CAAC,CAAC,CAAC;QACrG,QAAQ,CAAC,eAAe,CAAC,+BAAc,CAAC,qBAAqB,EAAE,mBAAmB,CAAC,cAAc,CAAC,CAAC,CAAC;QACpG,QAAQ,CAAC,eAAe,CAAC,+BAAc,CAAC,kBAAkB,EAAE,mBAAmB,CAAC,aAAa,CAAC,CAAC,CAAC;QAChG,QAAQ,CAAC,eAAe,CAAC,+BAAc,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,cAAc,CAAC,CAAC,CAAC;QAChG,QAAQ,CAAC,eAAe,CAAC,+BAAc,CAAC,eAAe,EAAE,mBAAmB,CAAC,WAAW,CAAC,CAAC,CAAC;QAC3F,QAAQ,CAAC,eAAe,CAAC,+BAAc,CAAC,iBAAiB,EAAE,mBAAmB,CAAC,YAAY,CAAC,CAAC,CAAC;IAClG,CAAC;IAED,mBAAmB,CAAC,WAA+B;QAC/C,WAAW,CAAC,kBAAkB,CAAC;YAC3B,OAAO,EAAE,+BAAc,CAAC,uBAAuB,CAAC,EAAE;YAClD,UAAU,EAAE,qBAAqB;SACpC,CAAC,CAAC;QACH,WAAW,CAAC,kBAAkB,CAAC;YAC3B,OAAO,EAAE,+BAAc,CAAC,uBAAuB,CAAC,EAAE;YAClD,UAAU,EAAE,YAAY;SAC3B,CAAC,CAAC;QACH,WAAW,CAAC,kBAAkB,CAAC;YAC3B,OAAO,EAAE,+BAAc,CAAC,qBAAqB,CAAC,EAAE;YAChD,UAAU,EAAE,sBAAsB;SACrC,CAAC,CAAC;IACP,CAAC;IAED,aAAa,CAAC,QAA2B;QACrC,QAAQ,CAAC,kBAAkB,CAAC,oCAA0B,EAAE;YACpD,SAAS,EAAE,+BAAc,CAAC,eAAe,CAAC,EAAE;YAC5C,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,UAAU,CAAC;YACxC,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,oCAA0B,EAAE;YACpD,SAAS,EAAE,+BAAc,CAAC,iBAAiB,CAAC,EAAE;YAC9C,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,YAAY,CAAC;YAC1C,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,oCAA0B,EAAE;YACpD,SAAS,EAAE,+BAAc,CAAC,iBAAiB,CAAC,EAAE;YAC9C,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,YAAY,CAAC;YAC1C,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,oCAA0B,EAAE;YACpD,SAAS,EAAE,+BAAc,CAAC,kBAAkB,CAAC,EAAE;YAC/C,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,aAAa,CAAC;YAC3C,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;IACP,CAAC;CACJ;AAnJsB;IAAlB,sBAAM,EAAC,sBAAS,CAAC;;qDAAyC;AACpC;IAAtB,sBAAM,EAAC,8BAAa,CAAC;2CAAmC,8BAAa;yDAAC;AAClC;IAApC,sBAAM,EAAC,4DAA2B,CAAC;2CAA2C,4DAA2B;iEAAC;AACjF;IAAzB,sBAAM,EAAC,0BAAgB,CAAC;2CAA2B,0BAAgB;iDAAC;AAGrE;IADC,sBAAM,EAAC,uCAAiB,CAAC;;6DAC8B;AAGxD;IADC,sBAAM,EAAC,2BAAiB,CAAC;IAAE,wBAAQ,GAAE;;6DACkB;AAX/C,kBAAkB;IAD9B,0BAAU,GAAE;GACA,kBAAkB,CAqJ9B;AArJY,gDAAkB;;;;;;;;;;;;;ACnC/B,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;AAEhF,0HAA2C;AAC3C,gLAAsE;AAEtE,qIAA+D;AAC/D,sHAA+E;AAC/E,yHAA8H;AAC9H,mJAA4E;AAC5E,oIAAwG;AACxG,mJAA2D;AAC3D,2HAAuD;AACvD,oIAA6D;AAC7D,6IAAmE;AACnE,gJAA6D;AAC7D,yJAA8D;AAC9D,oLAAgF;AAChF,iMAAqF;AACrF,iMAAqF;AACrF,0MAA2F;AAC3F,8KAA4E;AAC5E,0KAA2F;AAC3F,sJAA4D;AAC5D,oNAA+F;AAC/F,oLAAgF;AAChF,6IAAsD;AAEtD,qBAAe,IAAI,2BAAe,CAAC,IAAI,CAAC,EAAE;IACtC,8CAAqB,EAAC,IAAI,CAAC,CAAC;IAE5B,IAAI,CAAC,2CAAmB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IACtD,IAAI,CAAC,uBAAa,CAAC,CAAC,SAAS,CAAC,2CAAmB,CAAC,CAAC;IAEnD,IAAI,CAAC,8BAAa,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAChD,IAAI,CAAC,qBAAW,CAAC,CAAC,SAAS,CAAC,8BAAa,CAAC,CAAC;IAE3C,IAAI,CAAC,0CAAyB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAC5D,IAAI,CAAC,4BAAmB,CAAC,CAAC,SAAS,CAAC,0CAAyB,CAAC,CAAC;IAE/D,IAAI,CAAC,oCAAsB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IACzD,IAAI,CAAC,yBAAgB,CAAC,CAAC,SAAS,CAAC,oCAAsB,CAAC,CAAC;IAEzD,IAAI,CAAC,gDAA4B,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAC/D,IAAI,CAAC,gCAAsB,CAAC,CAAC,SAAS,CAAC,gDAA4B,CAAC,CAAC;IAErE,IAAI,CAAC,wCAAkB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IACrD,IAAI,CAAC,yCAA+B,CAAC,CAAC,SAAS,CAAC,wCAAkB,CAAC,CAAC;IACpE,IAAI,CAAC,4DAA2B,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAE9D,IAAI,CAAC,6DAA4B,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAC/D,IAAI,CAAC,yCAA+B,CAAC,CAAC,SAAS,CAAC,6DAA4B,CAAC,CAAC;IAE9E,IAAI,CAAC,6DAA4B,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAC/D,IAAI,CAAC,yCAA+B,CAAC,CAAC,SAAS,CAAC,6DAA4B,CAAC,CAAC;IAC9E,IAAI,CAAC,uDAAyB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAC5D,IAAI,CAAC,uDAAyB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAC5D,IAAI,CAAC,6DAA4B,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IAE/D,IAAI,CAAC,8BAAoB,CAAC,CAAC,EAAE,CAAC,yDAA0B,CAAC,CAAC,gBAAgB,EAAE,CAAC;IAE7E,CAAC,4BAAmB,EAAE,gCAAsB,EAAE,yBAAgB,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,EAAE;QACxF,IAAI,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,wCAAkB,CAAC,CAAC;IAC1D,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,yCAAkB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IACrD,IAAI,CAAC,sCAAuB,CAAC,CAAC,EAAE,CAAC,yCAAkB,CAAC,CAAC;IAErD,IAAI,CAAC,oCAAmB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IACtD,IAAI,CAAC,mCAAkB,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;IACrD,IAAI,CAAC,6BAAY,CAAC,CAAC,EAAE,CAAC,oCAAmB,CAAC,CAAC,gBAAgB,EAAE,CAAC,eAAe,CAAC,6BAAY,CAAC,OAAO,CAAC,CAAC;IACpG,IAAI,CAAC,6BAAY,CAAC,CAAC,EAAE,CAAC,mCAAkB,CAAC,CAAC,gBAAgB,EAAE,CAAC,eAAe,CAAC,6BAAY,CAAC,MAAM,CAAC,CAAC;IAElG,IAAI,CAAC,mCAAe,CAAC,CAAC,MAAM,EAAE,CAAC,gBAAgB,EAAE,CAAC;AACtD,CAAC,CAAC,CAAC;;;;;;;;;;;;;ACtFH,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;AAEhF,qIAA0D;AAC1D,yMAA4F;AAC5F,kHAA6D;AAE7D,oIAAkD;AAGlD,IAAa,4BAA4B,GAAzC,MAAa,4BAA4B;IAErC,mBAAmB,CAAC,QAA4B;QAC5C,QAAQ,CAAC,mBAAmB,CACxB;YACI,OAAO,EAAE,+BAAc,CAAC,OAAO,CAAC,EAAE;YAClC,UAAU,EAAE,UAAK,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,cAAS,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,aAAa,CAAC,YAAY;SACrF,EACD;YACI,OAAO,EAAE,+BAAc,CAAC,UAAU,CAAC,EAAE;YACrC,UAAU,EAAE,UAAK,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,cAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,aAAa,CAAC,cAAc;SAC9F,EACD;YACI,OAAO,EAAE,+BAAc,CAAC,YAAY,CAAC,EAAE;YACvC,UAAU,EAAE,YAAY;SAC3B,EACD;YACI,OAAO,EAAE,+BAAc,CAAC,gBAAgB,CAAC,EAAE;YAC3C,UAAU,EAAE,OAAO;SACtB,EACD;YACI,OAAO,EAAE,+BAAc,CAAC,oBAAoB,CAAC,EAAE;YAC/C,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC,aAAa;SACpE,CACJ,CAAC;IACN,CAAC;IAEO,UAAU;QACd,OAAO,yBAAW,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;IACrC,CAAC;CAEJ;AA/BY,4BAA4B;IADxC,0BAAU,GAAE;GACA,4BAA4B,CA+BxC;AA/BY,oEAA4B;;;;;;;;;;;;;ACvBzC,gFAAgF;AAChF,oDAAoD;AACpD,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;AAEhF,oIAAiD;AACjD,4GAAmF;AACnF,qIAAkE;AAClE,yHAA+F;AAC/F,uKAAgF;AAChF,yGAAyE;AAG5D,sCAA8B,GAAa,CAAC,gCAAgC,CAAC,CAAC;AAG3F,IAAa,4BAA4B,GAAzC,MAAa,4BAA4B;IAWrC,OAAO;QACH,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAC,CAAC;IAClF,CAAC;IAES,wBAAwB,CAAC,YAA0B;QACzD,MAAM,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC;QACnC,IAAI,MAAM,EAAE;YACR,MAAM,WAAW,GAAG,IAAI,2BAAoB,EAAE,CAAC;YAC/C,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YACrF,MAAM,OAAO,GAAG,GAAG,EAAE,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;YAC5C,YAAY,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACvC,WAAW,CAAC,IAAI,CAAC,iBAAU,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,YAAY,CAAC,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;SACxF;IACL,CAAC;IAES,iBAAiB,CAAC,MAAkB,EAAE,KAAuB;QACnE,IAAI,KAAK,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,KAAK,wBAAe,CAAC,mBAAmB,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,KAAK,wBAAe,CAAC,mBAAmB,CAAC,EAAE;YAC1I,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC1B,MAAM,CAAC,KAAK,EAAE,CAAC;gBACf,MAAM,UAAU,GAAG,sBAAsB,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gBACjE,MAAM,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAC,aAAa,CAAC,CAAC,CAAC,kBAAkB,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;gBACnG,MAAM,GAAG,GAAG,MAAM,CAAC,cAAc,EAAG,CAAC;gBACrC,MAAM,IAAI,GAAG,CAAC;wBACV,UAAU,EAAE,UAAU;wBACtB,MAAM,EAAE,CAAC;wBACT,GAAG,EAAE,GAAG,CAAC,SAAS,CAAC;qBACtB,CAAC,CAAC;gBAEH,UAAU,CAAC,GAAG,EAAE;oBACZ,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC;wBAC5B,QAAQ,EAAE,sCAA8B;wBACxC,MAAM,EAAE,KAAK,CAAC,KAAK;wBACnB,IAAI;wBACJ,iBAAiB;qBACpB,CAAC,CAAC;gBACP,CAAC,CAAC,CAAC;aACN;SACJ;IACL,CAAC;CAEJ;AAhDG;IADC,sBAAM,EAAC,uCAAiB,CAAC;;uEAC8B;AAGxD;IADC,sBAAM,EAAC,6BAAmB,CAAC;2CACY,6BAAmB;yEAAC;AAG5D;IADC,sBAAM,EAAC,8BAAa,CAAC;2CACY,8BAAa;mEAAC;AATvC,4BAA4B;IADxC,0BAAU,GAAE;GACA,4BAA4B,CAmDxC;AAnDY,oEAA4B;AAqDzC,SAAS,sBAAsB,CAAC,QAA8B;IAC1D,4FAA4F;IAC5F,IAAI,QAAQ,EAAE;QACV,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC;KAC5B;IACD,OAAO,SAAS,CAAC;AACrB,CAAC;;;;;;;;;;;;;ACtFD,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;AAEhF,qIAAiF;AAEjF,sHAAwG;AACxG,yHAAiK;AACjK,iIAA+C;AAC/C,4GAAiE;AACjE,yJAA8D;AAc9D,IAAa,aAAa,GAA1B,MAAa,aAAc,SAAQ,sCAA0C;IAA7E;;QAEa,OAAE,GAAG,2CAAmB,CAAC,EAAE,CAAC;QAE5B,UAAK,GAAG,aAAa,CAAC;QAEZ,mBAAc,GAAG,IAAI,GAAG,EAAkB,CAAC;QAE3C,iCAA4B,GAAG,IAAI,gBAAO,EAA4B,CAAC;QAC1F;;WAEG;QACM,0BAAqB,GAAoC,IAAI,CAAC,4BAA4B,CAAC,KAAK,CAAC;QAEvF,kCAA6B,GAAG,IAAI,gBAAO,EAA4B,CAAC;QAC3F;;WAEG;QACM,2BAAsB,GAAoC,IAAI,CAAC,6BAA6B,CAAC,KAAK,CAAC;QAwEzF,uBAAkB,GAAa,EAAE,CAAC;IA6NzD,CAAC;IA/RsB,IAAI;QACnB,KAAK,CAAC,IAAI,EAAE,CAAC;QACb,IAAI,CAAC,KAAK,CAAC,uBAAuB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,CAAC;QACpE,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,mBAAmB,EAAE,CAAC,CAAC;QACtE,IAAI,CAAC,KAAK,CAAC,wBAAwB,CAAC,GAAG,EAAE,CACrC,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,wBAAc,CAAC,sBAAsB,CAAC,EAAE,CAAC,CACzE,CAAC;QACF,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;YACpB,MAAM,CAAC,qBAAqB,CAAC,GAAG,EAAE;gBAC9B,IAAI,MAAM,CAAC,SAAS,EAAE;oBAClB,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;iBACnC;gBACD,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC/B,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;YACnC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE;gBACzB,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;gBAC/B,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;gBACnC,IAAI,CAAC,mBAAmB,EAAE,CAAC;YAC/B,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QACH,KAAK,MAAM,MAAM,IAAI,IAAI,CAAC,GAAG,EAAE;YAC3B,IAAI,MAAM,CAAC,SAAS,EAAE;gBAClB,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;aACnC;SACJ;QACD,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC/B,CAAC;IAEQ,QAAQ,CAAC,GAAQ,EAAE,OAA6B;QACrD,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACxC,CAAC;IAEQ,gBAAgB,CAAC,GAAQ,EAAE,OAA6B;QAC7D,OAAO,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAChD,CAAC;IAEkB,mBAAmB,CAAC,GAAQ,EAAE,OAA6B;QAC1E,MAAM,aAAa,GAAG,KAAK,CAAC,mBAAmB,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;QAC9D,IAAI,aAAa,EAAE;YACf,+GAA+G;YAC/G,IAAI,CAAC,CAAC,aAAa,YAAY,gBAAM,CAAC,EAAE;gBACpC,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;aAC5E;iBAAM;gBACH,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;aAChD;SACJ;QACD,OAAO,aAAa,CAAC;IACzB,CAAC;IAEkB,KAAK,CAAC,SAAS,CAAC,GAAQ,EAAE,OAA6B;QACtE,MAAM,MAAM,GAAG,MAAM,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;QACnD,IAAI,MAAM,EAAE;YACR,+GAA+G;YAC/G,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;SAC9C;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAEkB,KAAK,CAAC,iBAAiB,CAAC,GAAQ,EAAE,OAA6B;QAC9E,MAAM,MAAM,GAAG,MAAM,KAAK,CAAC,iBAAiB,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;QAC3D,+GAA+G;QAC/G,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;QAC3C,OAAO,MAAM,CAAC;IAClB,CAAC;IAGD,IAAc,eAAe;QACzB,MAAM,EAAE,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;QACtC,OAAO,EAAE,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,IAAI,SAAS,CAAC;IAC9D,CAAC;IACS,kBAAkB,CAAC,MAAoB;QAC7C,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC;QACnC,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC/C,CAAC;IACS,qBAAqB,CAAC,MAAoB;QAChD,MAAM,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QACzD,IAAI,KAAK,KAAK,CAAC,CAAC,EAAE;YACd,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SAC5C;IACL,CAAC;IAGD;;;OAGG;IACH,IAAI,YAAY;QACZ,OAAO,IAAI,CAAC,aAAa,CAAC;IAC9B,CAAC;IACS,eAAe,CAAC,MAAgC;QACtD,IAAI,IAAI,CAAC,aAAa,KAAK,MAAM,EAAE;YAC/B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;YAC5B,IAAI,CAAC,4BAA4B,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC9D;IACL,CAAC;IACS,kBAAkB;QACxB,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;QACvC,IAAI,MAAM,YAAY,4BAAY,EAAE;YAChC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;YAChC,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;SAChC;aAAM;YACH,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;SACnC;IACL,CAAC;IAGD;;;OAGG;IACH,IAAI,aAAa;QACb,OAAO,IAAI,CAAC,cAAc,CAAC;IAC/B,CAAC;IACS,gBAAgB,CAAC,OAAiC;QACxD,IAAI,IAAI,CAAC,cAAc,KAAK,OAAO,EAAE;YACjC,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC;YAC9B,IAAI,CAAC,6BAA6B,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;SAChE;IACL,CAAC;IACS,mBAAmB;QACzB,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC;QACxC,IAAI,MAAM,YAAY,4BAAY,EAAE;YAChC,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;SACjC;aAAM,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,IAAI,IAAI,CAAC,aAAa,KAAK,IAAI,CAAC,eAAe,EAAE;YAC9G,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;SAC/C;IACL,CAAC;IAED,SAAS,CAAC,GAAQ,EAAE,OAA6B;QAC7C,OAAO,GAAG,CAAC;IACf,CAAC;IAEQ,IAAI,CAAC,GAAQ,EAAE,OAA6B;;QACjD,IAAI,QAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,MAAK,SAAS,EAAE;YAChC,MAAM,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,mBAAmB,CAAC,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,aAAa,CAAC,CAAC;YAChF,0DAA0D;YAC1D,IAAI,sBAAgB,CAAC,UAAU,CAAC,IAAI,0CAAE,UAAU,CAAC,OAAO,CAAC,EAAE;gBACvD,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,EAAE,GAAG,OAAO,EAAE,CAAC,CAAC;aAClF;YACD,kDAAkD;YAClD,MAAM,MAAM,GAAG,gBAAgB,CAAC,UAAU,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,gBAAgB,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YAC3G,IAAI,MAAM,EAAE;gBACR,MAAM,UAAU,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;gBAClC,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,MAAM,EAAE;oBAC/B,IAAI,KAAK,CAAC,KAAK,YAAY,4BAAY,EAAE;wBACrC,MAAM,EAAE,GAAG,EAAE,cAAc,EAAE,EAAE,EAAE,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;wBAC1E,IAAI,cAAc,KAAK,UAAU,EAAE;4BAC/B,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,GAAG,OAAO,EAAE,CAAC,CAAC;yBACvD;qBACJ;iBACJ;aACJ;YACD,uIAAuI;YACvI,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,+BAA+B,EAAE,KAAK,CAAC,EAAE;gBACpE,MAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;gBAC3C,IAAI,OAAO,KAAK,SAAS,EAAE;oBACvB,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,CAAC,CAAC;iBACnD;aACJ;YACD,qBAAqB;YACrB,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,EAAE,GAAG,OAAO,EAAE,CAAC,CAAC;SAClF;QAED,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IACpC,CAAC;IAED;;;OAGG;IACH,UAAU,CAAC,GAAQ,EAAE,OAA6B;QAC9C,MAAM,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;QAC9C,MAAM,YAAY,GAAwB,EAAE,aAAa,EAAE,EAAE,IAAI,EAAE,aAAa,EAAE,EAAE,GAAG,OAAO,EAAE,OAAO,EAAE,CAAC;QAC1G,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,YAAY,CAAC,CAAC;IACxC,CAAC;IAES,eAAe,CAAC,MAAoB,EAAE,KAA2B,EAAE,GAAS;QAClF,IAAI,cAAc,GAAG,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,SAAS,CAAC;QACtC,IAAI,CAAC,cAAc,IAAI,GAAG,EAAE;YACxB,MAAM,KAAK,GAAG,qBAAqB,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACvD,IAAI,KAAK,EAAE;gBACP,qCAAqC;gBACrC,mCAAmC;gBACnC,cAAc,GAAG;oBACb,KAAK,EAAE;wBACH,IAAI,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;wBAC5B,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;qBACnD;iBACJ,CAAC;aACL;SACJ;QACD,IAAI,cAAc,EAAE;YAChB,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;YAC7B,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC,CAAC;YAC5D,IAAI,iBAAQ,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;gBACxB,MAAM,CAAC,MAAM,GAAG,SAAS,CAAC;gBAC1B,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;aACpC;iBAAM,IAAI,cAAK,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;gBAC5B,MAAM,CAAC,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC;gBAC9B,MAAM,CAAC,SAAS,GAAG,SAAS,CAAC;gBAC7B,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;aACjC;SACJ;IACL,CAAC;IAES,YAAY,CAAC,MAAoB,EAAE,SAAkC;QAC3E,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,SAAS,CAAC;QACjC,IAAI,iBAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE;YACpB,IAAI,iBAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE;gBAClB,OAAO,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,CAAC;aAC9D;YACD,OAAO,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;SACxD;QACD,MAAM,IAAI,GAAG,KAAK,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,IAAI,KAAK,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;QAC3F,IAAI,IAAI,KAAK,SAAS,EAAE;YACpB,OAAO,SAAS,CAAC;SACpB;QACD,MAAM,SAAS,GAAG,KAAK,IAAI,KAAK,CAAC,SAAS,KAAK,SAAS,IAAI,KAAK,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QACnJ,MAAM,OAAO,GAAG,GAAG,IAAI,GAAG,CAAC,IAAI,KAAK,SAAS,IAAI,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC;QACtF,IAAI,OAAO,KAAK,SAAS,EAAE;YACvB,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;SAC9B;QACD,MAAM,YAAY,GAAG,GAAG,IAAI,GAAG,CAAC,SAAS,KAAK,SAAS,IAAI,GAAG,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;QACjJ,OAAO;YACH,KAAK,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;YAC1B,GAAG,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE,SAAS,EAAE,YAAY,EAAE;SAClD,CAAC;IACN,CAAC;IAES,iBAAiB,CAAC,MAAoB;QAC5C,MAAM,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;QACrD,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE;YAC1B,IAAI,GAAG,GAAG,CAAC,QAAQ,CAAC;YACpB,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACtB,MAAM,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;gBACrD,IAAI,CAAC,WAAW,CAAC,GAAG,KAAK,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE;oBACrD,GAAG,GAAG,WAAW,CAAC,EAAG,CAAC;iBACzB;YACL,CAAC,CAAC,CAAC;YAEH,IAAI,GAAG,GAAG,CAAC,QAAQ,EAAE;gBACjB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;aACrC;iBAAM;gBACH,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;aACnC;SACJ;IACL,CAAC;IAES,mBAAmB,CAAC,MAAoB;QAC9C,MAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;QACzC,MAAM,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnE,OAAO,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC;IACvB,CAAC;IAES,qBAAqB,CAAC,MAAoB;;QAChD,MAAM,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;QACrD,MAAM,WAAW,GAAG,MAAM,CAAC,EAAE,CAAC,CAAC;QAC/B,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC,EAAE;YACnC,MAAM,cAAc,GAAG,UAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,CAAC,mCAAI,CAAC,QAAQ,CAAC;YACjE,IAAI,WAAW,GAAG,cAAc,EAAE;gBAC9B,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;aAC7C;SACJ;IACL,CAAC;IAES,mBAAmB,CAAC,GAAQ;;QAClC,MAAM,UAAU,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;QAClC,MAAM,IAAI,GAAG,CAAC,UAAI,CAAC,cAAc,CAAC,GAAG,CAAC,UAAU,CAAC,mCAAI,CAAC,CAAC,GAAG,CAAC,CAAC;QAC5D,OAAO,IAAI,CAAC;IAChB,CAAC;IAES,gBAAgB,CAAC,GAAQ;;QAC/B,MAAM,gBAAgB,GAAG,2CAAmB,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QAC3D,MAAM,kCAAkC,GAAG,UAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC,0CAAE,KAAK,CAAC,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACnJ,OAAO,kCAAkC,KAAK,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,kCAAkC,CAAC,CAAC;IACvH,CAAC;IAES,wBAAwB,CAAC,GAAQ;;QACvC,OAAO,UAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,mCAAI,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC;IACvE,CAAC;IAEkB,mBAAmB,CAAC,GAAQ,EAAE,OAA6B;;QAC1E,MAAM,kBAAkB,GAAG,KAAK,CAAC,mBAAmB,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;QACnE,kBAAkB,CAAC,OAAO,GAAG,aAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,mCAAI,IAAI,CAAC,wBAAwB,CAAC,GAAG,CAAC,CAAC;QACpF,OAAO,kBAAkB,CAAC;IAC9B,CAAC;CACJ;AAnS2B;IAAvB,sBAAM,EAAC,uBAAc,CAAC;;+CAA6C;AACzC;IAA1B,sBAAM,EAAC,2BAAiB,CAAC;;wDAAyD;AAGnF;IADC,6BAAa,GAAE;;;;yCA4Bf;AAnDQ,aAAa;IADzB,0BAAU,GAAE;GACA,aAAa,CAuTzB;AAvTY,sCAAa;AAyT1B;;GAEG;AAEH,IAAsB,YAAY,GAAlC,MAAsB,YAAY;IAK9B;;OAEG;IACH,IAAI,GAAG;QACH,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,IAAI,MAAM,EAAE;YACR,OAAO,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;SAChC;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAED;;OAEG;IACH,IAAI,SAAS;QACT,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,IAAI,MAAM,EAAE;YACR,MAAM,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;YAClC,MAAM,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC;YAC/B,OAAO;gBACH,KAAK;gBACL,GAAG;aACN,CAAC;SACL;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAED;;OAEG;IACH,IAAI,UAAU;QACV,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAC3B,IAAI,MAAM,EAAE;YACR,OAAO,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;SACrC;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAED;;OAEG;IACH,IAAI,MAAM;QACN,MAAM,YAAY,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;QACzC,IAAI,YAAY,EAAE;YACd,OAAO,YAAY,CAAC,MAAM,CAAC;SAC9B;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;CAOJ;AAxDG;IADC,sBAAM,EAAC,aAAa,CAAC;2CACY,aAAa;mDAAC;AAH9B,YAAY;IADjC,0BAAU,GAAE;GACS,YAAY,CA2DjC;AA3DqB,oCAAY;AA6DlC;;GAEG;AAEH,IAAa,mBAAmB,GAAhC,MAAa,mBAAoB,SAAQ,YAAY;IAEvC,YAAY;QAClB,OAAO,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;IAC5C,CAAC;CAEJ;AANY,mBAAmB;IAD/B,0BAAU,GAAE;GACA,mBAAmB,CAM/B;AANY,kDAAmB;AAQhC;;GAEG;AAEH,IAAa,kBAAkB,GAA/B,MAAa,kBAAmB,SAAQ,YAAY;IAEtC,YAAY;QAClB,OAAO,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC;IAC3C,CAAC;CAEJ;AANY,kBAAkB;IAD9B,0BAAU,GAAE;GACA,kBAAkB,CAM9B;AANY,gDAAkB;AAQ/B,WAAiB,YAAY;IACZ,oBAAO,GAAG,uBAAuB,CAAC;IAClC,mBAAM,GAAG,sBAAsB,CAAC;AACjD,CAAC,EAHgB,YAAY,GAAZ,oBAAY,KAAZ,oBAAY,QAG5B;AAxFqB,oCAAY;;;;;;;;;;;;;ACjWlC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;AAEhF,qIAA0D;AAC1D,yGAA2F;AAC3F,yHAAsE;AACtE,oIAAkD;AAClD,qHAAiD;AAEpC,2BAAmB,GAAa,CAAC,qBAAqB,CAAC,CAAC;AAErE;;;GAGG;AACH,IAAiB,iBAAiB,CAMjC;AAND,WAAiB,iBAAiB;IACjB,4BAAU,GAAG,CAAC,GAAG,2BAAmB,EAAE,YAAY,CAAC,CAAC;IACpD,8BAAY,GAAG,CAAC,GAAG,2BAAmB,EAAE,gBAAgB,CAAC,CAAC;IAC1D,gCAAc,GAAG,CAAC,GAAG,2BAAmB,EAAE,gBAAgB,CAAC,CAAC;IAC5D,0BAAQ,GAAG,CAAC,GAAG,2BAAmB,EAAE,YAAY,CAAC,CAAC;IAClD,2BAAS,GAAG,CAAC,GAAG,2BAAmB,EAAE,QAAQ,CAAC,CAAC;AAChE,CAAC,EANgB,iBAAiB,GAAjB,yBAAiB,KAAjB,yBAAiB,QAMjC;AAED,IAAiB,cAAc,CAuC9B;AAvCD,WAAiB,cAAc;IAE3B;;OAEG;IACU,iBAAE,GAAG,CAAC,GAAG,oBAAa,EAAE,MAAM,CAAC,CAAC;IAE7C;;OAEG;IACU,+BAAgB,GAAG,CAAC,GAAG,iBAAE,EAAE,oBAAoB,CAAC,CAAC;IAE9D;;OAEG;IACU,4BAAa,GAAG,CAAC,GAAG,iBAAE,EAAE,mBAAmB,CAAC,CAAC;IAE1D;;OAEG;IACU,yBAAU,GAAG,CAAC,GAAG,4BAAa,EAAE,cAAc,CAAC,CAAC;IAChD,wBAAS,GAAG,CAAC,GAAG,cAAc,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;IAC1D,4BAAa,GAAG,CAAC,GAAG,cAAc,CAAC,UAAU,EAAE,eAAe,CAAC,CAAC;IAE7E;;OAEG;IACU,8BAAe,GAAG,CAAC,GAAG,iBAAE,EAAE,mBAAmB,CAAC,CAAC;IAE5D;;OAEG;IACU,sCAAuB,GAAG,CAAC,GAAG,iBAAE,EAAE,2BAA2B,CAAC,CAAC;IAE5E;;OAEG;IACU,6BAAc,GAAG,CAAC,GAAG,iBAAE,EAAE,aAAa,CAAC,CAAC;AAEzD,CAAC,EAvCgB,cAAc,GAAd,sBAAc,KAAd,sBAAc,QAuC9B;AAGD,IAAa,sBAAsB,GAAnC,MAAa,sBAAsB;IAE/B,aAAa,CAAC,QAA2B;QACrC,QAAQ,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,SAAS,EAAE;YACrD,SAAS,EAAE,wBAAc,CAAC,IAAI,CAAC,EAAE;SACpC,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,SAAS,EAAE;YACrD,SAAS,EAAE,wBAAc,CAAC,IAAI,CAAC,EAAE;SACpC,CAAC,CAAC;QAEH,QAAQ,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,cAAc,EAAE;YAC1D,SAAS,EAAE,wBAAc,CAAC,GAAG,CAAC,EAAE;YAChC,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,cAAc,EAAE;YAC1D,SAAS,EAAE,wBAAc,CAAC,IAAI,CAAC,EAAE;YACjC,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,cAAc,EAAE;YAC1D,SAAS,EAAE,wBAAc,CAAC,KAAK,CAAC,EAAE;YAClC,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QAEH,iDAAiD;QACjD,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,EAAE,EAAE,SAAG,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC;QACzE,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,gBAAgB,EAAE;YACzD,SAAS,EAAE,+BAAc,CAAC,OAAO,CAAC,EAAE;YACpC,KAAK,EAAE,+BAAc,CAAC,OAAO,CAAC,KAAK;YACnC,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,gBAAgB,EAAE;YACzD,SAAS,EAAE,+BAAc,CAAC,UAAU,CAAC,EAAE;YACvC,KAAK,EAAE,+BAAc,CAAC,UAAU,CAAC,KAAK;YACtC,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,gBAAgB,EAAE;YACzD,SAAS,EAAE,+BAAc,CAAC,YAAY,CAAC,EAAE;YACzC,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,oBAAoB,CAAC;YAClD,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,CAAC,cAAc,CAAC,UAAU,EAAE,SAAG,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC,CAAC;QAE3F,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,SAAS,EAAE;YAClD,SAAS,EAAE,wCAAwC;YACnD,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,SAAS,CAAC;SAC1C,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,SAAS,EAAE;YAClD,SAAS,EAAE,yCAAyC;YACpD,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,SAAS,CAAC;SAC1C,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,SAAS,EAAE;YAClD,SAAS,EAAE,wCAAwC;YACnD,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,SAAS,CAAC;SAC1C,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,SAAS,EAAE;YAClD,SAAS,EAAE,yCAAyC;YACpD,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,SAAS,CAAC;SAC1C,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,SAAS,EAAE;YAClD,SAAS,EAAE,wCAAwC;YACnD,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,SAAS,CAAC;SAC1C,CAAC,CAAC;QAEH,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,aAAa,EAAE;YACtD,SAAS,EAAE,wBAAc,CAAC,cAAc,CAAC,EAAE;YAC3C,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,YAAY,CAAC;YAC1C,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,aAAa,EAAE;YACtD,SAAS,EAAE,wBAAc,CAAC,kBAAkB,CAAC,EAAE;YAC/C,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,gBAAgB,CAAC;YAC9C,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QAEH,QAAQ,CAAC,kBAAkB,CAAC,cAAc,CAAC,cAAc,EAAE;YACvD,SAAS,EAAE,+BAAc,CAAC,gBAAgB,CAAC,EAAE;YAC7C,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QAEH,mBAAmB;QACnB,QAAQ,CAAC,kBAAkB,CAAC,qBAAW,CAAC,WAAW,EAAE;YACjD,SAAS,EAAE,+BAAc,CAAC,gBAAgB,CAAC,EAAE;YAC7C,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,qBAAW,CAAC,WAAW,EAAE;YACjD,SAAS,EAAE,+BAAc,CAAC,cAAc,CAAC,EAAE;YAC3C,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,qBAAW,CAAC,WAAW,EAAE;YACjD,SAAS,EAAE,wBAAc,CAAC,kBAAkB,CAAC,EAAE;YAC/C,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,qBAAW,CAAC,WAAW,EAAE;YACjD,SAAS,EAAE,+BAAc,CAAC,wBAAwB,CAAC,EAAE;YACrD,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,qBAAW,CAAC,WAAW,EAAE;YACjD,SAAS,EAAE,+BAAc,CAAC,oBAAoB,CAAC,EAAE;YACjD,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,qBAAW,CAAC,UAAU,EAAE;YAChD,SAAS,EAAE,wBAAc,CAAC,cAAc,CAAC,EAAE;YAC3C,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,cAAc,CAAC;YAC5C,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QACH,QAAQ,CAAC,kBAAkB,CAAC,qBAAW,CAAC,yBAAyB,EAAE;YAC/D,SAAS,EAAE,+BAAc,CAAC,kBAAkB,CAAC,EAAE;YAC/C,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,oBAAoB,CAAC;YAClD,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QAEH,QAAQ,CAAC,kBAAkB,CAAC,qBAAW,CAAC,yBAAyB,EAAE;YAC/D,SAAS,EAAE,+BAAc,CAAC,iBAAiB,CAAC,EAAE;YAC9C,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,mBAAmB,CAAC;YACjD,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QAEH,QAAQ,CAAC,kBAAkB,CAAC,qBAAW,CAAC,yBAAyB,EAAE;YAC/D,SAAS,EAAE,+BAAc,CAAC,eAAe,CAAC,EAAE;YAC5C,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,iBAAiB,CAAC;YAC/C,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QAEH,QAAQ,CAAC,kBAAkB,CAAC,qBAAW,CAAC,yBAAyB,EAAE;YAC/D,SAAS,EAAE,+BAAc,CAAC,iBAAiB,CAAC,EAAE;YAC9C,KAAK,EAAE,SAAG,CAAC,iBAAiB,CAAC,mBAAmB,CAAC;YACjD,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QAEH,QAAQ,CAAC,kBAAkB,CAAC,qBAAW,CAAC,yBAAyB,EAAE;YAC/D,SAAS,EAAE,+BAAc,CAAC,uBAAuB,CAAC,EAAE;YACpD,KAAK,EAAE,SAAG,CAAC,QAAQ,CAAC,8BAA8B,EAAE,yBAAyB,CAAC;YAC9E,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QAEH,QAAQ,CAAC,kBAAkB,CAAC,qBAAW,CAAC,yBAAyB,EAAE;YAC/D,SAAS,EAAE,+BAAc,CAAC,qBAAqB,CAAC,EAAE;YAClD,KAAK,EAAE,SAAG,CAAC,QAAQ,CAAC,4BAA4B,EAAE,uBAAuB,CAAC;YAC1E,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;QAEH,QAAQ,CAAC,eAAe,CAAC,qBAAW,CAAC,mBAAmB,EAAE,SAAG,CAAC,iBAAiB,CAAC,eAAe,CAAC,CAAC,CAAC;IACtG,CAAC;CAEJ;AAjJY,sBAAsB;IADlC,0BAAU,GAAE;GACA,sBAAsB,CAiJlC;AAjJY,wDAAsB;;;;;;;;;;;;;AC9EnC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;;AAEhF,qIAAiF;AACjF,8HAAwD;AACxD,2JAAyE;AACzE,0IAAqF;AAErF,iIAAiE;AACjE,oIAAkD;AAElD,oIAAiD;AAEjD,yKAA4F;AAC5F,iMAAqF;AACrF,yHAA+F;AAC/F,mIAAwE;AACxE,yGAAkC;AAGlC,IAAa,4BAA4B,oCAAzC,MAAa,4BAA4B;IAAzC;QAMuB,cAAS,GAAG,IAAI,iCAAoB,EAAE,CAAC;QACvC,8BAAyB,GAAG,IAAI,iCAAoB,EAAE,CAAC;IA8S9E,CAAC;IAzRa,IAAI;QACV,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;YACnB,wHAAwH;YACxH,4EAA4E;YAC5E,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACjF,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE;gBAClC,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;gBACzD,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC;oBAC7D,GAAG,EAAE,MAAM,CAAC,MAAM,CAAC,GAAG;oBACtB,SAAS,EAAE,MAAM,CAAC,MAAM,CAAC,cAAc,EAAE;iBAC5C,CAAC,CAAC,CAAC;YACR,CAAC,CAAC;SACL,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,+BAAc,CAAC,OAAO,CAAC,EAAE,EAAE;YAC5D,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE;YACxC,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE;SAClD,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,+BAAc,CAAC,UAAU,CAAC,EAAE,EAAE;YAC/D,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE;YAC3C,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE;SACrD,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,+BAAc,CAAC,YAAY,CAAC,EAAE,EAAE;YACjE,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE,CAAC;YAC/E,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,gBAAgB,EAAE;SAC3D,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,+BAAc,CAAC,oBAAoB,CAAC,EAAE,EAAE;YACzE,OAAO,EAAE,KAAK,IAAI,EAAE;gBAChB,MAAM,WAAW,GAAG,MAAM,IAAI,uBAAa,CAAC;oBACxC,KAAK,EAAE,UAAG,CAAC,iBAAiB,CAAC,sBAAsB,CAAC;oBACpD,GAAG,EAAE,UAAG,CAAC,iBAAiB,CAAC,8DAA8D,CAAC;oBAC1F,EAAE,EAAE,gBAAM,CAAC,GAAG;oBACd,MAAM,EAAE,gBAAM,CAAC,EAAE;iBACpB,CAAC,CAAC,IAAI,EAAE,CAAC;gBACV,IAAI,WAAW,EAAE;oBACb,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;iBACrC;YACL,CAAC;YACD,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC,MAAM,GAAG,CAAC;SAC7D,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,+BAAc,CAAC,cAAc,CAAC,EAAE,EAAE;YACnE,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE;YACnC,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI;YACrB,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE;SAC3C,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,+BAAc,CAAC,wBAAwB,CAAC,EAAE,EAAE;YAC7E,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,sBAAsB,EAAE;YAC5C,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI;YACrB,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,yBAAyB,EAAE;SACpD,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,+BAAc,CAAC,gBAAgB,CAAC,EAAE,EAAE;YACrE,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,cAAc,EAAE;YACpC,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI;SACxB,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,+BAAc,CAAC,oBAAoB,CAAC,EAAE,EAAE;YACzE,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE;YACxC,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI;YACrB,SAAS,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,qBAAqB,EAAE;SAChD,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,+BAAc,CAAC,oBAAoB,CAAC,EAAE,EAAE;YACzE,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,sBAAsB,EAAE;SAC/C,CAAC,CAAC;QAEH,IAAI,CAAC,6BAA6B,EAAE,CAAC;IACzC,CAAC;IAES,KAAK,CAAC,6BAA6B;QACzC,MAAM,sBAAsB,GAAG,IAAI,iCAAoB,EAAE,CAAC;QAC1D,MAAM,6BAA6B,GAAG,GAAG,EAAE;YACvC,sBAAsB,CAAC,OAAO,EAAE,CAAC;YACjC,IAAI,IAAI,CAAC,uBAAuB,EAAE,EAAE;gBAChC,sBAAsB,CAAC,IAAI,CAAC,8BAAgB,EAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;aACrH;QACL,CAAC,CAAC;QACF,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,MAAM,CAAC,EAAE;YACpE,IAAI,MAAM,CAAC,cAAc,KAAK,8BAA4B,CAAC,2BAA2B,EAAE;gBACpF,6BAA6B,EAAE,CAAC;aACnC;QACL,CAAC,CAAC,CAAC,CAAC;QACJ,6BAA6B,EAAE,CAAC;QAChC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;IAChD,CAAC;IAES,KAAK,CAAC,WAAW,CAAC,KAAiB;QACzC,mEAAmE;QACnE,QAAQ,KAAK,CAAC,MAAM,EAAE;YAClB,KAAK,CAAC;gBACF,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;gBAC1B,MAAM;YACV,KAAK,CAAC;gBACF,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;gBAC7B,MAAM;SACb;IACL,CAAC;IAED;;;OAGG;IACO,KAAK,CAAC,sBAAsB;QAClC,MAAM,gBAAgB,GAAG,IAAI,CAAC,aAAa,CAAC,mBAAmB,EAAE,CAAC;QAClE,IAAI,gBAAgB,KAAK,SAAS,EAAE;YAChC,OAAO;SACV;QAED,IAAI;YACA,MAAM,MAAM,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;YACnE,MAAM,CAAC,MAAM,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;SAC9D;QAAC,MAAM;YACJ,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;YAC5D,IAAI,CAAC,sBAAsB,EAAE,CAAC;SACjC;IACL,CAAC;IAED,KAAK,CAAC,OAAO;QACT,IAAI,CAAC,YAAY,EAAE,CAAC;IACxB,CAAC;IAED,MAAM;QACF,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,OAAO,EAAE,CAAC;IACnB,CAAC;IAED,OAAO;QACH,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC;IAED;;OAEG;IACO,KAAK,CAAC,cAAc;QAC1B,6BAA6B;QAC7B,MAAM,QAAQ,GAAuB,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QACnF,IAAI,QAAQ,KAAK,SAAS,EAAE;YACxB,OAAO;SACV;QACD,wCAAwC;QACxC,MAAM,MAAM,GAAa,CAAC,KAAK,EAAE,IAAI,EAAE,gBAAgB,EAAE,SAAS,CAAC,CAAC;QACpE,8EAA8E;QAC9E,MAAM,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QAC3C,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE;YACZ,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,iBAAiB,EAAE,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,yBAAe,CAAC,IAAI,CAAC,CAAC;SACtG;IACL,CAAC;IAED;;OAEG;IACO,KAAK,CAAC,kBAAkB;QAC9B,MAAM,KAAK,GAAwB,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;QAC7F,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,6BAA6B,EAAE,CAAC,KAAK,EAAE,yBAAe,CAAC,IAAI,CAAC,CAAC;IAC5F,CAAC;IAED;;OAEG;IACO,KAAK,CAAC,aAAa;QACzB,MAAM,KAAK,GAAwB,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QACxF,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,wBAAwB,EAAE,CAAC,KAAK,EAAE,yBAAe,CAAC,IAAI,CAAC,CAAC;IACvF,CAAC;IAED;;OAEG;IACO,KAAK,CAAC,sBAAsB;QAClC,MAAM,gBAAgB,GAAuB,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;QACnG,IAAI,uBAA+B,CAAC;QACpC,IAAI,gBAAgB,KAAK,MAAM,EAAE;YAC7B,uBAAuB,GAAG,KAAK,CAAC;SACnC;aAAM;YACH,uBAAuB,GAAG,MAAM,CAAC;SACpC;QACD,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,yBAAyB,EAAE,uBAAuB,EAAE,yBAAe,CAAC,IAAI,CAAC,CAAC;IACzG,CAAC;IAES,sBAAsB,CAAC,YAAsC;QACnE,IAAI,CAAC,yBAAyB,CAAC,OAAO,EAAE,CAAC;QACzC,IAAI,YAAY,EAAE;YACd,MAAM,EAAE,MAAM,EAAE,GAAG,YAAY,CAAC;YAChC,IAAI,CAAC,yBAAyB,CAAC,OAAO,CAAC;gBACnC,gIAAgI;gBAChI,6EAA6E;gBAC7E,MAAM,CAAC,kBAAkB,CAAC,SAAS,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;gBAClF,MAAM,CAAC,wBAAwB,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,wBAAwB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;aACzF,CAAC,CAAC;YACH,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,wCAAkB,CAAC,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;SACpF;IACL,CAAC;IAES,uBAAuB,CAAC,MAAkB,EAAE,QAAkB;QACpE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,wCAAkB,CAAC,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC;IAC7E,CAAC;IAES,kBAAkB,CAAC,MAAkB,EAAE,SAAgB;QAC7D,IAAI,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,EAAE;YACnC,IAAI,CAAC,uBAAuB,CAAC,MAAM,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;SACzD;aAAM;YACH,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,wCAAkB,CAAC,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC,CAAC;SAC7E;IACL,CAAC;IAES,wBAAwB,CAAC,MAAkB,EAAE,KAA8B;QACjF,IAAI,KAAK,CAAC,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;YACjC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,wCAAkB,CAAC,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC3F;IACL,CAAC;IAED;;OAEG;IACO,iBAAiB,CAAC,KAAY;QACpC,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,KAAK,CAAC;QAC7B,OAAO,KAAK,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI,IAAI,KAAK,CAAC,SAAS,KAAK,GAAG,CAAC,SAAS,CAAC;IACxE,CAAC;IAES,KAAK,CAAC,UAAU;QACtB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,8BAA4B,CAAC,EAAE,EAAE;YACzD,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC,GAAG,CAAC,wCAAkB,CAAC,QAAQ,CAAC;SAC7E,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,8BAA4B,CAAC,kBAAkB,EAAE;YACzE,aAAa,EAAE,IAAI,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,GAAG,CAAC,0CAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE;SACjI,CAAC,CAAC;IACP,CAAC;IAES,KAAK,CAAC,YAAY;QACxB,MAAM,IAAI,CAAC,0BAA0B,EAAE,CAAC;QACxC,MAAM,IAAI,CAAC,oBAAoB,EAAE,CAAC;IACtC,CAAC;IAES,KAAK,CAAC,0BAA0B;QACtC,MAAM,GAAG,GAAkD,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,8BAA4B,CAAC,EAAE,CAAC,CAAC;QAC9H,IAAI,GAAG,IAAI,GAAG,CAAC,SAAS,EAAE;YACtB,MAAM,SAAS,GAAyB,EAAE,CAAC;YAC3C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC3C,MAAM,QAAQ,GAAG,wCAAkB,CAAC,UAAU,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;gBACjE,IAAI,QAAQ,EAAE;oBACV,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBAC5B;qBAAM;oBACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+DAA+D,CAAC,CAAC;oBAClF,OAAO;iBACV;aACJ;YACD,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,GAAG,SAAS,CAAC,CAAC;SAC7C;IACL,CAAC;IAES,KAAK,CAAC,oBAAoB;QAChC,MAAM,GAAG,GAAsD,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,8BAA4B,CAAC,kBAAkB,CAAC,CAAC;QAClJ,IAAI,GAAG,IAAI,GAAG,CAAC,aAAa,EAAE;YAC1B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBAC/C,MAAM,MAAM,GAAG,0CAAoB,CAAC,UAAU,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrE,IAAI,MAAM,EAAE;oBACR,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;iBAC9C;qBAAM;oBACH,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,0DAA0D,CAAC,CAAC;iBAChF;aACJ;SACJ;IACL,CAAC;IAEO,gBAAgB;QACpB,OAAO,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;IAClE,CAAC;IAEO,yBAAyB;QAC7B,MAAM,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;QAC/E,OAAO,gBAAgB,KAAK,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;IACtD,CAAC;IAEO,wBAAwB;QAC5B,OAAO,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,qCAAqC,CAAC,CAAC;IAC/E,CAAC;IAEO,uBAAuB;QAC3B,OAAO,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,8BAA4B,CAAC,2BAA2B,CAAC,CAAC;IAClG,CAAC;IAEO,qBAAqB;QACzB,OAAO,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;IACvE,CAAC;CACJ;AAnTkB,+BAAE,GAAG,gCAAiC;AACtC,+CAAkB,GAAG,yBAA0B;AAC/C,wDAA2B,GAAG,6CAA8C;AAM3F;IADC,sBAAM,EAAC,gBAAO,CAAC;;4DACmB;AAGnC;IADC,sBAAM,EAAC,8BAAa,CAAC;2CACY,8BAAa;mEAAC;AAGhD;IADC,sBAAM,EAAC,uDAAyB,CAAC;2CACA,uDAAyB;mEAAC;AAG5D;IADC,sBAAM,EAAC,gCAAc,CAAC;;oEAC2B;AAGlD;IADC,sBAAM,EAAC,2BAAiB,CAAC;;uEAC8B;AAGxD;IADC,sBAAM,EAAC,yBAAe,CAAC;2CACY,yBAAe;qEAAC;AAGpD;IADC,6BAAa,GAAE;;;;wDAgEf;AA3FQ,4BAA4B;IADxC,0BAAU,GAAE;GACA,4BAA4B,CAqTxC;AArTY,oEAA4B;;;;;;;;;;;;;ACjCzC,gFAAgF;AAChF,+CAA+C;AAC/C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;AAEhF,qIAAkE;AAGlE,oIAAiD;AAGjD,IAAa,0BAA0B,GAAvC,MAAa,0BAA0B;IAKnC,iBAAiB,CAAC,SAA2B;QACzC,SAAS,CAAC,gBAAgB,CAAC;YACvB,IAAI,EAAE,YAAY;YAClB,WAAW,EAAE,sDAAsD;YACnE,OAAO,EAAE,GAAG,EAAE;gBACV,MAAM,MAAM,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACvC,OAAO,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;YAC5D,CAAC;SACJ,CAAC,CAAC;QACH,SAAS,CAAC,gBAAgB,CAAC;YACvB,IAAI,EAAE,cAAc;YACpB,WAAW,EAAE,8CAA8C;YAC3D,OAAO,EAAE,GAAG,EAAE;gBACV,MAAM,MAAM,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACvC,OAAO,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAC1E,CAAC;SACJ,CAAC,CAAC;IACP,CAAC;IAES,gBAAgB;QACtB,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;QACvD,IAAI,CAAC,aAAa,EAAE;YAChB,OAAO,SAAS,CAAC;SACpB;QACD,OAAO,aAAa,CAAC,MAAM,CAAC;IAChC,CAAC;CACJ;AA5BG;IADC,sBAAM,EAAC,8BAAa,CAAC;2CACY,8BAAa;iEAAC;AAHvC,0BAA0B;IADtC,0BAAU,GAAE;GACA,0BAA0B,CA+BtC;AA/BY,gEAA0B;;;;;;;;;;;;;ACtBvC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;;AAEhF,qIAAkE;AAClE,qHAA6C;AAC7C,sHAA+D;AAC/D,yHAAiG;AACjG,iIAA+C;AAC/C,4GAA8C;AAG9C,IAAa,mBAAmB,2BAAhC,MAAa,mBAAmB;IAAhC;QAUa,OAAE,GAAG,qBAAmB,CAAC,EAAE,CAAC;IA+CzC,CAAC;IAvDG,MAAM,CAAC,QAAQ,CAAC,GAAQ,EAAE,OAAgB;QACtC,OAAO,qBAAmB,CAAC,EAAE;cACvB,IAAI,GAAG,CAAC,QAAQ,EAAE,EAAE;cACpB,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,OAAO,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACvD,CAAC;IAeD,YAAY,CAAC,OAAiC;QAC1C,MAAM,GAAG,GAAG,IAAI,aAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACjC,OAAO,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;IAC3C,CAAC;IAES,KAAK,CAAC,YAAY,CAAC,GAAQ,EAAE,OAAkC;QACrE,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;QAElD,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;QAC/B,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;YACzD,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE;gBACpB,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;aAClC;QACL,CAAC,CAAC,CAAC;QACH,SAAS,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC,CAAC;QAEnD,SAAS,CAAC,EAAE,GAAG,qBAAmB,CAAC,QAAQ,CAAC,GAAG,EAAE,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,CAAC,CAAC;QAEnE,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;QAChC,OAAO,SAAS,CAAC;IACrB,CAAC;IAES,KAAK,CAAC,eAAe,CAAC,GAAQ;QACpC,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QAClD,OAAO,IAAI,4BAAY,CAAC,UAAU,EAAE,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAC/D,CAAC;IAEO,SAAS,CAAC,MAAoB,EAAE,GAAQ;QAC5C,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;QACzC,IAAI,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE;YAC1B,MAAM,CAAC,KAAK,CAAC,OAAO,IAAI,MAAM,YAAG,CAAC,iBAAiB,CAAC,WAAW,CAAC,EAAE,CAAC;SACtE;QACD,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC7C,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACrD,MAAM,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,GAAG,YAAY,CAAC;IACjD,CAAC;CACJ;AAjDU,sBAAE,GAAG,oBAAoB,CAAC;AAKjC;IADC,sBAAM,EAAC,uBAAa,CAAC;2CACY,uBAAa;0DAAC;AAGhD;IADC,sBAAM,EAAC,2BAAkB,CAAC;;2DAC2B;AAGtD;IADC,sBAAM,EAAC,yBAAgB,CAAC;2CACY,yBAAgB;6DAAC;AAnB7C,mBAAmB;IAD/B,0BAAU,GAAE;GACA,mBAAmB,CAyD/B;AAzDY,kDAAmB;;;;;;;;;;;;;ACxBhC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;AAEhF,sHAAoH;AACpH,yHAA8J;AAE9J,yJAA8D;AAG9D,MAAa,YAAa,SAAQ,oBAAU;IAKxC,YACa,MAAkB,EACR,gBAAkC;QAErD,KAAK,CAAC,MAAM,CAAC,CAAC;QAHL,WAAM,GAAN,MAAM,CAAY;QACR,qBAAgB,GAAhB,gBAAgB,CAAkB;QAL/C,4BAAuB,GAAG,IAAI,6BAAoB,EAAE,CAAC;QAQ3D,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;QAC9B,IAAI,MAAM,CAAC,UAAU,EAAE;YACnB,kBAAI,EAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACpB;QACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;QAClD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QAC/E,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,mBAAmB,CAAC,UAAU,CAAC,EAAE;YAC7D,IAAI,UAAU,EAAE;gBACZ,kBAAI,EAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACpB;iBAAM;gBACH,oBAAM,EAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACtB;QACL,CAAC,CAAC,CAAC,CAAC;QACJ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAU,CAAC,MAAM,CAAC,GAAG,EAAE;YACvC,IAAI,IAAI,CAAC,gBAAgB,CAAC,SAAS,KAAK,IAAI,CAAC,MAAM,EAAE;gBACjD,IAAI,CAAC,gBAAgB,CAAC,SAAS,GAAG,SAAS,CAAC;aAC/C;QACL,CAAC,CAAC,CAAC,CAAC;IACR,CAAC;IAED,YAAY;QACR,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,IAAI,CAAC,gBAAgB,CAAC,SAAS,KAAK,IAAI,CAAC,MAAM,EAAE;YAC5E,IAAI,CAAC,gBAAgB,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;SACjD;IACL,CAAC;IAED,IAAI,QAAQ;QACR,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;IAChC,CAAC;IAED,cAAc;QACV,OAAO,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;IACxC,CAAC;IACD,eAAe,CAAC,WAAgB;QAC5B,OAAO,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;IACpD,CAAC;IAEkB,iBAAiB,CAAC,GAAY;QAC7C,KAAK,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;QACpB,IAAI,CAAC,gBAAgB,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;IAClD,CAAC;IAEkB,aAAa,CAAC,GAAY;QACzC,KAAK,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QACzB,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;SACzB;QACD,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAChC,CAAC;IAES,oBAAoB;QAC1B,MAAM,EAAE,MAAM,EAAE,GAAG,IAAI,CAAC;QACxB,IAAI,MAAM,YAAY,mBAAS,EAAE;YAC7B,MAAM,SAAS,GAAG,oBAAI,EAAC,MAAM,CAAC,OAAO,EAAE,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACxG,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE;gBAClC,IAAI,CAAC,uBAAuB,CAAC,OAAO,EAAE,CAAC;gBACvC,MAAM,QAAQ,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC;gBACnD,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;gBACxC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,mBAAU,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACvG,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC;gBAChC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;gBAC/B,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;aAC5C;SACJ;IACL,CAAC;IAES,kBAAkB,CAAC,SAA0B,EAAE,SAA0B;QAC/E,MAAM,WAAW,GAAG,kBAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QACvC,MAAM,gBAAgB,GAAG,WAAW,KAAI,SAAS,aAAT,SAAS,uBAAT,SAAS,CAAE,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK;eACvF,CAAC,KAAK,CAAC,KAAK,YAAY,YAAY,CAAC;eACrC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;eAC/C,kBAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,WAAW,CAC/C,EAAC;QACF,gBAAgB,aAAhB,gBAAgB,uBAAhB,gBAAgB,CAAE,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;IAC5D,CAAC;IAEkB,WAAW,CAAC,GAAY;QACvC,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAEkB,QAAQ,CAAC,GAAyB;QACjD,IAAI,GAAG,CAAC,KAAK,GAAG,CAAC,IAAI,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE;YACjC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;SAC7B;aAAM;YACH,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SAC5B;IACL,CAAC;IAED,UAAU;;QACN,OAAO,WAAI,CAAC,cAAc,EAAE,0CAAE,MAAM,MAAK,wBAAe,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC;IACxG,CAAC;IAED,YAAY,CAAC,QAAgB;QACzB,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;IAC3C,CAAC;IAED,IAAI,SAAS;QACT,OAAO,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;IACpC,CAAC;CAEJ;AAlHD,oCAkHC;;;;;;;;;;;;;ACxID,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;AAEhF,oMAA8F;AAQrF,0FARA,yCAAQ,QAQA;AAAE,uFARA,sCAAK,QAQA;AAAE,0FARA,yCAAQ,QAQA;AANlC,qHAA6C;AAC7C,sHAAgH;AA+BvG,gHA/BmB,uCAA8B,QA+BnB;AAxB1B,0BAAkB,GAAG,MAAM,CAAC,oBAAoB,CAAC,CAAC;AA+B/D;;;GAGG;AACH,IAAY,eAyDX;AAzDD,WAAY,eAAe;IACvB;;OAEG;IACH,2DAAW;IACX;;OAEG;IACH,6DAAY;IACZ;;OAEG;IACH,mFAAuB;IACvB;;OAEG;IACH,mFAAuB;IACvB;;OAEG;IACH,2FAA2B;IAC3B;;OAEG;IACH,6EAAoB;IACpB;;OAEG;IACH,qEAAgB;IAChB;;OAEG;IACH,uEAAiB;IACjB;;OAEG;IACH,+EAAqB;IACrB;;OAEG;IACH,yEAAkB;IAClB;;OAEG;IACH,0EAAmB;IACnB;;OAEG;IACH,gEAAc;IACd;;OAEG;IACH,0EAAmB;IACnB;;OAEG;IACH,0EAAmB;AACvB,CAAC,EAzDW,eAAe,GAAf,uBAAe,KAAf,uBAAe,QAyD1B;AAkOD,IAAiB,mBAAmB,CAInC;AAJD,WAAiB,mBAAmB;IAChC,SAAgB,EAAE,CAAC,GAAY;QAC3B,OAAO,qBAAQ,EAAsB,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,YAAY,aAAG,CAAC;IACxE,CAAC;IAFe,sBAAE,KAEjB;AACL,CAAC,EAJgB,mBAAmB,GAAnB,2BAAmB,KAAnB,2BAAmB,QAInC;AAED,IAAiB,kBAAkB,CAIlC;AAJD,WAAiB,kBAAkB;IAC/B,SAAgB,EAAE,CAAC,GAAuB;QACtC,OAAO,CAAC,CAAC,GAAG,IAAI,UAAU,IAAI,GAAG,CAAC;IACtC,CAAC;IAFe,qBAAE,KAEjB;AACL,CAAC,EAJgB,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAIlC;;;;;;;;;;;;;AClWD,gFAAgF;AAChF,0CAA0C;AAC1C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;;AAEhF,qIAAkE;AAClE,yHAAiG;AACjG,8JAA2E;AAC3E,yGAAmD;AAEnD,qIAAmD;AACnD,uJAAyE;AAEzE,qHAA6C;AAC7C,qIAAwD;AACxD,oIAA2D;AAC3D,kJAAmE;AAEnE;;GAEG;AACH,IAAY,sBAIX;AAJD,WAAY,sBAAsB;IAC9B,iFAAe;IACf,yEAAW;IACX,qEAAS;AACb,CAAC,EAJW,sBAAsB,GAAtB,8BAAsB,KAAtB,8BAAsB,QAIjC;AA2CD,IAAa,2BAA2B,mCAAxC,MAAa,2BAA2B;IAAxC;QASuB,WAAM,GAAG,IAAI,GAAG,EAA0B,CAAC;QACpD,mBAAc,GAAG,IAAI,GAAG,EAAU,CAAC;IAqLjD,CAAC;IAnLG,qBAAqB,CAAC,MAAc,EAAE,IAAoB;QACtD,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAC9B,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACrC,CAAC;IAED,wBAAwB,CAAC,MAAc;QACnC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC3B,IAAI,CAAC,yBAAyB,EAAE,CAAC;IACrC,CAAC;IAED,oBAAoB,CAAC,MAA8B;QAC/C,IAAI,CAAC,MAAM,EAAE;YACT,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,6BAA2B,CAAC,gBAAgB,CAAC,CAAC;YAC3E,OAAO;SACV;QACD,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACxE,MAAM,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;QACnD,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,6BAA2B,CAAC,gBAAgB,EAAE;YACpE,IAAI,EAAE,YAAY;YAClB,SAAS,EAAE,4BAAkB,CAAC,KAAK;YACnC,QAAQ,EAAE,CAAC;YACX,OAAO,EAAE,+BAAc,CAAC,eAAe,CAAC,EAAE;YAC1C,OAAO,EAAE,UAAG,CAAC,iBAAiB,CAAC,sBAAsB,CAAC;SACzD,CAAC,CAAC;QACH,IAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC,CAAC;IAC3C,CAAC;IAES,yBAAyB,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM;QACjE,IAAI,CAAC,MAAM,EAAE;YACT,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,6BAA2B,CAAC,kBAAkB,CAAC,CAAC;YAC7E,IAAI,CAAC,iBAAiB,EAAE,CAAC;YACzB,OAAO;SACV;QACD,MAAM,GAAG,GAAG,IAAI,aAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACzC,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC;aACzC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,6BAAK,EAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,MAAM,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;aACvG,IAAI,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3D,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,6BAA2B,CAAC,kBAAkB,CAAC,CAAC;YAC7E,OAAO;SACV;QACD,MAAM,YAAY,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,KAAK,mBAAQ,CAAC,IAAI;YACpD,CAAC,CAAC,YAAY;YACd,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,KAAK,mBAAQ,CAAC,OAAO;gBACpC,CAAC,CAAC,gBAAgB;gBAClB,CAAC,CAAC,kBAAkB,CAAC;QAC7B,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,6BAA2B,CAAC,kBAAkB,EAAE;YACtE,IAAI,EAAE,YAAY;YAClB,SAAS,EAAE,4BAAkB,CAAC,KAAK;YACnC,QAAQ,EAAE,CAAC;YACX,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC;YAClC,QAAQ,EAAE,EAAE,EAAE,EAAE,6BAA2B,CAAC,gBAAgB,EAAE,SAAS,EAAE,4BAAkB,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE;SACpH,CAAC,CAAC;QACH,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;IAClC,CAAC;IAES,iBAAiB,CAAC,KAAwB;QAChD,MAAM,qBAAqB,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;QAC3D,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,OAAO,CAAC,IAAI,CAAC,EAAE;YAClB,IAAI,qBAAqB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;gBACpC,qBAAqB,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;gBACtC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;aAC/D;QACL,CAAC,CAAC,CAAC;QACH,qBAAqB,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1E,CAAC;IAES,YAAY,CAAC,IAAoB;QACvC,OAAO;YACH,IAAI,EAAE,IAAI,CAAC,KAAK;YAChB,QAAQ,EAAE,EAAE,EAAE,EAAE,6BAA2B,CAAC,gBAAgB,EAAE,SAAS,EAAE,4BAAkB,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE;YACnH,SAAS,EAAE,4BAAkB,CAAC,KAAK;YACnC,OAAO,EAAE,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,eAAG,CAAC,CAAC,cAAc,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,OAAQ,CAAC,EAAE,EAAE,GAAG,CAAC,gBAAI,CAAC,OAAO,0CAAE,SAAS,mCAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACrJ,CAAC;IACN,CAAC;IAES,aAAa,CAAC,KAAuB;;QAC3C,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACrD,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAC1C,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;YACtB,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACpD,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;YACrD;gBACI,MAAM,iBAAiB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACxD,iBAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,EAAE,MAAM,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACnE,iBAAiB,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,KAAK,mBAAQ,CAAC,KAAK,IAAI,IAAI,CAAC,QAAQ,KAAK,mBAAQ,CAAC,OAAO,CAAC,CAAC;gBACnH;oBACI,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;oBACpD,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBACpE,iBAAiB,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;iBAC/C;gBACD,aAAa,CAAC,WAAW,CAAC,iBAAiB,CAAC,CAAC;aAChD;YACD,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACpD,aAAa,CAAC,SAAS,GAAG,SAAS,CAAC;YACpC,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACrD,cAAc,CAAC,SAAS,GAAG,MAAM,CAAC;YAClC,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAC7C,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAC7B,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,2BAA2B,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9F,cAAc,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAClC,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YAC9C,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YAC/B,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1C,cAAc,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;YACnC,aAAa,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;YAC1C,MAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YACvD,gBAAgB,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACxC,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,MAAM,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBACzC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;gBAC3C,IAAI,CAAC,IAAI,GAAG,IAAI,aAAG,EAAE;qBAChB,UAAU,CAAC,SAAS,CAAC;qBACrB,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;qBACzB,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;qBACnG,QAAQ,CAAC,KAAK,CAAC,CAAC;gBACrB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,EAAE,eAAG,CAAC,CAAC,cAAc,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,cAAc,CAAC,IAAI,CAAC,OAAQ,CAAC,EAAE,EAAE,GAAG,CAAC,gBAAI,CAAC,OAAO,0CAAE,SAAS,mCAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvI,IAAI,CAAC,WAAW,GAAG,UAAI,CAAC,OAAO,CAAC,KAAK,mCAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;gBACzD,IAAI,CAAC,KAAK,GAAG,UAAI,CAAC,OAAO,CAAC,OAAO,mCAAI,EAAE,CAAC;gBACxC,IAAI,CAAC,mBAAmB,GAAG,QAAQ,CAAC;gBACpC,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC;gBAC5B,gBAAgB,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBACnC,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACnD,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;gBACzD,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBACxC,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;gBACpC,GAAG,CAAC,OAAO,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,cAAc,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACzG,YAAY,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;gBAC9B,gBAAgB,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;aAC9C;YACD,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;YAC5C,aAAa,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;YACpC,cAAc,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;SAC7C;QACD,OAAO,cAAc,CAAC;IAC1B,CAAC;IAES,gBAAgB,CAAC,GAAgB,EAAE,EAAU;QACnD,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,qBAAO,EAAC,QAAQ,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,qBAAO,EAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QAC7F,GAAG,CAAC,mBAAmB,GAAG,QAAQ,CAAC;QACnC,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,CAAC;YACvC,CAAC,CAAC,UAAG,CAAC,iBAAiB,CAAC,wBAAwB,CAAC;YACjD,CAAC,CAAC,UAAG,CAAC,iBAAiB,CAAC,mBAAmB,CAAC,CAAC;QACjD,GAAG,CAAC,SAAS,GAAG,OAAO,CAAC;QACxB,GAAG,CAAC,KAAK,GAAG,OAAO,CAAC;IACxB,CAAC;IAES,YAAY,CAAC,IAAoB;QACvC,IAAI,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;YAClC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACpC,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SACzC;aAAM;YACH,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACjC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;SAC/D;IACL,CAAC;IAES,sBAAsB,CAAC,QAAkB;QAC/C,QAAQ,QAAQ,EAAE;YACd,KAAK,mBAAQ,CAAC,KAAK,CAAC,CAAC,OAAO,qBAAO,EAAC,OAAO,CAAC,CAAC;YAC7C,KAAK,mBAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,qBAAO,EAAC,MAAM,CAAC,CAAC;YAC9C,OAAO,CAAC,CAAC,OAAO,qBAAO,EAAC,OAAO,CAAC,CAAC;SACpC;IACL,CAAC;IAES,eAAe,CAAC,IAAiB,EAAE,IAAa;QACtD,IAAI,IAAI,EAAE;YACN,KAAK,MAAM,KAAK,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;gBAC9C,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;oBAC3B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;iBACtB;qBAAM;oBACH,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;oBAChD,MAAM,SAAS,GAAG,qBAAO,EAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;oBAC1F,QAAQ,CAAC,SAAS,GAAG,SAAS,CAAC;oBAC/B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;iBACzB;aACJ;SACJ;IACL,CAAC;CACJ;AAzLoB,4CAAgB,GAAG,wBAAyB;AAC5C,8CAAkB,GAAG,8BAA+B;AANlD;IAAlB,sBAAM,EAAC,mBAAS,CAAC;;8DAAyC;AAClC;IAAxB,sBAAM,EAAC,kCAAe,CAAC;2CAA+B,kCAAe;8DAAC;AAC1C;IAA5B,sBAAM,EAAC,oCAAmB,CAAC;2CAAkC,oCAAmB;iEAAC;AACzD;IAAxB,sBAAM,EAAC,sBAAe,CAAC;2CAAqC,sBAAe;oEAAC;AACxD;IAApB,sBAAM,EAAC,0BAAW,CAAC;2CAAiC,0BAAW;gEAAC;AALxD,2BAA2B;IADvC,0BAAU,GAAE;GACA,2BAA2B,CA+LvC;AA/LY,kEAA2B;;;;;;;;;;;;;AC/ExC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;;AAEhF,qIAAkE;AAClE,8HAAwD;AACxD,wJAA4F;AAE5F,sLAA0E;AAC1E,+LAAgF;AAChF,8JAA+G;AAG/G;;;GAGG;AAEH,IAAa,yBAAyB,iCAAtC,MAAa,yBAAyB;IAAtC;QAiBc,YAAO,GAAG,CAAC,CAAC,CAAC;QACb,UAAK,GAAyB,EAAE,CAAC;QACjC,gBAAW,GAAG,IAAI,CAAC;QAGnB,0BAAqB,GAA2B,EAAE,CAAC;IAuOjE,CAAC;IArOG;;OAEG;IACH,QAAQ,CAAC,GAAG,SAA+B;QACvC,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,MAAM,GAAG,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YACjC,CAAC,GAAG,SAAS,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;gBAC9B,IAAI,2CAAqB,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;oBACpC,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;iBACrC;gBACD,MAAM,OAAO,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;gBACvC,IAAI,CAAC,KAAK,CAAC,6BAA6B,wCAAkB,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;gBAClF,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,QAAQ,CAAC,EAAE;oBACpC,IAAI,CAAC,KAAK,CAAC,+BAA+B,CAAC,CAAC;oBAC5C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;oBAC3B,oFAAoF;oBACpF,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,CAAC,EAAE;wBACtC,IAAI,CAAC,KAAK,CAAC,kCAAkC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;wBAC9D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;qBACtD;oBACD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAC1B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;oBACrC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,EAAE;wBACzB,IAAI,CAAC,KAAK,CAAC,+BAA+B,CAAC,CAAC;wBAC5C,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;wBACnB,IAAI,CAAC,OAAO,EAAE,CAAC;qBAClB;oBACD,IAAI,CAAC,KAAK,CAAC,0CAA0C,CAAC,CAAC;oBACvD,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;wBAC7C,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;wBAChC,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;wBACzD,IAAI,MAAM,KAAK,SAAS,EAAE;4BACtB,IAAI,CAAC,KAAK,CAAC,8BAA8B,wCAAkB,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;4BACpF,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;4BACxB,IAAI,CAAC,OAAO,EAAE,CAAC;yBAClB;6BAAM,IAAI,OAAO,MAAM,KAAK,SAAS,EAAE;4BACpC,IAAI,CAAC,KAAK,CAAC,+BAA+B,CAAC,OAAO,wCAAkB,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;4BAC7F,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;yBAC1B;qBACJ;oBACD,IAAI,CAAC,KAAK,CAAC,8BAA8B,CAAC,CAAC;oBAC3C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBAC9B;qBAAM;oBACH,IAAI,OAAO,EAAE;wBACT,IAAI,CAAC,KAAK,CAAC,oBAAoB,wCAAkB,CAAC,QAAQ,CAAC,QAAQ,CAAC,mCAAmC,wCAAkB,CAAC,QAAQ,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;qBAC7J;iBACJ;YACL,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,IAAI;QACN,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;QAC/B,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YAClB,IAAI,CAAC,OAAO,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC;YACpB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC3B,OAAO,IAAI,CAAC,eAAe,EAAE,CAAC;SACjC;QACD,IAAI,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;QACpC,OAAO,SAAS,CAAC;IACrB,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,OAAO;QACT,IAAI,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;QAClC,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;YACrB,IAAI,CAAC,OAAO,EAAE,CAAC;YACf,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC;YACpB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC3B,OAAO,IAAI,CAAC,eAAe,EAAE,CAAC;SACjC;QACD,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;QACvC,OAAO,SAAS,CAAC;IACrB,CAAC;IAED;;OAEG;IACH,SAAS;QACL,OAAO,IAAI,CAAC,OAAO,IAAI,CAAC,CAAC;IAC7B,CAAC;IAED;;OAEG;IACH,YAAY;QACR,OAAO,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,IAAI,CAAC,OAAO,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;IACvE,CAAC;IAED;;OAEG;IACH,SAAS;QACL,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAED;;OAEG;IACH,eAAe;QACX,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACpC,CAAC;IAED;;;OAGG;IACH,gBAAgB;QACZ,OAAO,IAAI,CAAC,iBAAiB,CAAC;IAClC,CAAC;IAED;;OAEG;IACH,YAAY;QACR,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC,CAAC;QAClB,IAAI,CAAC,iBAAiB,GAAG,SAAS,CAAC;QACnC,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC;IACpC,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,MAAM,CAAC,WAA2C,IAAI,CAAC,eAAe,EAAE;QAC1E,IAAI,QAAQ,KAAK,SAAS,EAAE;YACxB,OAAO;SACV;QACD,IAAI;YACA,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,MAAM,EAAE,GAAG,EAAE,GAAG,QAAQ,CAAC;YACzB,MAAM,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;YAC/C,MAAM,yBAAI,EAAC,IAAI,CAAC,aAAa,EAAE,GAAG,EAAE,OAAO,CAAC,CAAC;SAChD;QAAC,OAAO,CAAC,EAAE;YACR,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,4CAA4C,wCAAkB,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;SAC9G;gBAAS;YACN,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SAC3B;IACL,CAAC;IAED;;OAEG;IACO,SAAS,CAAC,IAAoC,EAAE,KAAqC;QAC3F,OAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IAChD,CAAC;IAED;;;OAGG;IACO,aAAa;QACnB,OAAO,2BAAyB,CAAC,eAAe,CAAC;IACrD,CAAC;IAED;;OAEG;IACO,eAAe,CAAC,QAA4B;QAClD,IAAI,EAAE,KAAK,EAAE,GAAG,wCAAkB,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QACnD,6FAA6F;QAC7F,2EAA2E;QAC3E,IAAI,2CAAqB,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;YACpC,KAAK,GAAG,EAAE,GAAG,KAAK,EAAE,SAAS,EAAE,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;SACnF;QACD,OAAO;YACH,SAAS,EAAE,2BAAK,CAAC,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC;SACjB,CAAC;IAC7B,CAAC;IAEO,KAAK,CAAC,KAAK,CAAC,OAAgC;QAChD,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,OAAO,KAAK,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;IACzE,CAAC;IAED,IAAY,SAAS;QACjB,OAAO,oCAAoC,IAAI,IAAI,EAAE;WAClD,IAAI,CAAC,OAAO;EACrB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC,SAAS,CAAC,wCAAkB,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;cAChG,CAAC;IACX,CAAC;IAED;;;;OAIG;IACH,IAAI,kBAAkB;QAClB,OAAO,IAAI,CAAC,qBAAqB,CAAC;IACtC,CAAC;IAED;;;;OAIG;IACH,mBAAmB;QACf,OAAO,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,qBAAqB,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC7E,CAAC;IAED;;;;OAIG;IACH,eAAe,CAAC,MAA4B;QACxC,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACpC,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAExC,4EAA4E;QAC5E,IAAI,IAAI,CAAC,qBAAqB,CAAC,MAAM,GAAG,2BAAyB,CAAC,2BAA2B,EAAE;YAC3F,IAAI,CAAC,qBAAqB,CAAC,KAAK,EAAE,CAAC;SACtC;IACL,CAAC;IAED;;;;OAIG;IACH,kBAAkB,CAAC,GAAQ;QACvB,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7F,CAAC;CAEJ;AA3PkB,yCAAe,GAAG,EAAG;AACZ,qDAA2B,GAAG,EAAG;AAGzD;IADC,sBAAM,EAAC,gBAAO,CAAC;;yDACmB;AAGnC;IADC,sBAAM,EAAC,8BAAa,CAAC;;gEAC0B;AAGhD;IADC,sBAAM,EAAC,uDAAyB,CAAC;2CACN,uDAAyB;0DAAC;AAGtD;IADC,sBAAM,EAAC,6DAA4B,CAAC;2CACN,6DAA4B;6DAAC;AAfnD,yBAAyB;IADrC,0BAAU,GAAE;GACA,yBAAyB,CA6PrC;AA7PY,8DAAyB;;;;;;;;;;;;;AC9BtC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;;AAEhF,qIAA0D;AAC1D,8JAA2D;AAE3D;;GAEG;AAEH,IAAa,4BAA4B,oCAAzC,MAAa,4BAA4B;IAOrC;;OAEG;IACH,OAAO,CAAC,IAAoC,EAAE,KAAqC;QAC/E,IAAI,IAAI,KAAK,SAAS,IAAI,KAAK,KAAK,SAAS,EAAE;YAC3C,OAAO,IAAI,KAAK,KAAK,CAAC;SACzB;QAED,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE;YAC9C,OAAO,KAAK,CAAC;SAChB;QAED,MAAM,SAAS,GAAG,wCAAkB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACjD,MAAM,UAAU,GAAG,wCAAkB,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;QACnD,IAAI,SAAS,KAAK,SAAS,IAAI,UAAU,KAAK,SAAS,EAAE;YACrD,OAAO,SAAS,KAAK,UAAU,CAAC;SACnC;QAED,MAAM,cAAc,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC1E,MAAM,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAC7E,OAAO,IAAI,CAAC,GAAG,CAAC,cAAc,GAAG,eAAe,CAAC,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;IAC5E,CAAC;IAES,YAAY;QAClB,OAAO,8BAA4B,CAAC,0BAA0B,CAAC;IACnE,CAAC;CAEJ;AAhCG;;GAEG;AACY,uDAA0B,GAAG,EAAG;AALtC,4BAA4B;IADxC,0BAAU,GAAE;GACA,4BAA4B,CAkCxC;AAlCY,oEAA4B;;;;;;;;;;;;;ACvBzC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;AAEhF,qIAA0D;AAC1D,8JAAsI;AAEtI;;;;;;;;;;;;;;GAcG;AAEH,IAAa,yBAAyB,GAAtC,MAAa,yBAAyB;IAElC;;;;;;;OAOG;IACH,OAAO,CAAC,iBAAqC,EAAE,aAAiC;QAC5E,IAAI,CAAC,2CAAqB,CAAC,EAAE,CAAC,aAAa,CAAC,EAAE;YAC1C,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,iBAAiB,CAAC,GAAG,CAAC,QAAQ,EAAE,KAAK,aAAa,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE;YACnE,OAAO,KAAK,CAAC;SAChB;QAED,MAAM,SAAS,GAAG,wCAAkB,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;QAC9D,MAAM,KAAK,GAAG,wCAAkB,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QACtD,IAAI,SAAS,KAAK,SAAS,IAAI,KAAK,KAAK,SAAS,EAAE;YAChD,OAAO,KAAK,CAAC;SAChB;QAED,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,iBAAiB,CAAC;QACxC,MAAM,YAAY,GAAG,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC;QAChD,MAAM,YAAY,GAAG,YAAY,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;QAE9D,mBAAmB;QACnB,IAAI,KAAK,CAAC,GAAG,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI;eAClC,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,KAAK,SAAS,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,GAAG,CAAC,SAAS,IAAI,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;YAElG,8FAA8F;YAC9F,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,GAAG,CAAC,IAAI,IAAI,YAAY,KAAK,CAAC,EAAE;gBAC3D,OAAO,KAAK,CAAC;aAChB;YAED,MAAM,QAAQ,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,GAAG,YAAY,CAAC;YAClE,IAAI,cAAc,GAAG,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC;YAC/C,IAAI,YAAY,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;YAE3C,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE;gBACrC,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC1J,YAAY,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI;oBACtD,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,cAAc,GAAG,SAAS,CAAC,KAAK,CAAC,SAAS;oBACtE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC;aACjC;YAED,MAAM,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,KAAK,EAAE,QAAQ,EAAE,cAAc,EAAE,YAAY,CAAC,CAAC;YACpG,OAAO;gBACH,GAAG;gBACH,IAAI;gBACJ,OAAO;aACV,CAAC;SACL;QAED,yBAAyB;QACzB,IAAI,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE;YAClC,MAAM,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,GAAG,YAAY,CAAC;YAC1F,IAAI,YAAY,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC;YAEjH,IAAI,YAAY,GAAG,CAAC,EAAE;gBAClB,IAAI,SAAS,CAAC,GAAG,CAAC,IAAI,KAAK,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE;oBACvC,YAAY,GAAG,YAAY,CAAC,MAAM,GAAG,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;iBAC/H;qBAAM;oBACH,YAAY,GAAG,YAAY,GAAG,CAAC,CAAC;iBACnC;aACJ;YAED,MAAM,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,OAAO,EAAE,YAAY,CAAC,CAAC;YAC5E,OAAO;gBACH,GAAG;gBACH,IAAI;gBACJ,OAAO;aACV,CAAC;SACL;QAED,YAAY;QACZ,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,KAAK,SAAS,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,KAAK,CAAC,SAAS,KAAK,SAAS,CAAC,KAAK,CAAC,SAAS;eAC7F,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,GAAG,SAAS,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,KAAK,SAAS,CAAC,GAAG,CAAC,IAAI,IAAI,KAAK,CAAC,GAAG,CAAC,SAAS,GAAG,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE;YACtI,OAAO,SAAS,CAAC;SACpB;QAED,YAAY;QACZ,IAAI,SAAS,CAAC,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI;eAClC,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,KAAK,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,SAAS,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE;YAC/F,OAAO,KAAK,CAAC;SAChB;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IAES,YAAY,CAAC,SAA6B,EAAE,OAAe,EAAE,YAAoB;QACvF,IAAI,oCAAc,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YAC9B,MAAM,IAAI,KAAK,CAAC,yDAAyD,CAAC,CAAC;SAC9E;QACD,MAAM,EAAE,KAAK,EAAE,GAAG,wCAAkB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QACtD,MAAM,KAAK,GAAG;YACV,KAAK;YACL,GAAG,EAAE;gBACD,IAAI,EAAE,OAAO;gBACb,SAAS,EAAE,YAAY;aAC1B;SACJ,CAAC;QACF,IAAI,uCAAiB,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YACjC,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,2CAAqB,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YACrC,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,GAAG,SAAS,CAAC,OAAO,CAAC;YAChD,OAAO;gBACH,KAAK;gBACL,WAAW;gBACX,IAAI;aACP,CAAC;SACL;QACD,MAAM,IAAI,KAAK,CAAC,mCAAmC,wCAAkB,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IAClG,CAAC;IAES,YAAY,CAAC,SAA6B,EAAE,YAAmB,EAAE,QAAgB,EAAE,cAAsB,EAAE,YAAoB;QACrI,IAAI,KAAK,GAAG,wCAAkB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAChD,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACxC,KAAK,GAAG;YACJ,KAAK,EAAE;gBACH,IAAI,EAAE,KAAK,CAAC,KAAK,CAAC,IAAI;gBACtB,SAAS,EAAE,cAAc;aAC5B;YACD,GAAG,EAAE;gBACD,IAAI,EAAE,KAAK,CAAC,GAAG,CAAC,IAAI;gBACpB,SAAS,EAAE,YAAY;aAC1B;SACJ,CAAC;QACF,IAAI,oCAAc,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YAC9B,OAAO,KAAK,CAAC,KAAK,CAAC;SACtB;QACD,IAAI,uCAAiB,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YACjC,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,2CAAqB,CAAC,EAAE,CAAC,SAAS,CAAC,EAAE;YACrC,MAAM,EAAE,WAAW,EAAE,IAAI,EAAE,GAAG,SAAS,CAAC,OAAO,CAAC;YAChD,OAAO;gBACH,KAAK;gBACL,WAAW;gBACX,IAAI;aACP,CAAC;SACL;QACD,MAAM,IAAI,KAAK,CAAC,mCAAmC,wCAAkB,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IAClG,CAAC;IAIS,SAAS,CAAC,KAAuB,EAAE,IAAY;QACrD,IAAI,8BAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE;YACpB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,KAAK,CAAC;YAClC,OAAO;gBACH,IAAI,EAAE,IAAI,GAAG,IAAI;gBACjB,SAAS;aACZ,CAAC;SACL;QACD,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,KAAK,CAAC;QAC7B,OAAO;YACH,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC;YAClC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC;SACjC,CAAC;IACN,CAAC;IAED;;OAEG;IACO,SAAS,CAAC,QAAe,EAAE,KAAY;QAC7C,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE;YAC9E,OAAO,IAAI,CAAC;SACf;QACD,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE;YAC9E,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,KAAK,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,QAAQ,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE;YAC9F,OAAO,KAAK,CAAC;SAChB;QACD,IAAI,QAAQ,CAAC,GAAG,CAAC,IAAI,KAAK,KAAK,CAAC,GAAG,CAAC,IAAI,IAAI,QAAQ,CAAC,GAAG,CAAC,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,SAAS,EAAE;YACtF,OAAO,KAAK,CAAC;SAChB;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;CAEJ;AAxLY,yBAAyB;IADrC,0BAAU,GAAE;GACA,yBAAyB,CAwLrC;AAxLY,8DAAyB;;;;;;;;;;;;;ACnCtC,gFAAgF;AAChF,yCAAyC;AACzC,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;AAEhF,qHAA6C;AAC7C,6GAA4E;AACnE,0FADA,iBAAQ,QACA;AAAE,uFADA,cAAK,QACA;AAExB,IAAiB,kBAAkB,CAiDlC;AAjDD,WAAiB,kBAAkB;IAE/B;;OAEG;IACH,IAAY,IAiBX;IAjBD,WAAY,IAAI;QAEZ;;WAEG;QACH,mCAAM;QAEN;;WAEG;QACH,yCAAS;QAET;;WAEG;QACH,mDAAc;IAElB,CAAC,EAjBW,IAAI,GAAJ,uBAAI,KAAJ,uBAAI,QAiBf;IAOD,IAAiB,OAAO,CAkBvB;IAlBD,WAAiB,OAAO;QAEpB;;WAEG;QACH,SAAgB,OAAO,CAAC,OAAgB;YACpC,IAAI,iBAAQ,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE;gBACtB,OAAO,IAAI,CAAC,MAAM,CAAC;aACtB;YACD,IAAI,cAAK,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE;gBACnB,OAAO,IAAI,CAAC,SAAS,CAAC;aACzB;YACD,IAAI,uCAA8B,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE;gBAC5C,OAAO,IAAI,CAAC,cAAc,CAAC;aAC9B;YACD,MAAM,IAAI,KAAK,CAAC,gCAAgC,OAAO,GAAG,CAAC,CAAC;QAChE,CAAC;QAXe,eAAO,UAWtB;IAEL,CAAC,EAlBgB,OAAO,GAAP,0BAAO,KAAP,0BAAO,QAkBvB;AAEL,CAAC,EAjDgB,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAiDlC;AAwBD,WAAiB,kBAAkB;IAE/B;;OAEG;IACH,SAAgB,QAAQ,CAAC,QAA4B;QACjD,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,QAAQ,CAAC;QAC/B,MAAM,OAAO,GAAG,CAAC,GAAG,EAAE;YAClB,IAAI,cAAc,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;gBAC7B,OAAO,cAAc,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;aACpD;YACD,IAAI,iBAAiB,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;gBAChC,OAAO,iBAAiB,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;aACvD;YACD,IAAI,qBAAqB,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;gBACpC,OAAO,qBAAqB,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;aAC3D;QACL,CAAC,CAAC,EAAE,CAAC;QACL,OAAO;YACH,GAAG,EAAE,GAAG,CAAC,QAAQ,EAAE;YACnB,IAAI;YACJ,OAAO;SACV,CAAC;IACN,CAAC;IAlBe,2BAAQ,WAkBvB;IAED;;OAEG;IACH,SAAgB,UAAU,CAAC,MAAmC;QAC1D,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,MAAM,CAAC;QAC7B,IAAI,GAAG,KAAK,SAAS,IAAI,IAAI,KAAK,SAAS,IAAI,MAAM,CAAC,OAAO,KAAK,SAAS,EAAE;YACzE,MAAM,OAAO,GAAG,CAAC,GAAG,EAAE;gBAClB,QAAQ,IAAI,EAAE;oBACV,KAAK,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC,OAAmB,CAAC,CAAC;oBAClG,KAAK,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,iBAAiB,CAAC,UAAU,CAAC,MAAM,CAAC,OAAgB,CAAC,CAAC;oBACrG,KAAK,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,OAAO,qBAAqB,CAAC,UAAU,CAAC,MAAM,CAAC,OAAyC,CAAC,CAAC;iBAC1I;YACL,CAAC,CAAC,EAAE,CAAC;YACL,IAAI,OAAO,EAAE;gBACT,OAAO;oBACH,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC;oBACf,OAAO;oBACP,IAAI;iBACP,CAAC;aACL;SACJ;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAnBe,6BAAU,aAmBzB;IAED;;OAEG;IACH,SAAgB,KAAK,CAAC,QAA4B;QAC9C,IAAI,cAAc,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;YAC7B,OAAO,cAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;SAC3D;QACD,IAAI,iBAAiB,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;YAChC,OAAO,QAAQ,CAAC,OAAO,CAAC;SAC3B;QACD,IAAI,qBAAqB,CAAC,EAAE,CAAC,QAAQ,CAAC,EAAE;YACpC,OAAO,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;SACjC;QACD,MAAM,IAAI,KAAK,CAAC,mCAAmC,QAAQ,GAAG,CAAC,CAAC;IACpE,CAAC;IAXe,wBAAK,QAWpB;IAiBD;;OAEG;IACH,SAAgB,MAAM,CAAC,GAAgC,EAAE,OAAmC;QACxF,MAAM,IAAI,GAAG,kBAAkB,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACzD,OAAO;YACH,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC;YACf,IAAI;YACJ,OAAO;SACV,CAAC;IACN,CAAC;IAPe,yBAAM,SAOrB;IAED;;OAEG;IACH,SAAgB,QAAQ,CAAC,QAA4B;QACjD,OAAO,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;IAC9C,CAAC;IAFe,2BAAQ,WAEvB;AAEL,CAAC,EAnGgB,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAmGlC;AAED,SAAS,KAAK,CAAC,GAAgC;IAC3C,IAAI,GAAG,YAAY,aAAG,EAAE;QACpB,OAAO,GAAG,CAAC;KACd;IACD,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;QACzB,OAAO,IAAI,aAAG,CAAC,GAAG,CAAC,CAAC;KACvB;IACD,OAAO,GAAG,CAAC,GAAG,CAAC;AACnB,CAAC;AAmBD,IAAiB,oBAAoB,CA6BpC;AA7BD,WAAiB,oBAAoB;IAEjC;;;;OAIG;IACH,SAAgB,QAAQ,CAAC,YAAkC;QACvD,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,YAAY,CAAC;QACxC,OAAO;YACH,GAAG,EAAE,GAAG,CAAC,QAAQ,EAAE;YACnB,SAAS,EAAE,SAAS;SACvB,CAAC;IACN,CAAC;IANe,6BAAQ,WAMvB;IAED;;OAEG;IACH,SAAgB,UAAU,CAAC,MAAqC;QAC5D,MAAM,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,MAAM,CAAC;QAClC,IAAI,GAAG,KAAK,SAAS,IAAI,SAAS,KAAK,SAAS,EAAE;YAC9C,OAAO;gBACH,GAAG,EAAE,KAAK,CAAC,GAAG,CAAC;gBACf,SAAS,EAAE,SAAS;aACvB,CAAC;SACL;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IATe,+BAAU,aASzB;AAEL,CAAC,EA7BgB,oBAAoB,GAApB,4BAAoB,KAApB,4BAAoB,QA6BpC;AAmBD,IAAiB,cAAc,CAkC9B;AAlCD,WAAiB,cAAc;IAE3B;;OAEG;IACH,SAAgB,EAAE,CAAC,QAA4B;QAC3C,OAAO,QAAQ,CAAC,IAAI,KAAK,kBAAkB,CAAC,IAAI,CAAC,MAAM,CAAC;IAC5D,CAAC;IAFe,iBAAE,KAEjB;IAED;;OAEG;IACH,SAAgB,QAAQ,CAAC,OAAiB;QACtC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,OAAO,CAAC;QACpC,OAAO;YACH,IAAI;YACJ,SAAS;SACZ,CAAC;IACN,CAAC;IANe,uBAAQ,WAMvB;IAED;;OAEG;IACH,SAAgB,UAAU,CAAC,MAAyB;QAChD,IAAI,MAAM,CAAC,IAAI,KAAK,SAAS,IAAI,MAAM,CAAC,SAAS,KAAK,SAAS,EAAE;YAC7D,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,MAAM,CAAC;YACnC,OAAO;gBACH,IAAI;gBACJ,SAAS;aACZ,CAAC;SACL;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IATe,yBAAU,aASzB;AAEL,CAAC,EAlCgB,cAAc,GAAd,sBAAc,KAAd,sBAAc,QAkC9B;AAmBD,IAAiB,iBAAiB,CAoCjC;AApCD,WAAiB,iBAAiB;IAE9B;;OAEG;IACH,SAAgB,EAAE,CAAC,QAA4B;QAC3C,OAAO,QAAQ,CAAC,IAAI,KAAK,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC;IAC/D,CAAC;IAFe,oBAAE,KAEjB;IAED;;OAEG;IACH,SAAgB,QAAQ,CAAC,OAAc;QACnC,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,GAAG,OAAO,CAAC;QAC/B,OAAO;YACH,KAAK,EAAE,cAAc,CAAC,QAAQ,CAAC,KAAK,CAAC;YACrC,GAAG,EAAE,cAAc,CAAC,QAAQ,CAAC,GAAG,CAAC;SACpC,CAAC;IACN,CAAC;IANe,0BAAQ,WAMvB;IAED;;OAEG;IACH,SAAgB,UAAU,CAAC,MAAsB;QAC7C,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE;YAChC,MAAM,KAAK,GAAG,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YACtD,MAAM,GAAG,GAAG,cAAc,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YAClD,IAAI,KAAK,IAAI,GAAG,EAAE;gBACd,OAAO;oBACH,KAAK;oBACL,GAAG;iBACN,CAAC;aACL;SACJ;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAZe,4BAAU,aAYzB;AACL,CAAC,EApCgB,iBAAiB,GAAjB,yBAAiB,KAAjB,yBAAiB,QAoCjC;AAmBD,IAAiB,qBAAqB,CAwCrC;AAxCD,WAAiB,qBAAqB;IAElC;;OAEG;IACH,SAAgB,EAAE,CAAC,QAA4B;QAC3C,OAAO,QAAQ,CAAC,IAAI,KAAK,kBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC;IACpE,CAAC;IAFe,wBAAE,KAEjB;IAED;;OAEG;IACH,SAAgB,QAAQ,CAAC,OAAuC;QAC5D,OAAO;YACH,KAAK,EAAE,iBAAiB,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC;YAChD,WAAW,EAAE,OAAO,CAAC,WAAW;YAChC,IAAI,EAAE,OAAO,CAAC,IAAI;SACrB,CAAC;IACN,CAAC;IANe,8BAAQ,WAMvB;IAED;;OAEG;IACH,SAAgB,UAAU,CAAC,MAA+C;QACtE,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,IAAI,MAAM,CAAC,WAAW,KAAK,SAAS,IAAI,MAAM,CAAC,IAAI,KAAK,SAAS,EAAE;YACjF,MAAM,KAAK,GAAG,iBAAiB,CAAC,UAAU,CAAC,MAAM,CAAC,KAAM,CAAC,CAAC;YAC1D,MAAM,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;YACvC,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;YACzB,IAAI,CAAC,CAAC,KAAK,EAAE;gBACT,OAAO;oBACH,KAAK;oBACL,WAAW,EAAE,WAAY;oBACzB,IAAI,EAAE,IAAK;iBACd,CAAC;aACL;SACJ;aAAM;YACH,OAAO,SAAS,CAAC;SACpB;IACL,CAAC;IAfe,gCAAU,aAezB;AAEL,CAAC,EAxCgB,qBAAqB,GAArB,6BAAqB,KAArB,6BAAqB,QAwCrC;;;;;;;;;;;;;ACjaD,gFAAgF;AAChF,oEAAoE;AACpE,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;;;AAEhF,qIAAkE;AAClE,sHAA0F;AAC1F,wJAAuE;AACvE,0KAAqI;AACrI,+LAAyH;AACzH,yHAA8F;AAG9F,IAAa,kBAAkB,0BAA/B,MAAa,kBAAkB;IAA/B;QAOc,uBAAkB,GAAa,EAAE,CAAC;IA8DhD,CAAC;IA5DG,2BAA2B;QACvB,IAAI,CAAC,mBAAmB,CAAC,2BAA2B,CAAC;YACjD,WAAW,EAAE,GAAG,EAAE,CAAC,IAAI;YACvB,MAAM,EAAE,oBAAkB,CAAC,MAAM;YACjC,WAAW,EAAE,EAAE;YACf,WAAW,EAAE,CAAC,EAAE,WAAW,EAAE,yBAAyB,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC;SAChF,CAAC,CAAC;IACP,CAAC;IAED,QAAQ,CAAC,MAAc,EAAE,KAAwB;QAC7C,MAAM,WAAW,GAA+B,EAAE,CAAC;QACnD,MAAM,MAAM,GAAG,CAAC,MAAc,EAA+B,EAAE,CAAC,OAAO,CAAC,2BAAiB,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;QAC1G,MAAM,aAAa,GAAG,CAAC,OAA4B,EAAE,KAAa,EAAE,EAAE;YAClE,IAAI,OAAO,CAAC,MAAM,EAAE;gBAChB,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC,CAAC;aAClD;YACD,WAAW,CAAC,IAAI,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QACpE,CAAC,CAAC;QACF,MAAM,oBAAoB,GAAG,CAAC,OAAyB,EAAE,WAAmB,EAAE,EAAE;YAC5E,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;gBAC9B,MAAM,eAAe,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAsB,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE;oBACjF,IAAI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;wBACrB,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;qBAC7B;oBACD,OAAO,OAAO,CAAC;gBACnB,CAAC,EAAE,EAAE,CAAC,CAAC;gBACP,MAAM,KAAK,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,WAAW,IAAI,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC;gBACtG,aAAa,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;YAC1C,CAAC,CAAC,CAAC;QACP,CAAC,CAAC;QAEF,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe,EAAE,0BAAgB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACnF,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE,0BAAgB,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAEvF,KAAK,MAAM,IAAI,IAAI,CAAC,MAAM,EAAE,OAAO,CAA4B,EAAE;YAC7D,MAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;YACjE,aAAa,CAAC,aAAa,EAAE,0BAAgB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC;SACnE;QAED,OAAO,qCAAW,EAAC,WAAW,CAAC,KAAK,EAAE,EAAE,MAAM,CAAC,CAAC;IACpD,CAAC;IAES,oBAAoB,CAAC,KAAa;QACxC,OAAO,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,IAAI,YAAG,CAAC,iBAAiB,CAAC,WAAW,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;IAC3F,CAAC;IAES,MAAM,CAAC,MAAyB;QACtC,MAAM,GAAG,GAAG,2BAAiB,CAAC,MAAM,CAAC,MAAM,CAAE,CAAC;QAC9C,MAAM,IAAI,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC7C,MAAM,WAAW,GAAG,IAAI,KAAK,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,YAAY,CAAC,CAAC;QAEpE,OAAO;YACH,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC;YACtC,WAAW,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC;YAC/C,WAAW;YACX,SAAS,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;YAC5B,UAAU,EAAE,IAAI;YAChB,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,CAAC;SACtD,CAAC;IACN,CAAC;CACJ;AApEU,yBAAM,GAAG,MAAM,CAAC;AAEA;IAAtB,sBAAM,EAAC,8BAAa,CAAC;2CAAmC,8BAAa;yDAAC;AAC1C;IAA5B,sBAAM,EAAC,kCAAmB,CAAC;;+DAA6D;AAC/D;IAAzB,sBAAM,EAAC,0BAAgB,CAAC;2CAA2B,0BAAgB;iDAAC;AAL5D,kBAAkB;IAD9B,0BAAU,GAAE;GACA,kBAAkB,CAqE9B;AArEY,gDAAkB;;;;;;;;;;;;;ACxB/B,gFAAgF;AAChF,oEAAoE;AACpE,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;AAChF;;;gGAGgG;AAChG,iKAAiK;;;;AAEjK,qIAA0D;AAI1D,IAAa,eAAe,GAA5B,MAAa,eAAe;IAA5B;QACqB,eAAU,GAAG,IAAI,GAAG,EAA6B,CAAC;IAiDvE,CAAC;IA/CG,WAAW,CAAC,QAAa,EAAE,IAAyB,EAAE,IAAyB;QAC3E,IAAI,SAA4B,CAAC;QACjC,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE;YAC1C,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAE,CAAC;SACzD;aAAM;YACH,SAAS,GAAG,IAAI,iBAAiB,EAAE,CAAC;YACpC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,SAAS,CAAC,CAAC;SACvD;QAED,SAAS,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IAC1C,CAAC;IAED,cAAc,CAAC,QAAa;QACxB,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE;YAC1C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAC;SAC/C;IACL,CAAC;IAED,IAAI,CAAC,QAAa;QACd,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE;YAC3C,OAAO;SACV;QAED,MAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAE,CAAC;QAC5D,MAAM,OAAO,GAAG,SAAS,CAAC,qBAAqB,EAAE,CAAC;QAClD,IAAI,CAAC,OAAO,EAAE;YACV,OAAO;SACV;QAED,SAAS,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAChC,OAAO,CAAC,IAAI,EAAE,CAAC;IACnB,CAAC;IAED,IAAI,CAAC,QAAa;QACd,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,EAAE;YAC3C,OAAO;SACV;QAED,MAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAE,CAAC;QAC5D,MAAM,OAAO,GAAG,SAAS,CAAC,uBAAuB,EAAE,CAAC;QACpD,IAAI,CAAC,OAAO,EAAE;YACV,OAAO;SACV;QAED,SAAS,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC/B,OAAO,CAAC,IAAI,EAAE,CAAC;IACnB,CAAC;CACJ;AAlDY,eAAe;IAD3B,0BAAU,GAAE;GACA,eAAe,CAkD3B;AAlDY,0CAAe;AAyD5B,MAAa,iBAAiB;IAI1B;QACI,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,WAAW,CAAC,OAAqB;QAC7B,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC5B,CAAC;IAED,qBAAqB;QACjB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;YACxB,OAAO,SAAS,CAAC;SACpB;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC3C,CAAC;IAED,uBAAuB;QACnB,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1B,OAAO,SAAS,CAAC;SACpB;QACD,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC/C,CAAC;IAED,YAAY,CAAC,OAAqB;QAC9B,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC9B,CAAC;IAED,WAAW,CAAC,OAAqB;QAC7B,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC5B,CAAC;CACJ;AArCD,8CAqCC;;;;;;;;;;;;;ACvHD,gFAAgF;AAChF,+CAA+C;AAC/C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;AAEhF,wHAAwE;AAgBxE,SAAgB,KAAK,CAAC,QAAsC,EAAE,SAAiB,EAAE,IAAY,EAAE,iBAAyB,EAAE,uBAAgC;IAEtJ,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;QACzB,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,KAAK,MAAM,MAAM,IAAI,QAAQ,EAAE;YAC3B,MAAM,KAAK,GAAG,KAAK,CAAC,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,iBAAiB,EAAE,uBAAuB,CAAC,CAAC;YACzF,IAAI,KAAK,KAAK,EAAE,EAAE;gBACd,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,KAAK,GAAG,GAAG,EAAE;gBACb,GAAG,GAAG,KAAK,CAAC;aACf;SACJ;QACD,OAAO,GAAG,CAAC;KAEd;SAAM,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;QAErC,IAAI,CAAC,uBAAuB,EAAE;YAC1B,OAAO,CAAC,CAAC;SACZ;QAED,IAAI,QAAQ,KAAK,GAAG,EAAE;YAClB,OAAO,CAAC,CAAC;SACZ;aAAM,IAAI,QAAQ,KAAK,iBAAiB,EAAE;YACvC,OAAO,EAAE,CAAC;SACb;aAAM;YACH,OAAO,CAAC,CAAC;SACZ;KAEJ;SAAM,IAAI,QAAQ,EAAE;QACjB,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,EAAE,oBAAoB,EAAE,GAAG,QAAQ,CAAC;QAErE,IAAI,CAAC,uBAAuB,IAAI,CAAC,oBAAoB,EAAE;YACnD,OAAO,CAAC,CAAC;SACZ;QAED,IAAI,MAAM,GAAG,CAAC,CAAC;QAEf,IAAI,MAAM,EAAE;YACR,IAAI,MAAM,KAAK,SAAS,EAAE;gBACtB,MAAM,GAAG,EAAE,CAAC;aACf;iBAAM,IAAI,MAAM,KAAK,GAAG,EAAE;gBACvB,MAAM,GAAG,CAAC,CAAC;aACd;iBAAM;gBACH,OAAO,CAAC,CAAC;aACZ;SACJ;QAED,IAAI,QAAQ,EAAE;YACV,IAAI,QAAQ,KAAK,iBAAiB,EAAE;gBAChC,MAAM,GAAG,EAAE,CAAC;aACf;iBAAM,IAAI,QAAQ,KAAK,GAAG,EAAE;gBACzB,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;aAChC;iBAAM;gBACH,OAAO,CAAC,CAAC;aACZ;SACJ;QAED,IAAI,OAAO,EAAE;YACT,IAAI,OAAO,KAAK,IAAI,IAAI,gBAAgB,EAAC,OAAO,EAAE,IAAI,CAAC,EAAE;gBACrD,MAAM,GAAG,EAAE,CAAC;aACf;iBAAM;gBACH,OAAO,CAAC,CAAC;aACZ;SACJ;QAED,OAAO,MAAM,CAAC;KAEjB;SAAM;QACH,OAAO,CAAC,CAAC;KACZ;AACL,CAAC;AAvED,sBAuEC;;;;;;;;;;;;;ACvGD,gFAAgF;AAChF,+CAA+C;AAC/C,EAAE;AACF,2EAA2E;AAC3E,mEAAmE;AACnE,wCAAwC;AACxC,EAAE;AACF,4EAA4E;AAC5E,8EAA8E;AAC9E,6EAA6E;AAC7E,yDAAyD;AACzD,uDAAuD;AACvD,EAAE;AACF,gFAAgF;AAChF,gFAAgF;;;AAEhF,8IAA2B;AAC3B,oLAA8C;AAC9C,gLAA4C;;;;;;;;;;;;;;;;;;;AClB4C;AACxF,YAAuG;;AAEvG;;AAEA;AACA;;AAEA,aAAa,6FAAG,CAAC,0FAAO;;;;AAIxB,iEAAe,0FAAO,aAAa;;;;;;;;;;;;;;;;;;ACZqD;AACxF,YAAsF;;AAEtF;;AAEA;AACA;;AAEA,aAAa,6FAAG,CAAC,yEAAO;;;;AAIxB,iEAAe,yEAAO,aAAa","sources":["webpack:///../node_modules/@theia/editor/src/browser/language-status/editor-language-status.css?../node_modules/css-loader/dist/cjs.js","webpack:///../node_modules/@theia/editor/src/browser/style/index.css?../node_modules/css-loader/dist/cjs.js","webpack:///../node_modules/@theia/core/src/common/glob.ts?","webpack:///../node_modules/@theia/core/src/common/paths.ts?","webpack:///../node_modules/@theia/core/src/common/severity.ts?","webpack:///../node_modules/@theia/core/shared/@phosphor/algorithm/index.js?","webpack:///../node_modules/@theia/editor/src/browser/editor-command.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-contribution.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-frontend-module.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-keybinding.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-linenumber-contribution.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-manager.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-menu.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-navigation-contribution.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-variable-contribution.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-widget-factory.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-widget.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor.ts?","webpack:///../node_modules/@theia/editor/src/browser/language-status/editor-language-status-service.ts?","webpack:///../node_modules/@theia/editor/src/browser/navigation/navigation-location-service.ts?","webpack:///../node_modules/@theia/editor/src/browser/navigation/navigation-location-similarity.ts?","webpack:///../node_modules/@theia/editor/src/browser/navigation/navigation-location-updater.ts?","webpack:///../node_modules/@theia/editor/src/browser/navigation/navigation-location.ts?","webpack:///../node_modules/@theia/editor/src/browser/quick-editor-service.ts?","webpack:///../node_modules/@theia/editor/src/browser/undo-redo-service.ts?","webpack:///../node_modules/@theia/editor/src/common/language-selector.ts?","webpack:///../node_modules/@theia/variable-resolver/src/browser/index.ts?","webpack:///../node_modules/@theia/editor/src/browser/language-status/editor-language-status.css?","webpack:///../node_modules/@theia/editor/src/browser/style/index.css?"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2022 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* Copied from https://github.com/microsoft/vscode/blob/7d9b1c37f8e5ae3772782ba3b09d827eb3fdd833/src/vs/workbench/contrib/languageStatus/browser/media/languageStatus.css */\n\n.hover-language-status {\n  display: flex;\n  padding: 4px 8px;\n}\n\n.hover-language-status:not(:last-child) {\n  border-bottom: 1px solid var(--theia-notifications-border);\n}\n\n.hover-language-status > .severity {\n  padding-right: 8px;\n  flex: 1;\n  margin: auto;\n  display: none;\n}\n\n.hover-language-status > .severity.sev3 {\n  color: var(--theia-notificationsErrorIcon-foreground);\n}\n\n.hover-language-status > .severity.sev2 {\n  color: var(--theia-notificationsInfoIcon-foreground);\n}\n\n.hover-language-status > .severity.show {\n  display: inherit;\n}\n\n.hover-language-status > .element {\n  display: flex;\n  justify-content: space-between;\n  vertical-align: middle;\n  flex-grow: 100;\n}\n\n.hover-language-status > .element > .left > .detail:not(:empty)::before {\n  /* en-dash */\n  content: \"–\";\n  padding: 0 4px;\n  opacity: 0.6;\n}\n\n.hover-language-status > .element > .left > .label:empty {\n  display: none;\n}\n\n.hover-language-status > .element .left {\n  margin: auto 0;\n}\n\n.hover-language-status > .element .right {\n  margin: auto 0;\n  display: flex;\n}\n\n.hover-language-status > .element .right:not(:empty) {\n  padding-left: 16px;\n}\n\n.hover-language-status > .element .right .language-status-link {\n  margin: auto 0;\n  white-space: nowrap;\n\n  /* ADDED STYLES - NOT FROM VSCODE */\n  text-decoration: none;\n}\n\n/* ADDED STYLES - NOT FROM VSCODE */\n.hover-language-status > .element .right .language-status-link:hover {\n  color: var(--theia-textLink-foreground);\n}\n\n.hover-language-status\n  > .element\n  .right\n  .language-status-action-bar:not(:first-child) {\n  padding-left: 8px;\n}\n\n/* ADDED STYLES - NOT FROM VSCODE */\n.hover-language-status > .element .right .language-status-action-bar a {\n  color: var(--theia-editorHoverWidget-foreground);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../node_modules/@theia/editor/src/browser/language-status/editor-language-status.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF,2KAA2K;;AAE3K;EACE,aAAa;EACb,gBAAgB;AAClB;;AAEA;EACE,0DAA0D;AAC5D;;AAEA;EACE,kBAAkB;EAClB,OAAO;EACP,YAAY;EACZ,aAAa;AACf;;AAEA;EACE,qDAAqD;AACvD;;AAEA;EACE,oDAAoD;AACtD;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,sBAAsB;EACtB,cAAc;AAChB;;AAEA;EACE,YAAY;EACZ,YAAY;EACZ,cAAc;EACd,YAAY;AACd;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;EACd,aAAa;AACf;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,mBAAmB;;EAEnB,mCAAmC;EACnC,qBAAqB;AACvB;;AAEA,mCAAmC;AACnC;EACE,uCAAuC;AACzC;;AAEA;;;;EAIE,iBAAiB;AACnB;;AAEA,mCAAmC;AACnC;EACE,gDAAgD;AAClD\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2022 Ericsson and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n/* Copied from https://github.com/microsoft/vscode/blob/7d9b1c37f8e5ae3772782ba3b09d827eb3fdd833/src/vs/workbench/contrib/languageStatus/browser/media/languageStatus.css */\\n\\n.hover-language-status {\\n  display: flex;\\n  padding: 4px 8px;\\n}\\n\\n.hover-language-status:not(:last-child) {\\n  border-bottom: 1px solid var(--theia-notifications-border);\\n}\\n\\n.hover-language-status > .severity {\\n  padding-right: 8px;\\n  flex: 1;\\n  margin: auto;\\n  display: none;\\n}\\n\\n.hover-language-status > .severity.sev3 {\\n  color: var(--theia-notificationsErrorIcon-foreground);\\n}\\n\\n.hover-language-status > .severity.sev2 {\\n  color: var(--theia-notificationsInfoIcon-foreground);\\n}\\n\\n.hover-language-status > .severity.show {\\n  display: inherit;\\n}\\n\\n.hover-language-status > .element {\\n  display: flex;\\n  justify-content: space-between;\\n  vertical-align: middle;\\n  flex-grow: 100;\\n}\\n\\n.hover-language-status > .element > .left > .detail:not(:empty)::before {\\n  /* en-dash */\\n  content: \\\"–\\\";\\n  padding: 0 4px;\\n  opacity: 0.6;\\n}\\n\\n.hover-language-status > .element > .left > .label:empty {\\n  display: none;\\n}\\n\\n.hover-language-status > .element .left {\\n  margin: auto 0;\\n}\\n\\n.hover-language-status > .element .right {\\n  margin: auto 0;\\n  display: flex;\\n}\\n\\n.hover-language-status > .element .right:not(:empty) {\\n  padding-left: 16px;\\n}\\n\\n.hover-language-status > .element .right .language-status-link {\\n  margin: auto 0;\\n  white-space: nowrap;\\n\\n  /* ADDED STYLES - NOT FROM VSCODE */\\n  text-decoration: none;\\n}\\n\\n/* ADDED STYLES - NOT FROM VSCODE */\\n.hover-language-status > .element .right .language-status-link:hover {\\n  color: var(--theia-textLink-foreground);\\n}\\n\\n.hover-language-status\\n  > .element\\n  .right\\n  .language-status-action-bar:not(:first-child) {\\n  padding-left: 8px;\\n}\\n\\n/* ADDED STYLES - NOT FROM VSCODE */\\n.hover-language-status > .element .right .language-status-action-bar a {\\n  color: var(--theia-editorHoverWidget-foreground);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n.theia-editor {\n  height: 100%;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../node_modules/@theia/editor/src/browser/style/index.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF;EACE,YAAY;AACd\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2020 TypeFox and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.theia-editor {\\n  height: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n// copied from https://github.com/Microsoft/vscode/blob/bf7ac9201e7a7d01741d4e6e64b5dc9f3197d97b/src/vs/base/common/glob.ts\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as strings from './strings';\nimport * as paths from './paths';\nimport { CharCode } from './char-code';\n\n/* eslint-disable @typescript-eslint/no-shadow, no-null/no-null */\nexport interface IExpression {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [pattern: string]: boolean | SiblingClause | any;\n}\n\nexport interface IRelativePattern {\n    base: string;\n    pattern: string;\n    pathToRelative(from: string, to: string): string;\n}\n\nexport function getEmptyExpression(): IExpression {\n    return Object.create(null);\n}\n\nexport interface SiblingClause {\n    when: string;\n}\n\nconst GLOBSTAR = '**';\nconst GLOB_SPLIT = '/';\nconst PATH_REGEX = '[/\\\\\\\\]';        // any slash or backslash\nconst NO_PATH_REGEX = '[^/\\\\\\\\]';    // any non-slash and non-backslash\nconst ALL_FORWARD_SLASHES = /\\//g;\n\nfunction starsToRegExp(starCount: number): string {\n    switch (starCount) {\n        case 0:\n            return '';\n        case 1:\n            return `${NO_PATH_REGEX}*?`; // 1 star matches any number of characters except path separator (/ and \\) - non greedy (?)\n        default:\n            // Matches:  (Path Sep OR Path Val followed by Path Sep OR Path Sep followed by Path Val) 0-many times\n            // Group is non capturing because we don't need to capture at all (?:...)\n            // Overall we use non-greedy matching because it could be that we match too much\n            return `(?:${PATH_REGEX}|${NO_PATH_REGEX}+${PATH_REGEX}|${PATH_REGEX}${NO_PATH_REGEX}+)*?`;\n    }\n}\n\nexport function splitGlobAware(pattern: string, splitChar: string): string[] {\n    if (!pattern) {\n        return [];\n    }\n\n    const segments: string[] = [];\n\n    let inBraces = false;\n    let inBrackets = false;\n\n    let char: string;\n    let curVal = '';\n    for (let i = 0; i < pattern.length; i++) {\n        char = pattern[i];\n\n        switch (char) {\n            case splitChar:\n                if (!inBraces && !inBrackets) {\n                    segments.push(curVal);\n                    curVal = '';\n\n                    continue;\n                }\n                break;\n            case '{':\n                inBraces = true;\n                break;\n            case '}':\n                inBraces = false;\n                break;\n            case '[':\n                inBrackets = true;\n                break;\n            case ']':\n                inBrackets = false;\n                break;\n        }\n\n        curVal += char;\n    }\n\n    // Tail\n    if (curVal) {\n        segments.push(curVal);\n    }\n\n    return segments;\n}\n\nfunction parseRegExp(pattern: string): string {\n    if (!pattern) {\n        return '';\n    }\n\n    let regEx = '';\n\n    // Split up into segments for each slash found\n    // eslint-disable-next-line prefer-const\n    let segments = splitGlobAware(pattern, GLOB_SPLIT);\n\n    // Special case where we only have globstars\n    if (segments.every(s => s === GLOBSTAR)) {\n        regEx = '.*';\n    }\n\n    // Build regex over segments\n    // tslint:disable-next-line:one-line\n    else {\n        let previousSegmentWasGlobStar = false;\n        segments.forEach((segment, index) => {\n\n            // Globstar is special\n            if (segment === GLOBSTAR) {\n\n                // if we have more than one globstar after another, just ignore it\n                if (!previousSegmentWasGlobStar) {\n                    regEx += starsToRegExp(2);\n                    previousSegmentWasGlobStar = true;\n                }\n\n                return;\n            }\n\n            // States\n            let inBraces = false;\n            let braceVal = '';\n\n            let inBrackets = false;\n            let bracketVal = '';\n\n            let char: string;\n            for (let i = 0; i < segment.length; i++) {\n                char = segment[i];\n\n                // Support brace expansion\n                if (char !== '}' && inBraces) {\n                    braceVal += char;\n                    continue;\n                }\n\n                // Support brackets\n                if (inBrackets && (char !== ']' || !bracketVal) /* ] is literally only allowed as first character in brackets to match it */) {\n                    let res: string;\n\n                    // range operator\n                    if (char === '-') {\n                        res = char;\n                    }\n\n                    // negation operator (only valid on first index in bracket)\n                    // tslint:disable-next-line:one-line\n                    else if ((char === '^' || char === '!') && !bracketVal) {\n                        res = '^';\n                    }\n\n                    // glob split matching is not allowed within character ranges\n                    // see http://man7.org/linux/man-pages/man7/glob.7.html\n                    // tslint:disable-next-line:one-line\n                    else if (char === GLOB_SPLIT) {\n                        res = '';\n                    }\n\n                    // anything else gets escaped\n                    // tslint:disable-next-line:one-line\n                    else {\n                        res = strings.escapeRegExpCharacters(char);\n                    }\n\n                    bracketVal += res;\n                    continue;\n                }\n\n                switch (char) {\n                    case '{':\n                        inBraces = true;\n                        continue;\n\n                    case '[':\n                        inBrackets = true;\n                        continue;\n\n                    case '}':\n                        // eslint-disable-next-line prefer-const\n                        let choices = splitGlobAware(braceVal, ',');\n\n                        // Converts {foo,bar} => [foo|bar]\n                        // eslint-disable-next-line prefer-const\n                        let braceRegExp = `(?:${choices.map(c => parseRegExp(c)).join('|')})`;\n\n                        regEx += braceRegExp;\n\n                        inBraces = false;\n                        braceVal = '';\n\n                        break;\n\n                    case ']':\n                        regEx += ('[' + bracketVal + ']');\n\n                        inBrackets = false;\n                        bracketVal = '';\n\n                        break;\n\n                    case '?':\n                        regEx += NO_PATH_REGEX; // 1 ? matches any single character except path separator (/ and \\)\n                        continue;\n\n                    case '*':\n                        regEx += starsToRegExp(1);\n                        continue;\n\n                    default:\n                        regEx += strings.escapeRegExpCharacters(char);\n                }\n            }\n\n            // Tail: Add the slash we had split on if there is more to come and the remaining pattern is not a globstar\n            // For example if pattern: some/**/*.js we want the \"/\" after some to be included in the RegEx to prevent\n            // a folder called \"something\" to match as well.\n            // However, if pattern: some/**, we tolerate that we also match on \"something\" because our globstar behavior\n            // is to match 0-N segments.\n            if (index < segments.length - 1 && (segments[index + 1] !== GLOBSTAR || index + 2 < segments.length)) {\n                regEx += PATH_REGEX;\n            }\n\n            // reset state\n            previousSegmentWasGlobStar = false;\n        });\n    }\n\n    return regEx;\n}\n\n// regexes to check for trivial glob patterns that just check for String#endsWith\nconst T1 = /^\\*\\*\\/\\*\\.[\\w\\.-]+$/;                                        // **/*.something\nconst T2 = /^\\*\\*\\/([\\w\\.-]+)\\/?$/;                                            // **/something\nconst T3 = /^{\\*\\*\\/[\\*\\.]?[\\w\\.-]+\\/?(,\\*\\*\\/[\\*\\.]?[\\w\\.-]+\\/?)*}$/;     // {**/*.something,**/*.else} or {**/package.json,**/project.json}\nconst T3_2 = /^{\\*\\*\\/[\\*\\.]?[\\w\\.-]+(\\/(\\*\\*)?)?(,\\*\\*\\/[\\*\\.]?[\\w\\.-]+(\\/(\\*\\*)?)?)*}$/;     // Like T3, with optional trailing /**\nconst T4 = /^\\*\\*((\\/[\\w\\.-]+)+)\\/?$/;                                        // **/something/else\nconst T5 = /^([\\w\\.-]+(\\/[\\w\\.-]+)*)\\/?$/;                                    // something/else\n\nexport type ParsedPattern = (path: string, basename?: string) => boolean;\n\n// The ParsedExpression returns a Promise iff hasSibling returns a Promise.\n// eslint-disable-next-line max-len\nexport type ParsedExpression = (path: string, basename?: string, hasSibling?: (name: string) => boolean | Promise<boolean>) => string | Promise<string> /* the matching pattern */;\n\nexport interface IGlobOptions {\n    /**\n     * Simplify patterns for use as exclusion filters during tree traversal to skip entire subtrees. Cannot be used outside of a tree traversal.\n     */\n    trimForExclusions?: boolean;\n}\n\ninterface ParsedStringPattern {\n    (path: string, basename: string): string | Promise<string> /* the matching pattern */;\n    basenames?: string[];\n    patterns?: string[];\n    allBasenames?: string[];\n    allPaths?: string[];\n}\ninterface ParsedExpressionPattern {\n    (path: string, basename: string, name: string, hasSibling: (name: string) => boolean | Promise<boolean>): string | Promise<string> /* the matching pattern */;\n    requiresSiblings?: boolean;\n    allBasenames?: string[];\n    allPaths?: string[];\n}\n\nconst CACHE = new Map<string, ParsedStringPattern>();  // new LRUCache<string, ParsedStringPattern>(10000); // bounded to 10000 elements\n\nconst FALSE = function (): boolean {\n    return false;\n};\n\nconst NULL = function (): string {\n    return null!;\n};\n\nfunction parsePattern(arg1: string | IRelativePattern, options: IGlobOptions): ParsedStringPattern {\n    if (!arg1) {\n        return NULL;\n    }\n\n    // Handle IRelativePattern\n    let pattern: string;\n    if (typeof arg1 !== 'string') {\n        pattern = arg1.pattern;\n    } else {\n        pattern = arg1;\n    }\n\n    // Whitespace trimming\n    pattern = pattern.trim();\n\n    // Check cache\n    const patternKey = `${pattern}_${!!options.trimForExclusions}`;\n    let parsedPattern = CACHE.get(patternKey);\n    if (parsedPattern) {\n        return wrapRelativePattern(parsedPattern, arg1);\n    }\n\n    // Check for Trivias\n    let match: RegExpExecArray;\n    if (T1.test(pattern)) { // common pattern: **/*.txt just need endsWith check\n        const base = pattern.substring(4); // '**/*'.length === 4\n        parsedPattern = function (path, basename): string {\n            return path && strings.endsWith(path, base) ? pattern : null!;\n        };\n    } else if (match = T2.exec(trimForExclusions(pattern, options))!) { // common pattern: **/some.txt just need basename check\n        parsedPattern = trivia2(match[1], pattern);\n    } else if ((options.trimForExclusions ? T3_2 : T3).test(pattern)) { // repetition of common patterns (see above) {**/*.txt,**/*.png}\n        parsedPattern = trivia3(pattern, options);\n    } else if (match = T4.exec(trimForExclusions(pattern, options))!) { // common pattern: **/something/else just need endsWith check\n        parsedPattern = trivia4and5(match[1].substring(1), pattern, true);\n    } else if (match = T5.exec(trimForExclusions(pattern, options))!) { // common pattern: something/else just need equals check\n        parsedPattern = trivia4and5(match[1], pattern, false);\n    }\n\n    // Otherwise convert to pattern\n    // tslint:disable-next-line:one-line\n    else {\n        parsedPattern = toRegExp(pattern);\n    }\n\n    // Cache\n    CACHE.set(patternKey, parsedPattern);\n\n    return wrapRelativePattern(parsedPattern, arg1);\n}\n\nfunction wrapRelativePattern(parsedPattern: ParsedStringPattern, arg2: string | IRelativePattern): ParsedStringPattern {\n    if (typeof arg2 === 'string') {\n        return parsedPattern;\n    }\n\n    return function (path, basename): string | Promise<string> {\n        if (!paths.isEqualOrParent(path, arg2.base)) {\n            return null!;\n        }\n\n        return parsedPattern(paths.normalize(arg2.pathToRelative(arg2.base, path)), basename);\n    };\n}\n\nfunction trimForExclusions(pattern: string, options: IGlobOptions): string {\n    return options.trimForExclusions && strings.endsWith(pattern, '/**') ? pattern.substring(0, pattern.length - 2) : pattern; // dropping **, tailing / is dropped later\n}\n\n// common pattern: **/some.txt just need basename check\nfunction trivia2(base: string, originalPattern: string): ParsedStringPattern {\n    const slashBase = `/${base}`;\n    const backslashBase = `\\\\${base}`;\n    const parsedPattern: ParsedStringPattern = function (path, basename): string {\n        if (!path) {\n            return null!;\n        }\n        if (basename) {\n            return basename === base ? originalPattern : null!;\n        }\n        return path === base || strings.endsWith(path, slashBase) || strings.endsWith(path, backslashBase) ? originalPattern : null!;\n    };\n    const basenames = [base];\n    parsedPattern.basenames = basenames;\n    parsedPattern.patterns = [originalPattern];\n    parsedPattern.allBasenames = basenames;\n    return parsedPattern;\n}\n\n// repetition of common patterns (see above) {**/*.txt,**/*.png}\nfunction trivia3(pattern: string, options: IGlobOptions): ParsedStringPattern {\n    const parsedPatterns = aggregateBasenameMatches(pattern.slice(1, -1).split(',')\n        .map(pattern => parsePattern(pattern, options))\n        .filter(pattern => pattern !== NULL), pattern);\n    const n = parsedPatterns.length;\n    if (!n) {\n        return NULL;\n    }\n    if (n === 1) {\n        return <ParsedStringPattern>parsedPatterns[0];\n    }\n    const parsedPattern: ParsedStringPattern = function (path: string, basename: string): string {\n        for (let i = 0, n = parsedPatterns.length; i < n; i++) {\n            if ((<ParsedStringPattern>parsedPatterns[i])(path, basename)) {\n                return pattern;\n            }\n        }\n        return null!;\n    };\n    const withBasenames = parsedPatterns.find(pattern => !!(<ParsedStringPattern>pattern).allBasenames);\n    // const withBasenames = arrays.first(parsedPatterns, pattern => !!(<ParsedStringPattern>pattern).allBasenames);\n    if (withBasenames) {\n        parsedPattern.allBasenames = (<ParsedStringPattern>withBasenames).allBasenames;\n    }\n    const allPaths = parsedPatterns.reduce((all, current) => current.allPaths ? all.concat(current.allPaths) : all, <string[]>[]);\n    if (allPaths.length) {\n        parsedPattern.allPaths = allPaths;\n    }\n    return parsedPattern;\n}\n\n// common patterns: **/something/else just need endsWith check, something/else just needs and equals check\nfunction trivia4and5(path: string, pattern: string, matchPathEnds: boolean): ParsedStringPattern {\n    const nativePath = paths.nativeSep !== paths.sep ? path.replace(ALL_FORWARD_SLASHES, paths.nativeSep) : path;\n    const nativePathEnd = paths.nativeSep + nativePath;\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    const parsedPattern: ParsedStringPattern = matchPathEnds ? function (path, basename): string {\n        return path && (path === nativePath || strings.endsWith(path, nativePathEnd)) ? pattern : null!;\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n    } : function (path, basename): string {\n        return path && path === nativePath ? pattern : null!;\n    };\n    parsedPattern.allPaths = [(matchPathEnds ? '*/' : './') + path];\n    return parsedPattern;\n}\n\nfunction toRegExp(pattern: string): ParsedStringPattern {\n    try {\n        const regExp = new RegExp(`^${parseRegExp(pattern)}$`);\n        return function (path: string, basename: string): string {\n            regExp.lastIndex = 0; // reset RegExp to its initial state to reuse it!\n            return path && regExp.test(path) ? pattern : null!;\n        };\n    } catch (error) {\n        return NULL;\n    }\n}\n\n/**\n * Simplified glob matching. Supports a subset of glob patterns:\n * - * matches anything inside a path segment\n * - ? matches 1 character inside a path segment\n * - ** matches anything including an empty path segment\n * - simple brace expansion ({js,ts} => js or ts)\n * - character ranges (using [...])\n */\nexport function match(pattern: string | IRelativePattern, path: string): boolean;\nexport function match(expression: IExpression, path: string, hasSibling?: (name: string) => boolean): string /* the matching pattern */;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function match(arg1: string | IExpression | IRelativePattern, path: string, hasSibling?: (name: string) => boolean): any {\n    if (!arg1 || !path) {\n        return false;\n    }\n\n    return parse(<IExpression>arg1)(path, undefined, hasSibling);\n}\n\n/**\n * Simplified glob matching. Supports a subset of glob patterns:\n * - * matches anything inside a path segment\n * - ? matches 1 character inside a path segment\n * - ** matches anything including an empty path segment\n * - simple brace expansion ({js,ts} => js or ts)\n * - character ranges (using [...])\n */\nexport function parse(pattern: string | IRelativePattern, options?: IGlobOptions): ParsedPattern;\nexport function parse(expression: IExpression, options?: IGlobOptions): ParsedExpression;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function parse(arg1: string | IExpression | IRelativePattern, options: IGlobOptions = {}): any {\n    if (!arg1) {\n        return FALSE;\n    }\n\n    // Glob with String\n    if (typeof arg1 === 'string' || isRelativePattern(arg1)) {\n        const parsedPattern = parsePattern(arg1 as string | IRelativePattern, options);\n        if (parsedPattern === NULL) {\n            return FALSE;\n        }\n        const resultPattern = function (path: string, basename: string): boolean {\n            return !!parsedPattern(path, basename);\n        };\n        if (parsedPattern.allBasenames) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (<ParsedStringPattern><any>resultPattern).allBasenames = parsedPattern.allBasenames;\n        }\n        if (parsedPattern.allPaths) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (<ParsedStringPattern><any>resultPattern).allPaths = parsedPattern.allPaths;\n        }\n        return resultPattern;\n    }\n\n    // Glob with Expression\n    return parsedExpression(<IExpression>arg1, options);\n}\n\nexport function hasSiblingPromiseFn(siblingsFn?: () => Promise<string[]>): ((name: string) => Promise<boolean>) | undefined {\n    if (!siblingsFn) {\n        return undefined;\n    }\n\n    let siblings: Promise<Record<string, true>>;\n    return (name: string) => {\n        if (!siblings) {\n            siblings = (siblingsFn() || Promise.resolve([]))\n                .then(list => list ? listToMap(list) : {});\n        }\n        return siblings.then(map => !!map[name]);\n    };\n}\n\nexport function hasSiblingFn(siblingsFn?: () => string[]): ((name: string) => boolean) | undefined {\n    if (!siblingsFn) {\n        return undefined;\n    }\n\n    let siblings: Record<string, true>;\n    return (name: string) => {\n        if (!siblings) {\n            const list = siblingsFn();\n            siblings = list ? listToMap(list) : {};\n        }\n        return !!siblings[name];\n    };\n}\n\nfunction listToMap(list: string[]): Record<string, true> {\n    const map: Record<string, true> = {};\n    for (const key of list) {\n        map[key] = true;\n    }\n    return map;\n}\n\nexport function isRelativePattern(obj: unknown): obj is IRelativePattern {\n    const rp = obj as IRelativePattern;\n\n    return !!rp && typeof rp === 'object' && typeof rp.base === 'string' && typeof rp.pattern === 'string' && typeof rp.pathToRelative === 'function';\n}\n\n/**\n * Same as `parse`, but the ParsedExpression is guaranteed to return a Promise\n */\nexport function parseToAsync(expression: IExpression, options?: IGlobOptions): ParsedExpression {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    const parsedExpression = parse(expression, options);\n    return (path: string, basename?: string, hasSibling?: (name: string) => boolean | Promise<boolean>): string | Promise<string> => {\n        const result = parsedExpression(path, basename, hasSibling);\n        return result instanceof Promise ? result : Promise.resolve(result);\n    };\n}\n\nexport function getBasenameTerms(patternOrExpression: ParsedPattern | ParsedExpression): string[] {\n    return (<ParsedStringPattern>patternOrExpression).allBasenames || [];\n}\n\nexport function getPathTerms(patternOrExpression: ParsedPattern | ParsedExpression): string[] {\n    return (<ParsedStringPattern>patternOrExpression).allPaths || [];\n}\n\nfunction parsedExpression(expression: IExpression, options: IGlobOptions): ParsedExpression {\n    const parsedPatterns = aggregateBasenameMatches(Object.getOwnPropertyNames(expression)\n        .map(pattern => parseExpressionPattern(pattern, expression[pattern], options))\n        .filter(pattern => pattern !== NULL));\n\n    const n = parsedPatterns.length;\n    if (!n) {\n        return NULL;\n    }\n\n    if (!parsedPatterns.some(parsedPattern => (<ParsedExpressionPattern>parsedPattern).requiresSiblings!)) {\n        if (n === 1) {\n            return <ParsedStringPattern>parsedPatterns[0];\n        }\n\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        const resultExpression: ParsedStringPattern = function (path: string, basename: string): string | Promise<string> {\n            // eslint-disable-next-line @typescript-eslint/no-shadow\n            // tslint:disable-next-line:one-variable-per-declaration\n            for (let i = 0, n = parsedPatterns.length; i < n; i++) {\n                // Pattern matches path\n                const result = (<ParsedStringPattern>parsedPatterns[i])(path, basename);\n                if (result) {\n                    return result;\n                }\n            }\n\n            return null!;\n        };\n\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        const withBasenames = parsedPatterns.find(pattern => !!(<ParsedStringPattern>pattern).allBasenames);\n        if (withBasenames) {\n            resultExpression.allBasenames = (<ParsedStringPattern>withBasenames).allBasenames;\n        }\n\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        const allPaths = parsedPatterns.reduce((all, current) => current.allPaths ? all.concat(current.allPaths) : all, <string[]>[]);\n        if (allPaths.length) {\n            resultExpression.allPaths = allPaths;\n        }\n\n        return resultExpression;\n    }\n\n    const resultExpression: ParsedStringPattern = function (path: string, basename: string, hasSibling?: (name: string) => boolean | Promise<boolean>): string | Promise<string> {\n        let name: string = null!;\n\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        for (let i = 0, n = parsedPatterns.length; i < n; i++) {\n            // Pattern matches path\n            const parsedPattern = (<ParsedExpressionPattern>parsedPatterns[i]);\n            if (parsedPattern.requiresSiblings && hasSibling) {\n                if (!basename) {\n                    basename = paths.basename(path);\n                }\n                if (!name) {\n                    name = basename.substring(0, basename.length - paths.extname(path).length);\n                }\n            }\n            const result = parsedPattern(path, basename, name, hasSibling!);\n            if (result) {\n                return result;\n            }\n        }\n\n        return null!;\n    };\n\n    const withBasenames = parsedPatterns.find(pattern => !!(<ParsedStringPattern>pattern).allBasenames);\n    if (withBasenames) {\n        resultExpression.allBasenames = (<ParsedStringPattern>withBasenames).allBasenames;\n    }\n\n    const allPaths = parsedPatterns.reduce((all, current) => current.allPaths ? all.concat(current.allPaths) : all, <string[]>[]);\n    if (allPaths.length) {\n        resultExpression.allPaths = allPaths;\n    }\n\n    return resultExpression;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction parseExpressionPattern(pattern: string, value: any, options: IGlobOptions): (ParsedStringPattern | ParsedExpressionPattern) {\n    if (value === false) {\n        return NULL; // pattern is disabled\n    }\n\n    const parsedPattern = parsePattern(pattern, options);\n    if (parsedPattern === NULL) {\n        return NULL;\n    }\n\n    // Expression Pattern is <boolean>\n    if (typeof value === 'boolean') {\n        return parsedPattern;\n    }\n\n    // Expression Pattern is <SiblingClause>\n    if (value) {\n        const when = (<SiblingClause>value).when;\n        if (typeof when === 'string') {\n            const result: ParsedExpressionPattern = (path: string, basename: string, name: string, hasSibling: (name: string) => boolean | Promise<boolean>) => {\n                if (!hasSibling || !parsedPattern(path, basename)) {\n                    return null!;\n                }\n\n                const clausePattern = when.replace('$(basename)', name);\n                const matched = hasSibling(clausePattern);\n                return matched instanceof Promise ?\n                    matched.then(m => m ? pattern : null!) :\n                    matched ? pattern : null!;\n            };\n            result.requiresSiblings = true;\n            return result;\n        }\n    }\n\n    // Expression is Anything\n    return parsedPattern;\n}\n\nfunction aggregateBasenameMatches(parsedPatterns: (ParsedStringPattern | ParsedExpressionPattern)[], result?: string): (ParsedStringPattern | ParsedExpressionPattern)[] {\n    const basenamePatterns = parsedPatterns.filter(parsedPattern => !!(<ParsedStringPattern>parsedPattern).basenames);\n    if (basenamePatterns.length < 2) {\n        return parsedPatterns;\n    }\n\n    const basenames = basenamePatterns.reduce<string[]>((all, current) => all.concat((<ParsedStringPattern>current).basenames!), []);\n    let patterns: string[];\n    if (result) {\n        patterns = [];\n        // tslint:disable-next-line:one-variable-per-declaration\n        for (let i = 0, n = basenames.length; i < n; i++) {\n            patterns.push(result);\n        }\n    } else {\n        patterns = basenamePatterns.reduce((all, current) => all.concat((<ParsedStringPattern>current).patterns!), <string[]>[]);\n    }\n    const aggregate: ParsedStringPattern = function (path, basename): string {\n        if (!path) {\n            return null!;\n        }\n        if (!basename) {\n            let i: number;\n            for (i = path.length; i > 0; i--) {\n                const ch = path.charCodeAt(i - 1);\n                if (ch === CharCode.Slash || ch === CharCode.Backslash) {\n                    break;\n                }\n            }\n            basename = path.substring(i);\n        }\n        const index = basenames.indexOf(basename);\n        return index !== -1 ? patterns[index] : null!;\n    };\n    aggregate.basenames = basenames;\n    aggregate.patterns = patterns;\n    aggregate.allBasenames = basenames;\n\n    const aggregatedPatterns = parsedPatterns.filter(parsedPattern => !(<ParsedStringPattern>parsedPattern).basenames);\n    aggregatedPatterns.push(aggregate);\n    return aggregatedPatterns;\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n// copied from https://github.com/Microsoft/vscode/blob/bf7ac9201e7a7d01741d4e6e64b5dc9f3197d97b/src/vs/base/common/paths.ts\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* eslint-disable no-void */\n/* eslint-disable no-null/no-null */\n'use strict';\nimport { isWindows } from './os';\nimport { startsWithIgnoreCase } from './strings';\nimport { CharCode } from './char-code';\n\n/**\n * The forward slash path separator.\n */\nexport const sep = '/';\n\n/**\n * The native path separator depending on the OS.\n */\nexport const nativeSep = isWindows ? '\\\\' : '/';\n\nconst _posixBadPath = /(\\/\\.\\.?\\/)|(\\/\\.\\.?)$|^(\\.\\.?\\/)|(\\/\\/+)|(\\\\)/;\nconst _winBadPath = /(\\\\\\.\\.?\\\\)|(\\\\\\.\\.?)$|^(\\.\\.?\\\\)|(\\\\\\\\+)|(\\/)/;\n\nfunction _isNormal(path: string, win: boolean): boolean {\n    return win\n        ? !_winBadPath.test(path)\n        : !_posixBadPath.test(path);\n}\n\n/**\n * @returns the base name of a path.\n */\nexport function basename(path: string): string {\n    const idx = ~path.lastIndexOf('/') || ~path.lastIndexOf('\\\\');\n    if (idx === 0) {\n        return path;\n    } else if (~idx === path.length - 1) {\n        return basename(path.substring(0, path.length - 1));\n    } else {\n        return path.substring(~idx + 1);\n    }\n}\n\n/**\n * @returns `.far` from `boo.far` or the empty string.\n */\nexport function extname(path: string): string {\n    path = basename(path);\n    const idx = ~path.lastIndexOf('.');\n    return idx ? path.substring(~idx) : '';\n}\n\nexport function normalize(path: string, toOSPath?: boolean): string {\n    if (path === null || path === void 0) {\n        return path;\n    }\n\n    const len = path.length;\n    if (len === 0) {\n        return '.';\n    }\n\n    const wantsBackslash = isWindows && toOSPath;\n    if (_isNormal(path, wantsBackslash!)) {\n        return path;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    const sep = wantsBackslash ? '\\\\' : '/';\n    const root = getRoot(path, sep);\n\n    // skip the root-portion of the path\n    let start = root.length;\n    let skip = false;\n    let res = '';\n\n    for (let end = root.length; end <= len; end++) {\n\n        // either at the end or at a path-separator character\n        if (end === len || path.charCodeAt(end) === CharCode.Slash || path.charCodeAt(end) === CharCode.Backslash) {\n\n            if (streql(path, start, end, '..')) {\n                // skip current and remove parent (if there is already something)\n                const prev_start = res.lastIndexOf(sep);\n                const prev_part = res.slice(prev_start + 1);\n                if ((root || prev_part.length > 0) && prev_part !== '..') {\n                    res = prev_start === -1 ? '' : res.slice(0, prev_start);\n                    skip = true;\n                }\n            } else if (streql(path, start, end, '.') && (root || res || end < len - 1)) {\n                // skip current (if there is already something or if there is more to come)\n                skip = true;\n            }\n\n            if (!skip) {\n                const part = path.slice(start, end);\n                if (res !== '' && res[res.length - 1] !== sep) {\n                    res += sep;\n                }\n                res += part;\n            }\n            start = end + 1;\n            skip = false;\n        }\n    }\n\n    return root + res;\n}\nfunction streql(value: string, start: number, end: number, other: string): boolean {\n    return start + other.length === end && value.indexOf(other, start) === start;\n}\n\n/**\n * Computes the _root_ this path, like `getRoot('c:\\files') === c:\\`,\n * `getRoot('files:///files/path') === files:///`,\n * or `getRoot('\\\\server\\shares\\path') === \\\\server\\shares\\`\n */\n// eslint-disable-next-line @typescript-eslint/no-shadow\nexport function getRoot(path: string, sep: string = '/'): string {\n\n    if (!path) {\n        return '';\n    }\n\n    const len = path.length;\n    let code = path.charCodeAt(0);\n    if (code === CharCode.Slash || code === CharCode.Backslash) {\n\n        code = path.charCodeAt(1);\n        if (code === CharCode.Slash || code === CharCode.Backslash) {\n            // UNC candidate \\\\localhost\\shares\\ddd\n            //               ^^^^^^^^^^^^^^^^^^^\n            code = path.charCodeAt(2);\n            if (code !== CharCode.Slash && code !== CharCode.Backslash) {\n                // eslint-disable-next-line @typescript-eslint/no-shadow\n                let pos = 3;\n                const start = pos;\n                for (; pos < len; pos++) {\n                    code = path.charCodeAt(pos);\n                    if (code === CharCode.Slash || code === CharCode.Backslash) {\n                        break;\n                    }\n                }\n                code = path.charCodeAt(pos + 1);\n                if (start !== pos && code !== CharCode.Slash && code !== CharCode.Backslash) {\n                    pos += 1;\n                    for (; pos < len; pos++) {\n                        code = path.charCodeAt(pos);\n                        if (code === CharCode.Slash || code === CharCode.Backslash) {\n                            return path.slice(0, pos + 1) // consume this separator\n                                .replace(/[\\\\/]/g, sep);\n                        }\n                    }\n                }\n            }\n        }\n\n        // /user/far\n        // ^\n        return sep;\n\n    } else if ((code >= CharCode.A && code <= CharCode.Z) || (code >= CharCode.a && code <= CharCode.z)) {\n        // check for windows drive letter c:\\ or c:\n\n        if (path.charCodeAt(1) === CharCode.Colon) {\n            code = path.charCodeAt(2);\n            if (code === CharCode.Slash || code === CharCode.Backslash) {\n                // C:\\fff\n                // ^^^\n                return path.slice(0, 2) + sep;\n            } else {\n                // C:\n                // ^^\n                return path.slice(0, 2);\n            }\n        }\n    }\n\n    // check for URI\n    // scheme://authority/path\n    // ^^^^^^^^^^^^^^^^^^^\n    let pos = path.indexOf('://');\n    if (pos !== -1) {\n        pos += 3; // 3 -> \"://\".length\n        for (; pos < len; pos++) {\n            code = path.charCodeAt(pos);\n            if (code === CharCode.Slash || code === CharCode.Backslash) {\n                return path.slice(0, pos + 1); // consume this separator\n            }\n        }\n    }\n\n    return '';\n}\n\nexport function isEqualOrParent(path: string, candidate: string, ignoreCase?: boolean): boolean {\n    if (path === candidate) {\n        return true;\n    }\n\n    if (!path || !candidate) {\n        return false;\n    }\n\n    if (candidate.length > path.length) {\n        return false;\n    }\n\n    if (ignoreCase) {\n        const beginsWith = startsWithIgnoreCase(path, candidate);\n        if (!beginsWith) {\n            return false;\n        }\n\n        if (candidate.length === path.length) {\n            return true; // same path, different casing\n        }\n\n        let sepOffset = candidate.length;\n        if (candidate.charAt(candidate.length - 1) === nativeSep) {\n            sepOffset--; // adjust the expected sep offset in case our candidate already ends in separator character\n        }\n\n        return path.charAt(sepOffset) === nativeSep;\n    }\n\n    if (candidate.charAt(candidate.length - 1) !== nativeSep) {\n        candidate += nativeSep;\n    }\n\n    return path.indexOf(candidate) === 0;\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DiagnosticSeverity } from 'vscode-languageserver-protocol';\nimport { nls } from './nls';\n\nexport enum Severity {\n    Ignore = 0,\n    Error = 1,\n    Warning = 2,\n    Info = 3,\n    Log = 4\n}\n\nconst error = 'Errors';\nconst warning = 'Warnings';\nconst info = 'Info';\nconst log = 'Log';\nconst ignore = 'All';\n\nexport namespace Severity {\n    export function fromValue(value: string | undefined): Severity {\n        value = value && value.toLowerCase();\n\n        if (!value) {\n            return Severity.Ignore;\n        }\n        if (['error', 'errors'].indexOf(value) !== -1) {\n            return Severity.Error;\n        }\n        if (['warn', 'warning', 'warnings'].indexOf(value) !== -1) {\n            return Severity.Warning;\n        }\n        if (value === 'info') {\n            return Severity.Info;\n        }\n        if (value === 'log') {\n            return Severity.Log;\n        }\n\n        return Severity.Ignore;\n    }\n\n    export function toDiagnosticSeverity(value: Severity): DiagnosticSeverity {\n        switch (value) {\n            case Severity.Ignore:\n                return DiagnosticSeverity.Hint;\n            case Severity.Info:\n                return DiagnosticSeverity.Information;\n            case Severity.Log:\n                return DiagnosticSeverity.Information;\n            case Severity.Warning:\n                return DiagnosticSeverity.Warning;\n            case Severity.Error:\n                return DiagnosticSeverity.Error;\n            default:\n                return DiagnosticSeverity.Error;\n        }\n    }\n\n    export function toString(severity: Severity | undefined): string {\n        switch (severity) {\n            case Severity.Error:\n                return error;\n            case Severity.Warning:\n                return warning;\n            case Severity.Info:\n                return info;\n            case Severity.Log:\n                return log;\n            default:\n                return ignore;\n        }\n    }\n\n    export function toLocaleString(severity: string | Severity): string {\n        if (severity === Severity.Error || severity === error) {\n            return nls.localize('theia/core/severity/errors', 'Errors');\n        } else if (severity === Severity.Warning || severity === warning) {\n            return nls.localize('theia/core/severity/warnings', 'Warnings');\n        } else if (severity === Severity.Info || severity === info) {\n            return nls.localizeByDefault('Info');\n        } else if (severity === Severity.Log || severity === log) {\n            return nls.localize('theia/core/severity/log', 'Log');\n        } else {\n            return nls.localizeByDefault('All');\n        }\n    }\n\n    export function toArray(): string[] {\n        return [ignore, error, warning, info, log];\n    }\n}\n","module.exports = require('@phosphor/algorithm');\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, optional, postConstruct } from '@theia/core/shared/inversify';\nimport { CommandContribution, CommandRegistry, Command } from '@theia/core/lib/common';\nimport URI from '@theia/core/lib/common/uri';\nimport { CommonCommands, PreferenceService, LabelProvider, ApplicationShell, QuickInputService, QuickPickValue, QuickPickItemOrSeparator } from '@theia/core/lib/browser';\nimport { EditorManager } from './editor-manager';\nimport { EditorPreferences } from './editor-preferences';\nimport { ResourceProvider, MessageService } from '@theia/core';\nimport { LanguageService, Language } from '@theia/core/lib/browser/language-service';\nimport { SUPPORTED_ENCODINGS } from '@theia/core/lib/browser/supported-encodings';\nimport { EncodingMode } from './editor';\nimport { nls } from '@theia/core/lib/common/nls';\n\nexport namespace EditorCommands {\n\n    const EDITOR_CATEGORY = 'Editor';\n    const EDITOR_CATEGORY_KEY = nls.getDefaultKey(EDITOR_CATEGORY);\n\n    export const GOTO_LINE_COLUMN = Command.toDefaultLocalizedCommand({\n        id: 'editor.action.gotoLine',\n        label: 'Go to Line/Column'\n    });\n\n    /**\n     * Show editor references\n     */\n    export const SHOW_REFERENCES: Command = {\n        id: 'textEditor.commands.showReferences'\n    };\n    /**\n     * Change indentation configuration (i.e., indent using tabs / spaces, and how many spaces per tab)\n     */\n    export const CONFIG_INDENTATION: Command = {\n        id: 'textEditor.commands.configIndentation'\n    };\n\n    export const CONFIG_EOL = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.configEol',\n        category: EDITOR_CATEGORY,\n        label: 'Change End of Line Sequence'\n    });\n\n    export const INDENT_USING_SPACES = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.indentUsingSpaces',\n        category: EDITOR_CATEGORY,\n        label: 'Indent Using Spaces'\n    });\n    export const INDENT_USING_TABS = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.indentUsingTabs',\n        category: EDITOR_CATEGORY,\n        label: 'Indent Using Tabs'\n    });\n    export const CHANGE_LANGUAGE = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.change.language',\n        category: EDITOR_CATEGORY,\n        label: 'Change Language Mode'\n    });\n    export const CHANGE_ENCODING = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.change.encoding',\n        category: EDITOR_CATEGORY,\n        label: 'Change File Encoding'\n    });\n    export const REVERT_EDITOR = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.files.revert',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Revert File',\n    });\n    export const REVERT_AND_CLOSE = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.revertAndCloseActiveEditor',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Revert and Close Editor'\n    });\n\n    /**\n     * Command for going back to the last editor navigation location.\n     */\n    export const GO_BACK = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.go.back',\n        category: EDITOR_CATEGORY,\n        label: 'Go Back'\n    });\n    /**\n     * Command for going to the forthcoming editor navigation location.\n     */\n    export const GO_FORWARD = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.go.forward',\n        category: EDITOR_CATEGORY,\n        label: 'Go Forward'\n    });\n    /**\n     * Command that reveals the last text edit location, if any.\n     */\n    export const GO_LAST_EDIT = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.go.lastEdit',\n        category: EDITOR_CATEGORY,\n        label: 'Go to Last Edit Location'\n    });\n    /**\n     * Command that clears the editor navigation history.\n     */\n    export const CLEAR_EDITOR_HISTORY = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.clear.history',\n        category: EDITOR_CATEGORY,\n        label: 'Clear Editor History'\n    });\n    /**\n     * Command that displays all editors that are currently opened.\n     */\n    export const SHOW_ALL_OPENED_EDITORS = Command.toLocalizedCommand({\n        id: 'workbench.action.showAllEditors',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Show All Opened Editors'\n    }, 'theia/editor/showAllEditors', EDITOR_CATEGORY_KEY);\n    /**\n     * Command that toggles the minimap.\n     */\n    export const TOGGLE_MINIMAP = Command.toDefaultLocalizedCommand({\n        id: 'editor.action.toggleMinimap',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Toggle Minimap'\n    });\n    /**\n     * Command that toggles the rendering of whitespace characters in the editor.\n     */\n    export const TOGGLE_RENDER_WHITESPACE = Command.toDefaultLocalizedCommand({\n        id: 'editor.action.toggleRenderWhitespace',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Toggle Render Whitespace'\n    });\n    /**\n     * Command that toggles the word wrap.\n     */\n    export const TOGGLE_WORD_WRAP = Command.toDefaultLocalizedCommand({\n        id: 'editor.action.toggleWordWrap',\n        label: 'View: Toggle Word Wrap'\n    });\n    /**\n     * Command that toggles sticky scroll.\n     */\n    export const TOGGLE_STICKY_SCROLL = Command.toLocalizedCommand({\n        id: 'editor.action.toggleStickyScroll',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Toggle Sticky Scroll',\n    }, 'theia/editor/toggleStickyScroll', EDITOR_CATEGORY_KEY);\n    /**\n     * Command that re-opens the last closed editor.\n     */\n    export const REOPEN_CLOSED_EDITOR = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.reopenClosedEditor',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Reopen Closed Editor'\n    });\n    /**\n     * Opens a second instance of the current editor, splitting the view in the direction specified.\n     */\n    export const SPLIT_EDITOR_RIGHT = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.splitEditorRight',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Split Editor Right'\n    });\n    export const SPLIT_EDITOR_DOWN = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.splitEditorDown',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Split Editor Down'\n    });\n    export const SPLIT_EDITOR_UP = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.splitEditorUp',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Split Editor Up'\n    });\n    export const SPLIT_EDITOR_LEFT = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.splitEditorLeft',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Split Editor Left'\n    });\n    /**\n     * Default horizontal split: right.\n     */\n    export const SPLIT_EDITOR_HORIZONTAL = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.splitEditor',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Split Editor'\n    });\n    /**\n     * Default vertical split: down.\n     */\n    export const SPLIT_EDITOR_VERTICAL = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.splitEditorOrthogonal',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Split Editor Orthogonal'\n    });\n}\n\n@injectable()\nexport class EditorCommandContribution implements CommandContribution {\n\n    public static readonly AUTOSAVE_PREFERENCE: string = 'files.autoSave';\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(PreferenceService)\n    protected readonly preferencesService: PreferenceService;\n\n    @inject(EditorPreferences)\n    protected readonly editorPreferences: EditorPreferences;\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    @inject(MessageService) protected readonly messageService: MessageService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(LanguageService)\n    protected readonly languages: LanguageService;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    @inject(ResourceProvider)\n    protected readonly resourceProvider: ResourceProvider;\n\n    @postConstruct()\n    protected init(): void {\n        this.editorPreferences.onPreferenceChanged(e => {\n            if (e.preferenceName === 'files.autoSave' && e.newValue !== 'off') {\n                this.shell.saveAll();\n            }\n        });\n    }\n\n    registerCommands(registry: CommandRegistry): void {\n        registry.registerCommand(EditorCommands.SHOW_REFERENCES);\n        registry.registerCommand(EditorCommands.CONFIG_INDENTATION);\n        registry.registerCommand(EditorCommands.CONFIG_EOL);\n        registry.registerCommand(EditorCommands.INDENT_USING_SPACES);\n        registry.registerCommand(EditorCommands.INDENT_USING_TABS);\n        registry.registerCommand(EditorCommands.REVERT_EDITOR);\n        registry.registerCommand(EditorCommands.REVERT_AND_CLOSE);\n        registry.registerCommand(EditorCommands.CHANGE_LANGUAGE, {\n            isEnabled: () => this.canConfigureLanguage(),\n            isVisible: () => this.canConfigureLanguage(),\n            execute: () => this.configureLanguage()\n        });\n        registry.registerCommand(EditorCommands.CHANGE_ENCODING, {\n            isEnabled: () => this.canConfigureEncoding(),\n            isVisible: () => this.canConfigureEncoding(),\n            execute: () => this.configureEncoding()\n        });\n\n        registry.registerCommand(EditorCommands.GO_BACK);\n        registry.registerCommand(EditorCommands.GO_FORWARD);\n        registry.registerCommand(EditorCommands.GO_LAST_EDIT);\n        registry.registerCommand(EditorCommands.CLEAR_EDITOR_HISTORY);\n        registry.registerCommand(EditorCommands.TOGGLE_MINIMAP);\n        registry.registerCommand(EditorCommands.TOGGLE_RENDER_WHITESPACE);\n        registry.registerCommand(EditorCommands.TOGGLE_WORD_WRAP);\n        registry.registerCommand(EditorCommands.TOGGLE_STICKY_SCROLL);\n        registry.registerCommand(EditorCommands.REOPEN_CLOSED_EDITOR);\n\n        registry.registerCommand(CommonCommands.AUTO_SAVE, {\n            isToggled: () => this.isAutoSaveOn(),\n            execute: () => this.toggleAutoSave()\n        });\n    }\n\n    protected canConfigureLanguage(): boolean {\n        const widget = this.editorManager.currentEditor;\n        const editor = widget && widget.editor;\n        return !!editor && !!this.languages.languages;\n    }\n    protected async configureLanguage(): Promise<void> {\n        const widget = this.editorManager.currentEditor;\n        const editor = widget && widget.editor;\n        if (!editor || !this.languages.languages) {\n            return;\n        }\n        const current = editor.document.languageId;\n        const items: Array<QuickPickValue<'autoDetect' | Language> | QuickPickItemOrSeparator> = [\n            { label: nls.localizeByDefault('Auto Detect'), value: 'autoDetect' },\n            { type: 'separator', label: nls.localizeByDefault('languages (identifier)') },\n            ... (this.languages.languages.map(language => this.toQuickPickLanguage(language, current))).sort((e, e2) => e.label.localeCompare(e2.label))\n        ];\n        const selectedMode = await this.quickInputService?.showQuickPick(items, { placeholder: nls.localizeByDefault('Select Language Mode') });\n        if (selectedMode && ('value' in selectedMode)) {\n            if (selectedMode.value === 'autoDetect') {\n                editor.detectLanguage();\n            } else if (selectedMode.value) {\n                editor.setLanguage(selectedMode.value.id);\n            }\n        }\n    }\n\n    protected canConfigureEncoding(): boolean {\n        const widget = this.editorManager.currentEditor;\n        const editor = widget && widget.editor;\n        return !!editor;\n    }\n    protected async configureEncoding(): Promise<void> {\n        const widget = this.editorManager.currentEditor;\n        const editor = widget && widget.editor;\n        if (!editor) {\n            return;\n        }\n        const reopenWithEncodingPick = { label: nls.localizeByDefault('Reopen with Encoding'), value: 'reopen' };\n        const saveWithEncodingPick = { label: nls.localizeByDefault('Save with Encoding'), value: 'save' };\n        const actionItems: QuickPickValue<string>[] = [\n            reopenWithEncodingPick,\n            saveWithEncodingPick\n        ];\n        const selectedEncoding = await this.quickInputService?.showQuickPick(actionItems, { placeholder: nls.localizeByDefault('Select Action') });\n        if (!selectedEncoding) {\n            return;\n        }\n        const isReopenWithEncoding = (selectedEncoding.value === reopenWithEncodingPick.value);\n\n        const configuredEncoding = this.preferencesService.get<string>('files.encoding', 'utf8', editor.uri.toString());\n\n        const resource = await this.resourceProvider(editor.uri);\n        const guessedEncoding = resource.guessEncoding ? await resource.guessEncoding() : undefined;\n        resource.dispose();\n\n        const encodingItems: QuickPickValue<{ id: string, description: string }>[] = Object.keys(SUPPORTED_ENCODINGS)\n            .sort((k1, k2) => {\n                if (k1 === configuredEncoding) {\n                    return -1;\n                } else if (k2 === configuredEncoding) {\n                    return 1;\n                }\n                return SUPPORTED_ENCODINGS[k1].order - SUPPORTED_ENCODINGS[k2].order;\n            })\n            .filter(k => {\n                if (k === guessedEncoding && guessedEncoding !== configuredEncoding) {\n                    return false; // do not show encoding if it is the guessed encoding that does not match the configured\n                }\n\n                return !isReopenWithEncoding || !SUPPORTED_ENCODINGS[k].encodeOnly; // hide those that can only be used for encoding if we are about to decode\n            })\n            .map(key => ({ label: SUPPORTED_ENCODINGS[key].labelLong, value: { id: key, description: key } }));\n\n        // Insert guessed encoding\n        if (guessedEncoding && configuredEncoding !== guessedEncoding && SUPPORTED_ENCODINGS[guessedEncoding]) {\n            encodingItems.unshift({\n                label: `${nls.localizeByDefault('Guessed from content')}: ${SUPPORTED_ENCODINGS[guessedEncoding].labelLong}`,\n                value: { id: guessedEncoding, description: guessedEncoding }\n            });\n        }\n        const selectedFileEncoding = await this.quickInputService?.showQuickPick<QuickPickValue<{ id: string, description: string }>>(encodingItems, {\n            placeholder: isReopenWithEncoding ?\n                nls.localizeByDefault('Select File Encoding to Reopen File') :\n                nls.localizeByDefault('Select File Encoding to Save with')\n        });\n\n        if (!selectedFileEncoding) {\n            return;\n        }\n        if (editor.document.dirty && isReopenWithEncoding) {\n            this.messageService.info(nls.localize('theia/editor/dirtyEncoding', 'The file is dirty. Please save it first before reopening it with another encoding.'));\n            return;\n        } else if (selectedFileEncoding.value) {\n            editor.setEncoding(selectedFileEncoding.value.id, isReopenWithEncoding ? EncodingMode.Decode : EncodingMode.Encode);\n        }\n    }\n\n    protected toQuickPickLanguage(value: Language, current: string): QuickPickValue<Language> {\n        const languageUri = this.toLanguageUri(value);\n        const icon = this.labelProvider.getIcon(languageUri);\n        const iconClasses = icon !== '' ? [icon + ' file-icon'] : undefined;\n        const configured = current === value.id;\n        return {\n            value,\n            label: value.name,\n            description: nls.localizeByDefault(`({0})${configured ? ' - Configured Language' : ''}`, value.id),\n            iconClasses\n        };\n    }\n    protected toLanguageUri(language: Language): URI {\n        const extension = language.extensions.values().next();\n        if (extension.value) {\n            return new URI('file:///' + extension.value);\n        }\n        const filename = language.filenames.values().next();\n        if (filename.value) {\n            return new URI('file:///' + filename.value);\n        }\n        return new URI('file:///.txt');\n    }\n\n    protected isAutoSaveOn(): boolean {\n        const autoSave = this.preferencesService.get(EditorCommandContribution.AUTOSAVE_PREFERENCE);\n        return autoSave !== 'off';\n    }\n\n    protected async toggleAutoSave(): Promise<void> {\n        this.preferencesService.updateValue(EditorCommandContribution.AUTOSAVE_PREFERENCE, this.isAutoSaveOn() ? 'off' : 'afterDelay');\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { EditorManager } from './editor-manager';\nimport { TextEditor } from './editor';\nimport { injectable, inject, optional } from '@theia/core/shared/inversify';\nimport { StatusBarAlignment, StatusBar } from '@theia/core/lib/browser/status-bar/status-bar';\nimport {\n    FrontendApplicationContribution, DiffUris, DockLayout,\n    QuickInputService, KeybindingRegistry, KeybindingContribution, SHELL_TABBAR_CONTEXT_SPLIT, ApplicationShell\n} from '@theia/core/lib/browser';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { CommandHandler, DisposableCollection, MenuContribution, MenuModelRegistry } from '@theia/core';\nimport { EditorCommands } from './editor-command';\nimport { CommandRegistry, CommandContribution } from '@theia/core/lib/common';\nimport { SUPPORTED_ENCODINGS } from '@theia/core/lib/browser/supported-encodings';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { CurrentWidgetCommandAdapter } from '@theia/core/lib/browser/shell/current-widget-command-adapter';\nimport { EditorWidget } from './editor-widget';\nimport { EditorLanguageStatusService } from './language-status/editor-language-status-service';\n\n@injectable()\nexport class EditorContribution implements FrontendApplicationContribution, CommandContribution, KeybindingContribution, MenuContribution {\n\n    @inject(StatusBar) protected readonly statusBar: StatusBar;\n    @inject(EditorManager) protected readonly editorManager: EditorManager;\n    @inject(EditorLanguageStatusService) protected readonly languageStatusService: EditorLanguageStatusService;\n    @inject(ApplicationShell) protected readonly shell: ApplicationShell;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    onStart(): void {\n        this.initEditorContextKeys();\n\n        this.updateStatusBar();\n        this.editorManager.onCurrentEditorChanged(() => this.updateStatusBar());\n    }\n\n    protected initEditorContextKeys(): void {\n        const editorIsOpen = this.contextKeyService.createKey<boolean>('editorIsOpen', false);\n        const textCompareEditorVisible = this.contextKeyService.createKey<boolean>('textCompareEditorVisible', false);\n        const updateContextKeys = () => {\n            const widgets = this.editorManager.all;\n            editorIsOpen.set(!!widgets.length);\n            textCompareEditorVisible.set(widgets.some(widget => DiffUris.isDiffUri(widget.editor.uri)));\n        };\n        updateContextKeys();\n        for (const widget of this.editorManager.all) {\n            widget.disposed.connect(updateContextKeys);\n        }\n        this.editorManager.onCreated(widget => {\n            updateContextKeys();\n            widget.disposed.connect(updateContextKeys);\n        });\n    }\n\n    protected readonly toDisposeOnCurrentEditorChanged = new DisposableCollection();\n    protected updateStatusBar(): void {\n        this.toDisposeOnCurrentEditorChanged.dispose();\n\n        const widget = this.editorManager.currentEditor;\n        const editor = widget && widget.editor;\n        this.updateLanguageStatus(editor);\n        this.updateEncodingStatus(editor);\n        this.setCursorPositionStatus(editor);\n        if (editor) {\n            this.toDisposeOnCurrentEditorChanged.pushAll([\n                editor.onLanguageChanged(() => this.updateLanguageStatus(editor)),\n                editor.onEncodingChanged(() => this.updateEncodingStatus(editor)),\n                editor.onCursorPositionChanged(() => this.setCursorPositionStatus(editor))\n            ]);\n        }\n    }\n\n    protected updateLanguageStatus(editor: TextEditor | undefined): void {\n        this.languageStatusService.updateLanguageStatus(editor);\n    }\n\n    protected updateEncodingStatus(editor: TextEditor | undefined): void {\n        if (!editor) {\n            this.statusBar.removeElement('editor-status-encoding');\n            return;\n        }\n        this.statusBar.setElement('editor-status-encoding', {\n            text: SUPPORTED_ENCODINGS[editor.getEncoding()].labelShort,\n            alignment: StatusBarAlignment.RIGHT,\n            priority: 10,\n            command: EditorCommands.CHANGE_ENCODING.id,\n            tooltip: nls.localizeByDefault('Select Encoding')\n        });\n    }\n\n    protected setCursorPositionStatus(editor: TextEditor | undefined): void {\n        if (!editor) {\n            this.statusBar.removeElement('editor-status-cursor-position');\n            return;\n        }\n        const { cursor } = editor;\n        this.statusBar.setElement('editor-status-cursor-position', {\n            text: nls.localizeByDefault('Ln {0}, Col {1}', cursor.line + 1, editor.getVisibleColumn(cursor)),\n            alignment: StatusBarAlignment.RIGHT,\n            priority: 100,\n            tooltip: EditorCommands.GOTO_LINE_COLUMN.label,\n            command: EditorCommands.GOTO_LINE_COLUMN.id\n        });\n    }\n\n    registerCommands(commands: CommandRegistry): void {\n        commands.registerCommand(EditorCommands.SHOW_ALL_OPENED_EDITORS, {\n            execute: () => this.quickInputService?.open('edt ')\n        });\n        const splitHandlerFactory = (splitMode: DockLayout.InsertMode): CommandHandler => new CurrentWidgetCommandAdapter(this.shell, {\n            isEnabled: title => title?.owner instanceof EditorWidget,\n            execute: async title => {\n                if (title?.owner instanceof EditorWidget) {\n                    const selection = title.owner.editor.selection;\n                    const newEditor = await this.editorManager.openToSide(title.owner.editor.uri, { selection, widgetOptions: { mode: splitMode, ref: title.owner } });\n                    const oldEditorState = title.owner.editor.storeViewState();\n                    newEditor.editor.restoreViewState(oldEditorState);\n                }\n            }\n        });\n        commands.registerCommand(EditorCommands.SPLIT_EDITOR_HORIZONTAL, splitHandlerFactory('split-right'));\n        commands.registerCommand(EditorCommands.SPLIT_EDITOR_VERTICAL, splitHandlerFactory('split-bottom'));\n        commands.registerCommand(EditorCommands.SPLIT_EDITOR_RIGHT, splitHandlerFactory('split-right'));\n        commands.registerCommand(EditorCommands.SPLIT_EDITOR_DOWN, splitHandlerFactory('split-bottom'));\n        commands.registerCommand(EditorCommands.SPLIT_EDITOR_UP, splitHandlerFactory('split-top'));\n        commands.registerCommand(EditorCommands.SPLIT_EDITOR_LEFT, splitHandlerFactory('split-left'));\n    }\n\n    registerKeybindings(keybindings: KeybindingRegistry): void {\n        keybindings.registerKeybinding({\n            command: EditorCommands.SHOW_ALL_OPENED_EDITORS.id,\n            keybinding: 'ctrlcmd+k ctrlcmd+p'\n        });\n        keybindings.registerKeybinding({\n            command: EditorCommands.SPLIT_EDITOR_HORIZONTAL.id,\n            keybinding: 'ctrlcmd+\\\\',\n        });\n        keybindings.registerKeybinding({\n            command: EditorCommands.SPLIT_EDITOR_VERTICAL.id,\n            keybinding: 'ctrlcmd+k ctrlcmd+\\\\',\n        });\n    }\n\n    registerMenus(registry: MenuModelRegistry): void {\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_UP.id,\n            label: nls.localizeByDefault('Split Up'),\n            order: '1',\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_DOWN.id,\n            label: nls.localizeByDefault('Split Down'),\n            order: '2',\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_LEFT.id,\n            label: nls.localizeByDefault('Split Left'),\n            order: '3',\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_RIGHT.id,\n            label: nls.localizeByDefault('Split Right'),\n            order: '4',\n        });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport '../../src/browser/style/index.css';\nimport '../../src/browser/language-status/editor-language-status.css';\n\nimport { ContainerModule } from '@theia/core/shared/inversify';\nimport { CommandContribution, MenuContribution } from '@theia/core/lib/common';\nimport { OpenHandler, WidgetFactory, FrontendApplicationContribution, KeybindingContribution } from '@theia/core/lib/browser';\nimport { VariableContribution } from '@theia/variable-resolver/lib/browser';\nimport { EditorManager, EditorAccess, ActiveEditorAccess, CurrentEditorAccess } from './editor-manager';\nimport { EditorContribution } from './editor-contribution';\nimport { EditorMenuContribution } from './editor-menu';\nimport { EditorCommandContribution } from './editor-command';\nimport { EditorKeybindingContribution } from './editor-keybinding';\nimport { bindEditorPreferences } from './editor-preferences';\nimport { EditorWidgetFactory } from './editor-widget-factory';\nimport { EditorNavigationContribution } from './editor-navigation-contribution';\nimport { NavigationLocationUpdater } from './navigation/navigation-location-updater';\nimport { NavigationLocationService } from './navigation/navigation-location-service';\nimport { NavigationLocationSimilarity } from './navigation/navigation-location-similarity';\nimport { EditorVariableContribution } from './editor-variable-contribution';\nimport { QuickAccessContribution } from '@theia/core/lib/browser/quick-input/quick-access';\nimport { QuickEditorService } from './quick-editor-service';\nimport { EditorLanguageStatusService } from './language-status/editor-language-status-service';\nimport { EditorLineNumberContribution } from './editor-linenumber-contribution';\nimport { UndoRedoService } from './undo-redo-service';\n\nexport default new ContainerModule(bind => {\n    bindEditorPreferences(bind);\n\n    bind(EditorWidgetFactory).toSelf().inSingletonScope();\n    bind(WidgetFactory).toService(EditorWidgetFactory);\n\n    bind(EditorManager).toSelf().inSingletonScope();\n    bind(OpenHandler).toService(EditorManager);\n\n    bind(EditorCommandContribution).toSelf().inSingletonScope();\n    bind(CommandContribution).toService(EditorCommandContribution);\n\n    bind(EditorMenuContribution).toSelf().inSingletonScope();\n    bind(MenuContribution).toService(EditorMenuContribution);\n\n    bind(EditorKeybindingContribution).toSelf().inSingletonScope();\n    bind(KeybindingContribution).toService(EditorKeybindingContribution);\n\n    bind(EditorContribution).toSelf().inSingletonScope();\n    bind(FrontendApplicationContribution).toService(EditorContribution);\n    bind(EditorLanguageStatusService).toSelf().inSingletonScope();\n\n    bind(EditorLineNumberContribution).toSelf().inSingletonScope();\n    bind(FrontendApplicationContribution).toService(EditorLineNumberContribution);\n\n    bind(EditorNavigationContribution).toSelf().inSingletonScope();\n    bind(FrontendApplicationContribution).toService(EditorNavigationContribution);\n    bind(NavigationLocationService).toSelf().inSingletonScope();\n    bind(NavigationLocationUpdater).toSelf().inSingletonScope();\n    bind(NavigationLocationSimilarity).toSelf().inSingletonScope();\n\n    bind(VariableContribution).to(EditorVariableContribution).inSingletonScope();\n\n    [CommandContribution, KeybindingContribution, MenuContribution].forEach(serviceIdentifier => {\n        bind(serviceIdentifier).toService(EditorContribution);\n    });\n    bind(QuickEditorService).toSelf().inSingletonScope();\n    bind(QuickAccessContribution).to(QuickEditorService);\n\n    bind(CurrentEditorAccess).toSelf().inSingletonScope();\n    bind(ActiveEditorAccess).toSelf().inSingletonScope();\n    bind(EditorAccess).to(CurrentEditorAccess).inSingletonScope().whenTargetNamed(EditorAccess.CURRENT);\n    bind(EditorAccess).to(ActiveEditorAccess).inSingletonScope().whenTargetNamed(EditorAccess.ACTIVE);\n\n    bind(UndoRedoService).toSelf().inSingletonScope();\n});\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { environment } from '@theia/core/shared/@theia/application-package/lib/environment';\nimport { isOSX, isWindows } from '@theia/core/lib/common/os';\nimport { KeybindingContribution, KeybindingRegistry } from '@theia/core/lib/browser/keybinding';\nimport { EditorCommands } from './editor-command';\n\n@injectable()\nexport class EditorKeybindingContribution implements KeybindingContribution {\n\n    registerKeybindings(registry: KeybindingRegistry): void {\n        registry.registerKeybindings(\n            {\n                command: EditorCommands.GO_BACK.id,\n                keybinding: isOSX ? 'ctrl+-' : isWindows ? 'alt+left' : /* isLinux */ 'ctrl+alt+-'\n            },\n            {\n                command: EditorCommands.GO_FORWARD.id,\n                keybinding: isOSX ? 'ctrl+shift+-' : isWindows ? 'alt+right' : /* isLinux */ 'ctrl+shift+-'\n            },\n            {\n                command: EditorCommands.GO_LAST_EDIT.id,\n                keybinding: 'ctrl+alt+q'\n            },\n            {\n                command: EditorCommands.TOGGLE_WORD_WRAP.id,\n                keybinding: 'alt+z'\n            },\n            {\n                command: EditorCommands.REOPEN_CLOSED_EDITOR.id,\n                keybinding: this.isElectron() ? 'ctrlcmd+shift+t' : 'alt+shift+t'\n            }\n        );\n    }\n\n    private isElectron(): boolean {\n        return environment.electron.is();\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { EditorManager } from './editor-manager';\nimport { EditorMouseEvent, MouseTargetType, Position, TextEditor } from './editor';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { FrontendApplicationContribution, ContextMenuRenderer } from '@theia/core/lib/browser';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { Disposable, DisposableCollection, MenuPath } from '@theia/core';\nimport { EditorWidget } from './editor-widget';\n\nexport const EDITOR_LINENUMBER_CONTEXT_MENU: MenuPath = ['editor_linenumber_context_menu'];\n\n@injectable()\nexport class EditorLineNumberContribution implements FrontendApplicationContribution {\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @inject(ContextMenuRenderer)\n    protected readonly contextMenuRenderer: ContextMenuRenderer;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    onStart(): void {\n        this.editorManager.onCreated(editor => this.addLineNumberContextMenu(editor));\n    }\n\n    protected addLineNumberContextMenu(editorWidget: EditorWidget): void {\n        const editor = editorWidget.editor;\n        if (editor) {\n            const disposables = new DisposableCollection();\n            disposables.push(editor.onMouseDown(event => this.handleContextMenu(editor, event)));\n            const dispose = () => disposables.dispose();\n            editorWidget.disposed.connect(dispose);\n            disposables.push(Disposable.create(() => editorWidget.disposed.disconnect(dispose)));\n        }\n    }\n\n    protected handleContextMenu(editor: TextEditor, event: EditorMouseEvent): void {\n        if (event.target && (event.target.type === MouseTargetType.GUTTER_LINE_NUMBERS || event.target.type === MouseTargetType.GUTTER_GLYPH_MARGIN)) {\n            if (event.event.button === 2) {\n                editor.focus();\n                const lineNumber = lineNumberFromPosition(event.target.position);\n                const contextKeyService = this.contextKeyService.createOverlay([['editorLineNumber', lineNumber]]);\n                const uri = editor.getResourceUri()!;\n                const args = [{\n                    lineNumber: lineNumber,\n                    column: 1, // Compatible with Monaco editor IPosition API\n                    uri: uri['codeUri'],\n                }];\n\n                setTimeout(() => {\n                    this.contextMenuRenderer.render({\n                        menuPath: EDITOR_LINENUMBER_CONTEXT_MENU,\n                        anchor: event.event,\n                        args,\n                        contextKeyService\n                    });\n                });\n            }\n        }\n    }\n\n}\n\nfunction lineNumberFromPosition(position: Position | undefined): number | undefined {\n    // position.line is 0-based line position, where the expected editor line number is 1-based.\n    if (position) {\n        return position.line + 1;\n    }\n    return undefined;\n}\n\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, postConstruct, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { RecursivePartial, Emitter, Event, MaybePromise, CommandService } from '@theia/core/lib/common';\nimport { WidgetOpenerOptions, NavigatableWidgetOpenHandler, NavigatableWidgetOptions, Widget, PreferenceService, CommonCommands } from '@theia/core/lib/browser';\nimport { EditorWidget } from './editor-widget';\nimport { Range, Position, Location, TextEditor } from './editor';\nimport { EditorWidgetFactory } from './editor-widget-factory';\n\nexport interface WidgetId {\n    id: number;\n    uri: string;\n}\n\nexport interface EditorOpenerOptions extends WidgetOpenerOptions {\n    selection?: RecursivePartial<Range>;\n    preview?: boolean;\n    counter?: number\n}\n\n@injectable()\nexport class EditorManager extends NavigatableWidgetOpenHandler<EditorWidget> {\n\n    readonly id = EditorWidgetFactory.ID;\n\n    readonly label = 'Code Editor';\n\n    protected readonly editorCounters = new Map<string, number>();\n\n    protected readonly onActiveEditorChangedEmitter = new Emitter<EditorWidget | undefined>();\n    /**\n     * Emit when the active editor is changed.\n     */\n    readonly onActiveEditorChanged: Event<EditorWidget | undefined> = this.onActiveEditorChangedEmitter.event;\n\n    protected readonly onCurrentEditorChangedEmitter = new Emitter<EditorWidget | undefined>();\n    /**\n     * Emit when the current editor is changed.\n     */\n    readonly onCurrentEditorChanged: Event<EditorWidget | undefined> = this.onCurrentEditorChangedEmitter.event;\n\n    @inject(CommandService) protected readonly commands: CommandService;\n    @inject(PreferenceService) protected readonly preferenceService: PreferenceService;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.shell.onDidChangeActiveWidget(() => this.updateActiveEditor());\n        this.shell.onDidChangeCurrentWidget(() => this.updateCurrentEditor());\n        this.shell.onDidDoubleClickMainArea(() =>\n            this.commands.executeCommand(CommonCommands.NEW_UNTITLED_TEXT_FILE.id)\n        );\n        this.onCreated(widget => {\n            widget.onDidChangeVisibility(() => {\n                if (widget.isVisible) {\n                    this.addRecentlyVisible(widget);\n                }\n                this.updateCurrentEditor();\n            });\n            this.checkCounterForWidget(widget);\n            widget.disposed.connect(() => {\n                this.removeFromCounter(widget);\n                this.removeRecentlyVisible(widget);\n                this.updateCurrentEditor();\n            });\n        });\n        for (const widget of this.all) {\n            if (widget.isVisible) {\n                this.addRecentlyVisible(widget);\n            }\n        }\n        this.updateCurrentEditor();\n    }\n\n    override getByUri(uri: URI, options?: EditorOpenerOptions): Promise<EditorWidget | undefined> {\n        return this.getWidget(uri, options);\n    }\n\n    override getOrCreateByUri(uri: URI, options?: EditorOpenerOptions): Promise<EditorWidget> {\n        return this.getOrCreateWidget(uri, options);\n    }\n\n    protected override tryGetPendingWidget(uri: URI, options?: EditorOpenerOptions): MaybePromise<EditorWidget> | undefined {\n        const editorPromise = super.tryGetPendingWidget(uri, options);\n        if (editorPromise) {\n            // Reveal selection before attachment to manage nav stack. (https://github.com/eclipse-theia/theia/issues/8955)\n            if (!(editorPromise instanceof Widget)) {\n                editorPromise.then(editor => this.revealSelection(editor, options, uri));\n            } else {\n                this.revealSelection(editorPromise, options);\n            }\n        }\n        return editorPromise;\n    }\n\n    protected override async getWidget(uri: URI, options?: EditorOpenerOptions): Promise<EditorWidget | undefined> {\n        const editor = await super.getWidget(uri, options);\n        if (editor) {\n            // Reveal selection before attachment to manage nav stack. (https://github.com/eclipse-theia/theia/issues/8955)\n            this.revealSelection(editor, options, uri);\n        }\n        return editor;\n    }\n\n    protected override async getOrCreateWidget(uri: URI, options?: EditorOpenerOptions): Promise<EditorWidget> {\n        const editor = await super.getOrCreateWidget(uri, options);\n        // Reveal selection before attachment to manage nav stack. (https://github.com/eclipse-theia/theia/issues/8955)\n        this.revealSelection(editor, options, uri);\n        return editor;\n    }\n\n    protected readonly recentlyVisibleIds: string[] = [];\n    protected get recentlyVisible(): EditorWidget | undefined {\n        const id = this.recentlyVisibleIds[0];\n        return id && this.all.find(w => w.id === id) || undefined;\n    }\n    protected addRecentlyVisible(widget: EditorWidget): void {\n        this.removeRecentlyVisible(widget);\n        this.recentlyVisibleIds.unshift(widget.id);\n    }\n    protected removeRecentlyVisible(widget: EditorWidget): void {\n        const index = this.recentlyVisibleIds.indexOf(widget.id);\n        if (index !== -1) {\n            this.recentlyVisibleIds.splice(index, 1);\n        }\n    }\n\n    protected _activeEditor: EditorWidget | undefined;\n    /**\n     * The active editor.\n     * If there is an active editor (one that has focus), active and current are the same.\n     */\n    get activeEditor(): EditorWidget | undefined {\n        return this._activeEditor;\n    }\n    protected setActiveEditor(active: EditorWidget | undefined): void {\n        if (this._activeEditor !== active) {\n            this._activeEditor = active;\n            this.onActiveEditorChangedEmitter.fire(this._activeEditor);\n        }\n    }\n    protected updateActiveEditor(): void {\n        const widget = this.shell.activeWidget;\n        if (widget instanceof EditorWidget) {\n            this.addRecentlyVisible(widget);\n            this.setActiveEditor(widget);\n        } else {\n            this.setActiveEditor(undefined);\n        }\n    }\n\n    protected _currentEditor: EditorWidget | undefined;\n    /**\n     * The most recently activated editor (which might not have the focus anymore, hence it is not active).\n     * If no editor has focus, e.g. when a context menu is shown, the active editor is `undefined`, but current might be the editor that was active before the menu popped up.\n     */\n    get currentEditor(): EditorWidget | undefined {\n        return this._currentEditor;\n    }\n    protected setCurrentEditor(current: EditorWidget | undefined): void {\n        if (this._currentEditor !== current) {\n            this._currentEditor = current;\n            this.onCurrentEditorChangedEmitter.fire(this._currentEditor);\n        }\n    }\n    protected updateCurrentEditor(): void {\n        const widget = this.shell.currentWidget;\n        if (widget instanceof EditorWidget) {\n            this.setCurrentEditor(widget);\n        } else if (!this._currentEditor || !this._currentEditor.isVisible || this.currentEditor !== this.recentlyVisible) {\n            this.setCurrentEditor(this.recentlyVisible);\n        }\n    }\n\n    canHandle(uri: URI, options?: WidgetOpenerOptions): number {\n        return 100;\n    }\n\n    override open(uri: URI, options?: EditorOpenerOptions): Promise<EditorWidget> {\n        if (options?.counter === undefined) {\n            const insertionOptions = this.shell.getInsertionOptions(options?.widgetOptions);\n            // Definitely creating a new tabbar - no widget can match.\n            if (insertionOptions.addOptions.mode?.startsWith('split')) {\n                return super.open(uri, { counter: this.createCounterForUri(uri), ...options });\n            }\n            // Check the target tabbar for an existing widget.\n            const tabbar = insertionOptions.addOptions.ref && this.shell.getTabBarFor(insertionOptions.addOptions.ref);\n            if (tabbar) {\n                const currentUri = uri.toString();\n                for (const title of tabbar.titles) {\n                    if (title.owner instanceof EditorWidget) {\n                        const { uri: otherWidgetUri, id } = this.extractIdFromWidget(title.owner);\n                        if (otherWidgetUri === currentUri) {\n                            return super.open(uri, { counter: id, ...options });\n                        }\n                    }\n                }\n            }\n            // If the user has opted to prefer to open an existing editor even if it's on a different tab, check if we have anything about the URI.\n            if (this.preferenceService.get('workbench.editor.revealIfOpen', false)) {\n                const counter = this.getCounterForUri(uri);\n                if (counter !== undefined) {\n                    return super.open(uri, { counter, ...options });\n                }\n            }\n            // Open a new widget.\n            return super.open(uri, { counter: this.createCounterForUri(uri), ...options });\n        }\n\n        return super.open(uri, options);\n    }\n\n    /**\n     * Opens an editor to the side of the current editor. Defaults to opening to the right.\n     * To modify direction, pass options with `{widgetOptions: {mode: ...}}`\n     */\n    openToSide(uri: URI, options?: EditorOpenerOptions): Promise<EditorWidget> {\n        const counter = this.createCounterForUri(uri);\n        const splitOptions: EditorOpenerOptions = { widgetOptions: { mode: 'split-right' }, ...options, counter };\n        return this.open(uri, splitOptions);\n    }\n\n    protected revealSelection(widget: EditorWidget, input?: EditorOpenerOptions, uri?: URI): void {\n        let inputSelection = input?.selection;\n        if (!inputSelection && uri) {\n            const match = /^L?(\\d+)(?:,(\\d+))?/.exec(uri.fragment);\n            if (match) {\n                // support file:///some/file.js#73,84\n                // support file:///some/file.js#L73\n                inputSelection = {\n                    start: {\n                        line: parseInt(match[1]) - 1,\n                        character: match[2] ? parseInt(match[2]) - 1 : 0\n                    }\n                };\n            }\n        }\n        if (inputSelection) {\n            const editor = widget.editor;\n            const selection = this.getSelection(widget, inputSelection);\n            if (Position.is(selection)) {\n                editor.cursor = selection;\n                editor.revealPosition(selection);\n            } else if (Range.is(selection)) {\n                editor.cursor = selection.end;\n                editor.selection = selection;\n                editor.revealRange(selection);\n            }\n        }\n    }\n\n    protected getSelection(widget: EditorWidget, selection: RecursivePartial<Range>): Range | Position | undefined {\n        const { start, end } = selection;\n        if (Position.is(start)) {\n            if (Position.is(end)) {\n                return widget.editor.document.toValidRange({ start, end });\n            }\n            return widget.editor.document.toValidPosition(start);\n        }\n        const line = start && start.line !== undefined && start.line >= 0 ? start.line : undefined;\n        if (line === undefined) {\n            return undefined;\n        }\n        const character = start && start.character !== undefined && start.character >= 0 ? start.character : widget.editor.document.getLineMaxColumn(line);\n        const endLine = end && end.line !== undefined && end.line >= 0 ? end.line : undefined;\n        if (endLine === undefined) {\n            return { line, character };\n        }\n        const endCharacter = end && end.character !== undefined && end.character >= 0 ? end.character : widget.editor.document.getLineMaxColumn(endLine);\n        return {\n            start: { line, character },\n            end: { line: endLine, character: endCharacter }\n        };\n    }\n\n    protected removeFromCounter(widget: EditorWidget): void {\n        const { id, uri } = this.extractIdFromWidget(widget);\n        if (uri && !Number.isNaN(id)) {\n            let max = -Infinity;\n            this.all.forEach(editor => {\n                const candidateID = this.extractIdFromWidget(editor);\n                if ((candidateID.uri === uri) && (candidateID.id > max)) {\n                    max = candidateID.id!;\n                }\n            });\n\n            if (max > -Infinity) {\n                this.editorCounters.set(uri, max);\n            } else {\n                this.editorCounters.delete(uri);\n            }\n        }\n    }\n\n    protected extractIdFromWidget(widget: EditorWidget): WidgetId {\n        const uri = widget.editor.uri.toString();\n        const id = Number(widget.id.slice(widget.id.lastIndexOf(':') + 1));\n        return { id, uri };\n    }\n\n    protected checkCounterForWidget(widget: EditorWidget): void {\n        const { id, uri } = this.extractIdFromWidget(widget);\n        const numericalId = Number(id);\n        if (uri && !Number.isNaN(numericalId)) {\n            const highestKnownId = this.editorCounters.get(uri) ?? -Infinity;\n            if (numericalId > highestKnownId) {\n                this.editorCounters.set(uri, numericalId);\n            }\n        }\n    }\n\n    protected createCounterForUri(uri: URI): number {\n        const identifier = uri.toString();\n        const next = (this.editorCounters.get(identifier) ?? 0) + 1;\n        return next;\n    }\n\n    protected getCounterForUri(uri: URI): number | undefined {\n        const idWithoutCounter = EditorWidgetFactory.createID(uri);\n        const counterOfMostRecentlyVisibleEditor = this.recentlyVisibleIds.find(id => id.startsWith(idWithoutCounter))?.slice(idWithoutCounter.length + 1);\n        return counterOfMostRecentlyVisibleEditor === undefined ? undefined : parseInt(counterOfMostRecentlyVisibleEditor);\n    }\n\n    protected getOrCreateCounterForUri(uri: URI): number {\n        return this.getCounterForUri(uri) ?? this.createCounterForUri(uri);\n    }\n\n    protected override createWidgetOptions(uri: URI, options?: EditorOpenerOptions): NavigatableWidgetOptions {\n        const navigatableOptions = super.createWidgetOptions(uri, options);\n        navigatableOptions.counter = options?.counter ?? this.getOrCreateCounterForUri(uri);\n        return navigatableOptions;\n    }\n}\n\n/**\n * Provides direct access to the underlying text editor.\n */\n@injectable()\nexport abstract class EditorAccess {\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    /**\n     * The URI of the underlying document from the editor.\n     */\n    get uri(): string | undefined {\n        const editor = this.editor;\n        if (editor) {\n            return editor.uri.toString();\n        }\n        return undefined;\n    }\n\n    /**\n     * The selection location from the text editor.\n     */\n    get selection(): Location | undefined {\n        const editor = this.editor;\n        if (editor) {\n            const uri = editor.uri.toString();\n            const range = editor.selection;\n            return {\n                range,\n                uri\n            };\n        }\n        return undefined;\n    }\n\n    /**\n     * The unique identifier of the language the current editor belongs to.\n     */\n    get languageId(): string | undefined {\n        const editor = this.editor;\n        if (editor) {\n            return editor.document.languageId;\n        }\n        return undefined;\n    }\n\n    /**\n     * The text editor.\n     */\n    get editor(): TextEditor | undefined {\n        const editorWidget = this.editorWidget();\n        if (editorWidget) {\n            return editorWidget.editor;\n        }\n        return undefined;\n    }\n\n    /**\n     * The editor widget, or `undefined` if not applicable.\n     */\n    protected abstract editorWidget(): EditorWidget | undefined;\n\n}\n\n/**\n * Provides direct access to the currently active text editor.\n */\n@injectable()\nexport class CurrentEditorAccess extends EditorAccess {\n\n    protected editorWidget(): EditorWidget | undefined {\n        return this.editorManager.currentEditor;\n    }\n\n}\n\n/**\n * Provides access to the active text editor.\n */\n@injectable()\nexport class ActiveEditorAccess extends EditorAccess {\n\n    protected editorWidget(): EditorWidget | undefined {\n        return this.editorManager.activeEditor;\n    }\n\n}\n\nexport namespace EditorAccess {\n    export const CURRENT = 'current-editor-access';\n    export const ACTIVE = 'active-editor-access';\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { MenuContribution, MenuModelRegistry, MenuPath, MAIN_MENU_BAR } from '@theia/core';\nimport { CommonCommands, CommonMenus } from '@theia/core/lib/browser';\nimport { EditorCommands } from './editor-command';\nimport { nls } from '@theia/core/lib/common/nls';\n\nexport const EDITOR_CONTEXT_MENU: MenuPath = ['editor_context_menu'];\n\n/**\n * Editor context menu default groups should be aligned\n * with VS Code default groups: https://code.visualstudio.com/api/references/contribution-points#contributes.menus\n */\nexport namespace EditorContextMenu {\n    export const NAVIGATION = [...EDITOR_CONTEXT_MENU, 'navigation'];\n    export const MODIFICATION = [...EDITOR_CONTEXT_MENU, '1_modification'];\n    export const CUT_COPY_PASTE = [...EDITOR_CONTEXT_MENU, '9_cutcopypaste'];\n    export const COMMANDS = [...EDITOR_CONTEXT_MENU, 'z_commands'];\n    export const UNDO_REDO = [...EDITOR_CONTEXT_MENU, '1_undo'];\n}\n\nexport namespace EditorMainMenu {\n\n    /**\n     * The main `Go` menu item.\n     */\n    export const GO = [...MAIN_MENU_BAR, '5_go'];\n\n    /**\n     * Navigation menu group in the `Go` main-menu.\n     */\n    export const NAVIGATION_GROUP = [...GO, '1_navigation_group'];\n\n    /**\n     * Context management group in the `Go` main menu: Pane and editor switching commands.\n     */\n    export const CONTEXT_GROUP = [...GO, '1.1_context_group'];\n\n    /**\n     * Submenu for switching panes in the main area.\n     */\n    export const PANE_GROUP = [...CONTEXT_GROUP, '2_pane_group'];\n    export const BY_NUMBER = [...EditorMainMenu.PANE_GROUP, '1_by_number'];\n    export const NEXT_PREVIOUS = [...EditorMainMenu.PANE_GROUP, '2_by_location'];\n\n    /**\n     * Workspace menu group in the `Go` main-menu.\n     */\n    export const WORKSPACE_GROUP = [...GO, '2_workspace_group'];\n\n    /**\n     * Language features menu group in the `Go` main-menu.\n     */\n    export const LANGUAGE_FEATURES_GROUP = [...GO, '3_language_features_group'];\n\n    /**\n     * Location menu group in the `Go` main-menu.\n     */\n    export const LOCATION_GROUP = [...GO, '4_locations'];\n\n}\n\n@injectable()\nexport class EditorMenuContribution implements MenuContribution {\n\n    registerMenus(registry: MenuModelRegistry): void {\n        registry.registerMenuAction(EditorContextMenu.UNDO_REDO, {\n            commandId: CommonCommands.UNDO.id\n        });\n        registry.registerMenuAction(EditorContextMenu.UNDO_REDO, {\n            commandId: CommonCommands.REDO.id\n        });\n\n        registry.registerMenuAction(EditorContextMenu.CUT_COPY_PASTE, {\n            commandId: CommonCommands.CUT.id,\n            order: '0'\n        });\n        registry.registerMenuAction(EditorContextMenu.CUT_COPY_PASTE, {\n            commandId: CommonCommands.COPY.id,\n            order: '1'\n        });\n        registry.registerMenuAction(EditorContextMenu.CUT_COPY_PASTE, {\n            commandId: CommonCommands.PASTE.id,\n            order: '2'\n        });\n\n        // Editor navigation. Go > Back and Go > Forward.\n        registry.registerSubmenu(EditorMainMenu.GO, nls.localizeByDefault('Go'));\n        registry.registerMenuAction(EditorMainMenu.NAVIGATION_GROUP, {\n            commandId: EditorCommands.GO_BACK.id,\n            label: EditorCommands.GO_BACK.label,\n            order: '1'\n        });\n        registry.registerMenuAction(EditorMainMenu.NAVIGATION_GROUP, {\n            commandId: EditorCommands.GO_FORWARD.id,\n            label: EditorCommands.GO_FORWARD.label,\n            order: '2'\n        });\n        registry.registerMenuAction(EditorMainMenu.NAVIGATION_GROUP, {\n            commandId: EditorCommands.GO_LAST_EDIT.id,\n            label: nls.localizeByDefault('Last Edit Location'),\n            order: '3'\n        });\n\n        registry.registerSubmenu(EditorMainMenu.PANE_GROUP, nls.localizeByDefault('Switch Group'));\n\n        registry.registerMenuAction(EditorMainMenu.BY_NUMBER, {\n            commandId: 'workbench.action.focusFirstEditorGroup',\n            label: nls.localizeByDefault('Group 1'),\n        });\n        registry.registerMenuAction(EditorMainMenu.BY_NUMBER, {\n            commandId: 'workbench.action.focusSecondEditorGroup',\n            label: nls.localizeByDefault('Group 2'),\n        });\n        registry.registerMenuAction(EditorMainMenu.BY_NUMBER, {\n            commandId: 'workbench.action.focusThirdEditorGroup',\n            label: nls.localizeByDefault('Group 3'),\n        });\n        registry.registerMenuAction(EditorMainMenu.BY_NUMBER, {\n            commandId: 'workbench.action.focusFourthEditorGroup',\n            label: nls.localizeByDefault('Group 4'),\n        });\n        registry.registerMenuAction(EditorMainMenu.BY_NUMBER, {\n            commandId: 'workbench.action.focusFifthEditorGroup',\n            label: nls.localizeByDefault('Group 5'),\n        });\n\n        registry.registerMenuAction(EditorMainMenu.NEXT_PREVIOUS, {\n            commandId: CommonCommands.NEXT_TAB_GROUP.id,\n            label: nls.localizeByDefault('Next Group'),\n            order: '1'\n        });\n        registry.registerMenuAction(EditorMainMenu.NEXT_PREVIOUS, {\n            commandId: CommonCommands.PREVIOUS_TAB_GROUP.id,\n            label: nls.localizeByDefault('Previous Group'),\n            order: '2'\n        });\n\n        registry.registerMenuAction(EditorMainMenu.LOCATION_GROUP, {\n            commandId: EditorCommands.GOTO_LINE_COLUMN.id,\n            order: '1'\n        });\n\n        // Toggle Commands.\n        registry.registerMenuAction(CommonMenus.VIEW_TOGGLE, {\n            commandId: EditorCommands.TOGGLE_WORD_WRAP.id,\n            order: '0'\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_TOGGLE, {\n            commandId: EditorCommands.TOGGLE_MINIMAP.id,\n            order: '1',\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_TOGGLE, {\n            commandId: CommonCommands.TOGGLE_BREADCRUMBS.id,\n            order: '2',\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_TOGGLE, {\n            commandId: EditorCommands.TOGGLE_RENDER_WHITESPACE.id,\n            order: '3'\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_TOGGLE, {\n            commandId: EditorCommands.TOGGLE_STICKY_SCROLL.id,\n            order: '4'\n        });\n        registry.registerMenuAction(CommonMenus.FILE_CLOSE, {\n            commandId: CommonCommands.CLOSE_MAIN_TAB.id,\n            label: nls.localizeByDefault('Close Editor'),\n            order: '1'\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_EDITOR_SUBMENU_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_RIGHT.id,\n            label: nls.localizeByDefault('Split Editor Right'),\n            order: '0'\n        });\n\n        registry.registerMenuAction(CommonMenus.VIEW_EDITOR_SUBMENU_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_LEFT.id,\n            label: nls.localizeByDefault('Split Editor Left'),\n            order: '1'\n        });\n\n        registry.registerMenuAction(CommonMenus.VIEW_EDITOR_SUBMENU_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_UP.id,\n            label: nls.localizeByDefault('Split Editor Up'),\n            order: '2'\n        });\n\n        registry.registerMenuAction(CommonMenus.VIEW_EDITOR_SUBMENU_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_DOWN.id,\n            label: nls.localizeByDefault('Split Editor Down'),\n            order: '3'\n        });\n\n        registry.registerMenuAction(CommonMenus.VIEW_EDITOR_SUBMENU_ORTHO, {\n            commandId: EditorCommands.SPLIT_EDITOR_HORIZONTAL.id,\n            label: nls.localize('theia/editor/splitHorizontal', 'Split Editor Horizontal'),\n            order: '1'\n        });\n\n        registry.registerMenuAction(CommonMenus.VIEW_EDITOR_SUBMENU_ORTHO, {\n            commandId: EditorCommands.SPLIT_EDITOR_VERTICAL.id,\n            label: nls.localize('theia/editor/splitVertical', 'Split Editor Vertical'),\n            order: '2'\n        });\n\n        registry.registerSubmenu(CommonMenus.VIEW_EDITOR_SUBMENU, nls.localizeByDefault('Editor Layout'));\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { ILogger } from '@theia/core/lib/common/logger';\nimport { StorageService } from '@theia/core/lib/browser/storage-service';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { FrontendApplicationContribution } from '@theia/core/lib/browser/frontend-application-contribution';\nimport { CommandRegistry } from '@theia/core/lib/common/command';\nimport { EditorCommands } from './editor-command';\nimport { EditorWidget } from './editor-widget';\nimport { EditorManager } from './editor-manager';\nimport { TextEditor, Position, Range, TextDocumentChangeEvent } from './editor';\nimport { NavigationLocation, RecentlyClosedEditor } from './navigation/navigation-location';\nimport { NavigationLocationService } from './navigation/navigation-location-service';\nimport { PreferenceService, PreferenceScope, addEventListener } from '@theia/core/lib/browser';\nimport { ConfirmDialog, Dialog } from '@theia/core/lib/browser/dialogs';\nimport { nls } from '@theia/core';\n\n@injectable()\nexport class EditorNavigationContribution implements Disposable, FrontendApplicationContribution {\n\n    private static ID = 'editor-navigation-contribution';\n    private static CLOSED_EDITORS_KEY = 'recently-closed-editors';\n    private static MOUSE_NAVIGATION_PREFERENCE = 'workbench.editor.mouseBackForwardToNavigate';\n\n    protected readonly toDispose = new DisposableCollection();\n    protected readonly toDisposePerCurrentEditor = new DisposableCollection();\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    @inject(NavigationLocationService)\n    protected readonly locationStack: NavigationLocationService;\n\n    @inject(StorageService)\n    protected readonly storageService: StorageService;\n\n    @inject(PreferenceService)\n    protected readonly preferenceService: PreferenceService;\n\n    @inject(CommandRegistry)\n    protected readonly commandRegistry: CommandRegistry;\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.pushAll([\n            // TODO listen on file resource changes, if a file gets deleted, remove the corresponding navigation locations (if any).\n            // This would require introducing the FS dependency in the editor extension.\n            this.editorManager.onCurrentEditorChanged(this.onCurrentEditorChanged.bind(this)),\n            this.editorManager.onCreated(widget => {\n                this.locationStack.removeClosedEditor(widget.editor.uri);\n                widget.disposed.connect(() => this.locationStack.addClosedEditor({\n                    uri: widget.editor.uri,\n                    viewState: widget.editor.storeViewState()\n                }));\n            })\n        ]);\n        this.commandRegistry.registerHandler(EditorCommands.GO_BACK.id, {\n            execute: () => this.locationStack.back(),\n            isEnabled: () => this.locationStack.canGoBack()\n        });\n        this.commandRegistry.registerHandler(EditorCommands.GO_FORWARD.id, {\n            execute: () => this.locationStack.forward(),\n            isEnabled: () => this.locationStack.canGoForward()\n        });\n        this.commandRegistry.registerHandler(EditorCommands.GO_LAST_EDIT.id, {\n            execute: () => this.locationStack.reveal(this.locationStack.lastEditLocation()),\n            isEnabled: () => !!this.locationStack.lastEditLocation()\n        });\n        this.commandRegistry.registerHandler(EditorCommands.CLEAR_EDITOR_HISTORY.id, {\n            execute: async () => {\n                const shouldClear = await new ConfirmDialog({\n                    title: nls.localizeByDefault('Clear Editor History'),\n                    msg: nls.localizeByDefault('Do you want to clear the history of recently opened editors?'),\n                    ok: Dialog.YES,\n                    cancel: Dialog.NO\n                }).open();\n                if (shouldClear) {\n                    this.locationStack.clearHistory();\n                }\n            },\n            isEnabled: () => this.locationStack.locations().length > 0\n        });\n        this.commandRegistry.registerHandler(EditorCommands.TOGGLE_MINIMAP.id, {\n            execute: () => this.toggleMinimap(),\n            isEnabled: () => true,\n            isToggled: () => this.isMinimapEnabled()\n        });\n        this.commandRegistry.registerHandler(EditorCommands.TOGGLE_RENDER_WHITESPACE.id, {\n            execute: () => this.toggleRenderWhitespace(),\n            isEnabled: () => true,\n            isToggled: () => this.isRenderWhitespaceEnabled()\n        });\n        this.commandRegistry.registerHandler(EditorCommands.TOGGLE_WORD_WRAP.id, {\n            execute: () => this.toggleWordWrap(),\n            isEnabled: () => true,\n        });\n        this.commandRegistry.registerHandler(EditorCommands.TOGGLE_STICKY_SCROLL.id, {\n            execute: () => this.toggleStickyScroll(),\n            isEnabled: () => true,\n            isToggled: () => this.isStickyScrollEnabled()\n        });\n        this.commandRegistry.registerHandler(EditorCommands.REOPEN_CLOSED_EDITOR.id, {\n            execute: () => this.reopenLastClosedEditor()\n        });\n\n        this.installMouseNavigationSupport();\n    }\n\n    protected async installMouseNavigationSupport(): Promise<void> {\n        const mouseNavigationSupport = new DisposableCollection();\n        const updateMouseNavigationListener = () => {\n            mouseNavigationSupport.dispose();\n            if (this.shouldNavigateWithMouse()) {\n                mouseNavigationSupport.push(addEventListener(document.body, 'mousedown', event => this.onMouseDown(event), true));\n            }\n        };\n        this.toDispose.push(this.preferenceService.onPreferenceChanged(change => {\n            if (change.preferenceName === EditorNavigationContribution.MOUSE_NAVIGATION_PREFERENCE) {\n                updateMouseNavigationListener();\n            }\n        }));\n        updateMouseNavigationListener();\n        this.toDispose.push(mouseNavigationSupport);\n    }\n\n    protected async onMouseDown(event: MouseEvent): Promise<void> {\n        // Support navigation in history when mouse buttons 4/5 are pressed\n        switch (event.button) {\n            case 3:\n                event.preventDefault();\n                this.locationStack.back();\n                break;\n            case 4:\n                event.preventDefault();\n                this.locationStack.forward();\n                break;\n        }\n    }\n\n    /**\n     * Reopens the last closed editor with its stored view state if possible from history.\n     * If the editor cannot be restored, continue to the next editor in history.\n     */\n    protected async reopenLastClosedEditor(): Promise<void> {\n        const lastClosedEditor = this.locationStack.getLastClosedEditor();\n        if (lastClosedEditor === undefined) {\n            return;\n        }\n\n        try {\n            const widget = await this.editorManager.open(lastClosedEditor.uri);\n            widget.editor.restoreViewState(lastClosedEditor.viewState);\n        } catch {\n            this.locationStack.removeClosedEditor(lastClosedEditor.uri);\n            this.reopenLastClosedEditor();\n        }\n    }\n\n    async onStart(): Promise<void> {\n        this.restoreState();\n    }\n\n    onStop(): void {\n        this.storeState();\n        this.dispose();\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    /**\n     * Toggle the editor word wrap behavior.\n     */\n    protected async toggleWordWrap(): Promise<void> {\n        // Get the current word wrap.\n        const wordWrap: string | undefined = this.preferenceService.get('editor.wordWrap');\n        if (wordWrap === undefined) {\n            return;\n        }\n        // The list of allowed word wrap values.\n        const values: string[] = ['off', 'on', 'wordWrapColumn', 'bounded'];\n        // Get the index of the current value, and toggle to the next available value.\n        const index = values.indexOf(wordWrap) + 1;\n        if (index > -1) {\n            this.preferenceService.set('editor.wordWrap', values[index % values.length], PreferenceScope.User);\n        }\n    }\n\n    /**\n     * Toggle the display of sticky scroll in the editor.\n     */\n    protected async toggleStickyScroll(): Promise<void> {\n        const value: boolean | undefined = this.preferenceService.get('editor.stickyScroll.enabled');\n        this.preferenceService.set('editor.stickyScroll.enabled', !value, PreferenceScope.User);\n    }\n\n    /**\n     * Toggle the display of minimap in the editor.\n     */\n    protected async toggleMinimap(): Promise<void> {\n        const value: boolean | undefined = this.preferenceService.get('editor.minimap.enabled');\n        this.preferenceService.set('editor.minimap.enabled', !value, PreferenceScope.User);\n    }\n\n    /**\n     * Toggle the rendering of whitespace in the editor.\n     */\n    protected async toggleRenderWhitespace(): Promise<void> {\n        const renderWhitespace: string | undefined = this.preferenceService.get('editor.renderWhitespace');\n        let updatedRenderWhitespace: string;\n        if (renderWhitespace === 'none') {\n            updatedRenderWhitespace = 'all';\n        } else {\n            updatedRenderWhitespace = 'none';\n        }\n        this.preferenceService.set('editor.renderWhitespace', updatedRenderWhitespace, PreferenceScope.User);\n    }\n\n    protected onCurrentEditorChanged(editorWidget: EditorWidget | undefined): void {\n        this.toDisposePerCurrentEditor.dispose();\n        if (editorWidget) {\n            const { editor } = editorWidget;\n            this.toDisposePerCurrentEditor.pushAll([\n                // Instead of registering an `onCursorPositionChanged` listener, we treat the zero length selection as a cursor position change.\n                // Otherwise we would have two events for a single cursor change interaction.\n                editor.onSelectionChanged(selection => this.onSelectionChanged(editor, selection)),\n                editor.onDocumentContentChanged(event => this.onDocumentContentChanged(editor, event))\n            ]);\n            this.locationStack.register(NavigationLocation.create(editor, editor.selection));\n        }\n    }\n\n    protected onCursorPositionChanged(editor: TextEditor, position: Position): void {\n        this.locationStack.register(NavigationLocation.create(editor, position));\n    }\n\n    protected onSelectionChanged(editor: TextEditor, selection: Range): void {\n        if (this.isZeroLengthRange(selection)) {\n            this.onCursorPositionChanged(editor, selection.start);\n        } else {\n            this.locationStack.register(NavigationLocation.create(editor, selection));\n        }\n    }\n\n    protected onDocumentContentChanged(editor: TextEditor, event: TextDocumentChangeEvent): void {\n        if (event.contentChanges.length > 0) {\n            this.locationStack.register(NavigationLocation.create(editor, event.contentChanges[0]));\n        }\n    }\n\n    /**\n     * `true` if the `range` argument has zero length. In other words, the `start` and the `end` positions are the same. Otherwise, `false`.\n     */\n    protected isZeroLengthRange(range: Range): boolean {\n        const { start, end } = range;\n        return start.line === end.line && start.character === end.character;\n    }\n\n    protected async storeState(): Promise<void> {\n        this.storageService.setData(EditorNavigationContribution.ID, {\n            locations: this.locationStack.locations().map(NavigationLocation.toObject)\n        });\n        this.storageService.setData(EditorNavigationContribution.CLOSED_EDITORS_KEY, {\n            closedEditors: this.shouldStoreClosedEditors() ? this.locationStack.closedEditorsStack.map(RecentlyClosedEditor.toObject) : []\n        });\n    }\n\n    protected async restoreState(): Promise<void> {\n        await this.restoreNavigationLocations();\n        await this.restoreClosedEditors();\n    }\n\n    protected async restoreNavigationLocations(): Promise<void> {\n        const raw: { locations?: ArrayLike<object> } | undefined = await this.storageService.getData(EditorNavigationContribution.ID);\n        if (raw && raw.locations) {\n            const locations: NavigationLocation[] = [];\n            for (let i = 0; i < raw.locations.length; i++) {\n                const location = NavigationLocation.fromObject(raw.locations[i]);\n                if (location) {\n                    locations.push(location);\n                } else {\n                    this.logger.warn('Could not restore the state of the editor navigation history.');\n                    return;\n                }\n            }\n            this.locationStack.register(...locations);\n        }\n    }\n\n    protected async restoreClosedEditors(): Promise<void> {\n        const raw: { closedEditors?: ArrayLike<object> } | undefined = await this.storageService.getData(EditorNavigationContribution.CLOSED_EDITORS_KEY);\n        if (raw && raw.closedEditors) {\n            for (let i = 0; i < raw.closedEditors.length; i++) {\n                const editor = RecentlyClosedEditor.fromObject(raw.closedEditors[i]);\n                if (editor) {\n                    this.locationStack.addClosedEditor(editor);\n                } else {\n                    this.logger.warn('Could not restore the state of the closed editors stack.');\n                }\n            }\n        }\n    }\n\n    private isMinimapEnabled(): boolean {\n        return !!this.preferenceService.get('editor.minimap.enabled');\n    }\n\n    private isRenderWhitespaceEnabled(): boolean {\n        const renderWhitespace = this.preferenceService.get('editor.renderWhitespace');\n        return renderWhitespace === 'none' ? false : true;\n    }\n\n    private shouldStoreClosedEditors(): boolean {\n        return !!this.preferenceService.get('editor.history.persistClosedEditors');\n    }\n\n    private shouldNavigateWithMouse(): boolean {\n        return !!this.preferenceService.get(EditorNavigationContribution.MOUSE_NAVIGATION_PREFERENCE);\n    }\n\n    private isStickyScrollEnabled(): boolean {\n        return !!this.preferenceService.get('editor.stickyScroll.enabled');\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { VariableRegistry, VariableContribution } from '@theia/variable-resolver/lib/browser';\nimport { TextEditor } from './editor';\nimport { EditorManager } from './editor-manager';\n\n@injectable()\nexport class EditorVariableContribution implements VariableContribution {\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    registerVariables(variables: VariableRegistry): void {\n        variables.registerVariable({\n            name: 'lineNumber',\n            description: 'The current line number in the currently opened file',\n            resolve: () => {\n                const editor = this.getCurrentEditor();\n                return editor ? `${editor.cursor.line + 1}` : undefined;\n            }\n        });\n        variables.registerVariable({\n            name: 'selectedText',\n            description: 'The current selected text in the active file',\n            resolve: () => {\n                const editor = this.getCurrentEditor();\n                return editor ? editor.document.getText(editor.selection) : undefined;\n            }\n        });\n    }\n\n    protected getCurrentEditor(): TextEditor | undefined {\n        const currentEditor = this.editorManager.currentEditor;\n        if (!currentEditor) {\n            return undefined;\n        }\n        return currentEditor.editor;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { nls, SelectionService } from '@theia/core/lib/common';\nimport { NavigatableWidgetOptions, WidgetFactory, LabelProvider } from '@theia/core/lib/browser';\nimport { EditorWidget } from './editor-widget';\nimport { TextEditorProvider } from './editor';\n\n@injectable()\nexport class EditorWidgetFactory implements WidgetFactory {\n\n    static createID(uri: URI, counter?: number): string {\n        return EditorWidgetFactory.ID\n            + `:${uri.toString()}`\n            + (counter !== undefined ? `:${counter}` : '');\n    }\n\n    static ID = 'code-editor-opener';\n\n    readonly id = EditorWidgetFactory.ID;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(TextEditorProvider)\n    protected readonly editorProvider: TextEditorProvider;\n\n    @inject(SelectionService)\n    protected readonly selectionService: SelectionService;\n\n    createWidget(options: NavigatableWidgetOptions): Promise<EditorWidget> {\n        const uri = new URI(options.uri);\n        return this.createEditor(uri, options);\n    }\n\n    protected async createEditor(uri: URI, options?: NavigatableWidgetOptions): Promise<EditorWidget> {\n        const newEditor = await this.constructEditor(uri);\n\n        this.setLabels(newEditor, uri);\n        const labelListener = this.labelProvider.onDidChange(event => {\n            if (event.affects(uri)) {\n                this.setLabels(newEditor, uri);\n            }\n        });\n        newEditor.onDispose(() => labelListener.dispose());\n\n        newEditor.id = EditorWidgetFactory.createID(uri, options?.counter);\n\n        newEditor.title.closable = true;\n        return newEditor;\n    }\n\n    protected async constructEditor(uri: URI): Promise<EditorWidget> {\n        const textEditor = await this.editorProvider(uri);\n        return new EditorWidget(textEditor, this.selectionService);\n    }\n\n    private setLabels(editor: EditorWidget, uri: URI): void {\n        editor.title.caption = uri.path.fsPath();\n        if (editor.editor.isReadonly) {\n            editor.title.caption += ` • ${nls.localizeByDefault('Read-only')}`;\n        }\n        const icon = this.labelProvider.getIcon(uri);\n        editor.title.label = this.labelProvider.getName(uri);\n        editor.title.iconClass = icon + ' file-icon';\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Disposable, SelectionService, Event, UNTITLED_SCHEME, DisposableCollection } from '@theia/core/lib/common';\nimport { Widget, BaseWidget, Message, Saveable, SaveableSource, Navigatable, StatefulWidget, lock, TabBar, DockPanel, unlock } from '@theia/core/lib/browser';\nimport URI from '@theia/core/lib/common/uri';\nimport { find } from '@theia/core/shared/@phosphor/algorithm';\nimport { TextEditor } from './editor';\n\nexport class EditorWidget extends BaseWidget implements SaveableSource, Navigatable, StatefulWidget {\n\n    protected toDisposeOnTabbarChange = new DisposableCollection();\n    protected currentTabbar: TabBar<Widget> | undefined;\n\n    constructor(\n        readonly editor: TextEditor,\n        protected readonly selectionService: SelectionService\n    ) {\n        super(editor);\n        this.addClass('theia-editor');\n        if (editor.isReadonly) {\n            lock(this.title);\n        }\n        this.toDispose.push(this.editor);\n        this.toDispose.push(this.toDisposeOnTabbarChange);\n        this.toDispose.push(this.editor.onSelectionChanged(() => this.setSelection()));\n        this.toDispose.push(this.editor.onFocusChanged(() => this.setSelection()));\n        this.toDispose.push(this.editor.onDidChangeReadOnly(isReadonly => {\n            if (isReadonly) {\n                lock(this.title);\n            } else {\n                unlock(this.title);\n            }\n        }));\n        this.toDispose.push(Disposable.create(() => {\n            if (this.selectionService.selection === this.editor) {\n                this.selectionService.selection = undefined;\n            }\n        }));\n    }\n\n    setSelection(): void {\n        if (this.editor.isFocused() && this.selectionService.selection !== this.editor) {\n            this.selectionService.selection = this.editor;\n        }\n    }\n\n    get saveable(): Saveable {\n        return this.editor.document;\n    }\n\n    getResourceUri(): URI | undefined {\n        return this.editor.getResourceUri();\n    }\n    createMoveToUri(resourceUri: URI): URI | undefined {\n        return this.editor.createMoveToUri(resourceUri);\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        this.editor.focus();\n        this.selectionService.selection = this.editor;\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        if (this.isVisible) {\n            this.editor.refresh();\n        }\n        this.checkForTabbarChange();\n    }\n\n    protected checkForTabbarChange(): void {\n        const { parent } = this;\n        if (parent instanceof DockPanel) {\n            const newTabbar = find(parent.tabBars(), tabbar => !!tabbar.titles.find(title => title === this.title));\n            if (this.currentTabbar !== newTabbar) {\n                this.toDisposeOnTabbarChange.dispose();\n                const listener = () => this.checkForTabbarChange();\n                parent.layoutModified.connect(listener);\n                this.toDisposeOnTabbarChange.push(Disposable.create(() => parent.layoutModified.disconnect(listener)));\n                const last = this.currentTabbar;\n                this.currentTabbar = newTabbar;\n                this.handleTabBarChange(last, newTabbar);\n            }\n        }\n    }\n\n    protected handleTabBarChange(oldTabBar?: TabBar<Widget>, newTabBar?: TabBar<Widget>): void {\n        const ownSaveable = Saveable.get(this);\n        const competingEditors = ownSaveable && newTabBar?.titles.filter(title => title !== this.title\n            && (title.owner instanceof EditorWidget)\n            && title.owner.editor.uri.isEqual(this.editor.uri)\n            && Saveable.get(title.owner) === ownSaveable\n        );\n        competingEditors?.forEach(title => title.owner.close());\n    }\n\n    protected override onAfterShow(msg: Message): void {\n        super.onAfterShow(msg);\n        this.editor.refresh();\n    }\n\n    protected override onResize(msg: Widget.ResizeMessage): void {\n        if (msg.width < 0 || msg.height < 0) {\n            this.editor.resizeToFit();\n        } else {\n            this.editor.setSize(msg);\n        }\n    }\n\n    storeState(): object | undefined {\n        return this.getResourceUri()?.scheme === UNTITLED_SCHEME ? undefined : this.editor.storeViewState();\n    }\n\n    restoreState(oldState: object): void {\n        this.editor.restoreViewState(oldState);\n    }\n\n    get onDispose(): Event<void> {\n        return this.toDispose.onDispose;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Position, Range, Location } from '@theia/core/shared/vscode-languageserver-protocol';\nimport * as lsp from '@theia/core/shared/vscode-languageserver-protocol';\nimport URI from '@theia/core/lib/common/uri';\nimport { Event, Disposable, TextDocumentContentChangeDelta, Reference, isObject } from '@theia/core/lib/common';\nimport { Saveable, Navigatable, Widget } from '@theia/core/lib/browser';\nimport { EditorDecoration } from './decorations/editor-decoration';\nimport { MarkdownString } from '@theia/core/lib/common/markdown-rendering';\n\nexport { Position, Range, Location };\n\nexport const TextEditorProvider = Symbol('TextEditorProvider');\nexport type TextEditorProvider = (uri: URI) => Promise<TextEditor>;\n\nexport interface TextEditorDocument extends lsp.TextDocument, Saveable, Disposable {\n    getLineContent(lineNumber: number): string;\n    getLineMaxColumn(lineNumber: number): number;\n    /**\n     * @since 1.8.0\n     */\n    findMatches?(options: FindMatchesOptions): FindMatch[];\n    /**\n     * Creates a valid position. If the position is outside of the backing document, this method will return a position that is ensured to be inside the document and valid.\n     * For example, when the `position` is `{ line: 1, character: 0 }` and the document is empty, this method will return with `{ line: 0, character: 0 }`.\n     */\n    toValidPosition(position: Position): Position;\n    /**\n     * Creates a valid range. If the `range` argument is outside of the document, this method will return with a new range that does not exceed the boundaries of the document.\n     * For example, if the argument is `{ start: { line: 1, character: 0 }, end: { line: 1, character: 0 } }` and the document is empty, the return value is\n     * `{ start: { line: 0, character: 0 }, end: { line: 0, character: 0 } }`.\n     */\n    toValidRange(range: Range): Range;\n}\n\n// Refactoring\nexport { TextDocumentContentChangeDelta };\n\nexport interface TextDocumentChangeEvent {\n    readonly document: TextEditorDocument;\n    readonly contentChanges: TextDocumentContentChangeDelta[];\n}\n\n/**\n * Type of hit element with the mouse in the editor.\n * Copied from monaco editor.\n */\nexport enum MouseTargetType {\n    /**\n     * Mouse is on top of an unknown element.\n     */\n    UNKNOWN = 0,\n    /**\n     * Mouse is on top of the textarea used for input.\n     */\n    TEXTAREA = 1,\n    /**\n     * Mouse is on top of the glyph margin\n     */\n    GUTTER_GLYPH_MARGIN = 2,\n    /**\n     * Mouse is on top of the line numbers\n     */\n    GUTTER_LINE_NUMBERS = 3,\n    /**\n     * Mouse is on top of the line decorations\n     */\n    GUTTER_LINE_DECORATIONS = 4,\n    /**\n     * Mouse is on top of the whitespace left in the gutter by a view zone.\n     */\n    GUTTER_VIEW_ZONE = 5,\n    /**\n     * Mouse is on top of text in the content.\n     */\n    CONTENT_TEXT = 6,\n    /**\n     * Mouse is on top of empty space in the content (e.g. after line text or below last line)\n     */\n    CONTENT_EMPTY = 7,\n    /**\n     * Mouse is on top of a view zone in the content.\n     */\n    CONTENT_VIEW_ZONE = 8,\n    /**\n     * Mouse is on top of a content widget.\n     */\n    CONTENT_WIDGET = 9,\n    /**\n     * Mouse is on top of the decorations overview ruler.\n     */\n    OVERVIEW_RULER = 10,\n    /**\n     * Mouse is on top of a scrollbar.\n     */\n    SCROLLBAR = 11,\n    /**\n     * Mouse is on top of an overlay widget.\n     */\n    OVERLAY_WIDGET = 12,\n    /**\n     * Mouse is outside of the editor.\n     */\n    OUTSIDE_EDITOR = 13,\n}\n\nexport interface MouseTarget {\n    /**\n     * The target element\n     */\n    readonly element?: Element;\n    /**\n     * The target type\n     */\n    readonly type: MouseTargetType;\n    /**\n     * The 'approximate' editor position\n     */\n    readonly position?: Position;\n    /**\n     * Desired mouse column (e.g. when position.column gets clamped to text length -- clicking after text on a line).\n     */\n    readonly mouseColumn: number;\n    /**\n     * The 'approximate' editor range\n     */\n    readonly range?: Range;\n    /**\n     * Some extra detail.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    readonly detail: any;\n}\n\nexport interface EditorMouseEvent {\n    readonly event: MouseEvent;\n    readonly target: MouseTarget;\n}\n\nexport const enum EncodingMode {\n\n    /**\n     * Instructs the encoding support to encode the current input with the provided encoding\n     */\n    Encode,\n\n    /**\n     * Instructs the encoding support to decode the current input with the provided encoding\n     */\n    Decode\n}\n\n/**\n * Options for searching in an editor.\n */\nexport interface FindMatchesOptions {\n    /**\n     * The string used to search. If it is a regular expression, set `isRegex` to true.\n     */\n    searchString: string;\n    /**\n     * Used to indicate that `searchString` is a regular expression.\n     */\n    isRegex: boolean;\n    /**\n     * Force the matching to match lower/upper case exactly.\n     */\n    matchCase: boolean;\n    /**\n     * Force the matching to match entire words only.\n     */\n    matchWholeWord: boolean;\n    /**\n     * Limit the number of results.\n     */\n    limitResultCount?: number;\n}\n\n/**\n * Representation of a find match.\n */\nexport interface FindMatch {\n    /**\n     * The textual match.\n     */\n    readonly matches: string[];\n    /**\n     * The range for the given match.\n     */\n    readonly range: Range;\n}\n\nexport interface TextEditor extends Disposable, TextEditorSelection, Navigatable {\n    readonly node: HTMLElement;\n\n    readonly uri: URI;\n    readonly isReadonly: boolean | MarkdownString;\n    readonly onDidChangeReadOnly: Event<boolean | MarkdownString>;\n    readonly document: TextEditorDocument;\n    readonly onDocumentContentChanged: Event<TextDocumentChangeEvent>;\n\n    cursor: Position;\n    readonly onCursorPositionChanged: Event<Position>;\n\n    selection: Range;\n    readonly onSelectionChanged: Event<Range>;\n\n    /**\n     * The text editor should be revealed,\n     * otherwise it won't receive the focus.\n     */\n    focus(): void;\n    blur(): void;\n    isFocused(): boolean;\n    readonly onFocusChanged: Event<boolean>;\n\n    readonly onMouseDown: Event<EditorMouseEvent>;\n\n    readonly onScrollChanged: Event<void>;\n    getVisibleRanges(): Range[];\n\n    revealPosition(position: Position, options?: RevealPositionOptions): void;\n    revealRange(range: Range, options?: RevealRangeOptions): void;\n\n    /**\n     * Rerender the editor.\n     */\n    refresh(): void;\n    /**\n     * Resize the editor to fit its node.\n     */\n    resizeToFit(): void;\n    setSize(size: Dimension): void;\n\n    /**\n     * Applies given new decorations, and removes old decorations identified by ids.\n     *\n     * @returns identifiers of applied decorations, which can be removed in next call.\n     */\n    deltaDecorations(params: DeltaDecorationParams): string[];\n\n    /**\n     * Gets all the decorations for the lines between `startLineNumber` and `endLineNumber` as an array.\n     * @param startLineNumber The start line number.\n     * @param endLineNumber The end line number.\n     * @return An array with the decorations.\n     */\n    getLinesDecorations(startLineNumber: number, endLineNumber: number): EditorDecoration[];\n\n    getVisibleColumn(position: Position): number;\n\n    /**\n     * Replaces the text of source given in ReplaceTextParams.\n     * @param params: ReplaceTextParams\n     */\n    replaceText(params: ReplaceTextParams): Promise<boolean>;\n\n    /**\n     * Execute edits on the editor.\n     * @param edits: edits created with `lsp.TextEdit.replace`, `lsp.TextEdit.insert`, `lsp.TextEdit.del`\n     */\n    executeEdits(edits: lsp.TextEdit[]): boolean;\n\n    storeViewState(): object;\n    restoreViewState(state: object): void;\n\n    detectLanguage(): void;\n    setLanguage(languageId: string): void;\n    readonly onLanguageChanged: Event<string>;\n\n    /**\n     * Gets the encoding of the input if known.\n     */\n    getEncoding(): string;\n\n    /**\n     * Sets the encoding for the input for saving.\n     */\n    setEncoding(encoding: string, mode: EncodingMode): void;\n\n    readonly onEncodingChanged: Event<string>;\n}\n\nexport interface Dimension {\n    width: number;\n    height: number;\n}\n\nexport interface TextEditorSelection {\n    uri: URI\n    cursor?: Position\n    selection?: Range\n}\n\nexport interface RevealPositionOptions {\n    vertical: 'auto' | 'center' | 'centerIfOutsideViewport';\n    horizontal?: boolean;\n}\n\nexport interface RevealRangeOptions {\n    at: 'auto' | 'center' | 'top' | 'centerIfOutsideViewport';\n}\n\nexport interface DeltaDecorationParams {\n    oldDecorations: string[];\n    newDecorations: EditorDecoration[];\n}\n\nexport interface ReplaceTextParams {\n    /**\n     * the source to edit\n     */\n    source: string;\n    /**\n     * the replace operations\n     */\n    replaceOperations: ReplaceOperation[];\n}\n\nexport interface ReplaceOperation {\n    /**\n     * the position that shall be replaced\n     */\n    range: Range;\n    /**\n     * the text to replace with\n     */\n    text: string;\n}\n\nexport namespace TextEditorSelection {\n    export function is(arg: unknown): arg is TextEditorSelection {\n        return isObject<TextEditorSelection>(arg) && arg.uri instanceof URI;\n    }\n}\n\nexport namespace CustomEditorWidget {\n    export function is(arg: Widget | undefined): arg is CustomEditorWidget {\n        return !!arg && 'modelRef' in arg;\n    }\n}\n\nexport interface CustomEditorWidget extends Widget {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    readonly modelRef: Reference<any>;\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { codicon, StatusBar, StatusBarAlignment, StatusBarEntry } from '@theia/core/lib/browser';\nimport { LanguageService } from '@theia/core/lib/browser/language-service';\nimport { CommandRegistry, nls } from '@theia/core';\nimport { TextEditor } from '../editor';\nimport { EditorCommands } from '../editor-command';\nimport { LanguageSelector, score } from '../../common/language-selector';\nimport { AccessibilityInformation } from '@theia/core/lib/common/accessibility';\nimport URI from '@theia/core/lib/common/uri';\nimport { CurrentEditorAccess } from '../editor-manager';\nimport { Severity } from '@theia/core/lib/common/severity';\nimport { LabelParser } from '@theia/core/lib/browser/label-parser';\n\n/**\n * Represents the severity of a language status item.\n */\nexport enum LanguageStatusSeverity {\n    Information = 0,\n    Warning = 1,\n    Error = 2\n}\n\n/**\n * Command represents a particular invocation of a registered command.\n */\nexport interface Command {\n    /**\n     * The identifier of the actual command handler.\n     */\n    id: string;\n    /**\n     * Title of the command invocation, like \"Add local variable 'foo'\".\n     */\n    title?: string;\n    /**\n     * A tooltip for for command, when represented in the UI.\n     */\n    tooltip?: string;\n    /**\n     * Arguments that the command handler should be\n     * invoked with.\n     */\n    arguments?: unknown[];\n}\n\n/**\n * A language status item is the preferred way to present language status reports for the active text editors,\n * such as selected linter or notifying about a configuration problem.\n */\nexport interface LanguageStatus {\n    readonly id: string;\n    readonly name: string;\n    readonly selector: LanguageSelector;\n    readonly severity: Severity;\n    readonly label: string;\n    readonly detail: string;\n    readonly busy: boolean;\n    readonly source: string;\n    readonly command: Command | undefined;\n    readonly accessibilityInfo: AccessibilityInformation | undefined;\n}\n\n@injectable()\nexport class EditorLanguageStatusService {\n    @inject(StatusBar) protected readonly statusBar: StatusBar;\n    @inject(LanguageService) protected readonly languages: LanguageService;\n    @inject(CurrentEditorAccess) protected readonly editorAccess: CurrentEditorAccess;\n    @inject(CommandRegistry) protected readonly commandRegistry: CommandRegistry;\n    @inject(LabelParser) protected readonly labelParser: LabelParser;\n    protected static LANGUAGE_MODE_ID = 'editor-status-language';\n    protected static LANGUAGE_STATUS_ID = 'editor-language-status-items';\n\n    protected readonly status = new Map<number, LanguageStatus>();\n    protected pinnedCommands = new Set<string>();\n\n    setLanguageStatusItem(handle: number, item: LanguageStatus): void {\n        this.status.set(handle, item);\n        this.updateLanguageStatusItems();\n    }\n\n    removeLanguageStatusItem(handle: number): void {\n        this.status.delete(handle);\n        this.updateLanguageStatusItems();\n    }\n\n    updateLanguageStatus(editor: TextEditor | undefined): void {\n        if (!editor) {\n            this.statusBar.removeElement(EditorLanguageStatusService.LANGUAGE_MODE_ID);\n            return;\n        }\n        const language = this.languages.getLanguage(editor.document.languageId);\n        const languageName = language ? language.name : '';\n        this.statusBar.setElement(EditorLanguageStatusService.LANGUAGE_MODE_ID, {\n            text: languageName,\n            alignment: StatusBarAlignment.RIGHT,\n            priority: 1,\n            command: EditorCommands.CHANGE_LANGUAGE.id,\n            tooltip: nls.localizeByDefault('Select Language Mode')\n        });\n        this.updateLanguageStatusItems(editor);\n    }\n\n    protected updateLanguageStatusItems(editor = this.editorAccess.editor): void {\n        if (!editor) {\n            this.statusBar.removeElement(EditorLanguageStatusService.LANGUAGE_STATUS_ID);\n            this.updatePinnedItems();\n            return;\n        }\n        const uri = new URI(editor.document.uri);\n        const items = Array.from(this.status.values())\n            .filter(item => score(item.selector, uri.scheme, uri.path.toString(), editor.document.languageId, true))\n            .sort((left, right) => right.severity - left.severity);\n        if (!items.length) {\n            this.statusBar.removeElement(EditorLanguageStatusService.LANGUAGE_STATUS_ID);\n            return;\n        }\n        const severityText = items[0].severity === Severity.Info\n            ? '$(bracket)'\n            : items[0].severity === Severity.Warning\n                ? '$(bracket-dot)'\n                : '$(bracket-error)';\n        this.statusBar.setElement(EditorLanguageStatusService.LANGUAGE_STATUS_ID, {\n            text: severityText,\n            alignment: StatusBarAlignment.RIGHT,\n            priority: 2,\n            tooltip: this.createTooltip(items),\n            affinity: { id: EditorLanguageStatusService.LANGUAGE_MODE_ID, alignment: StatusBarAlignment.LEFT, compact: true },\n        });\n        this.updatePinnedItems(items);\n    }\n\n    protected updatePinnedItems(items?: LanguageStatus[]): void {\n        const toRemoveFromStatusBar = new Set(this.pinnedCommands);\n        items?.forEach(item => {\n            if (toRemoveFromStatusBar.has(item.id)) {\n                toRemoveFromStatusBar.delete(item.id);\n                this.statusBar.setElement(item.id, this.toPinnedItem(item));\n            }\n        });\n        toRemoveFromStatusBar.forEach(id => this.statusBar.removeElement(id));\n    }\n\n    protected toPinnedItem(item: LanguageStatus): StatusBarEntry {\n        return {\n            text: item.label,\n            affinity: { id: EditorLanguageStatusService.LANGUAGE_MODE_ID, alignment: StatusBarAlignment.RIGHT, compact: false },\n            alignment: StatusBarAlignment.RIGHT,\n            onclick: item.command && (e => { e.preventDefault(); this.commandRegistry.executeCommand(item.command!.id, ...(item.command?.arguments ?? [])); }),\n        };\n    }\n\n    protected createTooltip(items: LanguageStatus[]): HTMLElement {\n        const hoverContainer = document.createElement('div');\n        hoverContainer.classList.add('hover-row');\n        for (const item of items) {\n            const itemContainer = document.createElement('div');\n            itemContainer.classList.add('hover-language-status');\n            {\n                const severityContainer = document.createElement('div');\n                severityContainer.classList.add('severity', `sev${item.severity}`);\n                severityContainer.classList.toggle('show', item.severity === Severity.Error || item.severity === Severity.Warning);\n                {\n                    const severityIcon = document.createElement('span');\n                    severityIcon.className = this.getSeverityIconClasses(item.severity);\n                    severityContainer.appendChild(severityIcon);\n                }\n                itemContainer.appendChild(severityContainer);\n            }\n            const textContainer = document.createElement('div');\n            textContainer.className = 'element';\n            const labelContainer = document.createElement('div');\n            labelContainer.className = 'left';\n            const label = document.createElement('span');\n            label.classList.add('label');\n            this.renderWithIcons(label, item.busy ? `$(sync~spin)\\u00A0\\u00A0${item.label}` : item.label);\n            labelContainer.appendChild(label);\n            const detail = document.createElement('span');\n            detail.classList.add('detail');\n            this.renderWithIcons(detail, item.detail);\n            labelContainer.appendChild(detail);\n            textContainer.appendChild(labelContainer);\n            const commandContainer = document.createElement('div');\n            commandContainer.classList.add('right');\n            if (item.command) {\n                const link = document.createElement('a');\n                link.classList.add('language-status-link');\n                link.href = new URI()\n                    .withScheme('command')\n                    .withPath(item.command.id)\n                    .withQuery(item.command.arguments ? encodeURIComponent(JSON.stringify(item.command.arguments)) : '')\n                    .toString(false);\n                link.onclick = e => { e.preventDefault(); this.commandRegistry.executeCommand(item.command!.id, ...(item.command?.arguments ?? [])); };\n                link.textContent = item.command.title ?? item.command.id;\n                link.title = item.command.tooltip ?? '';\n                link.ariaRoleDescription = 'button';\n                link.ariaDisabled = 'false';\n                commandContainer.appendChild(link);\n                const pinContainer = document.createElement('div');\n                pinContainer.classList.add('language-status-action-bar');\n                const pin = document.createElement('a');\n                this.setPinProperties(pin, item.id);\n                pin.onclick = e => { e.preventDefault(); this.togglePinned(item); this.setPinProperties(pin, item.id); };\n                pinContainer.appendChild(pin);\n                commandContainer.appendChild(pinContainer);\n            }\n            textContainer.appendChild(commandContainer);\n            itemContainer.append(textContainer);\n            hoverContainer.appendChild(itemContainer);\n        }\n        return hoverContainer;\n    }\n\n    protected setPinProperties(pin: HTMLElement, id: string): void {\n        pin.className = this.pinnedCommands.has(id) ? codicon('pinned', true) : codicon('pin', true);\n        pin.ariaRoleDescription = 'button';\n        const pinText = this.pinnedCommands.has(id)\n            ? nls.localizeByDefault('Remove from Status Bar')\n            : nls.localizeByDefault('Add to Status Bar');\n        pin.ariaLabel = pinText;\n        pin.title = pinText;\n    }\n\n    protected togglePinned(item: LanguageStatus): void {\n        if (this.pinnedCommands.has(item.id)) {\n            this.pinnedCommands.delete(item.id);\n            this.statusBar.removeElement(item.id);\n        } else {\n            this.pinnedCommands.add(item.id);\n            this.statusBar.setElement(item.id, this.toPinnedItem(item));\n        }\n    }\n\n    protected getSeverityIconClasses(severity: Severity): string {\n        switch (severity) {\n            case Severity.Error: return codicon('error');\n            case Severity.Warning: return codicon('info');\n            default: return codicon('check');\n        }\n    }\n\n    protected renderWithIcons(host: HTMLElement, text?: string): void {\n        if (text) {\n            for (const chunk of this.labelParser.parse(text)) {\n                if (typeof chunk === 'string') {\n                    host.append(chunk);\n                } else {\n                    const iconSpan = document.createElement('span');\n                    const className = codicon(chunk.name) + (chunk.animation ? ` fa-${chunk.animation}` : '');\n                    iconSpan.className = className;\n                    host.append(iconSpan);\n                }\n            }\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { ILogger } from '@theia/core/lib/common/logger';\nimport { OpenerService, OpenerOptions, open } from '@theia/core/lib/browser/opener-service';\nimport { EditorOpenerOptions } from '../editor-manager';\nimport { NavigationLocationUpdater } from './navigation-location-updater';\nimport { NavigationLocationSimilarity } from './navigation-location-similarity';\nimport { NavigationLocation, Range, ContentChangeLocation, RecentlyClosedEditor } from './navigation-location';\nimport URI from '@theia/core/lib/common/uri';\n\n/**\n * The navigation location service.\n * It also stores and manages navigation locations and recently closed editors.\n */\n@injectable()\nexport class NavigationLocationService {\n\n    private static MAX_STACK_ITEMS = 30;\n    private static readonly MAX_RECENTLY_CLOSED_EDITORS = 20;\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    @inject(NavigationLocationUpdater)\n    protected readonly updater: NavigationLocationUpdater;\n\n    @inject(NavigationLocationSimilarity)\n    protected readonly similarity: NavigationLocationSimilarity;\n\n    protected pointer = -1;\n    protected stack: NavigationLocation[] = [];\n    protected canRegister = true;\n    protected _lastEditLocation: ContentChangeLocation | undefined;\n\n    protected recentlyClosedEditors: RecentlyClosedEditor[] = [];\n\n    /**\n     * Registers the give locations into the service.\n     */\n    register(...locations: NavigationLocation[]): void {\n        if (this.canRegister) {\n            const max = this.maxStackItems();\n            [...locations].forEach(location => {\n                if (ContentChangeLocation.is(location)) {\n                    this._lastEditLocation = location;\n                }\n                const current = this.currentLocation();\n                this.debug(`Registering new location: ${NavigationLocation.toString(location)}.`);\n                if (!this.isSimilar(current, location)) {\n                    this.debug('Before location registration.');\n                    this.debug(this.stackDump);\n                    // Just like in VSCode; if we are not at the end of stack, we remove anything after.\n                    if (this.stack.length > this.pointer + 1) {\n                        this.debug(`Discarding all locations after ${this.pointer}.`);\n                        this.stack = this.stack.slice(0, this.pointer + 1);\n                    }\n                    this.stack.push(location);\n                    this.pointer = this.stack.length - 1;\n                    if (this.stack.length > max) {\n                        this.debug('Trimming exceeding locations.');\n                        this.stack.shift();\n                        this.pointer--;\n                    }\n                    this.debug('Updating preceding navigation locations.');\n                    for (let i = this.stack.length - 1; i >= 0; i--) {\n                        const candidate = this.stack[i];\n                        const update = this.updater.affects(candidate, location);\n                        if (update === undefined) {\n                            this.debug(`Erasing obsolete location: ${NavigationLocation.toString(candidate)}.`);\n                            this.stack.splice(i, 1);\n                            this.pointer--;\n                        } else if (typeof update !== 'boolean') {\n                            this.debug(`Updating location at index: ${i} => ${NavigationLocation.toString(candidate)}.`);\n                            this.stack[i] = update;\n                        }\n                    }\n                    this.debug('After location registration.');\n                    this.debug(this.stackDump);\n                } else {\n                    if (current) {\n                        this.debug(`The new location ${NavigationLocation.toString(location)} is similar to the current one: ${NavigationLocation.toString(current)}. Aborting.`);\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * Navigates one back. Returns with the previous location, or `undefined` if it could not navigate back.\n     */\n    async back(): Promise<NavigationLocation | undefined> {\n        this.debug('Navigating back.');\n        if (this.canGoBack()) {\n            this.pointer--;\n            await this.reveal();\n            this.debug(this.stackDump);\n            return this.currentLocation();\n        }\n        this.debug('Cannot navigate back.');\n        return undefined;\n    }\n\n    /**\n     * Navigates one forward. Returns with the next location, or `undefined` if it could not go forward.\n     */\n    async forward(): Promise<NavigationLocation | undefined> {\n        this.debug('Navigating forward.');\n        if (this.canGoForward()) {\n            this.pointer++;\n            await this.reveal();\n            this.debug(this.stackDump);\n            return this.currentLocation();\n        }\n        this.debug('Cannot navigate forward.');\n        return undefined;\n    }\n\n    /**\n     * Checks whether the service can go [`back`](#back).\n     */\n    canGoBack(): boolean {\n        return this.pointer >= 1;\n    }\n\n    /**\n     * Checks whether the service can go [`forward`](#forward).\n     */\n    canGoForward(): boolean {\n        return this.pointer >= 0 && this.pointer !== this.stack.length - 1;\n    }\n\n    /**\n     * Returns with all known navigation locations in chronological order.\n     */\n    locations(): ReadonlyArray<NavigationLocation> {\n        return this.stack;\n    }\n\n    /**\n     * Returns with the current location.\n     */\n    currentLocation(): NavigationLocation | undefined {\n        return this.stack[this.pointer];\n    }\n\n    /**\n     * Returns with the location of the most recent edition if any. If there were no modifications,\n     * returns `undefined`.\n     */\n    lastEditLocation(): NavigationLocation | undefined {\n        return this._lastEditLocation;\n    }\n\n    /**\n     * Clears the total history.\n     */\n    clearHistory(): void {\n        this.stack = [];\n        this.pointer = -1;\n        this._lastEditLocation = undefined;\n        this.recentlyClosedEditors = [];\n    }\n\n    /**\n     * Reveals the location argument. If not given, reveals the `current location`. Does nothing, if the argument is `undefined`.\n     */\n    async reveal(location: NavigationLocation | undefined = this.currentLocation()): Promise<void> {\n        if (location === undefined) {\n            return;\n        }\n        try {\n            this.canRegister = false;\n            const { uri } = location;\n            const options = this.toOpenerOptions(location);\n            await open(this.openerService, uri, options);\n        } catch (e) {\n            this.logger.error(`Error occurred while revealing location: ${NavigationLocation.toString(location)}.`, e);\n        } finally {\n            this.canRegister = true;\n        }\n    }\n\n    /**\n     * `true` if the two locations are similar.\n     */\n    protected isSimilar(left: NavigationLocation | undefined, right: NavigationLocation | undefined): boolean {\n        return this.similarity.similar(left, right);\n    }\n\n    /**\n     * Returns with the number of navigation locations that the application can handle and manage.\n     * When the number of locations exceeds this number, old locations will be erased.\n     */\n    protected maxStackItems(): number {\n        return NavigationLocationService.MAX_STACK_ITEMS;\n    }\n\n    /**\n     * Returns with the opener option for the location argument.\n     */\n    protected toOpenerOptions(location: NavigationLocation): OpenerOptions {\n        let { start } = NavigationLocation.range(location);\n        // Here, the `start` and represents the previous state that has been updated with the `text`.\n        // So we calculate the range by appending the `text` length to the `start`.\n        if (ContentChangeLocation.is(location)) {\n            start = { ...start, character: start.character + location.context.text.length };\n        }\n        return {\n            selection: Range.create(start, start)\n        } as EditorOpenerOptions;\n    }\n\n    private async debug(message: string | (() => string)): Promise<void> {\n        this.logger.trace(typeof message === 'string' ? message : message());\n    }\n\n    private get stackDump(): string {\n        return `----- Navigation location stack [${new Date()}] -----\nPointer: ${this.pointer}\n${this.stack.map((location, i) => `${i}: ${JSON.stringify(NavigationLocation.toObject(location))}`).join('\\n')}\n----- o -----`;\n    }\n\n    /**\n     * Get the recently closed editors stack in chronological order.\n     *\n     * @returns readonly closed editors stack.\n     */\n    get closedEditorsStack(): ReadonlyArray<RecentlyClosedEditor> {\n        return this.recentlyClosedEditors;\n    }\n\n    /**\n     * Get the last recently closed editor.\n     *\n     * @returns the recently closed editor if it exists.\n     */\n    getLastClosedEditor(): RecentlyClosedEditor | undefined {\n        return this.recentlyClosedEditors[this.recentlyClosedEditors.length - 1];\n    }\n\n    /**\n     * Add the recently closed editor to the history.\n     *\n     * @param editor the recently closed editor.\n     */\n    addClosedEditor(editor: RecentlyClosedEditor): void {\n        this.removeClosedEditor(editor.uri);\n        this.recentlyClosedEditors.push(editor);\n\n        // Removes the oldest entry from the history if the maximum size is reached.\n        if (this.recentlyClosedEditors.length > NavigationLocationService.MAX_RECENTLY_CLOSED_EDITORS) {\n            this.recentlyClosedEditors.shift();\n        }\n    }\n\n    /**\n     * Remove all occurrences of the given editor in the history if they exist.\n     *\n     * @param uri the uri of the editor that should be removed from the history.\n     */\n    removeClosedEditor(uri: URI): void {\n        this.recentlyClosedEditors = this.recentlyClosedEditors.filter(e => !uri.isEqual(e.uri));\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { NavigationLocation } from './navigation-location';\n\n/**\n * Service for checking whether two navigation locations are similar or not.\n */\n@injectable()\nexport class NavigationLocationSimilarity {\n\n    /**\n     * The number of lines to move in the editor to justify for new state.\n     */\n    private static EDITOR_SELECTION_THRESHOLD = 10;\n\n    /**\n     * `true` if the `left` and `right` locations are withing +- 10 lines in the same editor. Otherwise, `false`.\n     */\n    similar(left: NavigationLocation | undefined, right: NavigationLocation | undefined): boolean {\n        if (left === undefined || right === undefined) {\n            return left === right;\n        }\n\n        if (left.uri.toString() !== right.uri.toString()) {\n            return false;\n        }\n\n        const leftRange = NavigationLocation.range(left);\n        const rightRange = NavigationLocation.range(right);\n        if (leftRange === undefined || rightRange === undefined) {\n            return leftRange === rightRange;\n        }\n\n        const leftLineNumber = Math.min(leftRange.start.line, leftRange.end.line);\n        const rightLineNumber = Math.min(rightRange.start.line, rightRange.end.line);\n        return Math.abs(leftLineNumber - rightLineNumber) < this.getThreshold();\n    }\n\n    protected getThreshold(): number {\n        return NavigationLocationSimilarity.EDITOR_SELECTION_THRESHOLD;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { NavigationLocation, ContentChangeLocation, CursorLocation, SelectionLocation, Position, Range } from './navigation-location';\n\n/**\n * A navigation location updater that is responsible for adapting editor navigation locations.\n *\n * 1. Inserting or deleting text before the position shifts the position accordingly.\n * 2. Inserting text at the position offset shifts the position accordingly.\n * 3. Inserting or deleting text strictly contained by the position shrinks or stretches the position.\n * 4. Inserting or deleting text after a position does not affect the position.\n * 5. Deleting text which strictly contains the position deletes the position.\n * Note that the position is not deleted if its only shrunken to length zero. To delete a position, the modification must delete from\n * strictly before to strictly after the position.\n * 6. Replacing text contained by the position shrinks or expands the position (but does not shift it), such that the final position\n * contains the original position and the replacing text.\n * 7. Replacing text overlapping the position in other ways is considered as a sequence of first deleting the replaced text and\n * afterwards inserting the new text. Thus, a position is shrunken and can then be shifted (if the replaced text overlaps the offset of the position).\n */\n@injectable()\nexport class NavigationLocationUpdater {\n\n    /**\n     * Checks whether `candidateLocation` has to be updated when applying `other`.\n     *  - `false` if the `other` does not affect the `candidateLocation`.\n     *  - A `NavigationLocation` object if the `candidateLocation` has to be replaced with the return value.\n     *  - `undefined` if the candidate has to be deleted.\n     *\n     * If the `otherLocation` is not a `ContentChangeLocation` or it does not contain any actual content changes, this method returns with `false`\n     */\n    affects(candidateLocation: NavigationLocation, otherLocation: NavigationLocation): false | NavigationLocation | undefined {\n        if (!ContentChangeLocation.is(otherLocation)) {\n            return false;\n        }\n        if (candidateLocation.uri.toString() !== otherLocation.uri.toString()) {\n            return false;\n        }\n\n        const candidate = NavigationLocation.range(candidateLocation);\n        const other = NavigationLocation.range(otherLocation);\n        if (candidate === undefined || other === undefined) {\n            return false;\n        }\n\n        const { uri, type } = candidateLocation;\n        const modification = otherLocation.context.text;\n        const newLineCount = modification.split(/[\\n\\r]/g).length - 1;\n\n        // Spec (1. and 2.)\n        if (other.end.line < candidate.start.line\n            || (other.end.line === candidate.start.line && other.end.character <= candidate.start.character)) {\n\n            // Shortcut for the general case. The user is typing above the candidate range. Nothing to do.\n            if (other.start.line === other.end.line && newLineCount === 0) {\n                return false;\n            }\n\n            const lineDiff = other.start.line - other.end.line + newLineCount;\n            let startCharacter = candidate.start.character;\n            let endCharacter = candidate.end.character;\n\n            if (other.start.line !== other.end.line) {\n                startCharacter = other.start.character + (candidate.start.character - other.end.character) + (modification.length - (modification.lastIndexOf('\\n') + 1));\n                endCharacter = candidate.start.line === candidate.end.line\n                    ? candidate.end.character + startCharacter - candidate.start.character\n                    : candidate.end.character;\n            }\n\n            const context = this.handleBefore(candidateLocation, other, lineDiff, startCharacter, endCharacter);\n            return {\n                uri,\n                type,\n                context\n            };\n        }\n\n        // Spec (3.,  5., and 6.)\n        if (this.contained(other, candidate)) {\n            const endLine = candidate.end.line - other.end.line + candidate.start.line + newLineCount;\n            let endCharacter = candidate.end.character - (other.end.character - other.start.character) + modification.length;\n\n            if (newLineCount > 0) {\n                if (candidate.end.line === other.end.line) {\n                    endCharacter = modification.length - (modification.lastIndexOf('\\n') + 1) + (candidate.end.character - other.end.character);\n                } else {\n                    endCharacter = endCharacter - 1;\n                }\n            }\n\n            const context = this.handleInside(candidateLocation, endLine, endCharacter);\n            return {\n                uri,\n                type,\n                context\n            };\n        }\n\n        // Spec (5.)\n        if (other.start.line === candidate.start.line && other.start.character === candidate.start.character\n            && (other.end.line > candidate.end.line || (other.end.line === candidate.end.line && other.end.character > candidate.end.character))) {\n            return undefined;\n        }\n\n        // Spec (4.)\n        if (candidate.end.line < other.start.line\n            || (candidate.end.line === other.start.line && candidate.end.character < other.end.character)) {\n            return false;\n        }\n\n        return false;\n    }\n\n    protected handleInside(candidate: NavigationLocation, endLine: number, endCharacter: number): NavigationLocation.Context {\n        if (CursorLocation.is(candidate)) {\n            throw new Error('Modifications are not allowed inside a cursor location.');\n        }\n        const { start } = NavigationLocation.range(candidate);\n        const range = {\n            start,\n            end: {\n                line: endLine,\n                character: endCharacter\n            }\n        };\n        if (SelectionLocation.is(candidate)) {\n            return range;\n        }\n        if (ContentChangeLocation.is(candidate)) {\n            const { rangeLength, text } = candidate.context;\n            return {\n                range,\n                rangeLength,\n                text\n            };\n        }\n        throw new Error(`Unexpected navigation location: ${NavigationLocation.toString(candidate)}.`);\n    }\n\n    protected handleBefore(candidate: NavigationLocation, modification: Range, lineDiff: number, startCharacter: number, endCharacter: number): NavigationLocation.Context {\n        let range = NavigationLocation.range(candidate);\n        range = this.shiftLine(range, lineDiff);\n        range = {\n            start: {\n                line: range.start.line,\n                character: startCharacter\n            },\n            end: {\n                line: range.end.line,\n                character: endCharacter\n            }\n        };\n        if (CursorLocation.is(candidate)) {\n            return range.start;\n        }\n        if (SelectionLocation.is(candidate)) {\n            return range;\n        }\n        if (ContentChangeLocation.is(candidate)) {\n            const { rangeLength, text } = candidate.context;\n            return {\n                range,\n                rangeLength,\n                text\n            };\n        }\n        throw new Error(`Unexpected navigation location: ${NavigationLocation.toString(candidate)}.`);\n    }\n\n    protected shiftLine(position: Position, diff: number): Position;\n    protected shiftLine(range: Range, diff: number): Range;\n    protected shiftLine(input: Position | Range, diff: number): Position | Range {\n        if (Position.is(input)) {\n            const { line, character } = input;\n            return {\n                line: line + diff,\n                character\n            };\n        }\n        const { start, end } = input;\n        return {\n            start: this.shiftLine(start, diff),\n            end: this.shiftLine(end, diff)\n        };\n    }\n\n    /**\n     * `true` if `subRange` is strictly contained in the `range`. Otherwise, `false`.\n     */\n    protected contained(subRange: Range, range: Range): boolean {\n        if (subRange.start.line > range.start.line && subRange.end.line < range.end.line) {\n            return true;\n        }\n        if (subRange.start.line < range.start.line || subRange.end.line > range.end.line) {\n            return false;\n        }\n        if (subRange.start.line === range.start.line && subRange.start.character < range.start.character) {\n            return false;\n        }\n        if (subRange.end.line === range.end.line && subRange.end.character > range.end.character) {\n            return false;\n        }\n        return true;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\nimport { Position, Range, TextDocumentContentChangeDelta } from '../editor';\nexport { Position, Range };\n\nexport namespace NavigationLocation {\n\n    /**\n     * The navigation location type.\n     */\n    export enum Type {\n\n        /**\n         * Cursor position change type.\n         */\n        CURSOR,\n\n        /**\n         * Text selection change type.\n         */\n        SELECTION,\n\n        /**\n         * Content change type.\n         */\n        CONTENT_CHANGE\n\n    }\n\n    /**\n     * The type of the context for the navigation location.\n     */\n    export type Context = Position | Range | TextDocumentContentChangeDelta;\n\n    export namespace Context {\n\n        /**\n         * Returns with the type for the context.\n         */\n        export function getType(context: Context): Type {\n            if (Position.is(context)) {\n                return Type.CURSOR;\n            }\n            if (Range.is(context)) {\n                return Type.SELECTION;\n            }\n            if (TextDocumentContentChangeDelta.is(context)) {\n                return Type.CONTENT_CHANGE;\n            }\n            throw new Error(`Unexpected context for type: ${context}.`);\n        }\n\n    }\n\n}\n\n/**\n * Representation of a navigation location in a text editor.\n */\nexport interface NavigationLocation {\n\n    /**\n     * The URI of the resource opened in the editor.\n     */\n    readonly uri: URI;\n\n    /**\n     * The type of the navigation location.\n     */\n    readonly type: NavigationLocation.Type;\n\n    /**\n     * Context of the navigation location.\n     */\n    readonly context: NavigationLocation.Context;\n\n}\n\nexport namespace NavigationLocation {\n\n    /**\n     * Transforms the location into an object that can be safely serialized.\n     */\n    export function toObject(location: NavigationLocation): object {\n        const { uri, type } = location;\n        const context = (() => {\n            if (CursorLocation.is(location)) {\n                return CursorLocation.toObject(location.context);\n            }\n            if (SelectionLocation.is(location)) {\n                return SelectionLocation.toObject(location.context);\n            }\n            if (ContentChangeLocation.is(location)) {\n                return ContentChangeLocation.toObject(location.context);\n            }\n        })();\n        return {\n            uri: uri.toString(),\n            type,\n            context\n        };\n    }\n\n    /**\n     * Returns with the navigation location object from its serialized counterpart.\n     */\n    export function fromObject(object: Partial<NavigationLocation>): NavigationLocation | undefined {\n        const { uri, type } = object;\n        if (uri !== undefined && type !== undefined && object.context !== undefined) {\n            const context = (() => {\n                switch (type) {\n                    case NavigationLocation.Type.CURSOR: return CursorLocation.fromObject(object.context as Position);\n                    case NavigationLocation.Type.SELECTION: return SelectionLocation.fromObject(object.context as Range);\n                    case NavigationLocation.Type.CONTENT_CHANGE: return ContentChangeLocation.fromObject(object.context as TextDocumentContentChangeDelta);\n                }\n            })();\n            if (context) {\n                return {\n                    uri: toUri(uri),\n                    context,\n                    type\n                };\n            }\n        }\n        return undefined;\n    }\n\n    /**\n     * Returns with the context of the location as a `Range`.\n     */\n    export function range(location: NavigationLocation): Range {\n        if (CursorLocation.is(location)) {\n            return Range.create(location.context, location.context);\n        }\n        if (SelectionLocation.is(location)) {\n            return location.context;\n        }\n        if (ContentChangeLocation.is(location)) {\n            return location.context.range;\n        }\n        throw new Error(`Unexpected navigation location: ${location}.`);\n    }\n\n    /**\n     * Creates a new cursor location.\n     */\n    export function create(uri: URI | { uri: URI } | string, context: Position): CursorLocation;\n\n    /**\n     * Creates a new selection location.\n     */\n    export function create(uri: URI | { uri: URI } | string, context: Range): SelectionLocation;\n\n    /**\n     * Creates a new text content change location type.\n     */\n    export function create(uri: URI | { uri: URI } | string, context: TextDocumentContentChangeDelta): ContentChangeLocation;\n\n    /**\n     * Creates a new navigation location object.\n     */\n    export function create(uri: URI | { uri: URI } | string, context: NavigationLocation.Context): NavigationLocation {\n        const type = NavigationLocation.Context.getType(context);\n        return {\n            uri: toUri(uri),\n            type,\n            context\n        };\n    }\n\n    /**\n     * Returns with the human-consumable (JSON) string representation of the location argument.\n     */\n    export function toString(location: NavigationLocation): string {\n        return JSON.stringify(toObject(location));\n    }\n\n}\n\nfunction toUri(arg: URI | { uri: URI } | string): URI {\n    if (arg instanceof URI) {\n        return arg;\n    }\n    if (typeof arg === 'string') {\n        return new URI(arg);\n    }\n    return arg.uri;\n}\n\n/**\n * Representation of a closed editor.\n */\nexport interface RecentlyClosedEditor {\n\n    /**\n     * The uri of the closed editor.\n     */\n    readonly uri: URI,\n\n    /**\n     * The serializable view state of the closed editor.\n     */\n    readonly viewState: object\n\n}\n\nexport namespace RecentlyClosedEditor {\n\n    /**\n     * Transform a RecentlyClosedEditor into an object for storing.\n     *\n     * @param closedEditor the editor needs to be transformed.\n     */\n    export function toObject(closedEditor: RecentlyClosedEditor): object {\n        const { uri, viewState } = closedEditor;\n        return {\n            uri: uri.toString(),\n            viewState: viewState\n        };\n    }\n\n    /**\n     * Transform the given object to a RecentlyClosedEditor object if possible.\n     */\n    export function fromObject(object: Partial<RecentlyClosedEditor>): RecentlyClosedEditor | undefined {\n        const { uri, viewState } = object;\n        if (uri !== undefined && viewState !== undefined) {\n            return {\n                uri: toUri(uri),\n                viewState: viewState\n            };\n        }\n        return undefined;\n    }\n\n}\n\n/**\n * Navigation location representing the cursor location change.\n */\nexport interface CursorLocation extends NavigationLocation {\n\n    /**\n     * The type is always `cursor`.\n     */\n    readonly type: NavigationLocation.Type.CURSOR;\n\n    /**\n     * The context for the location, that is always a position.\n     */\n    readonly context: Position;\n\n}\n\nexport namespace CursorLocation {\n\n    /**\n     * `true` if the argument is a cursor location. Otherwise, `false`.\n     */\n    export function is(location: NavigationLocation): location is CursorLocation {\n        return location.type === NavigationLocation.Type.CURSOR;\n    }\n\n    /**\n     * Returns with the serialized format of the position argument.\n     */\n    export function toObject(context: Position): object {\n        const { line, character } = context;\n        return {\n            line,\n            character\n        };\n    }\n\n    /**\n     * Returns with the position from its serializable counterpart, or `undefined`.\n     */\n    export function fromObject(object: Partial<Position>): Position | undefined {\n        if (object.line !== undefined && object.character !== undefined) {\n            const { line, character } = object;\n            return {\n                line,\n                character\n            };\n        }\n        return undefined;\n    }\n\n}\n\n/**\n * Representation of a selection location.\n */\nexport interface SelectionLocation extends NavigationLocation {\n\n    /**\n     * The `selection` type.\n     */\n    readonly type: NavigationLocation.Type.SELECTION;\n\n    /**\n     * The context of the selection; a range.\n     */\n    readonly context: Range;\n\n}\n\nexport namespace SelectionLocation {\n\n    /**\n     * `true` if the argument is a selection location.\n     */\n    export function is(location: NavigationLocation): location is SelectionLocation {\n        return location.type === NavigationLocation.Type.SELECTION;\n    }\n\n    /**\n     * Converts the range argument into a serializable object.\n     */\n    export function toObject(context: Range): object {\n        const { start, end } = context;\n        return {\n            start: CursorLocation.toObject(start),\n            end: CursorLocation.toObject(end)\n        };\n    }\n\n    /**\n     * Creates a range object from its serializable counterpart. Returns with `undefined` if the argument cannot be converted into a range.\n     */\n    export function fromObject(object: Partial<Range>): Range | undefined {\n        if (!!object.start && !!object.end) {\n            const start = CursorLocation.fromObject(object.start);\n            const end = CursorLocation.fromObject(object.end);\n            if (start && end) {\n                return {\n                    start,\n                    end\n                };\n            }\n        }\n        return undefined;\n    }\n}\n\n/**\n * Content change location type.\n */\nexport interface ContentChangeLocation extends NavigationLocation {\n\n    /**\n     * The type, that is always `content change`.\n     */\n    readonly type: NavigationLocation.Type.CONTENT_CHANGE;\n\n    /**\n     * A text document content change deltas as the context.\n     */\n    readonly context: TextDocumentContentChangeDelta;\n\n}\n\nexport namespace ContentChangeLocation {\n\n    /**\n     * `true` if the argument is a content change location. Otherwise, `false`.\n     */\n    export function is(location: NavigationLocation): location is ContentChangeLocation {\n        return location.type === NavigationLocation.Type.CONTENT_CHANGE;\n    }\n\n    /**\n     * Returns with a serializable object representing the arguments.\n     */\n    export function toObject(context: TextDocumentContentChangeDelta): object {\n        return {\n            range: SelectionLocation.toObject(context.range),\n            rangeLength: context.rangeLength,\n            text: context.text\n        };\n    }\n\n    /**\n     * Returns with a text document change delta for the argument. `undefined` if the argument cannot be mapped to a content change delta.\n     */\n    export function fromObject(object: Partial<TextDocumentContentChangeDelta>): TextDocumentContentChangeDelta | undefined {\n        if (!!object.range && object.rangeLength !== undefined && object.text !== undefined) {\n            const range = SelectionLocation.fromObject(object.range!);\n            const rangeLength = object.rangeLength;\n            const text = object.text;\n            if (!!range) {\n                return {\n                    range,\n                    rangeLength: rangeLength!,\n                    text: text!\n                };\n            }\n        } else {\n            return undefined;\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { CancellationToken, nls, QuickPickItemOrSeparator } from '@theia/core/lib/common';\nimport { LabelProvider } from '@theia/core/lib/browser/label-provider';\nimport { QuickAccessProvider, QuickAccessRegistry, QuickAccessContribution } from '@theia/core/lib/browser/quick-input/quick-access';\nimport { filterItems, QuickPickItem, QuickPickSeparator } from '@theia/core/lib/browser/quick-input/quick-input-service';\nimport { ApplicationShell, NavigatableWidget, TabBar, Widget } from '@theia/core/lib/browser';\n\n@injectable()\nexport class QuickEditorService implements QuickAccessContribution, QuickAccessProvider {\n    static PREFIX = 'edt ';\n\n    @inject(LabelProvider) protected readonly labelProvider: LabelProvider;\n    @inject(QuickAccessRegistry) protected readonly quickAccessRegistry: QuickAccessRegistry;\n    @inject(ApplicationShell) protected readonly shell: ApplicationShell;\n\n    protected groupLocalizations: string[] = [];\n\n    registerQuickAccessProvider(): void {\n        this.quickAccessRegistry.registerQuickAccessProvider({\n            getInstance: () => this,\n            prefix: QuickEditorService.PREFIX,\n            placeholder: '',\n            helpEntries: [{ description: 'Show All Opened Editors', needsEditor: false }]\n        });\n    }\n\n    getPicks(filter: string, token: CancellationToken): (QuickPickItem | QuickPickSeparator)[] {\n        const editorItems: QuickPickItemOrSeparator[] = [];\n        const hasUri = (widget: Widget): widget is NavigatableWidget => Boolean(NavigatableWidget.getUri(widget));\n        const handleWidgets = (widgets: NavigatableWidget[], label: string) => {\n            if (widgets.length) {\n                editorItems.push({ type: 'separator', label });\n            }\n            editorItems.push(...widgets.map(widget => this.toItem(widget)));\n        };\n        const handleSplittableArea = (tabbars: TabBar<Widget>[], labelPrefix: string) => {\n            tabbars.forEach((tabbar, index) => {\n                const editorsOnTabbar = tabbar.titles.reduce<NavigatableWidget[]>((widgets, title) => {\n                    if (hasUri(title.owner)) {\n                        widgets.push(title.owner);\n                    }\n                    return widgets;\n                }, []);\n                const label = tabbars.length > 1 ? `${labelPrefix} ${this.getGroupLocalization(index)}` : labelPrefix;\n                handleWidgets(editorsOnTabbar, label);\n            });\n        };\n\n        handleSplittableArea(this.shell.mainAreaTabBars, ApplicationShell.areaLabels.main);\n        handleSplittableArea(this.shell.bottomAreaTabBars, ApplicationShell.areaLabels.bottom);\n\n        for (const area of ['left', 'right'] as ApplicationShell.Area[]) {\n            const editorsInArea = this.shell.getWidgets(area).filter(hasUri);\n            handleWidgets(editorsInArea, ApplicationShell.areaLabels[area]);\n        }\n\n        return filterItems(editorItems.slice(), filter);\n    }\n\n    protected getGroupLocalization(index: number): string {\n        return this.groupLocalizations[index] || nls.localizeByDefault('Group {0}', index + 1);\n    }\n\n    protected toItem(widget: NavigatableWidget): QuickPickItem {\n        const uri = NavigatableWidget.getUri(widget)!;\n        const icon = this.labelProvider.getIcon(uri);\n        const iconClasses = icon === '' ? undefined : [icon + ' file-icon'];\n\n        return {\n            label: this.labelProvider.getName(uri),\n            description: this.labelProvider.getDetails(uri),\n            iconClasses,\n            ariaLabel: uri.path.fsPath(),\n            alwaysShow: true,\n            execute: () => this.shell.activateWidget(widget.id),\n        };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// copied and modified from https://github.com/microsoft/vscode/blob/53eac52308c4611000a171cc7bf1214293473c78/src/vs/platform/undoRedo/common/undoRedoService.ts#\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\n\n@injectable()\nexport class UndoRedoService {\n    private readonly editStacks = new Map<string, ResourceEditStack>();\n\n    pushElement(resource: URI, undo: () => Promise<void>, redo: () => Promise<void>): void {\n        let editStack: ResourceEditStack;\n        if (this.editStacks.has(resource.toString())) {\n            editStack = this.editStacks.get(resource.toString())!;\n        } else {\n            editStack = new ResourceEditStack();\n            this.editStacks.set(resource.toString(), editStack);\n        }\n\n        editStack.pushElement({ undo, redo });\n    }\n\n    removeElements(resource: URI): void {\n        if (this.editStacks.has(resource.toString())) {\n            this.editStacks.delete(resource.toString());\n        }\n    }\n\n    undo(resource: URI): void {\n        if (!this.editStacks.has(resource.toString())) {\n            return;\n        }\n\n        const editStack = this.editStacks.get(resource.toString())!;\n        const element = editStack.getClosestPastElement();\n        if (!element) {\n            return;\n        }\n\n        editStack.moveBackward(element);\n        element.undo();\n    }\n\n    redo(resource: URI): void {\n        if (!this.editStacks.has(resource.toString())) {\n            return;\n        }\n\n        const editStack = this.editStacks.get(resource.toString())!;\n        const element = editStack.getClosestFutureElement();\n        if (!element) {\n            return;\n        }\n\n        editStack.moveForward(element);\n        element.redo();\n    }\n}\n\ninterface StackElement {\n    undo(): Promise<void> | void;\n    redo(): Promise<void> | void;\n}\n\nexport class ResourceEditStack {\n    private past: StackElement[];\n    private future: StackElement[];\n\n    constructor() {\n        this.past = [];\n        this.future = [];\n    }\n\n    pushElement(element: StackElement): void {\n        this.future = [];\n        this.past.push(element);\n    }\n\n    getClosestPastElement(): StackElement | undefined {\n        if (this.past.length === 0) {\n            return undefined;\n        }\n        return this.past[this.past.length - 1];\n    }\n\n    getClosestFutureElement(): StackElement | undefined {\n        if (this.future.length === 0) {\n            return undefined;\n        }\n        return this.future[this.future.length - 1];\n    }\n\n    moveBackward(element: StackElement): void {\n        this.past.pop();\n        this.future.push(element);\n    }\n\n    moveForward(element: StackElement): void {\n        this.future.pop();\n        this.past.push(element);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { match as matchGlobPattern } from '@theia/core/lib/common/glob';\n\nexport interface RelativePattern {\n    base: string;\n    pattern: string;\n    pathToRelative(from: string, to: string): string;\n}\n\nexport interface LanguageFilter {\n    language?: string;\n    scheme?: string;\n    pattern?: string | RelativePattern;\n    hasAccessToAllModels?: boolean;\n}\nexport type LanguageSelector = string | LanguageFilter | (string | LanguageFilter)[];\n\nexport function score(selector: LanguageSelector | undefined, uriScheme: string, path: string, candidateLanguage: string, candidateIsSynchronized: boolean): number {\n\n    if (Array.isArray(selector)) {\n        let ret = 0;\n        for (const filter of selector) {\n            const value = score(filter, uriScheme, path, candidateLanguage, candidateIsSynchronized);\n            if (value === 10) {\n                return value;\n            }\n            if (value > ret) {\n                ret = value;\n            }\n        }\n        return ret;\n\n    } else if (typeof selector === 'string') {\n\n        if (!candidateIsSynchronized) {\n            return 0;\n        }\n\n        if (selector === '*') {\n            return 5;\n        } else if (selector === candidateLanguage) {\n            return 10;\n        } else {\n            return 0;\n        }\n\n    } else if (selector) {\n        const { language, pattern, scheme, hasAccessToAllModels } = selector;\n\n        if (!candidateIsSynchronized && !hasAccessToAllModels) {\n            return 0;\n        }\n\n        let result = 0;\n\n        if (scheme) {\n            if (scheme === uriScheme) {\n                result = 10;\n            } else if (scheme === '*') {\n                result = 5;\n            } else {\n                return 0;\n            }\n        }\n\n        if (language) {\n            if (language === candidateLanguage) {\n                result = 10;\n            } else if (language === '*') {\n                result = Math.max(result, 5);\n            } else {\n                return 0;\n            }\n        }\n\n        if (pattern) {\n            if (pattern === path || matchGlobPattern(pattern, path)) {\n                result = 10;\n            } else {\n                return 0;\n            }\n        }\n\n        return result;\n\n    } else {\n        return 0;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './variable';\nexport * from './variable-quick-open-service';\nexport * from './variable-resolver-service';\n","import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js!./editor-language-status.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js!./index.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};"],"names":[],"sourceRoot":""}
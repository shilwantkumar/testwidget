{"version":3,"file":"vendors-node_modules_theia_editor_lib_browser_editor-frontend-module_js-node_modules_theia_ed-74a151.js","mappings":"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AAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE;IACvB,GAAG,EAAE,EAAE,GAAG,EAAE,UAAG,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE;IACpC,GAAG,EAAE,EA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AACA;AACA,wBAAwB,wCAAwC;AAChE;AACA;AACA;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;;AAEA;AACA,iCAAiC,OAAO,OAAO;AAC/C;;AAEA,iCAAiC;AACjC;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oBAAoB,kBAAkB;AACtC;AACA,wCAAwC;AACxC,4BAA4B,gBAAgB;AAC5C;AACA,uDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA,oCAAoC,SAAS;AAC7C,wDAAwD;;AAExD;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,6CAA6C;AAC7C;AACA,4BAA4B,UAAU;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2BAA2B;AAC3B;AACA,2DAA2D;AAC3D;AACA;;AAEA;AACA;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE;AACtE;AACA;AACA;;AAEA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,WAAW;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA,8CAA8C;AAC9C,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAiD;AACjD,kCAAkC;AAClC;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,oBAAoB;AAClD;AACA;;AAEA;AACA;AACA,2DAA2D;AAC3D;AACA,+CAA+C;AAC/C;AACA;;AAEA,cAAc,uCAAuC;AACrD;;AAEA,cAAc,iCAAiC;;AAE/C;AACA;AACA;AACA,wCAAwC;AACxC,sCAAsC;;AAEtC,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uEAAuE;AACvE,sEAAsE;AACtE,oEAAoE;AACpE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;;AAEhB;;AAEA,uBAAuB;AACvB;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,+CAA+C;AAC/C;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,gBAAgB;AAC3C;;AAEA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA,uCAAuC;AACvC;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnlBa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+EAA+E;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,OAAO,mBAAO,CAAC,oHAAwB,GAAG;AACtE,oBAAoB,+BAA+B;AACnD,0BAA0B,yBAAyB;AACnD,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,OAAO,mBAAO,CAAC,8GAAqB,GAAG;AACnE,oBAAoB,+BAA+B;AACnD,KAAK;;AAEL;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,OAAO,mBAAO,CAAC,8GAAqB,GAAG;AACnE,KAAK;;AAEL;AACA;AACA;AACA,4BAA4B,OAAO,4IAAqC,CAAC,mBAAO,CAAC,sHAAyB,IAAI;AAC9G,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,OAAO,4IAAqC,CAAC,mBAAO,CAAC,sHAAyB,IAAI;AAC9G,8BAA8B,OAAO,mBAAO,CAAC,gIAA8B,GAAG;AAC9E;AACA,oBAAoB,YAAY;AAChC,KAAK;;AAEL;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,OAAO,mBAAO,CAAC,8GAAqB,GAAG;AACnE,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4BAA4B,OAAO,mBAAO,CAAC,8GAAqB,GAAG;AACnE,KAAK;;AAEL;AACA;AACA;AACA;AACA,4BAA4B,OAAO,4IAAqC,CAAC,mBAAO,CAAC,wHAA0B,IAAI;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;;;;;;;;;;;AC3La;;AAEb;AACA;AACA;AACA,IAAI,mBAAO,CAAC,+FAAY;AACxB,IAAI,mBAAO,CAAC,yFAAS;AACrB,IAAI,mBAAO,CAAC,yFAAS;AACrB,IAAI,mBAAO,CAAC,uFAAQ;AACpB,IAAI,mBAAO,CAAC,mGAAc;AAC1B,IAAI,mBAAO,CAAC,iGAAa;AACzB,IAAI,mBAAO,CAAC,qHAAuB;AACnC,IAAI,mBAAO,CAAC,mGAAc;AAC1B,IAAI,mBAAO,CAAC,iGAAa;AACzB;;AAEA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBa;AACb,aAAa,yFAA8B;;AAE3C;;AAEA;AACA;AACA,cAAc,kCAAkC;AAChD,cAAc,kCAAkC;AAChD;;AAEA,cAAc,kCAAkC;AAChD;;AAEA,cAAc,mBAAmB;AACjC,cAAc,mBAAmB;AACjC,cAAc,mBAAmB;;AAEjC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B;AAC3B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,oBAAoB,iHAAuC;;AAE3D;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA,yCAAyC;AACzC,iCAAiC;AACjC;AACA;AACA;;AAEA,kCAAkC;AAClC;AACA,cAAc,2BAA2B;AACzC;AACA,+BAA+B;AAC/B,cAAc,2BAA2B;AACzC;AACA,+BAA+B;AAC/B,cAAc,OAAO;AACrB;AACA;AACA,UAAU,OAAO;AACjB,iCAAiC;AACjC;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrMa;AACb,aAAa,yFAA8B;;AAE3C;AACA;;AAEA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,SAAS;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAoB,+BAA+B;AACnD;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gBAAgB;AACpC,yBAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACvEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,uNAAuN,iEAAiE,EAAE;AAC1R,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,2JAA2J,iEAAiE,EAAE;AAC9N,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,yLAAyL,iEAAiE,EAAE;AAC5P,GAAG;AACH;AACA;AACA,uNAAuN,iEAAiE,EAAE;AAC1R,GAAG;AACH;AACA;AACA,uNAAuN,gEAAgE,EAAE;AACzR,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;;;;;AClca;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACjLa;AACb,aAAa,yFAA8B;;AAE3C;;AAEA;;AAEA,eAAe;AACf;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA,oBAAoB,gBAAgB;AACpC,0BAA0B,mBAAmB;AAC7C;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;;AAEA,WAAW,kBAAkB;AAC7B;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,+DAA+D,4BAA4B;;AAE3F;;AAEA,aAAa;AACb;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wBAAwB,6BAA6B;AACrD;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,6BAA6B;AACrD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4CAA4C;;AAE5C;AACA,oBAAoB,iBAAiB;AACrC;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;AClMa;;AAEb,aAAa,yFAA8B;;AAE3C;;AAEA,cAAc;;AAEd;AACA;AACA;AACA;AACA;;AAEA,eAAe,KAAK;AACpB,eAAe,KAAK;;AAEpB;AACA,cAAc;AACd,cAAc;;AAEd;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,gBAAgB;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,uCAAuC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,WAAW,oBAAoB;AAC/B;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA,WAAW,gBAAgB;AAC3B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uEAAuE,4BAA4B;;AAEnG,qEAAqE;;AAErE,aAAa;AACb,YAAY;;AAEZ;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wBAAwB,6BAA6B;AACrD;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,6BAA6B;AACrD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC;AACxC,wCAAwC;;AAExC;AACA,oBAAoB,iBAAiB;AACrC;AACA,wBAAwB,gBAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AC9Ta;AACb,aAAa,yFAA8B;;AAE3C;AACA;;AAEA,YAAY;AACZ,qBAAqB,WAAW;AAChC;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,SAAS;AACzB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,oBAAoB,gBAAgB;AACpC,yBAAyB;AACzB;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA,UAAU,OAAO;AACjB,wCAAwC;AACxC,wDAAwD;AACxD;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6DAA6D;AAC7D,MAAM;AACN;;AAEA,gEAAgE;AAChE,kDAAkD;AAClD;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,gBAAgB;AACpC;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;;AAEA,2CAA2C;AAC3C;AACA;;AAEA;AACA,uCAAuC;;AAEvC;AACA;AACA;;AAEA,UAAU,OAAO;AACjB;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mCAAmC;AACnC;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB,gBAAgB;AACpC,yBAAyB;AACzB;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA,UAAU,OAAO;AACjB,4CAA4C;AAC5C,yDAAyD;AACzD;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6DAA6D;AAC7D,MAAM;AACN;;AAEA,gEAAgE;AAChE,kDAAkD;AAClD;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/Ra;;AAEb;;AAEA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;AClDa;;AAEb,aAAa,yFAA8B;;AAE3C,kBAAkB,mBAAO,CAAC,iGAAgB;AAC1C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,4BAA4B;;AAE5B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,uDAAuD;AACvD;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAA0B,mBAAO,CAAC,8FAAc,GAAG;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0EAA0E;AAC1E;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oDAAoD,EAAE;AACtD;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,mBAAO,CAAC,uFAAW;;AAErC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,mBAAO,CAAC,qBAAQ;AACpC,EAAE;;AAEF;AACA;;AAEA,EAAE;AACF;AACA;AACA,mHAAmH;AACnH;AACA;;AAEA,IAAI,KAAe,EAAE,EAEpB;;;;;;;;;;;;ACnLY;;AAEb,aAAa,yFAA8B;;AAE3C;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;;AAEA;AACA,uBAAuB;AACvB,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D;AACA;AACA,SAAS;AACT;AACA;;;AAGA;;AAEA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;;AAEA;AACA,uBAAuB;AACvB,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,eAAe;AACzD;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5Ga;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,uCAAsC;AACtC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,yCAAwC;AACxC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,6CAA4C;AAC5C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,4CAA2C;AAC3C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,2CAA0C;AAC1C;AACA;AACA;AACA;AACA,CAAC,EAAC;;AAEF,gCAAgC,mBAAO,CAAC,4FAAS;;AAEjD,iCAAiC,mBAAO,CAAC,4FAAS;;AAElD,iCAAiC,mBAAO,CAAC,4FAAS;;AAElD,iCAAiC,mBAAO,CAAC,4FAAS;;AAElD,kCAAkC,mBAAO,CAAC,8FAAU;;AAEpD,sCAAsC,mBAAO,CAAC,sGAAc;;AAE5D,uCAAuC,mBAAO,CAAC,wGAAe;;AAE9D,wCAAwC,mBAAO,CAAC,0GAAgB;;AAEhE,oCAAoC,mBAAO,CAAC,kGAAY;;AAExD,uCAAuC,uCAAuC;;;;;;;;;;;AC9EjE;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;;AAErD;;AAEA,oBAAoB,gBAAgB;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAkB,aAAa;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAe;;;;;;;;;;;AC9NF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;AACf;AACA;AACA;AACA;AACA,kBAAe;;;;;;;;;;;ACVF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;AACf;AACA,kBAAe;;;;;;;;;;;ACPF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,uCAAuC,mBAAO,CAAC,wGAAe;;AAE9D,uCAAuC,uCAAuC;;AAE9E;AACA;AACA;AACA;;AAEA;AACA,kCAAkC;;AAElC;AACA;AACA;AACA,qBAAqB;;AAErB;AACA,qBAAqB;;AAErB;AACA,qBAAqB;;AAErB;AACA,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAe;;;;;;;;;;;AC5CF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;AACf,6BAA6B,EAAE,UAAU,EAAE,eAAe,EAAE,gBAAgB,EAAE,UAAU,GAAG;AAC3F,kBAAe;;;;;;;;;;;ACPF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;ACxBa;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf;AACA;AACA;AACA;A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","sources":["webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/style/hover-service.css?../node_modules/css-loader/dist/cjs.js","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/style/select-component.css?../node_modules/css-loader/dist/cjs.js","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-compression/tree-compression.css?../node_modules/css-loader/dist/cjs.js","webpack:///../node_modules/@theia/editor/src/browser/language-status/editor-language-status.css?../node_modules/css-loader/dist/cjs.js","webpack:///../node_modules/@theia/editor/src/browser/style/index.css?../node_modules/css-loader/dist/cjs.js","webpack:///../node_modules/@theia/editor/src/browser/editor-command.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-contribution.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-frontend-module.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-generated-preference-schema.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-keybinding.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-linenumber-contribution.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-manager.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-menu.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-navigation-contribution.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-preferences.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-variable-contribution.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-widget-factory.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor-widget.ts?","webpack:///../node_modules/@theia/editor/src/browser/editor.ts?","webpack:///../node_modules/@theia/editor/src/browser/language-status/editor-language-status-service.ts?","webpack:///../node_modules/@theia/editor/src/browser/navigation/navigation-location-service.ts?","webpack:///../node_modules/@theia/editor/src/browser/navigation/navigation-location-similarity.ts?","webpack:///../node_modules/@theia/editor/src/browser/navigation/navigation-location-updater.ts?","webpack:///../node_modules/@theia/editor/src/browser/navigation/navigation-location.ts?","webpack:///../node_modules/@theia/editor/src/browser/quick-editor-service.ts?","webpack:///../node_modules/@theia/editor/src/browser/undo-redo-service.ts?","webpack:///../node_modules/@theia/editor/src/common/language-selector.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/application-package/src/api.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/application-package/src/application-props.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/application-package/src/environment.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/about-dialog.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/authentication-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/breadcrumbs/breadcrumb-popup-container.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/breadcrumbs/breadcrumb-renderer.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/breadcrumbs/breadcrumbs-constants.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/breadcrumbs/breadcrumbs-renderer.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/breadcrumbs/breadcrumbs-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/breadcrumbs/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/browser.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/clipboard-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/color-registry.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/common-frontend-contribution.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/context-key-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/context-menu-renderer.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/core-preferences.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/decoration-style.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/decorations-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/dialogs.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/dialogs/react-dialog.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/diff-uris.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/encoding-registry.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/endpoint.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/frontend-application-config-provider.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/frontend-application-contribution.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/frontend-application-state.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/frontend-application.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/hover-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/i18n/language-quick-pick-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/icon-theme-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/keybinding.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/keyboard/browser-keyboard-frontend-contribution.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/keyboard/browser-keyboard-layout-provider.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/keyboard/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/keyboard/keyboard-layout-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/keyboard/keys.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/keys.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/label-parser.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/label-provider.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/language-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/markdown-rendering/markdown-renderer.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/messaging/connection-source.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/messaging/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/messaging/service-connection-provider.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/messaging/ws-connection-provider.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/navigatable-types.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/navigatable.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/opener-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/preferences/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/preferences/injectable-preference-proxy.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/preferences/preference-configurations.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/preferences/preference-contribution.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/preferences/preference-language-override-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/preferences/preference-provider.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/preferences/preference-proxy.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/preferences/preference-scope.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/preferences/preference-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/preferences/preference-validation-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/progress-bar-factory.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/quick-input/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/quick-input/quick-access.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/quick-input/quick-command-frontend-contribution.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/quick-input/quick-command-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/quick-input/quick-help-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/quick-input/quick-input-frontend-contribution.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/quick-input/quick-input-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/quick-input/quick-pick-service-impl.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/quick-input/quick-view-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/resource-context-key.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/save-resource-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/saveable.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/secondary-window-handler.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/additional-views-menu-widget.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/application-shell.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/current-widget-command-adapter.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/shell-layout-restorer.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/side-panel-handler.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/side-panel-toolbar.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/sidebar-menu-widget.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/split-panels.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/tab-bar-decorator.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/tab-bar-toolbar/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/tab-bar-toolbar/tab-bar-toolbar-menu-adapters.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/tab-bar-toolbar/tab-bar-toolbar-registry.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/tab-bar-toolbar/tab-bar-toolbar-types.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/tab-bar-toolbar/tab-bar-toolbar.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/tab-bars.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/theia-dock-panel.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/shell/view-contribution.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/status-bar/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/status-bar/status-bar-types.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/status-bar/status-bar-view-model.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/status-bar/status-bar.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/storage-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/styling-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/supported-encodings.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/theming.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tooltip-service.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/fuzzy-search.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/search-box-debounce.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/search-box.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-compression/compressed-tree-expansion-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-compression/compressed-tree-model.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-compression/compressed-tree-widget.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-compression/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-compression/tree-compression-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-container.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-decorator.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-expansion.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-focus-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-iterator.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-model.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-navigation.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-preference.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-search.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-selection-impl.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-selection-state.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-selection.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-view-welcome-widget.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-widget-selection.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-widget.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/user-working-directory-provider.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/view-container.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/widget-decoration.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/widget-manager.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/widget-open-handler.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/widgets/enhanced-preview-widget.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/widgets/extractable-widget.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/widgets/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/widgets/previewable-widget.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/widgets/react-renderer.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/widgets/react-widget.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/widgets/select-component.tsx?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/widgets/widget.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/window/secondary-window-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/window/window-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/application-error.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/application-protocol.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/array-utils.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/buffer.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/cancellation.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/color.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/command.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/contribution-filter/contribution-filter-registry.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/contribution-filter/contribution-filter.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/contribution-filter/filter.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/contribution-filter/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/contribution-provider.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/disposable.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/encoding-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/encodings.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/env-variables/env-variables-protocol.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/env-variables/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/event.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/frontend-application-state.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/glob.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/i18n/localization.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/keybinding.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/keyboard/keyboard-layout-provider.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/keys.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/logger-protocol.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/logger-watcher.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/logger.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/lsp-types.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/menu/action-menu-node.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/menu/composite-menu-node.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/menu/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/menu/menu-adapter.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/menu/menu-model-registry.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/menu/menu-types.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/message-rpc/channel.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/message-rpc/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/message-rpc/msg-pack-extension-manager.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/message-rpc/rpc-message-encoder.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/message-rpc/rpc-protocol.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/message-service-protocol.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/message-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/messaging/connection-error-handler.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/messaging/handler.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/messaging/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/messaging/proxy-factory.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/nls.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/numbers.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/objects.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/os.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/path.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/paths.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/performance/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/performance/measurement-protocol.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/performance/measurement.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/performance/stopwatch.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/preferences/preference-schema.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/preferences/preference-scope.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/prioritizeable.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/progress-service-protocol.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/progress-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/promise-util.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/quick-pick-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/reference.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/resource.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/selection-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/selection.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/severity.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/stream.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/strings.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/telemetry.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/ternary-search-tree.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/types.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/uri-command-handler.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/uri.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/uuid.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/version.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/common/view-column.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/shared/@phosphor/algorithm/index.js?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/shared/@theia/application-package/lib/environment/index.js?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/shared/inversify/index.js?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/shared/vscode-languageserver-protocol/index.js?","webpack:///../node_modules/@theia/editor/node_modules/@theia/variable-resolver/src/browser/index.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/variable-resolver/src/browser/variable-quick-open-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/variable-resolver/src/browser/variable-resolver-service.ts?","webpack:///../node_modules/@theia/editor/node_modules/@theia/variable-resolver/src/browser/variable.ts?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/encodings/dbcs-codec.js?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/encodings/dbcs-data.js?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/encodings/index.js?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/encodings/internal.js?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/encodings/sbcs-codec.js?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/encodings/sbcs-data-generated.js?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/encodings/sbcs-data.js?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/encodings/utf16.js?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/encodings/utf32.js?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/encodings/utf7.js?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/lib/bom-handling.js?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/lib/index.js?","webpack:///../node_modules/@theia/editor/node_modules/iconv-lite/lib/streams.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/index.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/md5.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/native.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/nil.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/parse.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/regex.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/rng.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/sha1.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/stringify.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/v1.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/v3.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/v35.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/v4.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/v5.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/validate.js?","webpack:///../node_modules/@theia/editor/node_modules/uuid/dist/commonjs-browser/version.js?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/style/hover-service.css?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/style/select-component.css?","webpack:///../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-compression/tree-compression.css?","webpack:///../node_modules/@theia/editor/src/browser/language-status/editor-language-status.css?","webpack:///../node_modules/@theia/editor/src/browser/style/index.css?"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2022 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* Adapted from https://github.com/microsoft/vscode/blob/7d9b1c37f8e5ae3772782ba3b09d827eb3fdd833/src/vs/workbench/services/hover/browser/hoverService.ts */\n\n:root {\n  --theia-hover-max-width: 500px;\n  --theia-hover-preview-width: 300px;\n}\n\n.theia-hover {\n  font-family: var(--theia-ui-font-family);\n  font-size: var(--theia-ui-font-size1);\n  color: var(--theia-editorHoverWidget-foreground);\n  background-color: var(--theia-editorHoverWidget-background);\n  border: 1px solid var(--theia-editorHoverWidget-border);\n  padding: var(--theia-ui-padding);\n  max-width: var(--theia-hover-max-width);\n}\n\n.theia-hover .hover-row:not(:first-child):not(:empty) {\n  border-top: 1px solid var(--theia-editorHoverWidgetInternalBorder);\n}\n\n.theia-hover hr {\n  border-top: 1px solid var(--theia-editorHoverWidgetInternalBorder);\n  border-bottom: 0px solid var(--theia-editorHoverWidgetInternalBorder);\n  margin: var(--theia-ui-padding) calc(var(--theia-ui-padding) * -1);\n}\n\n.theia-hover a {\n  color: var(--theia-textLink-foreground);\n}\n\n.theia-hover a:hover {\n  color: var(--theia-textLink-active-foreground);\n}\n\n.theia-hover .hover-row .actions {\n  background-color: var(--theia-editorHoverWidget-statusBarBackground);\n}\n\n.theia-hover code {\n  background-color: var(--theia-textCodeBlock-background);\n  font-family: var(--theia-code-font-family);\n}\n\n.theia-hover::before {\n  content: \"\";\n  position: absolute;\n}\n\n.theia-hover.top::before {\n  left: var(--theia-hover-before-position);\n  bottom: -5px;\n  border-top: 5px solid var(--theia-editorHoverWidget-border);\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n}\n\n.theia-hover.bottom::before {\n  left: var(--theia-hover-before-position);\n  top: -5px;\n  border-bottom: 5px solid var(--theia-editorHoverWidget-border);\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n}\n\n.theia-hover.left::before {\n  top: var(--theia-hover-before-position);\n  right: -5px;\n  border-left: 5px solid var(--theia-editorHoverWidget-border);\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n}\n\n.theia-hover.right::before {\n  top: var(--theia-hover-before-position);\n  left: -5px;\n  border-right: 5px solid var(--theia-editorHoverWidget-border);\n  border-top: 5px solid transparent;\n  border-bottom: 5px solid transparent;\n}\n\n.theia-hover.extended-tab-preview {\n  border-radius: 10px;\n  width: var(--theia-hover-preview-width);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../node_modules/@theia/editor/node_modules/@theia/core/src/browser/style/hover-service.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF,2JAA2J;;AAE3J;EACE,8BAA8B;EAC9B,kCAAkC;AACpC;;AAEA;EACE,wCAAwC;EACxC,qCAAqC;EACrC,gDAAgD;EAChD,2DAA2D;EAC3D,uDAAuD;EACvD,gCAAgC;EAChC,uCAAuC;AACzC;;AAEA;EACE,kEAAkE;AACpE;;AAEA;EACE,kEAAkE;EAClE,qEAAqE;EACrE,kEAAkE;AACpE;;AAEA;EACE,uCAAuC;AACzC;;AAEA;EACE,8CAA8C;AAChD;;AAEA;EACE,oEAAoE;AACtE;;AAEA;EACE,uDAAuD;EACvD,0CAA0C;AAC5C;;AAEA;EACE,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,wCAAwC;EACxC,YAAY;EACZ,2DAA2D;EAC3D,kCAAkC;EAClC,mCAAmC;AACrC;;AAEA;EACE,wCAAwC;EACxC,SAAS;EACT,8DAA8D;EAC9D,kCAAkC;EAClC,mCAAmC;AACrC;;AAEA;EACE,uCAAuC;EACvC,WAAW;EACX,4DAA4D;EAC5D,iCAAiC;EACjC,oCAAoC;AACtC;;AAEA;EACE,uCAAuC;EACvC,UAAU;EACV,6DAA6D;EAC7D,iCAAiC;EACjC,oCAAoC;AACtC;;AAEA;EACE,mBAAmB;EACnB,uCAAuC;AACzC\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2022 TypeFox and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n/* Adapted from https://github.com/microsoft/vscode/blob/7d9b1c37f8e5ae3772782ba3b09d827eb3fdd833/src/vs/workbench/services/hover/browser/hoverService.ts */\\n\\n:root {\\n  --theia-hover-max-width: 500px;\\n  --theia-hover-preview-width: 300px;\\n}\\n\\n.theia-hover {\\n  font-family: var(--theia-ui-font-family);\\n  font-size: var(--theia-ui-font-size1);\\n  color: var(--theia-editorHoverWidget-foreground);\\n  background-color: var(--theia-editorHoverWidget-background);\\n  border: 1px solid var(--theia-editorHoverWidget-border);\\n  padding: var(--theia-ui-padding);\\n  max-width: var(--theia-hover-max-width);\\n}\\n\\n.theia-hover .hover-row:not(:first-child):not(:empty) {\\n  border-top: 1px solid var(--theia-editorHoverWidgetInternalBorder);\\n}\\n\\n.theia-hover hr {\\n  border-top: 1px solid var(--theia-editorHoverWidgetInternalBorder);\\n  border-bottom: 0px solid var(--theia-editorHoverWidgetInternalBorder);\\n  margin: var(--theia-ui-padding) calc(var(--theia-ui-padding) * -1);\\n}\\n\\n.theia-hover a {\\n  color: var(--theia-textLink-foreground);\\n}\\n\\n.theia-hover a:hover {\\n  color: var(--theia-textLink-active-foreground);\\n}\\n\\n.theia-hover .hover-row .actions {\\n  background-color: var(--theia-editorHoverWidget-statusBarBackground);\\n}\\n\\n.theia-hover code {\\n  background-color: var(--theia-textCodeBlock-background);\\n  font-family: var(--theia-code-font-family);\\n}\\n\\n.theia-hover::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n}\\n\\n.theia-hover.top::before {\\n  left: var(--theia-hover-before-position);\\n  bottom: -5px;\\n  border-top: 5px solid var(--theia-editorHoverWidget-border);\\n  border-left: 5px solid transparent;\\n  border-right: 5px solid transparent;\\n}\\n\\n.theia-hover.bottom::before {\\n  left: var(--theia-hover-before-position);\\n  top: -5px;\\n  border-bottom: 5px solid var(--theia-editorHoverWidget-border);\\n  border-left: 5px solid transparent;\\n  border-right: 5px solid transparent;\\n}\\n\\n.theia-hover.left::before {\\n  top: var(--theia-hover-before-position);\\n  right: -5px;\\n  border-left: 5px solid var(--theia-editorHoverWidget-border);\\n  border-top: 5px solid transparent;\\n  border-bottom: 5px solid transparent;\\n}\\n\\n.theia-hover.right::before {\\n  top: var(--theia-hover-before-position);\\n  left: -5px;\\n  border-right: 5px solid var(--theia-editorHoverWidget-border);\\n  border-top: 5px solid transparent;\\n  border-bottom: 5px solid transparent;\\n}\\n\\n.theia-hover.extended-tab-preview {\\n  border-radius: 10px;\\n  width: var(--theia-hover-preview-width);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2022 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n.theia-select-component-container {\n  /* required to set z-index */\n  position: fixed;\n  /* dialog overlay has a z-index of 5000 */\n  z-index: 6000;\n}\n\n.theia-select-component {\n  background-color: var(--theia-dropdown-background);\n  cursor: pointer;\n  outline: var(--theia-dropdown-border) solid 1px;\n  outline-offset: -1px;\n  min-height: 23px;\n  min-width: 90px;\n  padding: 0px 8px;\n  display: flex;\n  align-items: center;\n  user-select: none;\n  border-radius: 2px;\n}\n\n.theia-select-component .theia-select-component-label {\n  width: 100%;\n  color: var(--theia-dropdown-foreground);\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.theia-select-component:focus {\n  outline-color: var(--theia-focusBorder);\n}\n\n.theia-select-component-dropdown {\n  font-family: var(--theia-ui-font-family);\n  font-size: var(--theia-ui-font-size1);\n  color: var(--theia-foreground);\n  background-color: var(--theia-settings-dropdownBackground);\n  outline: var(--theia-focusBorder) solid 1px;\n  outline-offset: -1px;\n  user-select: none;\n  overflow: auto;\n  border-radius: 2px;\n}\n\n.theia-select-component-dropdown .theia-select-component-option {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: flex;\n  padding: 0px 5px;\n  line-height: 22px;\n}\n\n.theia-select-component-dropdown .theia-select-component-description {\n  padding: 6px 5px;\n}\n\n.theia-select-component-dropdown .theia-select-component-description:first-child {\n  border-bottom: 1px solid var(--theia-editorWidget-border);\n  margin-bottom: 2px;\n}\n\n.theia-select-component-dropdown .theia-select-component-description:last-child {\n  border-top: 1px solid var(--theia-editorWidget-border);\n  margin-top: 2px;\n}\n\n.theia-select-component-dropdown .theia-select-component-option .theia-select-component-option-value {\n  width: 100%;\n}\n\n.theia-select-component-dropdown .theia-select-component-option .theia-select-component-option-detail {\n  padding-left: 4px;\n}\n\n.theia-select-component-dropdown .theia-select-component-option:not(.selected) .theia-select-component-option-detail {\n  color: var(--theia-textLink-foreground);\n}\n\n.theia-select-component-dropdown .theia-select-component-option.selected {\n  color: var(--theia-list-activeSelectionForeground);\n  cursor: pointer;\n  background: var(--theia-list-activeSelectionBackground);\n}\n\n.theia-select-component-dropdown .theia-select-component-separator {\n  width: 84px;\n  height: 1px;\n  margin: 3px 3px;\n  background: var(--theia-foreground);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../node_modules/@theia/editor/node_modules/@theia/core/src/browser/style/select-component.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF;EACE,4BAA4B;EAC5B,eAAe;EACf,yCAAyC;EACzC,aAAa;AACf;;AAEA;EACE,kDAAkD;EAClD,eAAe;EACf,+CAA+C;EAC/C,oBAAoB;EACpB,gBAAgB;EAChB,eAAe;EACf,gBAAgB;EAChB,aAAa;EACb,mBAAmB;EACnB,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,uCAAuC;EACvC,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;AAClB;;AAEA;EACE,uCAAuC;AACzC;;AAEA;EACE,wCAAwC;EACxC,qCAAqC;EACrC,8BAA8B;EAC9B,0DAA0D;EAC1D,2CAA2C;EAC3C,oBAAoB;EACpB,iBAAiB;EACjB,cAAc;EACd,kBAAkB;AACpB;;AAEA;EACE,uBAAuB;EACvB,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,yDAAyD;EACzD,kBAAkB;AACpB;;AAEA;EACE,sDAAsD;EACtD,eAAe;AACjB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,uCAAuC;AACzC;;AAEA;EACE,kDAAkD;EAClD,eAAe;EACf,uDAAuD;AACzD;;AAEA;EACE,WAAW;EACX,WAAW;EACX,eAAe;EACf,mCAAmC;AACrC\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2022 TypeFox and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.theia-select-component-container {\\n  /* required to set z-index */\\n  position: fixed;\\n  /* dialog overlay has a z-index of 5000 */\\n  z-index: 6000;\\n}\\n\\n.theia-select-component {\\n  background-color: var(--theia-dropdown-background);\\n  cursor: pointer;\\n  outline: var(--theia-dropdown-border) solid 1px;\\n  outline-offset: -1px;\\n  min-height: 23px;\\n  min-width: 90px;\\n  padding: 0px 8px;\\n  display: flex;\\n  align-items: center;\\n  user-select: none;\\n  border-radius: 2px;\\n}\\n\\n.theia-select-component .theia-select-component-label {\\n  width: 100%;\\n  color: var(--theia-dropdown-foreground);\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n}\\n\\n.theia-select-component:focus {\\n  outline-color: var(--theia-focusBorder);\\n}\\n\\n.theia-select-component-dropdown {\\n  font-family: var(--theia-ui-font-family);\\n  font-size: var(--theia-ui-font-size1);\\n  color: var(--theia-foreground);\\n  background-color: var(--theia-settings-dropdownBackground);\\n  outline: var(--theia-focusBorder) solid 1px;\\n  outline-offset: -1px;\\n  user-select: none;\\n  overflow: auto;\\n  border-radius: 2px;\\n}\\n\\n.theia-select-component-dropdown .theia-select-component-option {\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  display: flex;\\n  padding: 0px 5px;\\n  line-height: 22px;\\n}\\n\\n.theia-select-component-dropdown .theia-select-component-description {\\n  padding: 6px 5px;\\n}\\n\\n.theia-select-component-dropdown .theia-select-component-description:first-child {\\n  border-bottom: 1px solid var(--theia-editorWidget-border);\\n  margin-bottom: 2px;\\n}\\n\\n.theia-select-component-dropdown .theia-select-component-description:last-child {\\n  border-top: 1px solid var(--theia-editorWidget-border);\\n  margin-top: 2px;\\n}\\n\\n.theia-select-component-dropdown .theia-select-component-option .theia-select-component-option-value {\\n  width: 100%;\\n}\\n\\n.theia-select-component-dropdown .theia-select-component-option .theia-select-component-option-detail {\\n  padding-left: 4px;\\n}\\n\\n.theia-select-component-dropdown .theia-select-component-option:not(.selected) .theia-select-component-option-detail {\\n  color: var(--theia-textLink-foreground);\\n}\\n\\n.theia-select-component-dropdown .theia-select-component-option.selected {\\n  color: var(--theia-list-activeSelectionForeground);\\n  cursor: pointer;\\n  background: var(--theia-list-activeSelectionBackground);\\n}\\n\\n.theia-select-component-dropdown .theia-select-component-separator {\\n  width: 84px;\\n  height: 1px;\\n  margin: 3px 3px;\\n  background: var(--theia-foreground);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2022 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n.theia-tree-compressed-selected {\n  text-decoration: underline;\n}\n\n.theia-tree-compressed-label-separator {\n  padding: 0 2px;\n  opacity: 0.5;\n}\n\n.theia-tree-compressed-label-part:hover {\n  text-decoration: underline;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../node_modules/@theia/editor/node_modules/@theia/core/src/browser/tree/tree-compression/tree-compression.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF;EACE,0BAA0B;AAC5B;;AAEA;EACE,cAAc;EACd,YAAY;AACd;;AAEA;EACE,0BAA0B;AAC5B\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2022 Ericsson and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.theia-tree-compressed-selected {\\n  text-decoration: underline;\\n}\\n\\n.theia-tree-compressed-label-separator {\\n  padding: 0 2px;\\n  opacity: 0.5;\\n}\\n\\n.theia-tree-compressed-label-part:hover {\\n  text-decoration: underline;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2022 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* Copied from https://github.com/microsoft/vscode/blob/7d9b1c37f8e5ae3772782ba3b09d827eb3fdd833/src/vs/workbench/contrib/languageStatus/browser/media/languageStatus.css */\n\n.hover-language-status {\n  display: flex;\n  padding: 4px 8px;\n}\n\n.hover-language-status:not(:last-child) {\n  border-bottom: 1px solid var(--theia-notifications-border);\n}\n\n.hover-language-status > .severity {\n  padding-right: 8px;\n  flex: 1;\n  margin: auto;\n  display: none;\n}\n\n.hover-language-status > .severity.sev3 {\n  color: var(--theia-notificationsErrorIcon-foreground);\n}\n\n.hover-language-status > .severity.sev2 {\n  color: var(--theia-notificationsInfoIcon-foreground);\n}\n\n.hover-language-status > .severity.show {\n  display: inherit;\n}\n\n.hover-language-status > .element {\n  display: flex;\n  justify-content: space-between;\n  vertical-align: middle;\n  flex-grow: 100;\n}\n\n.hover-language-status > .element > .left > .detail:not(:empty)::before {\n  /* en-dash */\n  content: \"\";\n  padding: 0 4px;\n  opacity: 0.6;\n}\n\n.hover-language-status > .element > .left > .label:empty {\n  display: none;\n}\n\n.hover-language-status > .element .left {\n  margin: auto 0;\n}\n\n.hover-language-status > .element .right {\n  margin: auto 0;\n  display: flex;\n}\n\n.hover-language-status > .element .right:not(:empty) {\n  padding-left: 16px;\n}\n\n.hover-language-status > .element .right .language-status-link {\n  margin: auto 0;\n  white-space: nowrap;\n\n  /* ADDED STYLES - NOT FROM VSCODE */\n  text-decoration: none;\n}\n\n/* ADDED STYLES - NOT FROM VSCODE */\n.hover-language-status > .element .right .language-status-link:hover {\n  color: var(--theia-textLink-foreground);\n}\n\n.hover-language-status\n  > .element\n  .right\n  .language-status-action-bar:not(:first-child) {\n  padding-left: 8px;\n}\n\n/* ADDED STYLES - NOT FROM VSCODE */\n.hover-language-status > .element .right .language-status-action-bar a {\n  color: var(--theia-editorHoverWidget-foreground);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../node_modules/@theia/editor/src/browser/language-status/editor-language-status.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF,2KAA2K;;AAE3K;EACE,aAAa;EACb,gBAAgB;AAClB;;AAEA;EACE,0DAA0D;AAC5D;;AAEA;EACE,kBAAkB;EAClB,OAAO;EACP,YAAY;EACZ,aAAa;AACf;;AAEA;EACE,qDAAqD;AACvD;;AAEA;EACE,oDAAoD;AACtD;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,sBAAsB;EACtB,cAAc;AAChB;;AAEA;EACE,YAAY;EACZ,YAAY;EACZ,cAAc;EACd,YAAY;AACd;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;EACd,aAAa;AACf;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,mBAAmB;;EAEnB,mCAAmC;EACnC,qBAAqB;AACvB;;AAEA,mCAAmC;AACnC;EACE,uCAAuC;AACzC;;AAEA;;;;EAIE,iBAAiB;AACnB;;AAEA,mCAAmC;AACnC;EACE,gDAAgD;AAClD\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2022 Ericsson and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n/* Copied from https://github.com/microsoft/vscode/blob/7d9b1c37f8e5ae3772782ba3b09d827eb3fdd833/src/vs/workbench/contrib/languageStatus/browser/media/languageStatus.css */\\n\\n.hover-language-status {\\n  display: flex;\\n  padding: 4px 8px;\\n}\\n\\n.hover-language-status:not(:last-child) {\\n  border-bottom: 1px solid var(--theia-notifications-border);\\n}\\n\\n.hover-language-status > .severity {\\n  padding-right: 8px;\\n  flex: 1;\\n  margin: auto;\\n  display: none;\\n}\\n\\n.hover-language-status > .severity.sev3 {\\n  color: var(--theia-notificationsErrorIcon-foreground);\\n}\\n\\n.hover-language-status > .severity.sev2 {\\n  color: var(--theia-notificationsInfoIcon-foreground);\\n}\\n\\n.hover-language-status > .severity.show {\\n  display: inherit;\\n}\\n\\n.hover-language-status > .element {\\n  display: flex;\\n  justify-content: space-between;\\n  vertical-align: middle;\\n  flex-grow: 100;\\n}\\n\\n.hover-language-status > .element > .left > .detail:not(:empty)::before {\\n  /* en-dash */\\n  content: \\\"\\\";\\n  padding: 0 4px;\\n  opacity: 0.6;\\n}\\n\\n.hover-language-status > .element > .left > .label:empty {\\n  display: none;\\n}\\n\\n.hover-language-status > .element .left {\\n  margin: auto 0;\\n}\\n\\n.hover-language-status > .element .right {\\n  margin: auto 0;\\n  display: flex;\\n}\\n\\n.hover-language-status > .element .right:not(:empty) {\\n  padding-left: 16px;\\n}\\n\\n.hover-language-status > .element .right .language-status-link {\\n  margin: auto 0;\\n  white-space: nowrap;\\n\\n  /* ADDED STYLES - NOT FROM VSCODE */\\n  text-decoration: none;\\n}\\n\\n/* ADDED STYLES - NOT FROM VSCODE */\\n.hover-language-status > .element .right .language-status-link:hover {\\n  color: var(--theia-textLink-foreground);\\n}\\n\\n.hover-language-status\\n  > .element\\n  .right\\n  .language-status-action-bar:not(:first-child) {\\n  padding-left: 8px;\\n}\\n\\n/* ADDED STYLES - NOT FROM VSCODE */\\n.hover-language-status > .element .right .language-status-action-bar a {\\n  color: var(--theia-editorHoverWidget-foreground);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../../css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\n.theia-editor {\n  height: 100%;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./../node_modules/@theia/editor/src/browser/style/index.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;;iFAciF;;AAEjF;EACE,YAAY;AACd\",\"sourcesContent\":[\"/********************************************************************************\\n * Copyright (C) 2020 TypeFox and others.\\n *\\n * This program and the accompanying materials are made available under the\\n * terms of the Eclipse Public License v. 2.0 which is available at\\n * http://www.eclipse.org/legal/epl-2.0.\\n *\\n * This Source Code may also be made available under the following Secondary\\n * Licenses when the conditions for such availability set forth in the Eclipse\\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\\n * with the GNU Classpath Exception which is available at\\n * https://www.gnu.org/software/classpath/license.html.\\n *\\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\\n ********************************************************************************/\\n\\n.theia-editor {\\n  height: 100%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, optional, postConstruct } from '@theia/core/shared/inversify';\nimport { CommandContribution, CommandRegistry, Command } from '@theia/core/lib/common';\nimport URI from '@theia/core/lib/common/uri';\nimport { CommonCommands, PreferenceService, LabelProvider, ApplicationShell, QuickInputService, QuickPickValue, QuickPickItemOrSeparator } from '@theia/core/lib/browser';\nimport { EditorManager } from './editor-manager';\nimport { EditorPreferences } from './editor-preferences';\nimport { ResourceProvider, MessageService } from '@theia/core';\nimport { LanguageService, Language } from '@theia/core/lib/browser/language-service';\nimport { SUPPORTED_ENCODINGS } from '@theia/core/lib/browser/supported-encodings';\nimport { EncodingMode } from './editor';\nimport { nls } from '@theia/core/lib/common/nls';\n\nexport namespace EditorCommands {\n\n    const EDITOR_CATEGORY = 'Editor';\n    const EDITOR_CATEGORY_KEY = nls.getDefaultKey(EDITOR_CATEGORY);\n\n    export const GOTO_LINE_COLUMN = Command.toDefaultLocalizedCommand({\n        id: 'editor.action.gotoLine',\n        label: 'Go to Line/Column'\n    });\n\n    /**\n     * Show editor references\n     */\n    export const SHOW_REFERENCES: Command = {\n        id: 'textEditor.commands.showReferences'\n    };\n    /**\n     * Change indentation configuration (i.e., indent using tabs / spaces, and how many spaces per tab)\n     */\n    export const CONFIG_INDENTATION: Command = {\n        id: 'textEditor.commands.configIndentation'\n    };\n\n    export const CONFIG_EOL = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.configEol',\n        category: EDITOR_CATEGORY,\n        label: 'Change End of Line Sequence'\n    });\n\n    export const INDENT_USING_SPACES = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.indentUsingSpaces',\n        category: EDITOR_CATEGORY,\n        label: 'Indent Using Spaces'\n    });\n    export const INDENT_USING_TABS = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.indentUsingTabs',\n        category: EDITOR_CATEGORY,\n        label: 'Indent Using Tabs'\n    });\n    export const CHANGE_LANGUAGE = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.change.language',\n        category: EDITOR_CATEGORY,\n        label: 'Change Language Mode'\n    });\n    export const CHANGE_ENCODING = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.change.encoding',\n        category: EDITOR_CATEGORY,\n        label: 'Change File Encoding'\n    });\n    export const REVERT_EDITOR = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.files.revert',\n        category: CommonCommands.FILE_CATEGORY,\n        label: 'Revert File',\n    });\n    export const REVERT_AND_CLOSE = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.revertAndCloseActiveEditor',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Revert and Close Editor'\n    });\n\n    /**\n     * Command for going back to the last editor navigation location.\n     */\n    export const GO_BACK = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.go.back',\n        category: EDITOR_CATEGORY,\n        label: 'Go Back'\n    });\n    /**\n     * Command for going to the forthcoming editor navigation location.\n     */\n    export const GO_FORWARD = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.go.forward',\n        category: EDITOR_CATEGORY,\n        label: 'Go Forward'\n    });\n    /**\n     * Command that reveals the last text edit location, if any.\n     */\n    export const GO_LAST_EDIT = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.go.lastEdit',\n        category: EDITOR_CATEGORY,\n        label: 'Go to Last Edit Location'\n    });\n    /**\n     * Command that clears the editor navigation history.\n     */\n    export const CLEAR_EDITOR_HISTORY = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.clear.history',\n        category: EDITOR_CATEGORY,\n        label: 'Clear Editor History'\n    });\n    /**\n     * Command that displays all editors that are currently opened.\n     */\n    export const SHOW_ALL_OPENED_EDITORS = Command.toLocalizedCommand({\n        id: 'workbench.action.showAllEditors',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Show All Opened Editors'\n    }, 'theia/editor/showAllEditors', EDITOR_CATEGORY_KEY);\n    /**\n     * Command that toggles the minimap.\n     */\n    export const TOGGLE_MINIMAP = Command.toDefaultLocalizedCommand({\n        id: 'editor.action.toggleMinimap',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Toggle Minimap'\n    });\n    /**\n     * Command that toggles the rendering of whitespace characters in the editor.\n     */\n    export const TOGGLE_RENDER_WHITESPACE = Command.toDefaultLocalizedCommand({\n        id: 'editor.action.toggleRenderWhitespace',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Toggle Render Whitespace'\n    });\n    /**\n     * Command that toggles the word wrap.\n     */\n    export const TOGGLE_WORD_WRAP = Command.toDefaultLocalizedCommand({\n        id: 'editor.action.toggleWordWrap',\n        label: 'View: Toggle Word Wrap'\n    });\n    /**\n     * Command that toggles sticky scroll.\n     */\n    export const TOGGLE_STICKY_SCROLL = Command.toLocalizedCommand({\n        id: 'editor.action.toggleStickyScroll',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Toggle Sticky Scroll',\n    }, 'theia/editor/toggleStickyScroll', EDITOR_CATEGORY_KEY);\n    /**\n     * Command that re-opens the last closed editor.\n     */\n    export const REOPEN_CLOSED_EDITOR = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.reopenClosedEditor',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Reopen Closed Editor'\n    });\n    /**\n     * Opens a second instance of the current editor, splitting the view in the direction specified.\n     */\n    export const SPLIT_EDITOR_RIGHT = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.splitEditorRight',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Split Editor Right'\n    });\n    export const SPLIT_EDITOR_DOWN = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.splitEditorDown',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Split Editor Down'\n    });\n    export const SPLIT_EDITOR_UP = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.splitEditorUp',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Split Editor Up'\n    });\n    export const SPLIT_EDITOR_LEFT = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.splitEditorLeft',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Split Editor Left'\n    });\n    /**\n     * Default horizontal split: right.\n     */\n    export const SPLIT_EDITOR_HORIZONTAL = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.splitEditor',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Split Editor'\n    });\n    /**\n     * Default vertical split: down.\n     */\n    export const SPLIT_EDITOR_VERTICAL = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.splitEditorOrthogonal',\n        category: CommonCommands.VIEW_CATEGORY,\n        label: 'Split Editor Orthogonal'\n    });\n}\n\n@injectable()\nexport class EditorCommandContribution implements CommandContribution {\n\n    public static readonly AUTOSAVE_PREFERENCE: string = 'files.autoSave';\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(PreferenceService)\n    protected readonly preferencesService: PreferenceService;\n\n    @inject(EditorPreferences)\n    protected readonly editorPreferences: EditorPreferences;\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    @inject(MessageService) protected readonly messageService: MessageService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(LanguageService)\n    protected readonly languages: LanguageService;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    @inject(ResourceProvider)\n    protected readonly resourceProvider: ResourceProvider;\n\n    @postConstruct()\n    protected init(): void {\n        this.editorPreferences.onPreferenceChanged(e => {\n            if (e.preferenceName === 'files.autoSave' && e.newValue !== 'off') {\n                this.shell.saveAll();\n            }\n        });\n    }\n\n    registerCommands(registry: CommandRegistry): void {\n        registry.registerCommand(EditorCommands.SHOW_REFERENCES);\n        registry.registerCommand(EditorCommands.CONFIG_INDENTATION);\n        registry.registerCommand(EditorCommands.CONFIG_EOL);\n        registry.registerCommand(EditorCommands.INDENT_USING_SPACES);\n        registry.registerCommand(EditorCommands.INDENT_USING_TABS);\n        registry.registerCommand(EditorCommands.REVERT_EDITOR);\n        registry.registerCommand(EditorCommands.REVERT_AND_CLOSE);\n        registry.registerCommand(EditorCommands.CHANGE_LANGUAGE, {\n            isEnabled: () => this.canConfigureLanguage(),\n            isVisible: () => this.canConfigureLanguage(),\n            execute: () => this.configureLanguage()\n        });\n        registry.registerCommand(EditorCommands.CHANGE_ENCODING, {\n            isEnabled: () => this.canConfigureEncoding(),\n            isVisible: () => this.canConfigureEncoding(),\n            execute: () => this.configureEncoding()\n        });\n\n        registry.registerCommand(EditorCommands.GO_BACK);\n        registry.registerCommand(EditorCommands.GO_FORWARD);\n        registry.registerCommand(EditorCommands.GO_LAST_EDIT);\n        registry.registerCommand(EditorCommands.CLEAR_EDITOR_HISTORY);\n        registry.registerCommand(EditorCommands.TOGGLE_MINIMAP);\n        registry.registerCommand(EditorCommands.TOGGLE_RENDER_WHITESPACE);\n        registry.registerCommand(EditorCommands.TOGGLE_WORD_WRAP);\n        registry.registerCommand(EditorCommands.TOGGLE_STICKY_SCROLL);\n        registry.registerCommand(EditorCommands.REOPEN_CLOSED_EDITOR);\n\n        registry.registerCommand(CommonCommands.AUTO_SAVE, {\n            isToggled: () => this.isAutoSaveOn(),\n            execute: () => this.toggleAutoSave()\n        });\n    }\n\n    protected canConfigureLanguage(): boolean {\n        const widget = this.editorManager.currentEditor;\n        const editor = widget && widget.editor;\n        return !!editor && !!this.languages.languages;\n    }\n    protected async configureLanguage(): Promise<void> {\n        const widget = this.editorManager.currentEditor;\n        const editor = widget && widget.editor;\n        if (!editor || !this.languages.languages) {\n            return;\n        }\n        const current = editor.document.languageId;\n        const items: Array<QuickPickValue<'autoDetect' | Language> | QuickPickItemOrSeparator> = [\n            { label: nls.localizeByDefault('Auto Detect'), value: 'autoDetect' },\n            { type: 'separator', label: nls.localizeByDefault('languages (identifier)') },\n            ... (this.languages.languages.map(language => this.toQuickPickLanguage(language, current))).sort((e, e2) => e.label.localeCompare(e2.label))\n        ];\n        const selectedMode = await this.quickInputService?.showQuickPick(items, { placeholder: nls.localizeByDefault('Select Language Mode') });\n        if (selectedMode && ('value' in selectedMode)) {\n            if (selectedMode.value === 'autoDetect') {\n                editor.detectLanguage();\n            } else if (selectedMode.value) {\n                editor.setLanguage(selectedMode.value.id);\n            }\n        }\n    }\n\n    protected canConfigureEncoding(): boolean {\n        const widget = this.editorManager.currentEditor;\n        const editor = widget && widget.editor;\n        return !!editor;\n    }\n    protected async configureEncoding(): Promise<void> {\n        const widget = this.editorManager.currentEditor;\n        const editor = widget && widget.editor;\n        if (!editor) {\n            return;\n        }\n        const reopenWithEncodingPick = { label: nls.localizeByDefault('Reopen with Encoding'), value: 'reopen' };\n        const saveWithEncodingPick = { label: nls.localizeByDefault('Save with Encoding'), value: 'save' };\n        const actionItems: QuickPickValue<string>[] = [\n            reopenWithEncodingPick,\n            saveWithEncodingPick\n        ];\n        const selectedEncoding = await this.quickInputService?.showQuickPick(actionItems, { placeholder: nls.localizeByDefault('Select Action') });\n        if (!selectedEncoding) {\n            return;\n        }\n        const isReopenWithEncoding = (selectedEncoding.value === reopenWithEncodingPick.value);\n\n        const configuredEncoding = this.preferencesService.get<string>('files.encoding', 'utf8', editor.uri.toString());\n\n        const resource = await this.resourceProvider(editor.uri);\n        const guessedEncoding = resource.guessEncoding ? await resource.guessEncoding() : undefined;\n        resource.dispose();\n\n        const encodingItems: QuickPickValue<{ id: string, description: string }>[] = Object.keys(SUPPORTED_ENCODINGS)\n            .sort((k1, k2) => {\n                if (k1 === configuredEncoding) {\n                    return -1;\n                } else if (k2 === configuredEncoding) {\n                    return 1;\n                }\n                return SUPPORTED_ENCODINGS[k1].order - SUPPORTED_ENCODINGS[k2].order;\n            })\n            .filter(k => {\n                if (k === guessedEncoding && guessedEncoding !== configuredEncoding) {\n                    return false; // do not show encoding if it is the guessed encoding that does not match the configured\n                }\n\n                return !isReopenWithEncoding || !SUPPORTED_ENCODINGS[k].encodeOnly; // hide those that can only be used for encoding if we are about to decode\n            })\n            .map(key => ({ label: SUPPORTED_ENCODINGS[key].labelLong, value: { id: key, description: key } }));\n\n        // Insert guessed encoding\n        if (guessedEncoding && configuredEncoding !== guessedEncoding && SUPPORTED_ENCODINGS[guessedEncoding]) {\n            encodingItems.unshift({\n                label: `${nls.localizeByDefault('Guessed from content')}: ${SUPPORTED_ENCODINGS[guessedEncoding].labelLong}`,\n                value: { id: guessedEncoding, description: guessedEncoding }\n            });\n        }\n        const selectedFileEncoding = await this.quickInputService?.showQuickPick<QuickPickValue<{ id: string, description: string }>>(encodingItems, {\n            placeholder: isReopenWithEncoding ?\n                nls.localizeByDefault('Select File Encoding to Reopen File') :\n                nls.localizeByDefault('Select File Encoding to Save with')\n        });\n\n        if (!selectedFileEncoding) {\n            return;\n        }\n        if (editor.document.dirty && isReopenWithEncoding) {\n            this.messageService.info(nls.localize('theia/editor/dirtyEncoding', 'The file is dirty. Please save it first before reopening it with another encoding.'));\n            return;\n        } else if (selectedFileEncoding.value) {\n            editor.setEncoding(selectedFileEncoding.value.id, isReopenWithEncoding ? EncodingMode.Decode : EncodingMode.Encode);\n        }\n    }\n\n    protected toQuickPickLanguage(value: Language, current: string): QuickPickValue<Language> {\n        const languageUri = this.toLanguageUri(value);\n        const icon = this.labelProvider.getIcon(languageUri);\n        const iconClasses = icon !== '' ? [icon + ' file-icon'] : undefined;\n        const configured = current === value.id;\n        return {\n            value,\n            label: value.name,\n            description: nls.localizeByDefault(`({0})${configured ? ' - Configured Language' : ''}`, value.id),\n            iconClasses\n        };\n    }\n    protected toLanguageUri(language: Language): URI {\n        const extension = language.extensions.values().next();\n        if (extension.value) {\n            return new URI('file:///' + extension.value);\n        }\n        const filename = language.filenames.values().next();\n        if (filename.value) {\n            return new URI('file:///' + filename.value);\n        }\n        return new URI('file:///.txt');\n    }\n\n    protected isAutoSaveOn(): boolean {\n        const autoSave = this.preferencesService.get(EditorCommandContribution.AUTOSAVE_PREFERENCE);\n        return autoSave !== 'off';\n    }\n\n    protected async toggleAutoSave(): Promise<void> {\n        this.preferencesService.updateValue(EditorCommandContribution.AUTOSAVE_PREFERENCE, this.isAutoSaveOn() ? 'off' : 'afterDelay');\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { EditorManager } from './editor-manager';\nimport { TextEditor } from './editor';\nimport { injectable, inject, optional } from '@theia/core/shared/inversify';\nimport { StatusBarAlignment, StatusBar } from '@theia/core/lib/browser/status-bar/status-bar';\nimport {\n    FrontendApplicationContribution, DiffUris, DockLayout,\n    QuickInputService, KeybindingRegistry, KeybindingContribution, SHELL_TABBAR_CONTEXT_SPLIT, ApplicationShell\n} from '@theia/core/lib/browser';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { CommandHandler, DisposableCollection, MenuContribution, MenuModelRegistry } from '@theia/core';\nimport { EditorCommands } from './editor-command';\nimport { CommandRegistry, CommandContribution } from '@theia/core/lib/common';\nimport { SUPPORTED_ENCODINGS } from '@theia/core/lib/browser/supported-encodings';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { CurrentWidgetCommandAdapter } from '@theia/core/lib/browser/shell/current-widget-command-adapter';\nimport { EditorWidget } from './editor-widget';\nimport { EditorLanguageStatusService } from './language-status/editor-language-status-service';\n\n@injectable()\nexport class EditorContribution implements FrontendApplicationContribution, CommandContribution, KeybindingContribution, MenuContribution {\n\n    @inject(StatusBar) protected readonly statusBar: StatusBar;\n    @inject(EditorManager) protected readonly editorManager: EditorManager;\n    @inject(EditorLanguageStatusService) protected readonly languageStatusService: EditorLanguageStatusService;\n    @inject(ApplicationShell) protected readonly shell: ApplicationShell;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    onStart(): void {\n        this.initEditorContextKeys();\n\n        this.updateStatusBar();\n        this.editorManager.onCurrentEditorChanged(() => this.updateStatusBar());\n    }\n\n    protected initEditorContextKeys(): void {\n        const editorIsOpen = this.contextKeyService.createKey<boolean>('editorIsOpen', false);\n        const textCompareEditorVisible = this.contextKeyService.createKey<boolean>('textCompareEditorVisible', false);\n        const updateContextKeys = () => {\n            const widgets = this.editorManager.all;\n            editorIsOpen.set(!!widgets.length);\n            textCompareEditorVisible.set(widgets.some(widget => DiffUris.isDiffUri(widget.editor.uri)));\n        };\n        updateContextKeys();\n        for (const widget of this.editorManager.all) {\n            widget.disposed.connect(updateContextKeys);\n        }\n        this.editorManager.onCreated(widget => {\n            updateContextKeys();\n            widget.disposed.connect(updateContextKeys);\n        });\n    }\n\n    protected readonly toDisposeOnCurrentEditorChanged = new DisposableCollection();\n    protected updateStatusBar(): void {\n        this.toDisposeOnCurrentEditorChanged.dispose();\n\n        const widget = this.editorManager.currentEditor;\n        const editor = widget && widget.editor;\n        this.updateLanguageStatus(editor);\n        this.updateEncodingStatus(editor);\n        this.setCursorPositionStatus(editor);\n        if (editor) {\n            this.toDisposeOnCurrentEditorChanged.pushAll([\n                editor.onLanguageChanged(() => this.updateLanguageStatus(editor)),\n                editor.onEncodingChanged(() => this.updateEncodingStatus(editor)),\n                editor.onCursorPositionChanged(() => this.setCursorPositionStatus(editor))\n            ]);\n        }\n    }\n\n    protected updateLanguageStatus(editor: TextEditor | undefined): void {\n        this.languageStatusService.updateLanguageStatus(editor);\n    }\n\n    protected updateEncodingStatus(editor: TextEditor | undefined): void {\n        if (!editor) {\n            this.statusBar.removeElement('editor-status-encoding');\n            return;\n        }\n        this.statusBar.setElement('editor-status-encoding', {\n            text: SUPPORTED_ENCODINGS[editor.getEncoding()].labelShort,\n            alignment: StatusBarAlignment.RIGHT,\n            priority: 10,\n            command: EditorCommands.CHANGE_ENCODING.id,\n            tooltip: nls.localizeByDefault('Select Encoding')\n        });\n    }\n\n    protected setCursorPositionStatus(editor: TextEditor | undefined): void {\n        if (!editor) {\n            this.statusBar.removeElement('editor-status-cursor-position');\n            return;\n        }\n        const { cursor } = editor;\n        this.statusBar.setElement('editor-status-cursor-position', {\n            text: nls.localizeByDefault('Ln {0}, Col {1}', cursor.line + 1, editor.getVisibleColumn(cursor)),\n            alignment: StatusBarAlignment.RIGHT,\n            priority: 100,\n            tooltip: EditorCommands.GOTO_LINE_COLUMN.label,\n            command: EditorCommands.GOTO_LINE_COLUMN.id\n        });\n    }\n\n    registerCommands(commands: CommandRegistry): void {\n        commands.registerCommand(EditorCommands.SHOW_ALL_OPENED_EDITORS, {\n            execute: () => this.quickInputService?.open('edt ')\n        });\n        const splitHandlerFactory = (splitMode: DockLayout.InsertMode): CommandHandler => new CurrentWidgetCommandAdapter(this.shell, {\n            isEnabled: title => title?.owner instanceof EditorWidget,\n            execute: async title => {\n                if (title?.owner instanceof EditorWidget) {\n                    const selection = title.owner.editor.selection;\n                    const newEditor = await this.editorManager.openToSide(title.owner.editor.uri, { selection, widgetOptions: { mode: splitMode, ref: title.owner } });\n                    const oldEditorState = title.owner.editor.storeViewState();\n                    newEditor.editor.restoreViewState(oldEditorState);\n                }\n            }\n        });\n        commands.registerCommand(EditorCommands.SPLIT_EDITOR_HORIZONTAL, splitHandlerFactory('split-right'));\n        commands.registerCommand(EditorCommands.SPLIT_EDITOR_VERTICAL, splitHandlerFactory('split-bottom'));\n        commands.registerCommand(EditorCommands.SPLIT_EDITOR_RIGHT, splitHandlerFactory('split-right'));\n        commands.registerCommand(EditorCommands.SPLIT_EDITOR_DOWN, splitHandlerFactory('split-bottom'));\n        commands.registerCommand(EditorCommands.SPLIT_EDITOR_UP, splitHandlerFactory('split-top'));\n        commands.registerCommand(EditorCommands.SPLIT_EDITOR_LEFT, splitHandlerFactory('split-left'));\n    }\n\n    registerKeybindings(keybindings: KeybindingRegistry): void {\n        keybindings.registerKeybinding({\n            command: EditorCommands.SHOW_ALL_OPENED_EDITORS.id,\n            keybinding: 'ctrlcmd+k ctrlcmd+p'\n        });\n        keybindings.registerKeybinding({\n            command: EditorCommands.SPLIT_EDITOR_HORIZONTAL.id,\n            keybinding: 'ctrlcmd+\\\\',\n        });\n        keybindings.registerKeybinding({\n            command: EditorCommands.SPLIT_EDITOR_VERTICAL.id,\n            keybinding: 'ctrlcmd+k ctrlcmd+\\\\',\n        });\n    }\n\n    registerMenus(registry: MenuModelRegistry): void {\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_UP.id,\n            label: nls.localizeByDefault('Split Up'),\n            order: '1',\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_DOWN.id,\n            label: nls.localizeByDefault('Split Down'),\n            order: '2',\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_LEFT.id,\n            label: nls.localizeByDefault('Split Left'),\n            order: '3',\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_RIGHT.id,\n            label: nls.localizeByDefault('Split Right'),\n            order: '4',\n        });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport '../../src/browser/style/index.css';\nimport '../../src/browser/language-status/editor-language-status.css';\n\nimport { ContainerModule } from '@theia/core/shared/inversify';\nimport { CommandContribution, MenuContribution } from '@theia/core/lib/common';\nimport { OpenHandler, WidgetFactory, FrontendApplicationContribution, KeybindingContribution } from '@theia/core/lib/browser';\nimport { VariableContribution } from '@theia/variable-resolver/lib/browser';\nimport { EditorManager, EditorAccess, ActiveEditorAccess, CurrentEditorAccess } from './editor-manager';\nimport { EditorContribution } from './editor-contribution';\nimport { EditorMenuContribution } from './editor-menu';\nimport { EditorCommandContribution } from './editor-command';\nimport { EditorKeybindingContribution } from './editor-keybinding';\nimport { bindEditorPreferences } from './editor-preferences';\nimport { EditorWidgetFactory } from './editor-widget-factory';\nimport { EditorNavigationContribution } from './editor-navigation-contribution';\nimport { NavigationLocationUpdater } from './navigation/navigation-location-updater';\nimport { NavigationLocationService } from './navigation/navigation-location-service';\nimport { NavigationLocationSimilarity } from './navigation/navigation-location-similarity';\nimport { EditorVariableContribution } from './editor-variable-contribution';\nimport { QuickAccessContribution } from '@theia/core/lib/browser/quick-input/quick-access';\nimport { QuickEditorService } from './quick-editor-service';\nimport { EditorLanguageStatusService } from './language-status/editor-language-status-service';\nimport { EditorLineNumberContribution } from './editor-linenumber-contribution';\nimport { UndoRedoService } from './undo-redo-service';\n\nexport default new ContainerModule(bind => {\n    bindEditorPreferences(bind);\n\n    bind(EditorWidgetFactory).toSelf().inSingletonScope();\n    bind(WidgetFactory).toService(EditorWidgetFactory);\n\n    bind(EditorManager).toSelf().inSingletonScope();\n    bind(OpenHandler).toService(EditorManager);\n\n    bind(EditorCommandContribution).toSelf().inSingletonScope();\n    bind(CommandContribution).toService(EditorCommandContribution);\n\n    bind(EditorMenuContribution).toSelf().inSingletonScope();\n    bind(MenuContribution).toService(EditorMenuContribution);\n\n    bind(EditorKeybindingContribution).toSelf().inSingletonScope();\n    bind(KeybindingContribution).toService(EditorKeybindingContribution);\n\n    bind(EditorContribution).toSelf().inSingletonScope();\n    bind(FrontendApplicationContribution).toService(EditorContribution);\n    bind(EditorLanguageStatusService).toSelf().inSingletonScope();\n\n    bind(EditorLineNumberContribution).toSelf().inSingletonScope();\n    bind(FrontendApplicationContribution).toService(EditorLineNumberContribution);\n\n    bind(EditorNavigationContribution).toSelf().inSingletonScope();\n    bind(FrontendApplicationContribution).toService(EditorNavigationContribution);\n    bind(NavigationLocationService).toSelf().inSingletonScope();\n    bind(NavigationLocationUpdater).toSelf().inSingletonScope();\n    bind(NavigationLocationSimilarity).toSelf().inSingletonScope();\n\n    bind(VariableContribution).to(EditorVariableContribution).inSingletonScope();\n\n    [CommandContribution, KeybindingContribution, MenuContribution].forEach(serviceIdentifier => {\n        bind(serviceIdentifier).toService(EditorContribution);\n    });\n    bind(QuickEditorService).toSelf().inSingletonScope();\n    bind(QuickAccessContribution).to(QuickEditorService);\n\n    bind(CurrentEditorAccess).toSelf().inSingletonScope();\n    bind(ActiveEditorAccess).toSelf().inSingletonScope();\n    bind(EditorAccess).to(CurrentEditorAccess).inSingletonScope().whenTargetNamed(EditorAccess.CURRENT);\n    bind(EditorAccess).to(ActiveEditorAccess).inSingletonScope().whenTargetNamed(EditorAccess.ACTIVE);\n\n    bind(UndoRedoService).toSelf().inSingletonScope();\n});\n","/********************************************************************************\n * Copyright (C) 2022 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { isOSX, isWindows, nls } from '@theia/core';\nimport { PreferenceSchema } from '@theia/core/lib/browser';\n\n/* eslint-disable @typescript-eslint/quotes,max-len,no-null/no-null */\n\n/**\n * Please do not modify this file by hand. It should be generated automatically\n * during a Monaco uplift using the command registered by monaco-editor-preference-extractor.ts\n * The only manual work required is fixing preferences with type 'array' or 'object'.\n */\n\nexport const editorGeneratedPreferenceProperties: PreferenceSchema['properties'] = {\n    \"editor.tabSize\": {\n        \"type\": \"number\",\n        \"default\": 4,\n        \"minimum\": 1,\n        \"markdownDescription\": nls.localize(\"theia/editor/editor.tabSize\", \"The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.\"),\n        \"restricted\": false\n    },\n    \"editor.indentSize\": {\n        \"anyOf\": [\n            {\n                \"type\": \"string\",\n                \"enum\": [\n                    \"tabSize\"\n                ]\n            },\n            {\n                \"type\": \"number\",\n                \"minimum\": 1\n            }\n        ],\n        \"default\": \"tabSize\",\n        \"markdownDescription\": nls.localizeByDefault(\"The number of spaces used for indentation or `\\\"tabSize\\\"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.\"),\n        \"restricted\": false\n    },\n    \"editor.insertSpaces\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localize(\"theia/editor/editor.insertSpaces\", \"Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.\"),\n        \"restricted\": false\n    },\n    \"editor.detectIndentation\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localize(\"theia/editor/editor.detectIndentation\", \"Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.\"),\n        \"restricted\": false\n    },\n    \"editor.trimAutoWhitespace\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Remove trailing auto inserted whitespace.\"),\n        \"restricted\": false\n    },\n    \"editor.largeFileOptimizations\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Special handling for large files to disable certain memory intensive features.\"),\n        \"restricted\": false\n    },\n    \"editor.wordBasedSuggestions\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether completions should be computed based on words in the document.\"),\n        \"restricted\": false\n    },\n    \"editor.wordBasedSuggestionsMode\": {\n        \"enum\": [\n            \"currentDocument\",\n            \"matchingDocuments\",\n            \"allDocuments\"\n        ],\n        \"default\": \"matchingDocuments\",\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Only suggest words from the active document.\"),\n            nls.localizeByDefault(\"Suggest words from all open documents of the same language.\"),\n            nls.localizeByDefault(\"Suggest words from all open documents.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls from which documents word based completions are computed.\"),\n        \"restricted\": false\n    },\n    \"editor.semanticHighlighting.enabled\": {\n        \"enum\": [\n            true,\n            false,\n            \"configuredByTheme\"\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Semantic highlighting enabled for all color themes.\"),\n            nls.localizeByDefault(\"Semantic highlighting disabled for all color themes.\"),\n            nls.localizeByDefault(\"Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.\")\n        ],\n        \"default\": \"configuredByTheme\",\n        \"description\": nls.localizeByDefault(\"Controls whether the semanticHighlighting is shown for the languages that support it.\"),\n        \"restricted\": false\n    },\n    \"editor.stablePeek\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"markdownDescription\": nls.localizeByDefault(\"Keep peek editors open even when double-clicking their content or when hitting `Escape`.\"),\n        \"restricted\": false\n    },\n    \"editor.maxTokenizationLineLength\": {\n        \"type\": \"integer\",\n        \"default\": 20000,\n        \"description\": nls.localizeByDefault(\"Lines above this length will not be tokenized for performance reasons\"),\n        \"restricted\": false\n    },\n    \"editor.experimental.asyncTokenization\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls whether the tokenization should happen asynchronously on a web worker.\"),\n        \"tags\": [\n            \"experimental\"\n        ],\n        \"restricted\": false\n    },\n    \"editor.experimental.asyncTokenizationLogging\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls whether async tokenization should be logged. For debugging only.\"),\n        \"restricted\": false\n    },\n    \"editor.experimental.asyncTokenizationVerification\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only.\"),\n        \"tags\": [\n            \"experimental\"\n        ],\n        \"restricted\": false\n    },\n    \"editor.language.brackets\": {\n        \"type\": [\n            \"array\",\n            \"null\"\n        ],\n        \"default\": null,\n        \"description\": nls.localizeByDefault(\"Defines the bracket symbols that increase or decrease the indentation.\"),\n        \"items\": {\n            \"type\": \"array\",\n            \"items\": [\n                {\n                    \"type\": \"string\",\n                    \"description\": nls.localizeByDefault(\"The opening bracket character or string sequence.\")\n                },\n                {\n                    \"type\": \"string\",\n                    \"description\": nls.localizeByDefault(\"The closing bracket character or string sequence.\")\n                }\n            ]\n        },\n        \"restricted\": false\n    },\n    \"editor.language.colorizedBracketPairs\": {\n        \"type\": [\n            \"array\",\n            \"null\"\n        ],\n        \"default\": null,\n        \"description\": nls.localizeByDefault(\"Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled.\"),\n        \"items\": {\n            \"type\": \"array\",\n            \"items\": [\n                {\n                    \"type\": \"string\",\n                    \"description\": nls.localizeByDefault(\"The opening bracket character or string sequence.\")\n                },\n                {\n                    \"type\": \"string\",\n                    \"description\": nls.localizeByDefault(\"The closing bracket character or string sequence.\")\n                }\n            ]\n        },\n        \"restricted\": false\n    },\n    \"diffEditor.maxComputationTime\": {\n        \"type\": \"number\",\n        \"default\": 5000,\n        \"description\": nls.localizeByDefault(\"Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.\"),\n        \"restricted\": false\n    },\n    \"diffEditor.maxFileSize\": {\n        \"type\": \"number\",\n        \"default\": 50,\n        \"description\": nls.localizeByDefault(\"Maximum file size in MB for which to compute diffs. Use 0 for no limit.\"),\n        \"restricted\": false\n    },\n    \"diffEditor.renderSideBySide\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the diff editor shows the diff side by side or inline.\"),\n        \"restricted\": false\n    },\n    \"diffEditor.renderSideBySideInlineBreakpoint\": {\n        \"type\": \"number\",\n        \"default\": 900,\n        \"description\": nls.localizeByDefault(\"If the diff editor width is smaller than this value, the inline view is used.\"),\n        \"restricted\": false\n    },\n    \"diffEditor.useInlineViewWhenSpaceIsLimited\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"If enabled and the editor width is too small, the inline view is used.\"),\n        \"restricted\": false\n    },\n    \"diffEditor.renderMarginRevertIcon\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"When enabled, the diff editor shows arrows in its glyph margin to revert changes.\"),\n        \"restricted\": false\n    },\n    \"diffEditor.ignoreTrimWhitespace\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"When enabled, the diff editor ignores changes in leading or trailing whitespace.\"),\n        \"restricted\": false\n    },\n    \"diffEditor.renderIndicators\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the diff editor shows +/- indicators for added/removed changes.\"),\n        \"restricted\": false\n    },\n    \"diffEditor.codeLens\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls whether the editor shows CodeLens.\"),\n        \"restricted\": false\n    },\n    \"diffEditor.wordWrap\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"off\",\n            \"on\",\n            \"inherit\"\n        ],\n        \"default\": \"inherit\",\n        \"markdownEnumDescriptions\": [\n            nls.localizeByDefault(\"Lines will never wrap.\"),\n            nls.localizeByDefault(\"Lines will wrap at the viewport width.\"),\n            nls.localize(\"theia/editor/diffEditor.wordWrap2\", \"Lines will wrap according to the `#editor.wordWrap#` setting.\")\n        ],\n        \"restricted\": false\n    },\n    \"diffEditor.diffAlgorithm\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"legacy\",\n            \"advanced\"\n        ],\n        \"default\": \"advanced\",\n        \"markdownEnumDescriptions\": [\n            nls.localizeByDefault(\"Uses the legacy diffing algorithm.\"),\n            nls.localizeByDefault(\"Uses the advanced diffing algorithm.\")\n        ],\n        \"tags\": [\n            \"experimental\"\n        ],\n        \"restricted\": false\n    },\n    \"diffEditor.hideUnchangedRegions.enabled\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"markdownDescription\": nls.localizeByDefault(\"Controls whether the diff editor shows unchanged regions.\"),\n        \"restricted\": false\n    },\n    \"diffEditor.hideUnchangedRegions.revealLineCount\": {\n        \"type\": \"integer\",\n        \"default\": 20,\n        \"markdownDescription\": nls.localizeByDefault(\"Controls how many lines are used for unchanged regions.\"),\n        \"minimum\": 1,\n        \"restricted\": false\n    },\n    \"diffEditor.hideUnchangedRegions.minimumLineCount\": {\n        \"type\": \"integer\",\n        \"default\": 3,\n        \"markdownDescription\": nls.localizeByDefault(\"Controls how many lines are used as a minimum for unchanged regions.\"),\n        \"minimum\": 1,\n        \"restricted\": false\n    },\n    \"diffEditor.hideUnchangedRegions.contextLineCount\": {\n        \"type\": \"integer\",\n        \"default\": 3,\n        \"markdownDescription\": nls.localizeByDefault(\"Controls how many lines are used as context when comparing unchanged regions.\"),\n        \"minimum\": 1,\n        \"restricted\": false\n    },\n    \"diffEditor.experimental.showMoves\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"markdownDescription\": nls.localizeByDefault(\"Controls whether the diff editor should show detected code moves.\"),\n        \"restricted\": false\n    },\n    \"diffEditor.experimental.showEmptyDecorations\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.\"),\n        \"restricted\": false\n    },\n    \"editor.acceptSuggestionOnCommitCharacter\": {\n        \"markdownDescription\": nls.localizeByDefault(\"Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.acceptSuggestionOnEnter\": {\n        \"markdownEnumDescriptions\": [\n            \"\",\n            nls.localizeByDefault(\"Only accept a suggestion with `Enter` when it makes a textual change.\"),\n            \"\"\n        ],\n        \"markdownDescription\": nls.localizeByDefault(\"Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"on\",\n            \"smart\",\n            \"off\"\n        ],\n        \"default\": \"on\",\n        \"restricted\": false\n    },\n    \"editor.accessibilitySupport\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"auto\",\n            \"on\",\n            \"off\"\n        ],\n        \"enumDescriptions\": [\n            nls.localize(\"theia/editor/editor.accessibilitySupport0\", \"Use platform APIs to detect when a Screen Reader is attached\"),\n            nls.localize(\"theia/editor/editor.accessibilitySupport1\", \"Optimize for usage with a Screen Reader\"),\n            nls.localize(\"theia/editor/editor.accessibilitySupport2\", \"Assume a screen reader is not attached\")\n        ],\n        \"default\": \"auto\",\n        \"tags\": [\n            \"accessibility\"\n        ],\n        \"description\": nls.localizeByDefault(\"Controls if the UI should run in a mode where it is optimized for screen readers.\"),\n        \"restricted\": false\n    },\n    \"editor.accessibilityPageSize\": {\n        \"description\": nls.localizeByDefault(\"Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.\"),\n        \"tags\": [\n            \"accessibility\"\n        ],\n        \"type\": \"integer\",\n        \"default\": 10,\n        \"minimum\": 1,\n        \"maximum\": 1073741824,\n        \"restricted\": false\n    },\n    \"editor.autoClosingBrackets\": {\n        \"enumDescriptions\": [\n            \"\",\n            nls.localizeByDefault(\"Use language configurations to determine when to autoclose brackets.\"),\n            nls.localizeByDefault(\"Autoclose brackets only when the cursor is to the left of whitespace.\"),\n            \"\"\n        ],\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should automatically close brackets after the user adds an opening bracket.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"always\",\n            \"languageDefined\",\n            \"beforeWhitespace\",\n            \"never\"\n        ],\n        \"default\": \"languageDefined\",\n        \"restricted\": false\n    },\n    \"editor.autoClosingComments\": {\n        \"enumDescriptions\": [\n            \"\",\n            nls.localizeByDefault(\"Use language configurations to determine when to autoclose comments.\"),\n            nls.localizeByDefault(\"Autoclose comments only when the cursor is to the left of whitespace.\"),\n            \"\"\n        ],\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should automatically close comments after the user adds an opening comment.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"always\",\n            \"languageDefined\",\n            \"beforeWhitespace\",\n            \"never\"\n        ],\n        \"default\": \"languageDefined\",\n        \"restricted\": false\n    },\n    \"editor.screenReaderAnnounceInlineSuggestion\": {\n        \"description\": nls.localizeByDefault(\"Control whether inline suggestions are announced by a screen reader.\"),\n        \"tags\": [\n            \"accessibility\"\n        ],\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.autoClosingDelete\": {\n        \"enumDescriptions\": [\n            \"\",\n            nls.localizeByDefault(\"Remove adjacent closing quotes or brackets only if they were automatically inserted.\"),\n            \"\"\n        ],\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should remove adjacent closing quotes or brackets when deleting.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"always\",\n            \"auto\",\n            \"never\"\n        ],\n        \"default\": \"auto\",\n        \"restricted\": false\n    },\n    \"editor.autoClosingOvertype\": {\n        \"enumDescriptions\": [\n            \"\",\n            nls.localizeByDefault(\"Type over closing quotes or brackets only if they were automatically inserted.\"),\n            \"\"\n        ],\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should type over closing quotes or brackets.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"always\",\n            \"auto\",\n            \"never\"\n        ],\n        \"default\": \"auto\",\n        \"restricted\": false\n    },\n    \"editor.autoClosingQuotes\": {\n        \"enumDescriptions\": [\n            \"\",\n            nls.localizeByDefault(\"Use language configurations to determine when to autoclose quotes.\"),\n            nls.localizeByDefault(\"Autoclose quotes only when the cursor is to the left of whitespace.\"),\n            \"\"\n        ],\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should automatically close quotes after the user adds an opening quote.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"always\",\n            \"languageDefined\",\n            \"beforeWhitespace\",\n            \"never\"\n        ],\n        \"default\": \"languageDefined\",\n        \"restricted\": false\n    },\n    \"editor.autoIndent\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"The editor will not insert indentation automatically.\"),\n            nls.localizeByDefault(\"The editor will keep the current line's indentation.\"),\n            nls.localizeByDefault(\"The editor will keep the current line's indentation and honor language defined brackets.\"),\n            nls.localizeByDefault(\"The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages.\"),\n            nls.localizeByDefault(\"The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"none\",\n            \"keep\",\n            \"brackets\",\n            \"advanced\",\n            \"full\"\n        ],\n        \"default\": \"full\",\n        \"restricted\": false\n    },\n    \"editor.autoSurround\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Use language configurations to determine when to automatically surround selections.\"),\n            nls.localizeByDefault(\"Surround with quotes but not brackets.\"),\n            nls.localizeByDefault(\"Surround with brackets but not quotes.\"),\n            \"\"\n        ],\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should automatically surround selections when typing quotes or brackets.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"languageDefined\",\n            \"quotes\",\n            \"brackets\",\n            \"never\"\n        ],\n        \"default\": \"languageDefined\",\n        \"restricted\": false\n    },\n    \"editor.bracketPairColorization.enabled\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localize(\"theia/editor/editor.bracketPairColorization.enabled\", \"Controls whether bracket pair colorization is enabled or not. Use `#workbench.colorCustomizations#` to override the bracket highlight colors.\"),\n        \"restricted\": false\n    },\n    \"editor.bracketPairColorization.independentColorPoolPerBracketType\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls whether each bracket type has its own independent color pool.\"),\n        \"restricted\": false\n    },\n    \"editor.guides.bracketPairs\": {\n        \"type\": [\n            \"boolean\",\n            \"string\"\n        ],\n        \"enum\": [\n            true,\n            \"active\",\n            false\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Enables bracket pair guides.\"),\n            nls.localizeByDefault(\"Enables bracket pair guides only for the active bracket pair.\"),\n            nls.localizeByDefault(\"Disables bracket pair guides.\")\n        ],\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls whether bracket pair guides are enabled or not.\"),\n        \"restricted\": false\n    },\n    \"editor.guides.bracketPairsHorizontal\": {\n        \"type\": [\n            \"boolean\",\n            \"string\"\n        ],\n        \"enum\": [\n            true,\n            \"active\",\n            false\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Enables horizontal guides as addition to vertical bracket pair guides.\"),\n            nls.localizeByDefault(\"Enables horizontal guides only for the active bracket pair.\"),\n            nls.localizeByDefault(\"Disables horizontal bracket pair guides.\")\n        ],\n        \"default\": \"active\",\n        \"description\": nls.localizeByDefault(\"Controls whether horizontal bracket pair guides are enabled or not.\"),\n        \"restricted\": false\n    },\n    \"editor.guides.highlightActiveBracketPair\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should highlight the active bracket pair.\"),\n        \"restricted\": false\n    },\n    \"editor.guides.indentation\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should render indent guides.\"),\n        \"restricted\": false\n    },\n    \"editor.guides.highlightActiveIndentation\": {\n        \"type\": [\n            \"boolean\",\n            \"string\"\n        ],\n        \"enum\": [\n            true,\n            \"always\",\n            false\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Highlights the active indent guide.\"),\n            nls.localizeByDefault(\"Highlights the active indent guide even if bracket guides are highlighted.\"),\n            nls.localizeByDefault(\"Do not highlight the active indent guide.\")\n        ],\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should highlight the active indent guide.\"),\n        \"restricted\": false\n    },\n    \"editor.codeLens\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor shows CodeLens.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.codeLensFontFamily\": {\n        \"description\": nls.localizeByDefault(\"Controls the font family for CodeLens.\"),\n        \"type\": \"string\",\n        \"default\": \"\",\n        \"restricted\": false\n    },\n    \"editor.codeLensFontSize\": {\n        \"type\": \"integer\",\n        \"default\": 0,\n        \"minimum\": 0,\n        \"maximum\": 100,\n        \"markdownDescription\": nls.localizeByDefault(\"Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.\"),\n        \"restricted\": false\n    },\n    \"editor.colorDecorators\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should render the inline color decorators and color picker.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.colorDecoratorsLimit\": {\n        \"markdownDescription\": nls.localizeByDefault(\"Controls the max number of color decorators that can be rendered in an editor at once.\"),\n        \"type\": \"integer\",\n        \"default\": 500,\n        \"minimum\": 1,\n        \"maximum\": 1000000,\n        \"restricted\": false\n    },\n    \"editor.columnSelection\": {\n        \"description\": nls.localizeByDefault(\"Enable that the selection with the mouse and keys is doing column selection.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.comments.insertSpace\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether a space character is inserted when commenting.\"),\n        \"restricted\": false\n    },\n    \"editor.comments.ignoreEmptyLines\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls if empty lines should be ignored with toggle, add or remove actions for line comments.\"),\n        \"restricted\": false\n    },\n    \"editor.copyWithSyntaxHighlighting\": {\n        \"description\": nls.localizeByDefault(\"Controls whether syntax highlighting should be copied into the clipboard.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.cursorBlinking\": {\n        \"description\": nls.localizeByDefault(\"Control the cursor animation style.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"blink\",\n            \"smooth\",\n            \"phase\",\n            \"expand\",\n            \"solid\"\n        ],\n        \"default\": \"blink\",\n        \"restricted\": false\n    },\n    \"editor.cursorSmoothCaretAnimation\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Smooth caret animation is disabled.\"),\n            nls.localizeByDefault(\"Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture.\"),\n            nls.localizeByDefault(\"Smooth caret animation is always enabled.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls whether the smooth caret animation should be enabled.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"off\",\n            \"explicit\",\n            \"on\"\n        ],\n        \"default\": \"off\",\n        \"restricted\": false\n    },\n    \"editor.cursorStyle\": {\n        \"description\": nls.localizeByDefault(\"Controls the cursor style.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"line\",\n            \"block\",\n            \"underline\",\n            \"line-thin\",\n            \"block-outline\",\n            \"underline-thin\"\n        ],\n        \"default\": \"line\",\n        \"restricted\": false\n    },\n    \"editor.cursorSurroundingLines\": {\n        \"description\": nls.localizeByDefault(\"Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.\"),\n        \"type\": \"integer\",\n        \"default\": 0,\n        \"minimum\": 0,\n        \"maximum\": 1073741824,\n        \"restricted\": false\n    },\n    \"editor.cursorSurroundingLinesStyle\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"`cursorSurroundingLines` is enforced only when triggered via the keyboard or API.\"),\n            nls.localizeByDefault(\"`cursorSurroundingLines` is enforced always.\")\n        ],\n        \"markdownDescription\": nls.localizeByDefault(\"Controls when `#cursorSurroundingLines#` should be enforced.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"default\",\n            \"all\"\n        ],\n        \"default\": \"default\",\n        \"restricted\": false\n    },\n    \"editor.cursorWidth\": {\n        \"markdownDescription\": nls.localizeByDefault(\"Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.\"),\n        \"type\": \"integer\",\n        \"default\": 0,\n        \"minimum\": 0,\n        \"maximum\": 1073741824,\n        \"restricted\": false\n    },\n    \"editor.dragAndDrop\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should allow moving selections via drag and drop.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.dropIntoEditor.enabled\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).\"),\n        \"restricted\": false\n    },\n    \"editor.dropIntoEditor.showDropSelector\": {\n        \"type\": \"string\",\n        \"markdownDescription\": nls.localizeByDefault(\"Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped.\"),\n        \"enum\": [\n            \"afterDrop\",\n            \"never\"\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Show the drop selector widget after a file is dropped into the editor.\"),\n            nls.localizeByDefault(\"Never show the drop selector widget. Instead the default drop provider is always used.\")\n        ],\n        \"default\": \"afterDrop\",\n        \"restricted\": false\n    },\n    \"editor.emptySelectionClipboard\": {\n        \"description\": nls.localizeByDefault(\"Controls whether copying without a selection copies the current line.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.experimentalWhitespaceRendering\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Use a new rendering method with svgs.\"),\n            nls.localizeByDefault(\"Use a new rendering method with font characters.\"),\n            nls.localizeByDefault(\"Use the stable rendering method.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls whether whitespace is rendered with a new, experimental method.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"svg\",\n            \"font\",\n            \"off\"\n        ],\n        \"default\": \"svg\",\n        \"restricted\": false\n    },\n    \"editor.fastScrollSensitivity\": {\n        \"markdownDescription\": nls.localizeByDefault(\"Scrolling speed multiplier when pressing `Alt`.\"),\n        \"type\": \"number\",\n        \"default\": 5,\n        \"restricted\": false\n    },\n    \"editor.find.cursorMoveOnType\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the cursor should jump to find matches while typing.\"),\n        \"restricted\": false\n    },\n    \"editor.find.seedSearchStringFromSelection\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"never\",\n            \"always\",\n            \"selection\"\n        ],\n        \"default\": \"always\",\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Never seed search string from the editor selection.\"),\n            nls.localizeByDefault(\"Always seed search string from the editor selection, including word at cursor position.\"),\n            nls.localizeByDefault(\"Only seed search string from the editor selection.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls whether the search string in the Find Widget is seeded from the editor selection.\"),\n        \"restricted\": false\n    },\n    \"editor.find.autoFindInSelection\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"never\",\n            \"always\",\n            \"multiline\"\n        ],\n        \"default\": \"never\",\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Never turn on Find in Selection automatically (default).\"),\n            nls.localizeByDefault(\"Always turn on Find in Selection automatically.\"),\n            nls.localizeByDefault(\"Turn on Find in Selection automatically when multiple lines of content are selected.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls the condition for turning on Find in Selection automatically.\"),\n        \"restricted\": false\n    },\n    \"editor.find.addExtraSpaceOnTop\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.\"),\n        \"restricted\": false\n    },\n    \"editor.find.loop\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.\"),\n        \"restricted\": false\n    },\n    \"editor.folding\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor has code folding enabled.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.foldingStrategy\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Use a language-specific folding strategy if available, else the indentation-based one.\"),\n            nls.localizeByDefault(\"Use the indentation-based folding strategy.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls the strategy for computing folding ranges.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"auto\",\n            \"indentation\"\n        ],\n        \"default\": \"auto\",\n        \"restricted\": false\n    },\n    \"editor.foldingHighlight\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should highlight folded ranges.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.foldingImportsByDefault\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor automatically collapses import ranges.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.foldingMaximumRegions\": {\n        \"description\": nls.localizeByDefault(\"The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.\"),\n        \"type\": \"integer\",\n        \"default\": 5000,\n        \"minimum\": 10,\n        \"maximum\": 65000,\n        \"restricted\": false\n    },\n    \"editor.unfoldOnClickAfterEndOfLine\": {\n        \"description\": nls.localizeByDefault(\"Controls whether clicking on the empty content after a folded line will unfold the line.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.fontFamily\": {\n        \"description\": nls.localizeByDefault(\"Controls the font family.\"),\n        \"type\": \"string\",\n        \"default\": isOSX ? 'Menlo, Monaco, \\'Courier New\\', monospace' : isWindows ? 'Consolas, \\'Courier New\\', monospace' : '\\'Droid Sans Mono\\', \\'monospace\\', monospace',\n        \"restricted\": false\n    },\n    \"editor.fontLigatures\": {\n        \"anyOf\": [\n            {\n                \"type\": \"boolean\",\n                \"description\": nls.localizeByDefault(\"Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.\")\n            },\n            {\n                \"type\": \"string\",\n                \"description\": nls.localizeByDefault(\"Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.\")\n            }\n        ],\n        \"description\": nls.localizeByDefault(\"Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property.\"),\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.fontSize\": {\n        \"type\": \"number\",\n        \"minimum\": 6,\n        \"maximum\": 100,\n        \"default\": isOSX ? 12 : 14,\n        \"description\": nls.localizeByDefault(\"Controls the font size in pixels.\"),\n        \"restricted\": false\n    },\n    \"editor.fontWeight\": {\n        \"anyOf\": [\n            {\n                \"type\": \"number\",\n                \"minimum\": 1,\n                \"maximum\": 1000,\n                \"errorMessage\": \"Only \\\"normal\\\" and \\\"bold\\\" keywords or numbers between 1 and 1000 are allowed.\"\n            },\n            {\n                \"type\": \"string\",\n                \"pattern\": \"^(normal|bold|1000|[1-9][0-9]{0,2})$\"\n            },\n            {\n                \"enum\": [\n                    \"normal\",\n                    \"bold\",\n                    \"100\",\n                    \"200\",\n                    \"300\",\n                    \"400\",\n                    \"500\",\n                    \"600\",\n                    \"700\",\n                    \"800\",\n                    \"900\"\n                ]\n            }\n        ],\n        \"default\": \"normal\",\n        \"description\": nls.localizeByDefault(\"Controls the font weight. Accepts \\\"normal\\\" and \\\"bold\\\" keywords or numbers between 1 and 1000.\"),\n        \"restricted\": false\n    },\n    \"editor.fontVariations\": {\n        \"anyOf\": [\n            {\n                \"type\": \"boolean\",\n                \"description\": nls.localizeByDefault(\"Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.\")\n            },\n            {\n                \"type\": \"string\",\n                \"description\": nls.localizeByDefault(\"Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.\")\n            }\n        ],\n        \"description\": nls.localizeByDefault(\"Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property.\"),\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.formatOnPaste\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.formatOnType\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should automatically format the line after typing.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.glyphMargin\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.gotoLocation.multiple\": {\n        \"deprecationMessage\": \"This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.\",\n        \"default\": null,\n        \"restricted\": false\n    },\n    \"editor.gotoLocation.multipleDefinitions\": {\n        \"description\": nls.localizeByDefault(\"Controls the behavior the 'Go to Definition'-command when multiple target locations exist.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"peek\",\n            \"gotoAndPeek\",\n            \"goto\"\n        ],\n        \"default\": \"peek\",\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Show Peek view of the results (default)\"),\n            nls.localizeByDefault(\"Go to the primary result and show a Peek view\"),\n            nls.localizeByDefault(\"Go to the primary result and enable Peek-less navigation to others\")\n        ],\n        \"restricted\": false\n    },\n    \"editor.gotoLocation.multipleTypeDefinitions\": {\n        \"description\": nls.localizeByDefault(\"Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"peek\",\n            \"gotoAndPeek\",\n            \"goto\"\n        ],\n        \"default\": \"peek\",\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Show Peek view of the results (default)\"),\n            nls.localizeByDefault(\"Go to the primary result and show a Peek view\"),\n            nls.localizeByDefault(\"Go to the primary result and enable Peek-less navigation to others\")\n        ],\n        \"restricted\": false\n    },\n    \"editor.gotoLocation.multipleDeclarations\": {\n        \"description\": nls.localizeByDefault(\"Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"peek\",\n            \"gotoAndPeek\",\n            \"goto\"\n        ],\n        \"default\": \"peek\",\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Show Peek view of the results (default)\"),\n            nls.localizeByDefault(\"Go to the primary result and show a Peek view\"),\n            nls.localizeByDefault(\"Go to the primary result and enable Peek-less navigation to others\")\n        ],\n        \"restricted\": false\n    },\n    \"editor.gotoLocation.multipleImplementations\": {\n        \"description\": nls.localizeByDefault(\"Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"peek\",\n            \"gotoAndPeek\",\n            \"goto\"\n        ],\n        \"default\": \"peek\",\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Show Peek view of the results (default)\"),\n            nls.localizeByDefault(\"Go to the primary result and show a Peek view\"),\n            nls.localizeByDefault(\"Go to the primary result and enable Peek-less navigation to others\")\n        ],\n        \"restricted\": false\n    },\n    \"editor.gotoLocation.multipleReferences\": {\n        \"description\": nls.localizeByDefault(\"Controls the behavior the 'Go to References'-command when multiple target locations exist.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"peek\",\n            \"gotoAndPeek\",\n            \"goto\"\n        ],\n        \"default\": \"peek\",\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Show Peek view of the results (default)\"),\n            nls.localizeByDefault(\"Go to the primary result and show a Peek view\"),\n            nls.localizeByDefault(\"Go to the primary result and enable Peek-less navigation to others\")\n        ],\n        \"restricted\": false\n    },\n    \"editor.gotoLocation.alternativeDefinitionCommand\": {\n        \"type\": \"string\",\n        \"default\": \"editor.action.goToReferences\",\n        \"enum\": [\n            \"\",\n            \"editor.action.referenceSearch.trigger\",\n            \"editor.action.goToReferences\",\n            \"editor.action.peekImplementation\",\n            \"editor.action.goToImplementation\",\n            \"editor.action.peekTypeDefinition\",\n            \"editor.action.goToTypeDefinition\",\n            \"editor.action.peekDeclaration\",\n            \"editor.action.revealDeclaration\",\n            \"editor.action.peekDefinition\",\n            \"editor.action.revealDefinitionAside\",\n            \"editor.action.revealDefinition\"\n        ],\n        \"description\": nls.localizeByDefault(\"Alternative command id that is being executed when the result of 'Go to Definition' is the current location.\"),\n        \"restricted\": false\n    },\n    \"editor.gotoLocation.alternativeTypeDefinitionCommand\": {\n        \"type\": \"string\",\n        \"default\": \"editor.action.goToReferences\",\n        \"enum\": [\n            \"\",\n            \"editor.action.referenceSearch.trigger\",\n            \"editor.action.goToReferences\",\n            \"editor.action.peekImplementation\",\n            \"editor.action.goToImplementation\",\n            \"editor.action.peekTypeDefinition\",\n            \"editor.action.goToTypeDefinition\",\n            \"editor.action.peekDeclaration\",\n            \"editor.action.revealDeclaration\",\n            \"editor.action.peekDefinition\",\n            \"editor.action.revealDefinitionAside\",\n            \"editor.action.revealDefinition\"\n        ],\n        \"description\": nls.localizeByDefault(\"Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.\"),\n        \"restricted\": false\n    },\n    \"editor.gotoLocation.alternativeDeclarationCommand\": {\n        \"type\": \"string\",\n        \"default\": \"editor.action.goToReferences\",\n        \"enum\": [\n            \"\",\n            \"editor.action.referenceSearch.trigger\",\n            \"editor.action.goToReferences\",\n            \"editor.action.peekImplementation\",\n            \"editor.action.goToImplementation\",\n            \"editor.action.peekTypeDefinition\",\n            \"editor.action.goToTypeDefinition\",\n            \"editor.action.peekDeclaration\",\n            \"editor.action.revealDeclaration\",\n            \"editor.action.peekDefinition\",\n            \"editor.action.revealDefinitionAside\",\n            \"editor.action.revealDefinition\"\n        ],\n        \"description\": nls.localizeByDefault(\"Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.\"),\n        \"restricted\": false\n    },\n    \"editor.gotoLocation.alternativeImplementationCommand\": {\n        \"type\": \"string\",\n        \"default\": \"\",\n        \"enum\": [\n            \"\",\n            \"editor.action.referenceSearch.trigger\",\n            \"editor.action.goToReferences\",\n            \"editor.action.peekImplementation\",\n            \"editor.action.goToImplementation\",\n            \"editor.action.peekTypeDefinition\",\n            \"editor.action.goToTypeDefinition\",\n            \"editor.action.peekDeclaration\",\n            \"editor.action.revealDeclaration\",\n            \"editor.action.peekDefinition\",\n            \"editor.action.revealDefinitionAside\",\n            \"editor.action.revealDefinition\"\n        ],\n        \"description\": nls.localizeByDefault(\"Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.\"),\n        \"restricted\": false\n    },\n    \"editor.gotoLocation.alternativeReferenceCommand\": {\n        \"type\": \"string\",\n        \"default\": \"\",\n        \"enum\": [\n            \"\",\n            \"editor.action.referenceSearch.trigger\",\n            \"editor.action.goToReferences\",\n            \"editor.action.peekImplementation\",\n            \"editor.action.goToImplementation\",\n            \"editor.action.peekTypeDefinition\",\n            \"editor.action.goToTypeDefinition\",\n            \"editor.action.peekDeclaration\",\n            \"editor.action.revealDeclaration\",\n            \"editor.action.peekDefinition\",\n            \"editor.action.revealDefinitionAside\",\n            \"editor.action.revealDefinition\"\n        ],\n        \"description\": nls.localizeByDefault(\"Alternative command id that is being executed when the result of 'Go to Reference' is the current location.\"),\n        \"restricted\": false\n    },\n    \"editor.hideCursorInOverviewRuler\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the cursor should be hidden in the overview ruler.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.hover.enabled\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the hover is shown.\"),\n        \"restricted\": false\n    },\n    \"editor.hover.delay\": {\n        \"type\": \"number\",\n        \"default\": 300,\n        \"minimum\": 0,\n        \"maximum\": 10000,\n        \"description\": nls.localizeByDefault(\"Controls the delay in milliseconds after which the hover is shown.\"),\n        \"restricted\": false\n    },\n    \"editor.hover.sticky\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the hover should remain visible when mouse is moved over it.\"),\n        \"restricted\": false\n    },\n    \"editor.hover.hidingDelay\": {\n        \"type\": \"integer\",\n        \"minimum\": 0,\n        \"default\": 300,\n        \"description\": nls.localize(\"theia/editor/editor.hover.hidingDelay\", \"Controls the delay in milliseconds after thich the hover is hidden. Requires `editor.hover.sticky` to be enabled.\"),\n        \"restricted\": false\n    },\n    \"editor.hover.above\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Prefer showing hovers above the line, if there's space.\"),\n        \"restricted\": false\n    },\n    \"editor.inlineSuggest.enabled\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether to automatically show inline suggestions in the editor.\"),\n        \"restricted\": false\n    },\n    \"editor.inlineSuggest.showToolbar\": {\n        \"type\": \"string\",\n        \"default\": \"onHover\",\n        \"enum\": [\n            \"always\",\n            \"onHover\"\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Show the inline suggestion toolbar whenever an inline suggestion is shown.\"),\n            nls.localizeByDefault(\"Show the inline suggestion toolbar when hovering over an inline suggestion.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls when to show the inline suggestion toolbar.\"),\n        \"restricted\": false\n    },\n    \"editor.inlineSuggest.suppressSuggestions\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.\"),\n        \"restricted\": false\n    },\n    \"editor.letterSpacing\": {\n        \"description\": nls.localizeByDefault(\"Controls the letter spacing in pixels.\"),\n        \"type\": \"number\",\n        \"default\": 0,\n        \"restricted\": false\n    },\n    \"editor.lightbulb.enabled\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Enables the Code Action lightbulb in the editor.\"),\n        \"restricted\": false\n    },\n    \"editor.lineHeight\": {\n        \"markdownDescription\": nls.localizeByDefault(\"Controls the line height. \\n - Use 0 to automatically compute the line height from the font size.\\n - Values between 0 and 8 will be used as a multiplier with the font size.\\n - Values greater than or equal to 8 will be used as effective values.\"),\n        \"type\": \"number\",\n        \"default\": 0,\n        \"restricted\": false\n    },\n    \"editor.lineNumbers\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"off\",\n            \"on\",\n            \"relative\",\n            \"interval\"\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Line numbers are not rendered.\"),\n            nls.localizeByDefault(\"Line numbers are rendered as absolute number.\"),\n            nls.localizeByDefault(\"Line numbers are rendered as distance in lines to cursor position.\"),\n            nls.localizeByDefault(\"Line numbers are rendered every 10 lines.\")\n        ],\n        \"default\": \"on\",\n        \"description\": nls.localizeByDefault(\"Controls the display of line numbers.\"),\n        \"restricted\": false\n    },\n    \"editor.linkedEditing\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.links\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should detect links and make them clickable.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.matchBrackets\": {\n        \"description\": nls.localizeByDefault(\"Highlight matching brackets.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"always\",\n            \"near\",\n            \"never\"\n        ],\n        \"default\": \"always\",\n        \"restricted\": false\n    },\n    \"editor.minimap.enabled\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the minimap is shown.\"),\n        \"restricted\": false\n    },\n    \"editor.minimap.autohide\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls whether the minimap is hidden automatically.\"),\n        \"restricted\": false\n    },\n    \"editor.minimap.size\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"proportional\",\n            \"fill\",\n            \"fit\"\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"The minimap has the same size as the editor contents (and might scroll).\"),\n            nls.localizeByDefault(\"The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling).\"),\n            nls.localizeByDefault(\"The minimap will shrink as necessary to never be larger than the editor (no scrolling).\")\n        ],\n        \"default\": \"proportional\",\n        \"description\": nls.localizeByDefault(\"Controls the size of the minimap.\"),\n        \"restricted\": false\n    },\n    \"editor.minimap.side\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"left\",\n            \"right\"\n        ],\n        \"default\": \"right\",\n        \"description\": nls.localizeByDefault(\"Controls the side where to render the minimap.\"),\n        \"restricted\": false\n    },\n    \"editor.minimap.showSlider\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"always\",\n            \"mouseover\"\n        ],\n        \"default\": \"mouseover\",\n        \"description\": nls.localizeByDefault(\"Controls when the minimap slider is shown.\"),\n        \"restricted\": false\n    },\n    \"editor.minimap.scale\": {\n        \"type\": \"number\",\n        \"default\": 1,\n        \"minimum\": 1,\n        \"maximum\": 3,\n        \"enum\": [\n            1,\n            2,\n            3\n        ],\n        \"description\": nls.localizeByDefault(\"Scale of content drawn in the minimap: 1, 2 or 3.\"),\n        \"restricted\": false\n    },\n    \"editor.minimap.renderCharacters\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Render the actual characters on a line as opposed to color blocks.\"),\n        \"restricted\": false\n    },\n    \"editor.minimap.maxColumn\": {\n        \"type\": \"number\",\n        \"default\": 120,\n        \"description\": nls.localizeByDefault(\"Limit the width of the minimap to render at most a certain number of columns.\"),\n        \"restricted\": false\n    },\n    \"editor.mouseWheelScrollSensitivity\": {\n        \"markdownDescription\": nls.localizeByDefault(\"A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.\"),\n        \"type\": \"number\",\n        \"default\": 1,\n        \"restricted\": false\n    },\n    \"editor.mouseWheelZoom\": {\n        \"markdownDescription\": nls.localizeByDefault(\"Zoom the font of the editor when using mouse wheel and holding `Ctrl`.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.multiCursorMergeOverlapping\": {\n        \"description\": nls.localizeByDefault(\"Merge multiple cursors when they are overlapping.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.multiCursorModifier\": {\n        \"markdownEnumDescriptions\": [\n            nls.localizeByDefault(\"Maps to `Control` on Windows and Linux and to `Command` on macOS.\"),\n            nls.localizeByDefault(\"Maps to `Alt` on Windows and Linux and to `Option` on macOS.\")\n        ],\n        \"markdownDescription\": nls.localizeByDefault(\"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"ctrlCmd\",\n            \"alt\"\n        ],\n        \"default\": \"alt\",\n        \"restricted\": false\n    },\n    \"editor.multiCursorPaste\": {\n        \"markdownEnumDescriptions\": [\n            nls.localizeByDefault(\"Each cursor pastes a single line of the text.\"),\n            nls.localizeByDefault(\"Each cursor pastes the full text.\")\n        ],\n        \"markdownDescription\": nls.localizeByDefault(\"Controls pasting when the line count of the pasted text matches the cursor count.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"spread\",\n            \"full\"\n        ],\n        \"default\": \"spread\",\n        \"restricted\": false\n    },\n    \"editor.multiCursorLimit\": {\n        \"markdownDescription\": nls.localizeByDefault(\"Controls the max number of cursors that can be in an active editor at once.\"),\n        \"type\": \"integer\",\n        \"default\": 10000,\n        \"minimum\": 1,\n        \"maximum\": 100000,\n        \"restricted\": false\n    },\n    \"editor.occurrencesHighlight\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should highlight semantic symbol occurrences.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.overviewRulerBorder\": {\n        \"description\": nls.localizeByDefault(\"Controls whether a border should be drawn around the overview ruler.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.padding.top\": {\n        \"type\": \"number\",\n        \"default\": 0,\n        \"minimum\": 0,\n        \"maximum\": 1000,\n        \"description\": nls.localizeByDefault(\"Controls the amount of space between the top edge of the editor and the first line.\"),\n        \"restricted\": false\n    },\n    \"editor.padding.bottom\": {\n        \"type\": \"number\",\n        \"default\": 0,\n        \"minimum\": 0,\n        \"maximum\": 1000,\n        \"description\": nls.localizeByDefault(\"Controls the amount of space between the bottom edge of the editor and the last line.\"),\n        \"restricted\": false\n    },\n    \"editor.pasteAs.enabled\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"Controls whether you can paste content in different ways.\"),\n        \"restricted\": false\n    },\n    \"editor.pasteAs.showPasteSelector\": {\n        \"type\": \"string\",\n        \"markdownDescription\": nls.localizeByDefault(\"Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted.\"),\n        \"enum\": [\n            \"afterPaste\",\n            \"never\"\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Show the paste selector widget after content is pasted into the editor.\"),\n            nls.localizeByDefault(\"Never show the paste selector widget. Instead the default pasting behavior is always used.\")\n        ],\n        \"default\": \"afterPaste\",\n        \"restricted\": false\n    },\n    \"editor.parameterHints.enabled\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Enables a pop-up that shows parameter documentation and type information as you type.\"),\n        \"restricted\": false\n    },\n    \"editor.parameterHints.cycle\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the parameter hints menu cycles or closes when reaching the end of the list.\"),\n        \"restricted\": false\n    },\n    \"editor.peekWidgetDefaultFocus\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Focus the tree when opening peek\"),\n            nls.localizeByDefault(\"Focus the editor when opening peek\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls whether to focus the inline editor or the tree in the peek widget.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"tree\",\n            \"editor\"\n        ],\n        \"default\": \"tree\",\n        \"restricted\": false\n    },\n    \"editor.definitionLinkOpensInPeek\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the Go to Definition mouse gesture always opens the peek widget.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.quickSuggestions\": {\n        \"type\": \"object\",\n        \"additionalProperties\": false,\n        \"properties\": {\n            \"strings\": {\n                \"anyOf\": [\n                    {\n                        \"type\": \"boolean\"\n                    },\n                    {\n                        \"type\": \"string\",\n                        \"enum\": [\n                            \"on\",\n                            \"inline\",\n                            \"off\"\n                        ],\n                        \"enumDescriptions\": [\n                            nls.localizeByDefault(\"Quick suggestions show inside the suggest widget\"),\n                            nls.localizeByDefault(\"Quick suggestions show as ghost text\"),\n                            nls.localizeByDefault(\"Quick suggestions are disabled\")\n                        ]\n                    }\n                ],\n                \"default\": \"off\",\n                \"description\": nls.localizeByDefault(\"Enable quick suggestions inside strings.\")\n            },\n            \"comments\": {\n                \"anyOf\": [\n                    {\n                        \"type\": \"boolean\"\n                    },\n                    {\n                        \"type\": \"string\",\n                        \"enum\": [\n                            \"on\",\n                            \"inline\",\n                            \"off\"\n                        ],\n                        \"enumDescriptions\": [\n                            nls.localizeByDefault(\"Quick suggestions show inside the suggest widget\"),\n                            nls.localizeByDefault(\"Quick suggestions show as ghost text\"),\n                            nls.localizeByDefault(\"Quick suggestions are disabled\")\n                        ]\n                    }\n                ],\n                \"default\": \"off\",\n                \"description\": nls.localizeByDefault(\"Enable quick suggestions inside comments.\")\n            },\n            \"other\": {\n                \"anyOf\": [\n                    {\n                        \"type\": \"boolean\"\n                    },\n                    {\n                        \"type\": \"string\",\n                        \"enum\": [\n                            \"on\",\n                            \"inline\",\n                            \"off\"\n                        ],\n                        \"enumDescriptions\": [\n                            nls.localizeByDefault(\"Quick suggestions show inside the suggest widget\"),\n                            nls.localizeByDefault(\"Quick suggestions show as ghost text\"),\n                            nls.localizeByDefault(\"Quick suggestions are disabled\")\n                        ]\n                    }\n                ],\n                \"default\": \"on\",\n                \"description\": nls.localizeByDefault(\"Enable quick suggestions outside of strings and comments.\")\n            }\n        },\n        \"default\": {\n            \"other\": \"on\",\n            \"comments\": \"off\",\n            \"strings\": \"off\"\n        },\n        \"markdownDescription\": nls.localize(\"theia/editor/editor.quickSuggestions\", \"Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '#editor.suggestOnTriggerCharacters#'-setting which controls if suggestions are triggered by special characters.\"),\n        \"restricted\": false\n    },\n    \"editor.quickSuggestionsDelay\": {\n        \"description\": nls.localizeByDefault(\"Controls the delay in milliseconds after which quick suggestions will show up.\"),\n        \"type\": \"integer\",\n        \"default\": 10,\n        \"minimum\": 0,\n        \"maximum\": 1073741824,\n        \"restricted\": false\n    },\n    \"editor.renameOnType\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor auto renames on type.\"),\n        \"markdownDeprecationMessage\": \"Deprecated, use `editor.linkedEditing` instead.\",\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false,\n        \"deprecationMessage\": \"Deprecated, use `editor.linkedEditing` instead.\"\n    },\n    \"editor.renderControlCharacters\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should render control characters.\"),\n        \"restricted\": true,\n        \"type\": \"boolean\",\n        \"default\": true\n    },\n    \"editor.renderFinalNewline\": {\n        \"description\": nls.localizeByDefault(\"Render last line number when the file ends with a newline.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"off\",\n            \"on\",\n            \"dimmed\"\n        ],\n        \"default\": \"on\",\n        \"restricted\": false\n    },\n    \"editor.renderLineHighlight\": {\n        \"enumDescriptions\": [\n            \"\",\n            \"\",\n            \"\",\n            nls.localizeByDefault(\"Highlights both the gutter and the current line.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls how the editor should render the current line highlight.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"none\",\n            \"gutter\",\n            \"line\",\n            \"all\"\n        ],\n        \"default\": \"line\",\n        \"restricted\": false\n    },\n    \"editor.renderLineHighlightOnlyWhenFocus\": {\n        \"description\": nls.localizeByDefault(\"Controls if the editor should render the current line highlight only when the editor is focused.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.renderWhitespace\": {\n        \"enumDescriptions\": [\n            \"\",\n            nls.localizeByDefault(\"Render whitespace characters except for single spaces between words.\"),\n            nls.localizeByDefault(\"Render whitespace characters only on selected text.\"),\n            nls.localizeByDefault(\"Render only trailing whitespace characters.\"),\n            \"\"\n        ],\n        \"description\": nls.localizeByDefault(\"Controls how the editor should render whitespace characters.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"none\",\n            \"boundary\",\n            \"selection\",\n            \"trailing\",\n            \"all\"\n        ],\n        \"default\": \"selection\",\n        \"restricted\": false\n    },\n    \"editor.roundedSelection\": {\n        \"description\": nls.localizeByDefault(\"Controls whether selections should have rounded corners.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.rulers\": {\n        \"type\": \"array\",\n        \"items\": {\n            \"anyOf\": [\n                {\n                    \"type\": \"number\",\n                    \"description\": nls.localizeByDefault(\"Number of monospace characters at which this editor ruler will render.\")\n                },\n                {\n                    \"type\": [\n                        \"object\"\n                    ],\n                    \"properties\": {\n                        \"column\": {\n                            \"type\": \"number\",\n                            \"description\": nls.localizeByDefault(\"Number of monospace characters at which this editor ruler will render.\")\n                        },\n                        \"color\": {\n                            \"type\": \"string\",\n                            \"description\": nls.localizeByDefault(\"Color of this editor ruler.\"),\n                            \"format\": \"color-hex\"\n                        }\n                    }\n                }\n            ]\n        },\n        \"default\": [],\n        \"description\": nls.localizeByDefault(\"Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.\"),\n        \"restricted\": false\n    },\n    \"editor.scrollbar.vertical\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"auto\",\n            \"visible\",\n            \"hidden\"\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"The vertical scrollbar will be visible only when necessary.\"),\n            nls.localizeByDefault(\"The vertical scrollbar will always be visible.\"),\n            nls.localizeByDefault(\"The vertical scrollbar will always be hidden.\")\n        ],\n        \"default\": \"auto\",\n        \"description\": nls.localizeByDefault(\"Controls the visibility of the vertical scrollbar.\"),\n        \"restricted\": false\n    },\n    \"editor.scrollbar.horizontal\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"auto\",\n            \"visible\",\n            \"hidden\"\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"The horizontal scrollbar will be visible only when necessary.\"),\n            nls.localizeByDefault(\"The horizontal scrollbar will always be visible.\"),\n            nls.localizeByDefault(\"The horizontal scrollbar will always be hidden.\")\n        ],\n        \"default\": \"auto\",\n        \"description\": nls.localizeByDefault(\"Controls the visibility of the horizontal scrollbar.\"),\n        \"restricted\": false\n    },\n    \"editor.scrollbar.verticalScrollbarSize\": {\n        \"type\": \"number\",\n        \"default\": 14,\n        \"description\": nls.localizeByDefault(\"The width of the vertical scrollbar.\"),\n        \"restricted\": false\n    },\n    \"editor.scrollbar.horizontalScrollbarSize\": {\n        \"type\": \"number\",\n        \"default\": 12,\n        \"description\": nls.localizeByDefault(\"The height of the horizontal scrollbar.\"),\n        \"restricted\": false\n    },\n    \"editor.scrollbar.scrollByPage\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls whether clicks scroll by page or jump to click position.\"),\n        \"restricted\": false\n    },\n    \"editor.scrollBeyondLastColumn\": {\n        \"description\": nls.localizeByDefault(\"Controls the number of extra characters beyond which the editor will scroll horizontally.\"),\n        \"type\": \"integer\",\n        \"default\": 4,\n        \"minimum\": 0,\n        \"maximum\": 1073741824,\n        \"restricted\": false\n    },\n    \"editor.scrollBeyondLastLine\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor will scroll beyond the last line.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.scrollPredominantAxis\": {\n        \"description\": nls.localizeByDefault(\"Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.selectionHighlight\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor should highlight matches similar to the selection.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.showFoldingControls\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Always show the folding controls.\"),\n            nls.localizeByDefault(\"Never show the folding controls and reduce the gutter size.\"),\n            nls.localizeByDefault(\"Only show the folding controls when the mouse is over the gutter.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls when the folding controls on the gutter are shown.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"always\",\n            \"never\",\n            \"mouseover\"\n        ],\n        \"default\": \"mouseover\",\n        \"restricted\": false\n    },\n    \"editor.showUnused\": {\n        \"description\": nls.localizeByDefault(\"Controls fading out of unused code.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.snippetSuggestions\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Show snippet suggestions on top of other suggestions.\"),\n            nls.localizeByDefault(\"Show snippet suggestions below other suggestions.\"),\n            nls.localizeByDefault(\"Show snippets suggestions with other suggestions.\"),\n            nls.localizeByDefault(\"Do not show snippet suggestions.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls whether snippets are shown with other suggestions and how they are sorted.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"top\",\n            \"bottom\",\n            \"inline\",\n            \"none\"\n        ],\n        \"default\": \"inline\",\n        \"restricted\": false\n    },\n    \"editor.smartSelect.selectLeadingAndTrailingWhitespace\": {\n        \"description\": nls.localizeByDefault(\"Whether leading and trailing whitespace should always be selected.\"),\n        \"default\": true,\n        \"type\": \"boolean\",\n        \"restricted\": false\n    },\n    \"editor.smartSelect.selectSubwords\": {\n        \"description\": nls.localizeByDefault(\"Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected.\"),\n        \"default\": true,\n        \"type\": \"boolean\",\n        \"restricted\": false\n    },\n    \"editor.smoothScrolling\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the editor will scroll using an animation.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.stickyScroll.enabled\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Shows the nested current scopes during the scroll at the top of the editor.\"),\n        \"restricted\": false\n    },\n    \"editor.stickyScroll.maxLineCount\": {\n        \"type\": \"number\",\n        \"default\": 5,\n        \"minimum\": 1,\n        \"maximum\": 10,\n        \"description\": nls.localizeByDefault(\"Defines the maximum number of sticky lines to show.\"),\n        \"restricted\": false\n    },\n    \"editor.stickyScroll.defaultModel\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"outlineModel\",\n            \"foldingProviderModel\",\n            \"indentationModel\"\n        ],\n        \"default\": \"outlineModel\",\n        \"description\": nls.localizeByDefault(\"Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.\"),\n        \"restricted\": false\n    },\n    \"editor.stickyScroll.scrollWithEditor\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localize(\"theia/editor/editor.stickyScroll.scrollWithEditor\", \"Enable scrolling of the sticky scroll widget with the editor's horizontal scrollbar.\"),\n        \"restricted\": false\n    },\n    \"editor.stickyTabStops\": {\n        \"description\": nls.localizeByDefault(\"Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.suggest.insertMode\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"insert\",\n            \"replace\"\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Insert suggestion without overwriting text right of the cursor.\"),\n            nls.localizeByDefault(\"Insert suggestion and overwrite text right of the cursor.\")\n        ],\n        \"default\": \"insert\",\n        \"description\": nls.localizeByDefault(\"Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.filterGraceful\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether filtering and sorting suggestions accounts for small typos.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.localityBonus\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls whether sorting favors words that appear close to the cursor.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.shareSuggestSelections\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"markdownDescription\": nls.localizeByDefault(\"Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.selectionMode\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"always\",\n            \"never\",\n            \"whenTriggerCharacter\",\n            \"whenQuickSuggestion\"\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Always select a suggestion when automatically triggering IntelliSense.\"),\n            nls.localizeByDefault(\"Never select a suggestion when automatically triggering IntelliSense.\"),\n            nls.localizeByDefault(\"Select a suggestion only when triggering IntelliSense from a trigger character.\"),\n            nls.localizeByDefault(\"Select a suggestion only when triggering IntelliSense as you type.\")\n        ],\n        \"default\": \"always\",\n        \"markdownDescription\": nls.localizeByDefault(\"Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.snippetsPreventQuickSuggestions\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls whether an active snippet prevents quick suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showIcons\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether to show or hide icons in suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showStatusBar\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls the visibility of the status bar at the bottom of the suggest widget.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.preview\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls whether to preview the suggestion outcome in the editor.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showInlineDetails\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether suggest details show inline with the label or only in the details widget.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.maxVisibleSuggestions\": {\n        \"type\": \"number\",\n        \"deprecationMessage\": \"This setting is deprecated. The suggest widget can now be resized.\",\n        \"default\": 0,\n        \"restricted\": false\n    },\n    \"editor.suggest.filteredTypes\": {\n        \"type\": \"object\",\n        \"deprecationMessage\": \"This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.\",\n        \"default\": {},\n        \"restricted\": false\n    },\n    \"editor.suggest.showMethods\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `method`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showFunctions\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `function`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showConstructors\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `constructor`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showDeprecated\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `deprecated`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.matchOnWordStartOnly\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showFields\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `field`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showVariables\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `variable`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showClasses\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `class`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showStructs\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `struct`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showInterfaces\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `interface`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showModules\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `module`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showProperties\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `property`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showEvents\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `event`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showOperators\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `operator`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showUnits\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `unit`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showValues\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `value`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showConstants\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `constant`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showEnums\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `enum`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showEnumMembers\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `enumMember`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showKeywords\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `keyword`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showWords\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `text`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showColors\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `color`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showFiles\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `file`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showReferences\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `reference`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showCustomcolors\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `customcolor`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showFolders\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `folder`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showTypeParameters\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `typeParameter`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showSnippets\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `snippet`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showUsers\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `user`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggest.showIssues\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"markdownDescription\": nls.localizeByDefault(\"When enabled IntelliSense shows `issues`-suggestions.\"),\n        \"restricted\": false\n    },\n    \"editor.suggestFontSize\": {\n        \"markdownDescription\": nls.localize(\"theia/editor/editor.suggestFontSize\", \"Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.\"),\n        \"type\": \"integer\",\n        \"default\": 0,\n        \"minimum\": 0,\n        \"maximum\": 1000,\n        \"restricted\": false\n    },\n    \"editor.suggestLineHeight\": {\n        \"markdownDescription\": nls.localize(\"theia/editor/editor.suggestLineHeight\", \"Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used. The minimum value is 8.\"),\n        \"type\": \"integer\",\n        \"default\": 0,\n        \"minimum\": 0,\n        \"maximum\": 1000,\n        \"restricted\": false\n    },\n    \"editor.suggestOnTriggerCharacters\": {\n        \"description\": nls.localizeByDefault(\"Controls whether suggestions should automatically show up when typing trigger characters.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.suggestSelection\": {\n        \"markdownEnumDescriptions\": [\n            nls.localizeByDefault(\"Always select the first suggestion.\"),\n            nls.localizeByDefault(\"Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently.\"),\n            nls.localizeByDefault(\"Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls how suggestions are pre-selected when showing the suggest list.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"first\",\n            \"recentlyUsed\",\n            \"recentlyUsedByPrefix\"\n        ],\n        \"default\": \"first\",\n        \"restricted\": false\n    },\n    \"editor.tabCompletion\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Tab complete will insert the best matching suggestion when pressing tab.\"),\n            nls.localizeByDefault(\"Disable tab completions.\"),\n            nls.localizeByDefault(\"Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Enables tab completions.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"on\",\n            \"off\",\n            \"onlySnippets\"\n        ],\n        \"default\": \"off\",\n        \"restricted\": false\n    },\n    \"editor.unicodeHighlight.nonBasicASCII\": {\n        \"restricted\": true,\n        \"type\": [\n            \"boolean\",\n            \"string\"\n        ],\n        \"enum\": [\n            true,\n            false,\n            \"inUntrustedWorkspace\"\n        ],\n        \"default\": \"inUntrustedWorkspace\",\n        \"description\": nls.localizeByDefault(\"Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.\")\n    },\n    \"editor.unicodeHighlight.invisibleCharacters\": {\n        \"restricted\": true,\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether characters that just reserve space or have no width at all are highlighted.\")\n    },\n    \"editor.unicodeHighlight.ambiguousCharacters\": {\n        \"restricted\": true,\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.\")\n    },\n    \"editor.unicodeHighlight.includeComments\": {\n        \"restricted\": true,\n        \"type\": [\n            \"boolean\",\n            \"string\"\n        ],\n        \"enum\": [\n            true,\n            false,\n            \"inUntrustedWorkspace\"\n        ],\n        \"default\": \"inUntrustedWorkspace\",\n        \"description\": nls.localizeByDefault(\"Controls whether characters in comments should also be subject to Unicode highlighting.\")\n    },\n    \"editor.unicodeHighlight.includeStrings\": {\n        \"restricted\": true,\n        \"type\": [\n            \"boolean\",\n            \"string\"\n        ],\n        \"enum\": [\n            true,\n            false,\n            \"inUntrustedWorkspace\"\n        ],\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether characters in strings should also be subject to Unicode highlighting.\")\n    },\n    \"editor.unicodeHighlight.allowedCharacters\": {\n        \"restricted\": true,\n        \"type\": \"object\",\n        \"default\": {},\n        \"description\": nls.localizeByDefault(\"Defines allowed characters that are not being highlighted.\"),\n        \"additionalProperties\": {\n            \"type\": \"boolean\"\n        }\n    },\n    \"editor.unicodeHighlight.allowedLocales\": {\n        \"restricted\": true,\n        \"type\": \"object\",\n        \"additionalProperties\": {\n            \"type\": \"boolean\"\n        },\n        \"default\": {\n            \"_os\": true,\n            \"_vscode\": true\n        },\n        \"description\": nls.localizeByDefault(\"Unicode characters that are common in allowed locales are not being highlighted.\")\n    },\n    \"editor.unusualLineTerminators\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Unusual line terminators are automatically removed.\"),\n            nls.localizeByDefault(\"Unusual line terminators are ignored.\"),\n            nls.localizeByDefault(\"Unusual line terminators prompt to be removed.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Remove unusual line terminators that might cause problems.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"auto\",\n            \"off\",\n            \"prompt\"\n        ],\n        \"default\": \"prompt\",\n        \"restricted\": false\n    },\n    \"editor.useTabStops\": {\n        \"description\": nls.localizeByDefault(\"Inserting and deleting whitespace follows tab stops.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.wordBreak\": {\n        \"markdownEnumDescriptions\": [\n            nls.localizeByDefault(\"Use the default line break rule.\"),\n            nls.localizeByDefault(\"Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"normal\",\n            \"keepAll\"\n        ],\n        \"default\": \"normal\",\n        \"restricted\": false\n    },\n    \"editor.wordSeparators\": {\n        \"description\": nls.localizeByDefault(\"Characters that will be used as word separators when doing word related navigations or operations.\"),\n        \"type\": \"string\",\n        \"default\": \"`~!@#$%^&*()-=+[{]}\\\\|;:'\\\",.<>/?\",\n        \"restricted\": false\n    },\n    \"editor.wordWrap\": {\n        \"markdownEnumDescriptions\": [\n            nls.localizeByDefault(\"Lines will never wrap.\"),\n            nls.localizeByDefault(\"Lines will wrap at the viewport width.\"),\n            nls.localizeByDefault(\"Lines will wrap at `#editor.wordWrapColumn#`.\"),\n            nls.localizeByDefault(\"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls how lines should wrap.\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"off\",\n            \"on\",\n            \"wordWrapColumn\",\n            \"bounded\"\n        ],\n        \"default\": \"off\",\n        \"restricted\": false\n    },\n    \"editor.wordWrapColumn\": {\n        \"markdownDescription\": nls.localizeByDefault(\"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.\"),\n        \"type\": \"integer\",\n        \"default\": 80,\n        \"minimum\": 1,\n        \"maximum\": 1073741824,\n        \"restricted\": false\n    },\n    \"editor.wrappingIndent\": {\n        \"type\": \"string\",\n        \"enum\": [\n            \"none\",\n            \"same\",\n            \"indent\",\n            \"deepIndent\"\n        ],\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"No indentation. Wrapped lines begin at column 1.\"),\n            nls.localizeByDefault(\"Wrapped lines get the same indentation as the parent.\"),\n            nls.localizeByDefault(\"Wrapped lines get +1 indentation toward the parent.\"),\n            nls.localizeByDefault(\"Wrapped lines get +2 indentation toward the parent.\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls the indentation of wrapped lines.\"),\n        \"default\": \"same\",\n        \"restricted\": false\n    },\n    \"editor.wrappingStrategy\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width.\"),\n            nls.localizeByDefault(\"Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.\")\n        ],\n        \"type\": \"string\",\n        \"enum\": [\n            \"simple\",\n            \"advanced\"\n        ],\n        \"default\": \"simple\",\n        \"description\": nls.localizeByDefault(\"Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.\"),\n        \"restricted\": false\n    },\n    \"editor.showDeprecated\": {\n        \"description\": nls.localizeByDefault(\"Controls strikethrough deprecated variables.\"),\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.inlayHints.enabled\": {\n        \"type\": \"string\",\n        \"default\": \"on\",\n        \"description\": nls.localizeByDefault(\"Enables the inlay hints in the editor.\"),\n        \"enum\": [\n            \"on\",\n            \"onUnlessPressed\",\n            \"offUnlessPressed\",\n            \"off\"\n        ],\n        \"markdownEnumDescriptions\": [\n            nls.localizeByDefault(\"Inlay hints are enabled\"),\n            nls.localize(\"theia/editor/editor.inlayHints.enabled1\", \"Inlay hints are showing by default and hide when holding Ctrl+Alt\"),\n            nls.localize(\"theia/editor/editor.inlayHints.enabled2\", \"Inlay hints are hidden by default and show when holding Ctrl+Alt\"),\n            nls.localizeByDefault(\"Inlay hints are disabled\")\n        ],\n        \"restricted\": false\n    },\n    \"editor.inlayHints.fontSize\": {\n        \"type\": \"number\",\n        \"default\": 0,\n        \"markdownDescription\": nls.localize(\"theia/editor/editor.inlayHints.fontSize\", \"Controls font size of inlay hints in the editor. As default the `#editor.fontSize#` is used when the configured value is less than `5` or greater than the editor font size.\"),\n        \"restricted\": false\n    },\n    \"editor.inlayHints.fontFamily\": {\n        \"type\": \"string\",\n        \"default\": \"\",\n        \"markdownDescription\": nls.localize(\"theia/editor/editor.inlayHints.fontFamily\", \"Controls font family of inlay hints in the editor. When set to empty, the `#editor.fontFamily#` is used.\"),\n        \"restricted\": false\n    },\n    \"editor.inlayHints.padding\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Enables the padding around the inlay hints in the editor.\"),\n        \"restricted\": false\n    },\n    \"editor.tabFocusMode\": {\n        \"markdownDescription\": nls.localizeByDefault(\"Controls whether the editor receives tabs or defers them to the workbench for navigation.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.defaultColorDecorators\": {\n        \"markdownDescription\": nls.localizeByDefault(\"Controls whether inline color decorations should be shown using the default document color provider\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.colorDecoratorsActivatedOn\": {\n        \"enumDescriptions\": [\n            nls.localizeByDefault(\"Make the color picker appear both on click and hover of the color decorator\"),\n            nls.localizeByDefault(\"Make the color picker appear on hover of the color decorator\"),\n            nls.localizeByDefault(\"Make the color picker appear on click of the color decorator\")\n        ],\n        \"description\": nls.localizeByDefault(\"Controls the condition to make a color picker appear from a color decorator\"),\n        \"type\": \"string\",\n        \"enum\": [\n            \"clickAndHover\",\n            \"hover\",\n            \"click\"\n        ],\n        \"default\": \"clickAndHover\",\n        \"restricted\": false\n    },\n    \"editor.inlineCompletionsAccessibilityVerbose\": {\n        \"description\": nls.localizeByDefault(\"Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.\"),\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.codeActionWidget.showHeaders\": {\n        \"type\": \"boolean\",\n        \"description\": nls.localizeByDefault(\"Enable/disable showing group headers in the Code Action menu.\"),\n        \"default\": true,\n        \"restricted\": false\n    },\n    \"editor.codeActionWidget.includeNearbyQuickfixes\": {\n        \"type\": \"boolean\",\n        \"description\": nls.localize(\"theia/editor/editor.codeActionWidget.includeNearbyQuickfixes\", \"Enable/disable showing nearest quickfix within a line when not currently on a diagnostic.\"),\n        \"default\": false,\n        \"restricted\": false\n    },\n    \"editor.experimental.dropIntoEditor.defaultProvider\": {\n        \"type\": \"object\",\n        \"description\": nls.localizeByDefault(\"Configures the default drop provider to use for content of a given mime type.\"),\n        \"default\": {},\n        \"additionalProperties\": {\n            \"type\": \"string\"\n        },\n        \"restricted\": false\n    },\n    \"editor.rename.enablePreview\": {\n        \"description\": nls.localizeByDefault(\"Enable/disable the ability to preview changes before renaming\"),\n        \"default\": true,\n        \"type\": \"boolean\",\n        \"restricted\": false\n    },\n    \"editor.find.globalFindClipboard\": {\n        \"type\": \"boolean\",\n        \"default\": false,\n        \"description\": nls.localizeByDefault(\"Controls whether the Find Widget should read or modify the shared find clipboard on macOS.\"),\n        \"included\": isOSX\n    },\n    \"editor.selectionClipboard\": {\n        \"type\": \"boolean\",\n        \"default\": true,\n        \"description\": nls.localizeByDefault(\"Controls whether the Linux primary clipboard should be supported.\"),\n        \"included\": !isOSX && !isWindows\n    }\n};\n\ntype QuickSuggestionValues = boolean | 'on' | 'inline' | 'off';\n\nexport interface GeneratedEditorPreferences {\n    'editor.tabSize': number;\n    'editor.indentSize': 'tabSize' | number;\n    'editor.insertSpaces': boolean;\n    'editor.detectIndentation': boolean;\n    'editor.trimAutoWhitespace': boolean;\n    'editor.largeFileOptimizations': boolean;\n    'editor.wordBasedSuggestions': boolean;\n    'editor.wordBasedSuggestionsMode': 'currentDocument' | 'matchingDocuments' | 'allDocuments';\n    'editor.semanticHighlighting.enabled': true | false | 'configuredByTheme';\n    'editor.stablePeek': boolean;\n    'editor.maxTokenizationLineLength': number;\n    'editor.experimental.asyncTokenization': boolean;\n    'editor.experimental.asyncTokenizationLogging': boolean;\n    'editor.experimental.asyncTokenizationVerification': boolean;\n    'editor.language.brackets': Array<[string, string]> | null | 'null';\n    'editor.language.colorizedBracketPairs': Array<[string, string]> | null;\n    'diffEditor.maxComputationTime': number;\n    'diffEditor.maxFileSize': number;\n    'diffEditor.renderSideBySide': boolean;\n    'diffEditor.renderSideBySideInlineBreakpoint': number;\n    'diffEditor.useInlineViewWhenSpaceIsLimited': boolean;\n    'diffEditor.renderMarginRevertIcon': boolean;\n    'diffEditor.ignoreTrimWhitespace': boolean;\n    'diffEditor.renderIndicators': boolean;\n    'diffEditor.codeLens': boolean;\n    'diffEditor.wordWrap': 'off' | 'on' | 'inherit';\n    'diffEditor.diffAlgorithm': 'legacy' | 'advanced';\n    'diffEditor.hideUnchangedRegions.enabled': boolean;\n    'diffEditor.hideUnchangedRegions.revealLineCount': number;\n    'diffEditor.hideUnchangedRegions.minimumLineCount': number;\n    'diffEditor.hideUnchangedRegions.contextLineCount': number;\n    'diffEditor.experimental.showMoves': boolean;\n    'diffEditor.experimental.showEmptyDecorations': boolean;\n    'editor.acceptSuggestionOnCommitCharacter': boolean;\n    'editor.acceptSuggestionOnEnter': 'on' | 'smart' | 'off';\n    'editor.accessibilitySupport': 'auto' | 'on' | 'off';\n    'editor.accessibilityPageSize': number;\n    'editor.autoClosingBrackets': 'always' | 'languageDefined' | 'beforeWhitespace' | 'never';\n    'editor.autoClosingComments': 'always' | 'languageDefined' | 'beforeWhitespace' | 'never';\n    'editor.screenReaderAnnounceInlineSuggestion': boolean;\n    'editor.autoClosingDelete': 'always' | 'auto' | 'never';\n    'editor.autoClosingOvertype': 'always' | 'auto' | 'never';\n    'editor.autoClosingQuotes': 'always' | 'languageDefined' | 'beforeWhitespace' | 'never';\n    'editor.autoIndent': 'none' | 'keep' | 'brackets' | 'advanced' | 'full';\n    'editor.autoSurround': 'languageDefined' | 'quotes' | 'brackets' | 'never';\n    'editor.bracketPairColorization.enabled': boolean;\n    'editor.bracketPairColorization.independentColorPoolPerBracketType': boolean;\n    'editor.guides.bracketPairs': true | 'active' | false;\n    'editor.guides.bracketPairsHorizontal': true | 'active' | false;\n    'editor.guides.highlightActiveBracketPair': boolean;\n    'editor.guides.indentation': boolean;\n    'editor.guides.highlightActiveIndentation': true | 'always' | false;\n    'editor.codeLens': boolean;\n    'editor.codeLensFontFamily': string;\n    'editor.codeLensFontSize': number;\n    'editor.colorDecorators': boolean;\n    'editor.colorDecoratorsLimit': number;\n    'editor.columnSelection': boolean;\n    'editor.comments.insertSpace': boolean;\n    'editor.comments.ignoreEmptyLines': boolean;\n    'editor.copyWithSyntaxHighlighting': boolean;\n    'editor.cursorBlinking': 'blink' | 'smooth' | 'phase' | 'expand' | 'solid';\n    'editor.cursorSmoothCaretAnimation': 'off' | 'explicit' | 'on';\n    'editor.cursorStyle': 'line' | 'block' | 'underline' | 'line-thin' | 'block-outline' | 'underline-thin';\n    'editor.cursorSurroundingLines': number;\n    'editor.cursorSurroundingLinesStyle': 'default' | 'all';\n    'editor.cursorWidth': number;\n    'editor.dragAndDrop': boolean;\n    'editor.dropIntoEditor.enabled': boolean;\n    'editor.dropIntoEditor.showDropSelector': 'afterDrop' | 'never';\n    'editor.emptySelectionClipboard': boolean;\n    'editor.experimentalWhitespaceRendering': 'svg' | 'font' | 'off';\n    'editor.fastScrollSensitivity': number;\n    'editor.find.cursorMoveOnType': boolean;\n    'editor.find.seedSearchStringFromSelection': 'never' | 'always' | 'selection';\n    'editor.find.autoFindInSelection': 'never' | 'always' | 'multiline';\n    'editor.find.addExtraSpaceOnTop': boolean;\n    'editor.find.loop': boolean;\n    'editor.folding': boolean;\n    'editor.foldingStrategy': 'auto' | 'indentation';\n    'editor.foldingHighlight': boolean;\n    'editor.foldingImportsByDefault': boolean;\n    'editor.foldingMaximumRegions': number;\n    'editor.unfoldOnClickAfterEndOfLine': boolean;\n    'editor.fontFamily': string;\n    'editor.fontLigatures': boolean | string;\n    'editor.fontSize': number;\n    'editor.fontWeight': number | string | 'normal' | 'bold' | '100' | '200' | '300' | '400' | '500' | '600' | '700' | '800' | '900';\n    'editor.formatOnPaste': boolean;\n    'editor.formatOnType': boolean;\n    'editor.glyphMargin': boolean;\n    'editor.gotoLocation.multiple': null;\n    'editor.gotoLocation.multipleDefinitions': 'peek' | 'gotoAndPeek' | 'goto';\n    'editor.gotoLocation.multipleTypeDefinitions': 'peek' | 'gotoAndPeek' | 'goto';\n    'editor.gotoLocation.multipleDeclarations': 'peek' | 'gotoAndPeek' | 'goto';\n    'editor.gotoLocation.multipleImplementations': 'peek' | 'gotoAndPeek' | 'goto';\n    'editor.gotoLocation.multipleReferences': 'peek' | 'gotoAndPeek' | 'goto';\n    'editor.gotoLocation.alternativeDefinitionCommand': '' | 'editor.action.referenceSearch.trigger' | 'editor.action.goToReferences' | 'editor.action.peekImplementation' | 'editor.action.goToImplementation' | 'editor.action.peekTypeDefinition' | 'editor.action.goToTypeDefinition' | 'editor.action.peekDeclaration' | 'editor.action.revealDeclaration' | 'editor.action.peekDefinition' | 'editor.action.revealDefinitionAside' | 'editor.action.revealDefinition';\n    'editor.gotoLocation.alternativeTypeDefinitionCommand': '' | 'editor.action.referenceSearch.trigger' | 'editor.action.goToReferences' | 'editor.action.peekImplementation' | 'editor.action.goToImplementation' | 'editor.action.peekTypeDefinition' | 'editor.action.goToTypeDefinition' | 'editor.action.peekDeclaration' | 'editor.action.revealDeclaration' | 'editor.action.peekDefinition' | 'editor.action.revealDefinitionAside' | 'editor.action.revealDefinition';\n    'editor.gotoLocation.alternativeDeclarationCommand': '' | 'editor.action.referenceSearch.trigger' | 'editor.action.goToReferences' | 'editor.action.peekImplementation' | 'editor.action.goToImplementation' | 'editor.action.peekTypeDefinition' | 'editor.action.goToTypeDefinition' | 'editor.action.peekDeclaration' | 'editor.action.revealDeclaration' | 'editor.action.peekDefinition' | 'editor.action.revealDefinitionAside' | 'editor.action.revealDefinition';\n    'editor.gotoLocation.alternativeImplementationCommand': '' | 'editor.action.referenceSearch.trigger' | 'editor.action.goToReferences' | 'editor.action.peekImplementation' | 'editor.action.goToImplementation' | 'editor.action.peekTypeDefinition' | 'editor.action.goToTypeDefinition' | 'editor.action.peekDeclaration' | 'editor.action.revealDeclaration' | 'editor.action.peekDefinition' | 'editor.action.revealDefinitionAside' | 'editor.action.revealDefinition';\n    'editor.gotoLocation.alternativeReferenceCommand': '' | 'editor.action.referenceSearch.trigger' | 'editor.action.goToReferences' | 'editor.action.peekImplementation' | 'editor.action.goToImplementation' | 'editor.action.peekTypeDefinition' | 'editor.action.goToTypeDefinition' | 'editor.action.peekDeclaration' | 'editor.action.revealDeclaration' | 'editor.action.peekDefinition' | 'editor.action.revealDefinitionAside' | 'editor.action.revealDefinition';\n    'editor.hideCursorInOverviewRuler': boolean;\n    'editor.hover.enabled': boolean;\n    'editor.hover.delay': number;\n    'editor.hover.sticky': boolean;\n    'editor.hover.hidingDelay': number;\n    'editor.hover.above': boolean;\n    'editor.inlineSuggest.enabled': boolean;\n    'editor.inlineSuggest.showToolbar': 'always' | 'onHover';\n    'editor.inlineSuggest.suppressSuggestions': boolean;\n    'editor.letterSpacing': number;\n    'editor.lightbulb.enabled': boolean;\n    'editor.lineHeight': number;\n    'editor.lineNumbers': 'off' | 'on' | 'relative' | 'interval';\n    'editor.linkedEditing': boolean;\n    'editor.links': boolean;\n    'editor.matchBrackets': 'always' | 'near' | 'never';\n    'editor.minimap.enabled': boolean;\n    'editor.minimap.autohide': boolean;\n    'editor.minimap.size': 'proportional' | 'fill' | 'fit';\n    'editor.minimap.side': 'left' | 'right';\n    'editor.minimap.showSlider': 'always' | 'mouseover';\n    'editor.minimap.scale': '1' | '2' | '3';\n    'editor.minimap.renderCharacters': boolean;\n    'editor.minimap.maxColumn': number;\n    'editor.mouseWheelScrollSensitivity': number;\n    'editor.mouseWheelZoom': boolean;\n    'editor.multiCursorMergeOverlapping': boolean;\n    'editor.multiCursorModifier': 'ctrlCmd' | 'alt';\n    'editor.multiCursorPaste': 'spread' | 'full';\n    'editor.multiCursorLimit': number;\n    'editor.occurrencesHighlight': boolean;\n    'editor.overviewRulerBorder': boolean;\n    'editor.padding.top': number;\n    'editor.padding.bottom': number;\n    'editor.pasteAs.enabled': boolean;\n    'editor.pasteAs.showPasteSelector': 'afterPaste' | 'never';\n    'editor.parameterHints.enabled': boolean;\n    'editor.parameterHints.cycle': boolean;\n    'editor.peekWidgetDefaultFocus': 'tree' | 'editor';\n    'editor.definitionLinkOpensInPeek': boolean;\n    'editor.quickSuggestions': boolean | { other?: QuickSuggestionValues; comments?: QuickSuggestionValues; strings?: QuickSuggestionValues };\n    'editor.quickSuggestionsDelay': number;\n    'editor.renameOnType': boolean;\n    'editor.renderControlCharacters': boolean;\n    'editor.renderFinalNewline': 'off' | 'on' | 'dimmed';\n    'editor.renderLineHighlight': 'none' | 'gutter' | 'line' | 'all';\n    'editor.renderLineHighlightOnlyWhenFocus': boolean;\n    'editor.renderWhitespace': 'none' | 'boundary' | 'selection' | 'trailing' | 'all';\n    'editor.roundedSelection': boolean;\n    'editor.rulers': Array<number | { column: number, color: string }>;\n    'editor.scrollbar.vertical': 'auto' | 'visible' | 'hidden';\n    'editor.scrollbar.horizontal': 'auto' | 'visible' | 'hidden';\n    'editor.scrollbar.verticalScrollbarSize': number;\n    'editor.scrollbar.horizontalScrollbarSize': number;\n    'editor.scrollbar.scrollByPage': boolean;\n    'editor.scrollBeyondLastColumn': number;\n    'editor.scrollBeyondLastLine': boolean;\n    'editor.scrollPredominantAxis': boolean;\n    'editor.selectionHighlight': boolean;\n    'editor.showFoldingControls': 'always' | 'never' | 'mouseover';\n    'editor.showUnused': boolean;\n    'editor.snippetSuggestions': 'top' | 'bottom' | 'inline' | 'none';\n    'editor.smartSelect.selectLeadingAndTrailingWhitespace': boolean;\n    'editor.smartSelect.selectSubwords': boolean;\n    'editor.smoothScrolling': boolean;\n    'editor.stickyScroll.enabled': boolean;\n    'editor.stickyScroll.maxLineCount': number;\n    'editor.stickyScroll.defaultModel': 'outlineModel' | 'foldingProviderModel' | 'indentationModel';\n    'editor.stickyScroll.scrollWithEditor': boolean;\n    'editor.stickyTabStops': boolean;\n    'editor.suggest.insertMode': 'insert' | 'replace';\n    'editor.suggest.filterGraceful': boolean;\n    'editor.suggest.localityBonus': boolean;\n    'editor.suggest.shareSuggestSelections': boolean;\n    'editor.suggest.selectionMode': 'always' | 'never' | 'whenTriggerCharacter' | 'whenQuickSuggestion';\n    'editor.suggest.snippetsPreventQuickSuggestions': boolean;\n    'editor.suggest.showIcons': boolean;\n    'editor.suggest.showStatusBar': boolean;\n    'editor.suggest.preview': boolean;\n    'editor.suggest.showInlineDetails': boolean;\n    'editor.suggest.maxVisibleSuggestions': number;\n    'editor.suggest.filteredTypes': Record<string, boolean>;\n    'editor.suggest.showMethods': boolean;\n    'editor.suggest.showFunctions': boolean;\n    'editor.suggest.showConstructors': boolean;\n    'editor.suggest.showDeprecated': boolean;\n    'editor.suggest.matchOnWordStartOnly': boolean;\n    'editor.suggest.showFields': boolean;\n    'editor.suggest.showVariables': boolean;\n    'editor.suggest.showClasses': boolean;\n    'editor.suggest.showStructs': boolean;\n    'editor.suggest.showInterfaces': boolean;\n    'editor.suggest.showModules': boolean;\n    'editor.suggest.showProperties': boolean;\n    'editor.suggest.showEvents': boolean;\n    'editor.suggest.showOperators': boolean;\n    'editor.suggest.showUnits': boolean;\n    'editor.suggest.showValues': boolean;\n    'editor.suggest.showConstants': boolean;\n    'editor.suggest.showEnums': boolean;\n    'editor.suggest.showEnumMembers': boolean;\n    'editor.suggest.showKeywords': boolean;\n    'editor.suggest.showWords': boolean;\n    'editor.suggest.showColors': boolean;\n    'editor.suggest.showFiles': boolean;\n    'editor.suggest.showReferences': boolean;\n    'editor.suggest.showCustomcolors': boolean;\n    'editor.suggest.showFolders': boolean;\n    'editor.suggest.showTypeParameters': boolean;\n    'editor.suggest.showSnippets': boolean;\n    'editor.suggest.showUsers': boolean;\n    'editor.suggest.showIssues': boolean;\n    'editor.suggestFontSize': number;\n    'editor.suggestLineHeight': number;\n    'editor.suggestOnTriggerCharacters': boolean;\n    'editor.suggestSelection': 'first' | 'recentlyUsed' | 'recentlyUsedByPrefix';\n    'editor.tabCompletion': 'on' | 'off' | 'onlySnippets';\n    'editor.unicodeHighlight.nonBasicASCII': true | false | 'inUntrustedWorkspace';\n    'editor.unicodeHighlight.invisibleCharacters': boolean;\n    'editor.unicodeHighlight.ambiguousCharacters': boolean;\n    'editor.unicodeHighlight.includeComments': true | false | 'inUntrustedWorkspace';\n    'editor.unicodeHighlight.includeStrings': true | false | 'inUntrustedWorkspace';\n    'editor.unicodeHighlight.allowedCharacters': Record<string, boolean>;\n    'editor.unicodeHighlight.allowedLocales': Record<string, boolean>;\n    'editor.unusualLineTerminators': 'auto' | 'off' | 'prompt';\n    'editor.useTabStops': boolean;\n    'editor.wordBreak': 'normal' | 'keepAll';\n    'editor.wordSeparators': string;\n    'editor.wordWrap': 'off' | 'on' | 'wordWrapColumn' | 'bounded';\n    'editor.wordWrapColumn': number;\n    'editor.wrappingIndent': 'none' | 'same' | 'indent' | 'deepIndent';\n    'editor.wrappingStrategy': 'simple' | 'advanced';\n    'editor.showDeprecated': boolean;\n    'editor.inlayHints.enabled': 'on' | 'onUnlessPressed' | 'offUnlessPressed' | 'off';\n    'editor.inlayHints.fontSize': number;\n    'editor.inlayHints.fontFamily': string;\n    'editor.inlayHints.padding': boolean;\n    'editor.tabFocusMode': boolean;\n    'editor.defaultColorDecorators': boolean;\n    'editor.colorDecoratorsActivatedOn': 'clickAndHover' | 'hover' | 'click';\n    'editor.inlineCompletionsAccessibilityVerbose': boolean;\n    'editor.codeActionWidget.showHeaders': boolean;\n    'editor.codeActionWidget.includeNearbyQuickfixes': boolean;\n    'editor.experimental.dropIntoEditor.defaultProvider': null;\n    'editor.rename.enablePreview': boolean;\n    'editor.find.globalFindClipboard': boolean;\n    'editor.selectionClipboard': boolean;\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { environment } from '@theia/core/shared/@theia/application-package/lib/environment';\nimport { isOSX, isWindows } from '@theia/core/lib/common/os';\nimport { KeybindingContribution, KeybindingRegistry } from '@theia/core/lib/browser/keybinding';\nimport { EditorCommands } from './editor-command';\n\n@injectable()\nexport class EditorKeybindingContribution implements KeybindingContribution {\n\n    registerKeybindings(registry: KeybindingRegistry): void {\n        registry.registerKeybindings(\n            {\n                command: EditorCommands.GO_BACK.id,\n                keybinding: isOSX ? 'ctrl+-' : isWindows ? 'alt+left' : /* isLinux */ 'ctrl+alt+-'\n            },\n            {\n                command: EditorCommands.GO_FORWARD.id,\n                keybinding: isOSX ? 'ctrl+shift+-' : isWindows ? 'alt+right' : /* isLinux */ 'ctrl+shift+-'\n            },\n            {\n                command: EditorCommands.GO_LAST_EDIT.id,\n                keybinding: 'ctrl+alt+q'\n            },\n            {\n                command: EditorCommands.TOGGLE_WORD_WRAP.id,\n                keybinding: 'alt+z'\n            },\n            {\n                command: EditorCommands.REOPEN_CLOSED_EDITOR.id,\n                keybinding: this.isElectron() ? 'ctrlcmd+shift+t' : 'alt+shift+t'\n            }\n        );\n    }\n\n    private isElectron(): boolean {\n        return environment.electron.is();\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { EditorManager } from './editor-manager';\nimport { EditorMouseEvent, MouseTargetType, Position, TextEditor } from './editor';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { FrontendApplicationContribution, ContextMenuRenderer } from '@theia/core/lib/browser';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\nimport { Disposable, DisposableCollection, MenuPath } from '@theia/core';\nimport { EditorWidget } from './editor-widget';\n\nexport const EDITOR_LINENUMBER_CONTEXT_MENU: MenuPath = ['editor_linenumber_context_menu'];\n\n@injectable()\nexport class EditorLineNumberContribution implements FrontendApplicationContribution {\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @inject(ContextMenuRenderer)\n    protected readonly contextMenuRenderer: ContextMenuRenderer;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    onStart(): void {\n        this.editorManager.onCreated(editor => this.addLineNumberContextMenu(editor));\n    }\n\n    protected addLineNumberContextMenu(editorWidget: EditorWidget): void {\n        const editor = editorWidget.editor;\n        if (editor) {\n            const disposables = new DisposableCollection();\n            disposables.push(editor.onMouseDown(event => this.handleContextMenu(editor, event)));\n            const dispose = () => disposables.dispose();\n            editorWidget.disposed.connect(dispose);\n            disposables.push(Disposable.create(() => editorWidget.disposed.disconnect(dispose)));\n        }\n    }\n\n    protected handleContextMenu(editor: TextEditor, event: EditorMouseEvent): void {\n        if (event.target && (event.target.type === MouseTargetType.GUTTER_LINE_NUMBERS || event.target.type === MouseTargetType.GUTTER_GLYPH_MARGIN)) {\n            if (event.event.button === 2) {\n                editor.focus();\n                const lineNumber = lineNumberFromPosition(event.target.position);\n                const contextKeyService = this.contextKeyService.createOverlay([['editorLineNumber', lineNumber]]);\n                const uri = editor.getResourceUri()!;\n                const args = [{\n                    lineNumber: lineNumber,\n                    column: 1, // Compatible with Monaco editor IPosition API\n                    uri: uri['codeUri'],\n                }];\n\n                setTimeout(() => {\n                    this.contextMenuRenderer.render({\n                        menuPath: EDITOR_LINENUMBER_CONTEXT_MENU,\n                        anchor: event.event,\n                        args,\n                        contextKeyService\n                    });\n                });\n            }\n        }\n    }\n\n}\n\nfunction lineNumberFromPosition(position: Position | undefined): number | undefined {\n    // position.line is 0-based line position, where the expected editor line number is 1-based.\n    if (position) {\n        return position.line + 1;\n    }\n    return undefined;\n}\n\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, postConstruct, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { RecursivePartial, Emitter, Event, MaybePromise, CommandService } from '@theia/core/lib/common';\nimport { WidgetOpenerOptions, NavigatableWidgetOpenHandler, NavigatableWidgetOptions, Widget, PreferenceService, CommonCommands } from '@theia/core/lib/browser';\nimport { EditorWidget } from './editor-widget';\nimport { Range, Position, Location, TextEditor } from './editor';\nimport { EditorWidgetFactory } from './editor-widget-factory';\n\nexport interface WidgetId {\n    id: number;\n    uri: string;\n}\n\nexport interface EditorOpenerOptions extends WidgetOpenerOptions {\n    selection?: RecursivePartial<Range>;\n    preview?: boolean;\n    counter?: number\n}\n\n@injectable()\nexport class EditorManager extends NavigatableWidgetOpenHandler<EditorWidget> {\n\n    readonly id = EditorWidgetFactory.ID;\n\n    readonly label = 'Code Editor';\n\n    protected readonly editorCounters = new Map<string, number>();\n\n    protected readonly onActiveEditorChangedEmitter = new Emitter<EditorWidget | undefined>();\n    /**\n     * Emit when the active editor is changed.\n     */\n    readonly onActiveEditorChanged: Event<EditorWidget | undefined> = this.onActiveEditorChangedEmitter.event;\n\n    protected readonly onCurrentEditorChangedEmitter = new Emitter<EditorWidget | undefined>();\n    /**\n     * Emit when the current editor is changed.\n     */\n    readonly onCurrentEditorChanged: Event<EditorWidget | undefined> = this.onCurrentEditorChangedEmitter.event;\n\n    @inject(CommandService) protected readonly commands: CommandService;\n    @inject(PreferenceService) protected readonly preferenceService: PreferenceService;\n\n    @postConstruct()\n    protected override init(): void {\n        super.init();\n        this.shell.onDidChangeActiveWidget(() => this.updateActiveEditor());\n        this.shell.onDidChangeCurrentWidget(() => this.updateCurrentEditor());\n        this.shell.onDidDoubleClickMainArea(() =>\n            this.commands.executeCommand(CommonCommands.NEW_UNTITLED_TEXT_FILE.id)\n        );\n        this.onCreated(widget => {\n            widget.onDidChangeVisibility(() => {\n                if (widget.isVisible) {\n                    this.addRecentlyVisible(widget);\n                }\n                this.updateCurrentEditor();\n            });\n            this.checkCounterForWidget(widget);\n            widget.disposed.connect(() => {\n                this.removeFromCounter(widget);\n                this.removeRecentlyVisible(widget);\n                this.updateCurrentEditor();\n            });\n        });\n        for (const widget of this.all) {\n            if (widget.isVisible) {\n                this.addRecentlyVisible(widget);\n            }\n        }\n        this.updateCurrentEditor();\n    }\n\n    override getByUri(uri: URI, options?: EditorOpenerOptions): Promise<EditorWidget | undefined> {\n        return this.getWidget(uri, options);\n    }\n\n    override getOrCreateByUri(uri: URI, options?: EditorOpenerOptions): Promise<EditorWidget> {\n        return this.getOrCreateWidget(uri, options);\n    }\n\n    protected override tryGetPendingWidget(uri: URI, options?: EditorOpenerOptions): MaybePromise<EditorWidget> | undefined {\n        const editorPromise = super.tryGetPendingWidget(uri, options);\n        if (editorPromise) {\n            // Reveal selection before attachment to manage nav stack. (https://github.com/eclipse-theia/theia/issues/8955)\n            if (!(editorPromise instanceof Widget)) {\n                editorPromise.then(editor => this.revealSelection(editor, options, uri));\n            } else {\n                this.revealSelection(editorPromise, options);\n            }\n        }\n        return editorPromise;\n    }\n\n    protected override async getWidget(uri: URI, options?: EditorOpenerOptions): Promise<EditorWidget | undefined> {\n        const editor = await super.getWidget(uri, options);\n        if (editor) {\n            // Reveal selection before attachment to manage nav stack. (https://github.com/eclipse-theia/theia/issues/8955)\n            this.revealSelection(editor, options, uri);\n        }\n        return editor;\n    }\n\n    protected override async getOrCreateWidget(uri: URI, options?: EditorOpenerOptions): Promise<EditorWidget> {\n        const editor = await super.getOrCreateWidget(uri, options);\n        // Reveal selection before attachment to manage nav stack. (https://github.com/eclipse-theia/theia/issues/8955)\n        this.revealSelection(editor, options, uri);\n        return editor;\n    }\n\n    protected readonly recentlyVisibleIds: string[] = [];\n    protected get recentlyVisible(): EditorWidget | undefined {\n        const id = this.recentlyVisibleIds[0];\n        return id && this.all.find(w => w.id === id) || undefined;\n    }\n    protected addRecentlyVisible(widget: EditorWidget): void {\n        this.removeRecentlyVisible(widget);\n        this.recentlyVisibleIds.unshift(widget.id);\n    }\n    protected removeRecentlyVisible(widget: EditorWidget): void {\n        const index = this.recentlyVisibleIds.indexOf(widget.id);\n        if (index !== -1) {\n            this.recentlyVisibleIds.splice(index, 1);\n        }\n    }\n\n    protected _activeEditor: EditorWidget | undefined;\n    /**\n     * The active editor.\n     * If there is an active editor (one that has focus), active and current are the same.\n     */\n    get activeEditor(): EditorWidget | undefined {\n        return this._activeEditor;\n    }\n    protected setActiveEditor(active: EditorWidget | undefined): void {\n        if (this._activeEditor !== active) {\n            this._activeEditor = active;\n            this.onActiveEditorChangedEmitter.fire(this._activeEditor);\n        }\n    }\n    protected updateActiveEditor(): void {\n        const widget = this.shell.activeWidget;\n        if (widget instanceof EditorWidget) {\n            this.addRecentlyVisible(widget);\n            this.setActiveEditor(widget);\n        } else {\n            this.setActiveEditor(undefined);\n        }\n    }\n\n    protected _currentEditor: EditorWidget | undefined;\n    /**\n     * The most recently activated editor (which might not have the focus anymore, hence it is not active).\n     * If no editor has focus, e.g. when a context menu is shown, the active editor is `undefined`, but current might be the editor that was active before the menu popped up.\n     */\n    get currentEditor(): EditorWidget | undefined {\n        return this._currentEditor;\n    }\n    protected setCurrentEditor(current: EditorWidget | undefined): void {\n        if (this._currentEditor !== current) {\n            this._currentEditor = current;\n            this.onCurrentEditorChangedEmitter.fire(this._currentEditor);\n        }\n    }\n    protected updateCurrentEditor(): void {\n        const widget = this.shell.currentWidget;\n        if (widget instanceof EditorWidget) {\n            this.setCurrentEditor(widget);\n        } else if (!this._currentEditor || !this._currentEditor.isVisible || this.currentEditor !== this.recentlyVisible) {\n            this.setCurrentEditor(this.recentlyVisible);\n        }\n    }\n\n    canHandle(uri: URI, options?: WidgetOpenerOptions): number {\n        return 100;\n    }\n\n    override open(uri: URI, options?: EditorOpenerOptions): Promise<EditorWidget> {\n        if (options?.counter === undefined) {\n            const insertionOptions = this.shell.getInsertionOptions(options?.widgetOptions);\n            // Definitely creating a new tabbar - no widget can match.\n            if (insertionOptions.addOptions.mode?.startsWith('split')) {\n                return super.open(uri, { counter: this.createCounterForUri(uri), ...options });\n            }\n            // Check the target tabbar for an existing widget.\n            const tabbar = insertionOptions.addOptions.ref && this.shell.getTabBarFor(insertionOptions.addOptions.ref);\n            if (tabbar) {\n                const currentUri = uri.toString();\n                for (const title of tabbar.titles) {\n                    if (title.owner instanceof EditorWidget) {\n                        const { uri: otherWidgetUri, id } = this.extractIdFromWidget(title.owner);\n                        if (otherWidgetUri === currentUri) {\n                            return super.open(uri, { counter: id, ...options });\n                        }\n                    }\n                }\n            }\n            // If the user has opted to prefer to open an existing editor even if it's on a different tab, check if we have anything about the URI.\n            if (this.preferenceService.get('workbench.editor.revealIfOpen', false)) {\n                const counter = this.getCounterForUri(uri);\n                if (counter !== undefined) {\n                    return super.open(uri, { counter, ...options });\n                }\n            }\n            // Open a new widget.\n            return super.open(uri, { counter: this.createCounterForUri(uri), ...options });\n        }\n\n        return super.open(uri, options);\n    }\n\n    /**\n     * Opens an editor to the side of the current editor. Defaults to opening to the right.\n     * To modify direction, pass options with `{widgetOptions: {mode: ...}}`\n     */\n    openToSide(uri: URI, options?: EditorOpenerOptions): Promise<EditorWidget> {\n        const counter = this.createCounterForUri(uri);\n        const splitOptions: EditorOpenerOptions = { widgetOptions: { mode: 'split-right' }, ...options, counter };\n        return this.open(uri, splitOptions);\n    }\n\n    protected revealSelection(widget: EditorWidget, input?: EditorOpenerOptions, uri?: URI): void {\n        let inputSelection = input?.selection;\n        if (!inputSelection && uri) {\n            const match = /^L?(\\d+)(?:,(\\d+))?/.exec(uri.fragment);\n            if (match) {\n                // support file:///some/file.js#73,84\n                // support file:///some/file.js#L73\n                inputSelection = {\n                    start: {\n                        line: parseInt(match[1]) - 1,\n                        character: match[2] ? parseInt(match[2]) - 1 : 0\n                    }\n                };\n            }\n        }\n        if (inputSelection) {\n            const editor = widget.editor;\n            const selection = this.getSelection(widget, inputSelection);\n            if (Position.is(selection)) {\n                editor.cursor = selection;\n                editor.revealPosition(selection);\n            } else if (Range.is(selection)) {\n                editor.cursor = selection.end;\n                editor.selection = selection;\n                editor.revealRange(selection);\n            }\n        }\n    }\n\n    protected getSelection(widget: EditorWidget, selection: RecursivePartial<Range>): Range | Position | undefined {\n        const { start, end } = selection;\n        if (Position.is(start)) {\n            if (Position.is(end)) {\n                return widget.editor.document.toValidRange({ start, end });\n            }\n            return widget.editor.document.toValidPosition(start);\n        }\n        const line = start && start.line !== undefined && start.line >= 0 ? start.line : undefined;\n        if (line === undefined) {\n            return undefined;\n        }\n        const character = start && start.character !== undefined && start.character >= 0 ? start.character : widget.editor.document.getLineMaxColumn(line);\n        const endLine = end && end.line !== undefined && end.line >= 0 ? end.line : undefined;\n        if (endLine === undefined) {\n            return { line, character };\n        }\n        const endCharacter = end && end.character !== undefined && end.character >= 0 ? end.character : widget.editor.document.getLineMaxColumn(endLine);\n        return {\n            start: { line, character },\n            end: { line: endLine, character: endCharacter }\n        };\n    }\n\n    protected removeFromCounter(widget: EditorWidget): void {\n        const { id, uri } = this.extractIdFromWidget(widget);\n        if (uri && !Number.isNaN(id)) {\n            let max = -Infinity;\n            this.all.forEach(editor => {\n                const candidateID = this.extractIdFromWidget(editor);\n                if ((candidateID.uri === uri) && (candidateID.id > max)) {\n                    max = candidateID.id!;\n                }\n            });\n\n            if (max > -Infinity) {\n                this.editorCounters.set(uri, max);\n            } else {\n                this.editorCounters.delete(uri);\n            }\n        }\n    }\n\n    protected extractIdFromWidget(widget: EditorWidget): WidgetId {\n        const uri = widget.editor.uri.toString();\n        const id = Number(widget.id.slice(widget.id.lastIndexOf(':') + 1));\n        return { id, uri };\n    }\n\n    protected checkCounterForWidget(widget: EditorWidget): void {\n        const { id, uri } = this.extractIdFromWidget(widget);\n        const numericalId = Number(id);\n        if (uri && !Number.isNaN(numericalId)) {\n            const highestKnownId = this.editorCounters.get(uri) ?? -Infinity;\n            if (numericalId > highestKnownId) {\n                this.editorCounters.set(uri, numericalId);\n            }\n        }\n    }\n\n    protected createCounterForUri(uri: URI): number {\n        const identifier = uri.toString();\n        const next = (this.editorCounters.get(identifier) ?? 0) + 1;\n        return next;\n    }\n\n    protected getCounterForUri(uri: URI): number | undefined {\n        const idWithoutCounter = EditorWidgetFactory.createID(uri);\n        const counterOfMostRecentlyVisibleEditor = this.recentlyVisibleIds.find(id => id.startsWith(idWithoutCounter))?.slice(idWithoutCounter.length + 1);\n        return counterOfMostRecentlyVisibleEditor === undefined ? undefined : parseInt(counterOfMostRecentlyVisibleEditor);\n    }\n\n    protected getOrCreateCounterForUri(uri: URI): number {\n        return this.getCounterForUri(uri) ?? this.createCounterForUri(uri);\n    }\n\n    protected override createWidgetOptions(uri: URI, options?: EditorOpenerOptions): NavigatableWidgetOptions {\n        const navigatableOptions = super.createWidgetOptions(uri, options);\n        navigatableOptions.counter = options?.counter ?? this.getOrCreateCounterForUri(uri);\n        return navigatableOptions;\n    }\n}\n\n/**\n * Provides direct access to the underlying text editor.\n */\n@injectable()\nexport abstract class EditorAccess {\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    /**\n     * The URI of the underlying document from the editor.\n     */\n    get uri(): string | undefined {\n        const editor = this.editor;\n        if (editor) {\n            return editor.uri.toString();\n        }\n        return undefined;\n    }\n\n    /**\n     * The selection location from the text editor.\n     */\n    get selection(): Location | undefined {\n        const editor = this.editor;\n        if (editor) {\n            const uri = editor.uri.toString();\n            const range = editor.selection;\n            return {\n                range,\n                uri\n            };\n        }\n        return undefined;\n    }\n\n    /**\n     * The unique identifier of the language the current editor belongs to.\n     */\n    get languageId(): string | undefined {\n        const editor = this.editor;\n        if (editor) {\n            return editor.document.languageId;\n        }\n        return undefined;\n    }\n\n    /**\n     * The text editor.\n     */\n    get editor(): TextEditor | undefined {\n        const editorWidget = this.editorWidget();\n        if (editorWidget) {\n            return editorWidget.editor;\n        }\n        return undefined;\n    }\n\n    /**\n     * The editor widget, or `undefined` if not applicable.\n     */\n    protected abstract editorWidget(): EditorWidget | undefined;\n\n}\n\n/**\n * Provides direct access to the currently active text editor.\n */\n@injectable()\nexport class CurrentEditorAccess extends EditorAccess {\n\n    protected editorWidget(): EditorWidget | undefined {\n        return this.editorManager.currentEditor;\n    }\n\n}\n\n/**\n * Provides access to the active text editor.\n */\n@injectable()\nexport class ActiveEditorAccess extends EditorAccess {\n\n    protected editorWidget(): EditorWidget | undefined {\n        return this.editorManager.activeEditor;\n    }\n\n}\n\nexport namespace EditorAccess {\n    export const CURRENT = 'current-editor-access';\n    export const ACTIVE = 'active-editor-access';\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { MenuContribution, MenuModelRegistry, MenuPath, MAIN_MENU_BAR } from '@theia/core';\nimport { CommonCommands, CommonMenus } from '@theia/core/lib/browser';\nimport { EditorCommands } from './editor-command';\nimport { nls } from '@theia/core/lib/common/nls';\n\nexport const EDITOR_CONTEXT_MENU: MenuPath = ['editor_context_menu'];\n\n/**\n * Editor context menu default groups should be aligned\n * with VS Code default groups: https://code.visualstudio.com/api/references/contribution-points#contributes.menus\n */\nexport namespace EditorContextMenu {\n    export const NAVIGATION = [...EDITOR_CONTEXT_MENU, 'navigation'];\n    export const MODIFICATION = [...EDITOR_CONTEXT_MENU, '1_modification'];\n    export const CUT_COPY_PASTE = [...EDITOR_CONTEXT_MENU, '9_cutcopypaste'];\n    export const COMMANDS = [...EDITOR_CONTEXT_MENU, 'z_commands'];\n    export const UNDO_REDO = [...EDITOR_CONTEXT_MENU, '1_undo'];\n}\n\nexport namespace EditorMainMenu {\n\n    /**\n     * The main `Go` menu item.\n     */\n    export const GO = [...MAIN_MENU_BAR, '5_go'];\n\n    /**\n     * Navigation menu group in the `Go` main-menu.\n     */\n    export const NAVIGATION_GROUP = [...GO, '1_navigation_group'];\n\n    /**\n     * Context management group in the `Go` main menu: Pane and editor switching commands.\n     */\n    export const CONTEXT_GROUP = [...GO, '1.1_context_group'];\n\n    /**\n     * Submenu for switching panes in the main area.\n     */\n    export const PANE_GROUP = [...CONTEXT_GROUP, '2_pane_group'];\n    export const BY_NUMBER = [...EditorMainMenu.PANE_GROUP, '1_by_number'];\n    export const NEXT_PREVIOUS = [...EditorMainMenu.PANE_GROUP, '2_by_location'];\n\n    /**\n     * Workspace menu group in the `Go` main-menu.\n     */\n    export const WORKSPACE_GROUP = [...GO, '2_workspace_group'];\n\n    /**\n     * Language features menu group in the `Go` main-menu.\n     */\n    export const LANGUAGE_FEATURES_GROUP = [...GO, '3_language_features_group'];\n\n    /**\n     * Location menu group in the `Go` main-menu.\n     */\n    export const LOCATION_GROUP = [...GO, '4_locations'];\n\n}\n\n@injectable()\nexport class EditorMenuContribution implements MenuContribution {\n\n    registerMenus(registry: MenuModelRegistry): void {\n        registry.registerMenuAction(EditorContextMenu.UNDO_REDO, {\n            commandId: CommonCommands.UNDO.id\n        });\n        registry.registerMenuAction(EditorContextMenu.UNDO_REDO, {\n            commandId: CommonCommands.REDO.id\n        });\n\n        registry.registerMenuAction(EditorContextMenu.CUT_COPY_PASTE, {\n            commandId: CommonCommands.CUT.id,\n            order: '0'\n        });\n        registry.registerMenuAction(EditorContextMenu.CUT_COPY_PASTE, {\n            commandId: CommonCommands.COPY.id,\n            order: '1'\n        });\n        registry.registerMenuAction(EditorContextMenu.CUT_COPY_PASTE, {\n            commandId: CommonCommands.PASTE.id,\n            order: '2'\n        });\n\n        // Editor navigation. Go > Back and Go > Forward.\n        registry.registerSubmenu(EditorMainMenu.GO, nls.localizeByDefault('Go'));\n        registry.registerMenuAction(EditorMainMenu.NAVIGATION_GROUP, {\n            commandId: EditorCommands.GO_BACK.id,\n            label: EditorCommands.GO_BACK.label,\n            order: '1'\n        });\n        registry.registerMenuAction(EditorMainMenu.NAVIGATION_GROUP, {\n            commandId: EditorCommands.GO_FORWARD.id,\n            label: EditorCommands.GO_FORWARD.label,\n            order: '2'\n        });\n        registry.registerMenuAction(EditorMainMenu.NAVIGATION_GROUP, {\n            commandId: EditorCommands.GO_LAST_EDIT.id,\n            label: nls.localizeByDefault('Last Edit Location'),\n            order: '3'\n        });\n\n        registry.registerSubmenu(EditorMainMenu.PANE_GROUP, nls.localizeByDefault('Switch Group'));\n\n        registry.registerMenuAction(EditorMainMenu.BY_NUMBER, {\n            commandId: 'workbench.action.focusFirstEditorGroup',\n            label: nls.localizeByDefault('Group 1'),\n        });\n        registry.registerMenuAction(EditorMainMenu.BY_NUMBER, {\n            commandId: 'workbench.action.focusSecondEditorGroup',\n            label: nls.localizeByDefault('Group 2'),\n        });\n        registry.registerMenuAction(EditorMainMenu.BY_NUMBER, {\n            commandId: 'workbench.action.focusThirdEditorGroup',\n            label: nls.localizeByDefault('Group 3'),\n        });\n        registry.registerMenuAction(EditorMainMenu.BY_NUMBER, {\n            commandId: 'workbench.action.focusFourthEditorGroup',\n            label: nls.localizeByDefault('Group 4'),\n        });\n        registry.registerMenuAction(EditorMainMenu.BY_NUMBER, {\n            commandId: 'workbench.action.focusFifthEditorGroup',\n            label: nls.localizeByDefault('Group 5'),\n        });\n\n        registry.registerMenuAction(EditorMainMenu.NEXT_PREVIOUS, {\n            commandId: CommonCommands.NEXT_TAB_GROUP.id,\n            label: nls.localizeByDefault('Next Group'),\n            order: '1'\n        });\n        registry.registerMenuAction(EditorMainMenu.NEXT_PREVIOUS, {\n            commandId: CommonCommands.PREVIOUS_TAB_GROUP.id,\n            label: nls.localizeByDefault('Previous Group'),\n            order: '2'\n        });\n\n        registry.registerMenuAction(EditorMainMenu.LOCATION_GROUP, {\n            commandId: EditorCommands.GOTO_LINE_COLUMN.id,\n            order: '1'\n        });\n\n        // Toggle Commands.\n        registry.registerMenuAction(CommonMenus.VIEW_TOGGLE, {\n            commandId: EditorCommands.TOGGLE_WORD_WRAP.id,\n            order: '0'\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_TOGGLE, {\n            commandId: EditorCommands.TOGGLE_MINIMAP.id,\n            order: '1',\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_TOGGLE, {\n            commandId: CommonCommands.TOGGLE_BREADCRUMBS.id,\n            order: '2',\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_TOGGLE, {\n            commandId: EditorCommands.TOGGLE_RENDER_WHITESPACE.id,\n            order: '3'\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_TOGGLE, {\n            commandId: EditorCommands.TOGGLE_STICKY_SCROLL.id,\n            order: '4'\n        });\n        registry.registerMenuAction(CommonMenus.FILE_CLOSE, {\n            commandId: CommonCommands.CLOSE_MAIN_TAB.id,\n            label: nls.localizeByDefault('Close Editor'),\n            order: '1'\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_EDITOR_SUBMENU_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_RIGHT.id,\n            label: nls.localizeByDefault('Split Editor Right'),\n            order: '0'\n        });\n\n        registry.registerMenuAction(CommonMenus.VIEW_EDITOR_SUBMENU_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_LEFT.id,\n            label: nls.localizeByDefault('Split Editor Left'),\n            order: '1'\n        });\n\n        registry.registerMenuAction(CommonMenus.VIEW_EDITOR_SUBMENU_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_UP.id,\n            label: nls.localizeByDefault('Split Editor Up'),\n            order: '2'\n        });\n\n        registry.registerMenuAction(CommonMenus.VIEW_EDITOR_SUBMENU_SPLIT, {\n            commandId: EditorCommands.SPLIT_EDITOR_DOWN.id,\n            label: nls.localizeByDefault('Split Editor Down'),\n            order: '3'\n        });\n\n        registry.registerMenuAction(CommonMenus.VIEW_EDITOR_SUBMENU_ORTHO, {\n            commandId: EditorCommands.SPLIT_EDITOR_HORIZONTAL.id,\n            label: nls.localize('theia/editor/splitHorizontal', 'Split Editor Horizontal'),\n            order: '1'\n        });\n\n        registry.registerMenuAction(CommonMenus.VIEW_EDITOR_SUBMENU_ORTHO, {\n            commandId: EditorCommands.SPLIT_EDITOR_VERTICAL.id,\n            label: nls.localize('theia/editor/splitVertical', 'Split Editor Vertical'),\n            order: '2'\n        });\n\n        registry.registerSubmenu(CommonMenus.VIEW_EDITOR_SUBMENU, nls.localizeByDefault('Editor Layout'));\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from '@theia/core/shared/inversify';\nimport { ILogger } from '@theia/core/lib/common/logger';\nimport { StorageService } from '@theia/core/lib/browser/storage-service';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { FrontendApplicationContribution } from '@theia/core/lib/browser/frontend-application-contribution';\nimport { CommandRegistry } from '@theia/core/lib/common/command';\nimport { EditorCommands } from './editor-command';\nimport { EditorWidget } from './editor-widget';\nimport { EditorManager } from './editor-manager';\nimport { TextEditor, Position, Range, TextDocumentChangeEvent } from './editor';\nimport { NavigationLocation, RecentlyClosedEditor } from './navigation/navigation-location';\nimport { NavigationLocationService } from './navigation/navigation-location-service';\nimport { PreferenceService, PreferenceScope, addEventListener } from '@theia/core/lib/browser';\nimport { ConfirmDialog, Dialog } from '@theia/core/lib/browser/dialogs';\nimport { nls } from '@theia/core';\n\n@injectable()\nexport class EditorNavigationContribution implements Disposable, FrontendApplicationContribution {\n\n    private static ID = 'editor-navigation-contribution';\n    private static CLOSED_EDITORS_KEY = 'recently-closed-editors';\n    private static MOUSE_NAVIGATION_PREFERENCE = 'workbench.editor.mouseBackForwardToNavigate';\n\n    protected readonly toDispose = new DisposableCollection();\n    protected readonly toDisposePerCurrentEditor = new DisposableCollection();\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    @inject(NavigationLocationService)\n    protected readonly locationStack: NavigationLocationService;\n\n    @inject(StorageService)\n    protected readonly storageService: StorageService;\n\n    @inject(PreferenceService)\n    protected readonly preferenceService: PreferenceService;\n\n    @inject(CommandRegistry)\n    protected readonly commandRegistry: CommandRegistry;\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.pushAll([\n            // TODO listen on file resource changes, if a file gets deleted, remove the corresponding navigation locations (if any).\n            // This would require introducing the FS dependency in the editor extension.\n            this.editorManager.onCurrentEditorChanged(this.onCurrentEditorChanged.bind(this)),\n            this.editorManager.onCreated(widget => {\n                this.locationStack.removeClosedEditor(widget.editor.uri);\n                widget.disposed.connect(() => this.locationStack.addClosedEditor({\n                    uri: widget.editor.uri,\n                    viewState: widget.editor.storeViewState()\n                }));\n            })\n        ]);\n        this.commandRegistry.registerHandler(EditorCommands.GO_BACK.id, {\n            execute: () => this.locationStack.back(),\n            isEnabled: () => this.locationStack.canGoBack()\n        });\n        this.commandRegistry.registerHandler(EditorCommands.GO_FORWARD.id, {\n            execute: () => this.locationStack.forward(),\n            isEnabled: () => this.locationStack.canGoForward()\n        });\n        this.commandRegistry.registerHandler(EditorCommands.GO_LAST_EDIT.id, {\n            execute: () => this.locationStack.reveal(this.locationStack.lastEditLocation()),\n            isEnabled: () => !!this.locationStack.lastEditLocation()\n        });\n        this.commandRegistry.registerHandler(EditorCommands.CLEAR_EDITOR_HISTORY.id, {\n            execute: async () => {\n                const shouldClear = await new ConfirmDialog({\n                    title: nls.localizeByDefault('Clear Editor History'),\n                    msg: nls.localizeByDefault('Do you want to clear the history of recently opened editors?'),\n                    ok: Dialog.YES,\n                    cancel: Dialog.NO\n                }).open();\n                if (shouldClear) {\n                    this.locationStack.clearHistory();\n                }\n            },\n            isEnabled: () => this.locationStack.locations().length > 0\n        });\n        this.commandRegistry.registerHandler(EditorCommands.TOGGLE_MINIMAP.id, {\n            execute: () => this.toggleMinimap(),\n            isEnabled: () => true,\n            isToggled: () => this.isMinimapEnabled()\n        });\n        this.commandRegistry.registerHandler(EditorCommands.TOGGLE_RENDER_WHITESPACE.id, {\n            execute: () => this.toggleRenderWhitespace(),\n            isEnabled: () => true,\n            isToggled: () => this.isRenderWhitespaceEnabled()\n        });\n        this.commandRegistry.registerHandler(EditorCommands.TOGGLE_WORD_WRAP.id, {\n            execute: () => this.toggleWordWrap(),\n            isEnabled: () => true,\n        });\n        this.commandRegistry.registerHandler(EditorCommands.TOGGLE_STICKY_SCROLL.id, {\n            execute: () => this.toggleStickyScroll(),\n            isEnabled: () => true,\n            isToggled: () => this.isStickyScrollEnabled()\n        });\n        this.commandRegistry.registerHandler(EditorCommands.REOPEN_CLOSED_EDITOR.id, {\n            execute: () => this.reopenLastClosedEditor()\n        });\n\n        this.installMouseNavigationSupport();\n    }\n\n    protected async installMouseNavigationSupport(): Promise<void> {\n        const mouseNavigationSupport = new DisposableCollection();\n        const updateMouseNavigationListener = () => {\n            mouseNavigationSupport.dispose();\n            if (this.shouldNavigateWithMouse()) {\n                mouseNavigationSupport.push(addEventListener(document.body, 'mousedown', event => this.onMouseDown(event), true));\n            }\n        };\n        this.toDispose.push(this.preferenceService.onPreferenceChanged(change => {\n            if (change.preferenceName === EditorNavigationContribution.MOUSE_NAVIGATION_PREFERENCE) {\n                updateMouseNavigationListener();\n            }\n        }));\n        updateMouseNavigationListener();\n        this.toDispose.push(mouseNavigationSupport);\n    }\n\n    protected async onMouseDown(event: MouseEvent): Promise<void> {\n        // Support navigation in history when mouse buttons 4/5 are pressed\n        switch (event.button) {\n            case 3:\n                event.preventDefault();\n                this.locationStack.back();\n                break;\n            case 4:\n                event.preventDefault();\n                this.locationStack.forward();\n                break;\n        }\n    }\n\n    /**\n     * Reopens the last closed editor with its stored view state if possible from history.\n     * If the editor cannot be restored, continue to the next editor in history.\n     */\n    protected async reopenLastClosedEditor(): Promise<void> {\n        const lastClosedEditor = this.locationStack.getLastClosedEditor();\n        if (lastClosedEditor === undefined) {\n            return;\n        }\n\n        try {\n            const widget = await this.editorManager.open(lastClosedEditor.uri);\n            widget.editor.restoreViewState(lastClosedEditor.viewState);\n        } catch {\n            this.locationStack.removeClosedEditor(lastClosedEditor.uri);\n            this.reopenLastClosedEditor();\n        }\n    }\n\n    async onStart(): Promise<void> {\n        this.restoreState();\n    }\n\n    onStop(): void {\n        this.storeState();\n        this.dispose();\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    /**\n     * Toggle the editor word wrap behavior.\n     */\n    protected async toggleWordWrap(): Promise<void> {\n        // Get the current word wrap.\n        const wordWrap: string | undefined = this.preferenceService.get('editor.wordWrap');\n        if (wordWrap === undefined) {\n            return;\n        }\n        // The list of allowed word wrap values.\n        const values: string[] = ['off', 'on', 'wordWrapColumn', 'bounded'];\n        // Get the index of the current value, and toggle to the next available value.\n        const index = values.indexOf(wordWrap) + 1;\n        if (index > -1) {\n            this.preferenceService.set('editor.wordWrap', values[index % values.length], PreferenceScope.User);\n        }\n    }\n\n    /**\n     * Toggle the display of sticky scroll in the editor.\n     */\n    protected async toggleStickyScroll(): Promise<void> {\n        const value: boolean | undefined = this.preferenceService.get('editor.stickyScroll.enabled');\n        this.preferenceService.set('editor.stickyScroll.enabled', !value, PreferenceScope.User);\n    }\n\n    /**\n     * Toggle the display of minimap in the editor.\n     */\n    protected async toggleMinimap(): Promise<void> {\n        const value: boolean | undefined = this.preferenceService.get('editor.minimap.enabled');\n        this.preferenceService.set('editor.minimap.enabled', !value, PreferenceScope.User);\n    }\n\n    /**\n     * Toggle the rendering of whitespace in the editor.\n     */\n    protected async toggleRenderWhitespace(): Promise<void> {\n        const renderWhitespace: string | undefined = this.preferenceService.get('editor.renderWhitespace');\n        let updatedRenderWhitespace: string;\n        if (renderWhitespace === 'none') {\n            updatedRenderWhitespace = 'all';\n        } else {\n            updatedRenderWhitespace = 'none';\n        }\n        this.preferenceService.set('editor.renderWhitespace', updatedRenderWhitespace, PreferenceScope.User);\n    }\n\n    protected onCurrentEditorChanged(editorWidget: EditorWidget | undefined): void {\n        this.toDisposePerCurrentEditor.dispose();\n        if (editorWidget) {\n            const { editor } = editorWidget;\n            this.toDisposePerCurrentEditor.pushAll([\n                // Instead of registering an `onCursorPositionChanged` listener, we treat the zero length selection as a cursor position change.\n                // Otherwise we would have two events for a single cursor change interaction.\n                editor.onSelectionChanged(selection => this.onSelectionChanged(editor, selection)),\n                editor.onDocumentContentChanged(event => this.onDocumentContentChanged(editor, event))\n            ]);\n            this.locationStack.register(NavigationLocation.create(editor, editor.selection));\n        }\n    }\n\n    protected onCursorPositionChanged(editor: TextEditor, position: Position): void {\n        this.locationStack.register(NavigationLocation.create(editor, position));\n    }\n\n    protected onSelectionChanged(editor: TextEditor, selection: Range): void {\n        if (this.isZeroLengthRange(selection)) {\n            this.onCursorPositionChanged(editor, selection.start);\n        } else {\n            this.locationStack.register(NavigationLocation.create(editor, selection));\n        }\n    }\n\n    protected onDocumentContentChanged(editor: TextEditor, event: TextDocumentChangeEvent): void {\n        if (event.contentChanges.length > 0) {\n            this.locationStack.register(NavigationLocation.create(editor, event.contentChanges[0]));\n        }\n    }\n\n    /**\n     * `true` if the `range` argument has zero length. In other words, the `start` and the `end` positions are the same. Otherwise, `false`.\n     */\n    protected isZeroLengthRange(range: Range): boolean {\n        const { start, end } = range;\n        return start.line === end.line && start.character === end.character;\n    }\n\n    protected async storeState(): Promise<void> {\n        this.storageService.setData(EditorNavigationContribution.ID, {\n            locations: this.locationStack.locations().map(NavigationLocation.toObject)\n        });\n        this.storageService.setData(EditorNavigationContribution.CLOSED_EDITORS_KEY, {\n            closedEditors: this.shouldStoreClosedEditors() ? this.locationStack.closedEditorsStack.map(RecentlyClosedEditor.toObject) : []\n        });\n    }\n\n    protected async restoreState(): Promise<void> {\n        await this.restoreNavigationLocations();\n        await this.restoreClosedEditors();\n    }\n\n    protected async restoreNavigationLocations(): Promise<void> {\n        const raw: { locations?: ArrayLike<object> } | undefined = await this.storageService.getData(EditorNavigationContribution.ID);\n        if (raw && raw.locations) {\n            const locations: NavigationLocation[] = [];\n            for (let i = 0; i < raw.locations.length; i++) {\n                const location = NavigationLocation.fromObject(raw.locations[i]);\n                if (location) {\n                    locations.push(location);\n                } else {\n                    this.logger.warn('Could not restore the state of the editor navigation history.');\n                    return;\n                }\n            }\n            this.locationStack.register(...locations);\n        }\n    }\n\n    protected async restoreClosedEditors(): Promise<void> {\n        const raw: { closedEditors?: ArrayLike<object> } | undefined = await this.storageService.getData(EditorNavigationContribution.CLOSED_EDITORS_KEY);\n        if (raw && raw.closedEditors) {\n            for (let i = 0; i < raw.closedEditors.length; i++) {\n                const editor = RecentlyClosedEditor.fromObject(raw.closedEditors[i]);\n                if (editor) {\n                    this.locationStack.addClosedEditor(editor);\n                } else {\n                    this.logger.warn('Could not restore the state of the closed editors stack.');\n                }\n            }\n        }\n    }\n\n    private isMinimapEnabled(): boolean {\n        return !!this.preferenceService.get('editor.minimap.enabled');\n    }\n\n    private isRenderWhitespaceEnabled(): boolean {\n        const renderWhitespace = this.preferenceService.get('editor.renderWhitespace');\n        return renderWhitespace === 'none' ? false : true;\n    }\n\n    private shouldStoreClosedEditors(): boolean {\n        return !!this.preferenceService.get('editor.history.persistClosedEditors');\n    }\n\n    private shouldNavigateWithMouse(): boolean {\n        return !!this.preferenceService.get(EditorNavigationContribution.MOUSE_NAVIGATION_PREFERENCE);\n    }\n\n    private isStickyScrollEnabled(): boolean {\n        return !!this.preferenceService.get('editor.stickyScroll.enabled');\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from '@theia/core/shared/inversify';\nimport {\n    createPreferenceProxy,\n    PreferenceProxy,\n    PreferenceService,\n    PreferenceContribution,\n    PreferenceSchema,\n    PreferenceChangeEvent,\n    PreferenceScope,\n} from '@theia/core/lib/browser/preferences';\nimport { PreferenceProxyFactory } from '@theia/core/lib/browser/preferences/injectable-preference-proxy';\nimport { nls } from '@theia/core/lib/common/nls';\nimport { environment } from '@theia/core';\nimport { editorGeneratedPreferenceProperties, GeneratedEditorPreferences } from './editor-generated-preference-schema';\n\n/* eslint-disable @theia/localization-check,max-len,no-null/no-null */\n// #region src/vs/workbench/contrib/codeActions/browser/codeActionsContribution.ts\n\nconst codeActionsContributionSchema: PreferenceSchema['properties'] = {\n    'editor.codeActionsOnSave': {\n        oneOf: [\n            {\n                type: 'object',\n                properties: {\n                    'source.fixAll': {\n                        type: 'boolean',\n                        description: nls.localizeByDefault('Controls whether auto fix action should be run on file save.')\n                    }\n                },\n                additionalProperties: {\n                    type: 'boolean'\n                },\n            },\n            {\n                type: 'array',\n                items: { type: 'string' }\n            }\n        ],\n        default: {},\n        description: nls.localizeByDefault('Code action kinds to be run on save.'),\n        scope: 'language-overridable',\n    }\n};\n\ninterface CodeActionsContributionProperties {\n    'editor.codeActionsOnSave': string[] | ({ 'source.fixAll': boolean } & Record<string, boolean>)\n}\n\n// #endregion\n\n// #region src/vs/workbench/contrib/files/browser/files.contribution.ts\nconst fileContributionSchema: PreferenceSchema['properties'] = {\n    'editor.formatOnSave': {\n        'type': 'boolean',\n        'description': nls.localizeByDefault('Format a file on save. A formatter must be available, the file must not be saved after delay, and the editor must not be shutting down.'),\n        'scope': PreferenceScope.fromString('language-overridable'),\n    },\n    'editor.formatOnSaveMode': {\n        'type': 'string',\n        'default': 'file',\n        'enum': [\n            'file',\n            'modifications',\n            'modificationsIfAvailable'\n        ],\n        'enumDescriptions': [\n            nls.localizeByDefault('Format the whole file.'),\n            nls.localizeByDefault('Format modifications (requires source control).'),\n            nls.localize('theia/editor/editor.formatOnSaveMode.modificationsIfAvailable', \"Will attempt to format modifications only (requires source control). If source control can't be used, then the whole file will be formatted.\"),\n        ],\n        'markdownDescription': nls.localizeByDefault('Controls if format on save formats the whole file or only modifications. Only applies when `#editor.formatOnSave#` is enabled.'),\n        'scope': PreferenceScope.fromString('language-overridable'),\n    },\n    // Include this, even though it is not strictly an `editor`preference.\n    'files.eol': {\n        'type': 'string',\n        'enum': [\n            '\\n',\n            '\\r\\n',\n            'auto'\n        ],\n        'enumDescriptions': [\n            nls.localizeByDefault('LF'),\n            nls.localizeByDefault('CRLF'),\n            nls.localizeByDefault('Uses operating system specific end of line character.')\n        ],\n        'default': 'auto',\n        'description': nls.localizeByDefault('The default end of line character.'),\n        'scope': PreferenceScope.fromString('language-overridable')\n    },\n    // We used to call these `editor.autoSave` and `editor.autoSaveDelay`.\n    'files.autoSave': {\n        'type': 'string',\n        'enum': ['off', 'afterDelay', 'onFocusChange', 'onWindowChange'],\n        'markdownEnumDescriptions': [\n            nls.localize('theia/editor/files.autoSave.off', 'An editor with changes is never automatically saved.'),\n            nls.localize('theia/editor/files.autoSave.afterDelay', 'An editor with changes is automatically saved after the configured `#files.autoSaveDelay#`.'),\n            nls.localize('theia/editor/files.autoSave.onFocusChange', 'An editor with changes is automatically saved when the editor loses focus.'),\n            nls.localize('theia/editor/files.autoSave.onWindowChange', 'An editor with changes is automatically saved when the window loses focus.')\n        ],\n        'default': environment.electron.is() ? 'off' : 'afterDelay',\n        'markdownDescription': nls.localize('theia/editor/files.autoSave', 'Controls [auto save](https://code.visualstudio.com/docs/editor/codebasics#_save-auto-save) of editors that have unsaved changes.', 'off', 'afterDelay', 'onFocusChange', 'onWindowChange', 'afterDelay')\n    },\n    'files.autoSaveDelay': {\n        'type': 'number',\n        'default': 1000,\n        'minimum': 0,\n        'markdownDescription': nls.localizeByDefault('Controls the delay in milliseconds after which an editor with unsaved changes is saved automatically. Only applies when `#files.autoSave#` is set to `{0}`.', 'afterDelay')\n    },\n    'files.refactoring.autoSave': {\n        'type': 'boolean',\n        'default': true,\n        'description': nls.localizeByDefault('Controls if files that were part of a refactoring are saved automatically')\n    }\n};\n\ninterface FileContributionEditorPreferences {\n    'editor.formatOnSave': boolean;\n    'editor.formatOnSaveMode': 'file' | 'modifications' | 'modificationsIfAvailable';\n    'files.eol': '\\n' | '\\r\\n' | 'auto';\n    'files.autoSave': 'off' | 'afterDelay' | 'onFocusChange' | 'onWindowChange';\n    'files.autoSaveDelay': number;\n    'files.refactoring.autoSave': boolean\n}\n// #endregion\n\n// #region src/vs/workbench/contrib/format/browser/formatActionsMultiple.ts\n// This schema depends on a lot of private stuff in the file, so this is a stripped down version.\nconst formatActionsMultipleSchema: PreferenceSchema['properties'] = {\n    'editor.defaultFormatter': {\n        description: nls.localizeByDefault('Defines a default formatter which takes precedence over all other formatter settings. Must be the identifier of an extension contributing a formatter.'),\n        type: ['string', 'null'],\n        default: null,\n    }\n};\ninterface FormatActionsMultipleProperties {\n    'editor.defaultFormatter': string | null;\n}\n// #endregion\n\n// #region Custom Theia extensions to editor preferences\n\nconst theiaEditorSchema: PreferenceSchema['properties'] = {\n    'editor.formatOnSaveTimeout': {\n        'type': 'number',\n        'default': 750,\n        'description': nls.localize('theia/editor/formatOnSaveTimeout', 'Timeout in milliseconds after which the formatting that is run on file save is cancelled.')\n    },\n    'editor.history.persistClosedEditors': {\n        'type': 'boolean',\n        'default': false,\n        'description': nls.localize('theia/editor/persistClosedEditors', 'Controls whether to persist closed editor history for the workspace across window reloads.')\n    },\n};\n\ninterface TheiaEditorProperties {\n    'editor.formatOnSaveTimeout': number;\n    'editor.history.persistClosedEditors': boolean;\n}\n\n// #endregion\n\nconst combinedProperties = {\n    ...editorGeneratedPreferenceProperties,\n    ...codeActionsContributionSchema,\n    ...fileContributionSchema,\n    ...formatActionsMultipleSchema,\n    ...theiaEditorSchema\n};\n\nexport const editorPreferenceSchema: PreferenceSchema = {\n    'type': 'object',\n    'scope': 'resource',\n    'overridable': true,\n    'properties': combinedProperties,\n};\n\nexport interface EditorConfiguration extends GeneratedEditorPreferences,\n    CodeActionsContributionProperties,\n    FileContributionEditorPreferences,\n    FormatActionsMultipleProperties,\n    TheiaEditorProperties { }\n\nexport type EndOfLinePreference = '\\n' | '\\r\\n' | 'auto';\n\nexport type EditorPreferenceChange = PreferenceChangeEvent<EditorConfiguration>;\n\nexport const EditorPreferenceContribution = Symbol('EditorPreferenceContribution');\nexport const EditorPreferences = Symbol('EditorPreferences');\nexport type EditorPreferences = PreferenceProxy<EditorConfiguration>;\n\n/**\n * @deprecated @since 1.23.0\n *\n * By default, editor preferences now use a validated preference proxy created by the PreferenceProxyFactory binding.\n * This function will create an unvalidated preference proxy.\n * See {@link bindEditorPreferences}\n */\nexport function createEditorPreferences(preferences: PreferenceService, schema: PreferenceSchema = editorPreferenceSchema): EditorPreferences {\n    return createPreferenceProxy(preferences, schema);\n}\n\nexport function bindEditorPreferences(bind: interfaces.Bind): void {\n    bind(EditorPreferences).toDynamicValue(ctx => {\n        const factory = ctx.container.get<PreferenceProxyFactory>(PreferenceProxyFactory);\n        return factory(editorPreferenceSchema);\n    }).inSingletonScope();\n    bind(EditorPreferenceContribution).toConstantValue({ schema: editorPreferenceSchema });\n    bind(PreferenceContribution).toService(EditorPreferenceContribution);\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { VariableRegistry, VariableContribution } from '@theia/variable-resolver/lib/browser';\nimport { TextEditor } from './editor';\nimport { EditorManager } from './editor-manager';\n\n@injectable()\nexport class EditorVariableContribution implements VariableContribution {\n\n    @inject(EditorManager)\n    protected readonly editorManager: EditorManager;\n\n    registerVariables(variables: VariableRegistry): void {\n        variables.registerVariable({\n            name: 'lineNumber',\n            description: 'The current line number in the currently opened file',\n            resolve: () => {\n                const editor = this.getCurrentEditor();\n                return editor ? `${editor.cursor.line + 1}` : undefined;\n            }\n        });\n        variables.registerVariable({\n            name: 'selectedText',\n            description: 'The current selected text in the active file',\n            resolve: () => {\n                const editor = this.getCurrentEditor();\n                return editor ? editor.document.getText(editor.selection) : undefined;\n            }\n        });\n    }\n\n    protected getCurrentEditor(): TextEditor | undefined {\n        const currentEditor = this.editorManager.currentEditor;\n        if (!currentEditor) {\n            return undefined;\n        }\n        return currentEditor.editor;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { nls, SelectionService } from '@theia/core/lib/common';\nimport { NavigatableWidgetOptions, WidgetFactory, LabelProvider } from '@theia/core/lib/browser';\nimport { EditorWidget } from './editor-widget';\nimport { TextEditorProvider } from './editor';\n\n@injectable()\nexport class EditorWidgetFactory implements WidgetFactory {\n\n    static createID(uri: URI, counter?: number): string {\n        return EditorWidgetFactory.ID\n            + `:${uri.toString()}`\n            + (counter !== undefined ? `:${counter}` : '');\n    }\n\n    static ID = 'code-editor-opener';\n\n    readonly id = EditorWidgetFactory.ID;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(TextEditorProvider)\n    protected readonly editorProvider: TextEditorProvider;\n\n    @inject(SelectionService)\n    protected readonly selectionService: SelectionService;\n\n    createWidget(options: NavigatableWidgetOptions): Promise<EditorWidget> {\n        const uri = new URI(options.uri);\n        return this.createEditor(uri, options);\n    }\n\n    protected async createEditor(uri: URI, options?: NavigatableWidgetOptions): Promise<EditorWidget> {\n        const newEditor = await this.constructEditor(uri);\n\n        this.setLabels(newEditor, uri);\n        const labelListener = this.labelProvider.onDidChange(event => {\n            if (event.affects(uri)) {\n                this.setLabels(newEditor, uri);\n            }\n        });\n        newEditor.onDispose(() => labelListener.dispose());\n\n        newEditor.id = EditorWidgetFactory.createID(uri, options?.counter);\n\n        newEditor.title.closable = true;\n        return newEditor;\n    }\n\n    protected async constructEditor(uri: URI): Promise<EditorWidget> {\n        const textEditor = await this.editorProvider(uri);\n        return new EditorWidget(textEditor, this.selectionService);\n    }\n\n    private setLabels(editor: EditorWidget, uri: URI): void {\n        editor.title.caption = uri.path.fsPath();\n        if (editor.editor.isReadonly) {\n            editor.title.caption += `  ${nls.localizeByDefault('Read-only')}`;\n        }\n        const icon = this.labelProvider.getIcon(uri);\n        editor.title.label = this.labelProvider.getName(uri);\n        editor.title.iconClass = icon + ' file-icon';\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Disposable, SelectionService, Event, UNTITLED_SCHEME, DisposableCollection } from '@theia/core/lib/common';\nimport { Widget, BaseWidget, Message, Saveable, SaveableSource, Navigatable, StatefulWidget, lock, TabBar, DockPanel, unlock, ExtractableWidget } from '@theia/core/lib/browser';\nimport URI from '@theia/core/lib/common/uri';\nimport { find } from '@theia/core/shared/@phosphor/algorithm';\nimport { TextEditor } from './editor';\n\nexport class EditorWidget extends BaseWidget implements SaveableSource, Navigatable, StatefulWidget, ExtractableWidget {\n\n    protected toDisposeOnTabbarChange = new DisposableCollection();\n    protected currentTabbar: TabBar<Widget> | undefined;\n\n    constructor(\n        readonly editor: TextEditor,\n        protected readonly selectionService: SelectionService\n    ) {\n        super(editor);\n        this.addClass('theia-editor');\n        if (editor.isReadonly) {\n            lock(this.title);\n        }\n        this.toDispose.push(this.editor);\n        this.toDispose.push(this.toDisposeOnTabbarChange);\n        this.toDispose.push(this.editor.onSelectionChanged(() => this.setSelection()));\n        this.toDispose.push(this.editor.onFocusChanged(() => this.setSelection()));\n        this.toDispose.push(this.editor.onDidChangeReadOnly(isReadonly => {\n            if (isReadonly) {\n                lock(this.title);\n            } else {\n                unlock(this.title);\n            }\n        }));\n        this.toDispose.push(Disposable.create(() => {\n            if (this.selectionService.selection === this.editor) {\n                this.selectionService.selection = undefined;\n            }\n        }));\n    }\n    isExtractable: boolean = true;\n    secondaryWindow: Window | undefined;\n\n    setSelection(): void {\n        if (this.editor.isFocused() && this.selectionService.selection !== this.editor) {\n            this.selectionService.selection = this.editor;\n        }\n    }\n\n    get saveable(): Saveable {\n        return this.editor.document;\n    }\n\n    getResourceUri(): URI | undefined {\n        return this.editor.getResourceUri();\n    }\n    createMoveToUri(resourceUri: URI): URI | undefined {\n        return this.editor.createMoveToUri(resourceUri);\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        this.editor.focus();\n        this.selectionService.selection = this.editor;\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        if (this.isVisible) {\n            this.editor.refresh();\n        }\n        this.checkForTabbarChange();\n    }\n\n    protected checkForTabbarChange(): void {\n        const { parent } = this;\n        if (parent instanceof DockPanel) {\n            const newTabbar = find(parent.tabBars(), tabbar => !!tabbar.titles.find(title => title === this.title));\n            if (this.currentTabbar !== newTabbar) {\n                this.toDisposeOnTabbarChange.dispose();\n                const listener = () => this.checkForTabbarChange();\n                parent.layoutModified.connect(listener);\n                this.toDisposeOnTabbarChange.push(Disposable.create(() => parent.layoutModified.disconnect(listener)));\n                const last = this.currentTabbar;\n                this.currentTabbar = newTabbar;\n                this.handleTabBarChange(last, newTabbar);\n            }\n        }\n    }\n\n    protected handleTabBarChange(oldTabBar?: TabBar<Widget>, newTabBar?: TabBar<Widget>): void {\n        const ownSaveable = Saveable.get(this);\n        const competingEditors = ownSaveable && newTabBar?.titles.filter(title => title !== this.title\n            && (title.owner instanceof EditorWidget)\n            && title.owner.editor.uri.isEqual(this.editor.uri)\n            && Saveable.get(title.owner) === ownSaveable\n        );\n        competingEditors?.forEach(title => title.owner.close());\n    }\n\n    protected override onAfterShow(msg: Message): void {\n        super.onAfterShow(msg);\n        this.editor.refresh();\n    }\n\n    protected override onResize(msg: Widget.ResizeMessage): void {\n        if (msg.width < 0 || msg.height < 0) {\n            this.editor.resizeToFit();\n        } else {\n            this.editor.setSize(msg);\n        }\n    }\n\n    storeState(): object | undefined {\n        return this.getResourceUri()?.scheme === UNTITLED_SCHEME ? undefined : this.editor.storeViewState();\n    }\n\n    restoreState(oldState: object): void {\n        this.editor.restoreViewState(oldState);\n    }\n\n    get onDispose(): Event<void> {\n        return this.toDispose.onDispose;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Position, Range, Location } from '@theia/core/shared/vscode-languageserver-protocol';\nimport * as lsp from '@theia/core/shared/vscode-languageserver-protocol';\nimport URI from '@theia/core/lib/common/uri';\nimport { Event, Disposable, TextDocumentContentChangeDelta, Reference, isObject } from '@theia/core/lib/common';\nimport { Saveable, Navigatable, Widget } from '@theia/core/lib/browser';\nimport { EditorDecoration } from './decorations/editor-decoration';\nimport { MarkdownString } from '@theia/core/lib/common/markdown-rendering';\n\nexport { Position, Range, Location };\n\nexport const TextEditorProvider = Symbol('TextEditorProvider');\nexport type TextEditorProvider = (uri: URI) => Promise<TextEditor>;\n\nexport interface TextEditorDocument extends lsp.TextDocument, Saveable, Disposable {\n    getLineContent(lineNumber: number): string;\n    getLineMaxColumn(lineNumber: number): number;\n    /**\n     * @since 1.8.0\n     */\n    findMatches?(options: FindMatchesOptions): FindMatch[];\n    /**\n     * Creates a valid position. If the position is outside of the backing document, this method will return a position that is ensured to be inside the document and valid.\n     * For example, when the `position` is `{ line: 1, character: 0 }` and the document is empty, this method will return with `{ line: 0, character: 0 }`.\n     */\n    toValidPosition(position: Position): Position;\n    /**\n     * Creates a valid range. If the `range` argument is outside of the document, this method will return with a new range that does not exceed the boundaries of the document.\n     * For example, if the argument is `{ start: { line: 1, character: 0 }, end: { line: 1, character: 0 } }` and the document is empty, the return value is\n     * `{ start: { line: 0, character: 0 }, end: { line: 0, character: 0 } }`.\n     */\n    toValidRange(range: Range): Range;\n}\n\n// Refactoring\nexport { TextDocumentContentChangeDelta };\n\nexport interface TextDocumentChangeEvent {\n    readonly document: TextEditorDocument;\n    readonly contentChanges: TextDocumentContentChangeDelta[];\n}\n\n/**\n * Type of hit element with the mouse in the editor.\n * Copied from monaco editor.\n */\nexport enum MouseTargetType {\n    /**\n     * Mouse is on top of an unknown element.\n     */\n    UNKNOWN = 0,\n    /**\n     * Mouse is on top of the textarea used for input.\n     */\n    TEXTAREA = 1,\n    /**\n     * Mouse is on top of the glyph margin\n     */\n    GUTTER_GLYPH_MARGIN = 2,\n    /**\n     * Mouse is on top of the line numbers\n     */\n    GUTTER_LINE_NUMBERS = 3,\n    /**\n     * Mouse is on top of the line decorations\n     */\n    GUTTER_LINE_DECORATIONS = 4,\n    /**\n     * Mouse is on top of the whitespace left in the gutter by a view zone.\n     */\n    GUTTER_VIEW_ZONE = 5,\n    /**\n     * Mouse is on top of text in the content.\n     */\n    CONTENT_TEXT = 6,\n    /**\n     * Mouse is on top of empty space in the content (e.g. after line text or below last line)\n     */\n    CONTENT_EMPTY = 7,\n    /**\n     * Mouse is on top of a view zone in the content.\n     */\n    CONTENT_VIEW_ZONE = 8,\n    /**\n     * Mouse is on top of a content widget.\n     */\n    CONTENT_WIDGET = 9,\n    /**\n     * Mouse is on top of the decorations overview ruler.\n     */\n    OVERVIEW_RULER = 10,\n    /**\n     * Mouse is on top of a scrollbar.\n     */\n    SCROLLBAR = 11,\n    /**\n     * Mouse is on top of an overlay widget.\n     */\n    OVERLAY_WIDGET = 12,\n    /**\n     * Mouse is outside of the editor.\n     */\n    OUTSIDE_EDITOR = 13,\n}\n\nexport interface MouseTarget {\n    /**\n     * The target element\n     */\n    readonly element?: Element;\n    /**\n     * The target type\n     */\n    readonly type: MouseTargetType;\n    /**\n     * The 'approximate' editor position\n     */\n    readonly position?: Position;\n    /**\n     * Desired mouse column (e.g. when position.column gets clamped to text length -- clicking after text on a line).\n     */\n    readonly mouseColumn: number;\n    /**\n     * The 'approximate' editor range\n     */\n    readonly range?: Range;\n    /**\n     * Some extra detail.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    readonly detail: any;\n}\n\nexport interface EditorMouseEvent {\n    readonly event: MouseEvent;\n    readonly target: MouseTarget;\n}\n\nexport const enum EncodingMode {\n\n    /**\n     * Instructs the encoding support to encode the current input with the provided encoding\n     */\n    Encode,\n\n    /**\n     * Instructs the encoding support to decode the current input with the provided encoding\n     */\n    Decode\n}\n\n/**\n * Options for searching in an editor.\n */\nexport interface FindMatchesOptions {\n    /**\n     * The string used to search. If it is a regular expression, set `isRegex` to true.\n     */\n    searchString: string;\n    /**\n     * Used to indicate that `searchString` is a regular expression.\n     */\n    isRegex: boolean;\n    /**\n     * Force the matching to match lower/upper case exactly.\n     */\n    matchCase: boolean;\n    /**\n     * Force the matching to match entire words only.\n     */\n    matchWholeWord: boolean;\n    /**\n     * Limit the number of results.\n     */\n    limitResultCount?: number;\n}\n\n/**\n * Representation of a find match.\n */\nexport interface FindMatch {\n    /**\n     * The textual match.\n     */\n    readonly matches: string[];\n    /**\n     * The range for the given match.\n     */\n    readonly range: Range;\n}\n\nexport interface TextEditor extends Disposable, TextEditorSelection, Navigatable {\n    readonly node: HTMLElement;\n\n    readonly uri: URI;\n    readonly isReadonly: boolean | MarkdownString;\n    readonly onDidChangeReadOnly: Event<boolean | MarkdownString>;\n    readonly document: TextEditorDocument;\n    readonly onDocumentContentChanged: Event<TextDocumentChangeEvent>;\n\n    cursor: Position;\n    readonly onCursorPositionChanged: Event<Position>;\n\n    selection: Range;\n    readonly onSelectionChanged: Event<Range>;\n\n    /**\n     * The text editor should be revealed,\n     * otherwise it won't receive the focus.\n     */\n    focus(): void;\n    blur(): void;\n    isFocused(): boolean;\n    readonly onFocusChanged: Event<boolean>;\n\n    readonly onMouseDown: Event<EditorMouseEvent>;\n\n    readonly onScrollChanged: Event<void>;\n    getVisibleRanges(): Range[];\n\n    revealPosition(position: Position, options?: RevealPositionOptions): void;\n    revealRange(range: Range, options?: RevealRangeOptions): void;\n\n    /**\n     * Rerender the editor.\n     */\n    refresh(): void;\n    /**\n     * Resize the editor to fit its node.\n     */\n    resizeToFit(): void;\n    setSize(size: Dimension): void;\n\n    /**\n     * Applies given new decorations, and removes old decorations identified by ids.\n     *\n     * @returns identifiers of applied decorations, which can be removed in next call.\n     */\n    deltaDecorations(params: DeltaDecorationParams): string[];\n\n    /**\n     * Gets all the decorations for the lines between `startLineNumber` and `endLineNumber` as an array.\n     * @param startLineNumber The start line number.\n     * @param endLineNumber The end line number.\n     * @return An array with the decorations.\n     */\n    getLinesDecorations(startLineNumber: number, endLineNumber: number): EditorDecoration[];\n\n    getVisibleColumn(position: Position): number;\n\n    /**\n     * Replaces the text of source given in ReplaceTextParams.\n     * @param params: ReplaceTextParams\n     */\n    replaceText(params: ReplaceTextParams): Promise<boolean>;\n\n    /**\n     * Execute edits on the editor.\n     * @param edits: edits created with `lsp.TextEdit.replace`, `lsp.TextEdit.insert`, `lsp.TextEdit.del`\n     */\n    executeEdits(edits: lsp.TextEdit[]): boolean;\n\n    storeViewState(): object;\n    restoreViewState(state: object): void;\n\n    detectLanguage(): void;\n    setLanguage(languageId: string): void;\n    readonly onLanguageChanged: Event<string>;\n\n    /**\n     * Gets the encoding of the input if known.\n     */\n    getEncoding(): string;\n\n    /**\n     * Sets the encoding for the input for saving.\n     */\n    setEncoding(encoding: string, mode: EncodingMode): void;\n\n    readonly onEncodingChanged: Event<string>;\n}\n\nexport interface Dimension {\n    width: number;\n    height: number;\n}\n\nexport interface TextEditorSelection {\n    uri: URI\n    cursor?: Position\n    selection?: Range\n}\n\nexport interface RevealPositionOptions {\n    vertical: 'auto' | 'center' | 'centerIfOutsideViewport';\n    horizontal?: boolean;\n}\n\nexport interface RevealRangeOptions {\n    at: 'auto' | 'center' | 'top' | 'centerIfOutsideViewport';\n}\n\nexport interface DeltaDecorationParams {\n    oldDecorations: string[];\n    newDecorations: EditorDecoration[];\n}\n\nexport interface ReplaceTextParams {\n    /**\n     * the source to edit\n     */\n    source: string;\n    /**\n     * the replace operations\n     */\n    replaceOperations: ReplaceOperation[];\n}\n\nexport interface ReplaceOperation {\n    /**\n     * the position that shall be replaced\n     */\n    range: Range;\n    /**\n     * the text to replace with\n     */\n    text: string;\n}\n\nexport namespace TextEditorSelection {\n    export function is(arg: unknown): arg is TextEditorSelection {\n        return isObject<TextEditorSelection>(arg) && arg.uri instanceof URI;\n    }\n}\n\nexport namespace CustomEditorWidget {\n    export function is(arg: Widget | undefined): arg is CustomEditorWidget {\n        return !!arg && 'modelRef' in arg;\n    }\n}\n\nexport interface CustomEditorWidget extends Widget {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    readonly modelRef: Reference<any>;\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { codicon, StatusBar, StatusBarAlignment, StatusBarEntry } from '@theia/core/lib/browser';\nimport { LanguageService } from '@theia/core/lib/browser/language-service';\nimport { CommandRegistry, nls } from '@theia/core';\nimport { TextEditor } from '../editor';\nimport { EditorCommands } from '../editor-command';\nimport { LanguageSelector, score } from '../../common/language-selector';\nimport { AccessibilityInformation } from '@theia/core/lib/common/accessibility';\nimport URI from '@theia/core/lib/common/uri';\nimport { CurrentEditorAccess } from '../editor-manager';\nimport { Severity } from '@theia/core/lib/common/severity';\nimport { LabelParser } from '@theia/core/lib/browser/label-parser';\n\n/**\n * Represents the severity of a language status item.\n */\nexport enum LanguageStatusSeverity {\n    Information = 0,\n    Warning = 1,\n    Error = 2\n}\n\n/**\n * Command represents a particular invocation of a registered command.\n */\nexport interface Command {\n    /**\n     * The identifier of the actual command handler.\n     */\n    id: string;\n    /**\n     * Title of the command invocation, like \"Add local variable 'foo'\".\n     */\n    title?: string;\n    /**\n     * A tooltip for for command, when represented in the UI.\n     */\n    tooltip?: string;\n    /**\n     * Arguments that the command handler should be\n     * invoked with.\n     */\n    arguments?: unknown[];\n}\n\n/**\n * A language status item is the preferred way to present language status reports for the active text editors,\n * such as selected linter or notifying about a configuration problem.\n */\nexport interface LanguageStatus {\n    readonly id: string;\n    readonly name: string;\n    readonly selector: LanguageSelector;\n    readonly severity: Severity;\n    readonly label: string;\n    readonly detail: string;\n    readonly busy: boolean;\n    readonly source: string;\n    readonly command: Command | undefined;\n    readonly accessibilityInfo: AccessibilityInformation | undefined;\n}\n\n@injectable()\nexport class EditorLanguageStatusService {\n    @inject(StatusBar) protected readonly statusBar: StatusBar;\n    @inject(LanguageService) protected readonly languages: LanguageService;\n    @inject(CurrentEditorAccess) protected readonly editorAccess: CurrentEditorAccess;\n    @inject(CommandRegistry) protected readonly commandRegistry: CommandRegistry;\n    @inject(LabelParser) protected readonly labelParser: LabelParser;\n    protected static LANGUAGE_MODE_ID = 'editor-status-language';\n    protected static LANGUAGE_STATUS_ID = 'editor-language-status-items';\n\n    protected readonly status = new Map<number, LanguageStatus>();\n    protected pinnedCommands = new Set<string>();\n\n    setLanguageStatusItem(handle: number, item: LanguageStatus): void {\n        this.status.set(handle, item);\n        this.updateLanguageStatusItems();\n    }\n\n    removeLanguageStatusItem(handle: number): void {\n        this.status.delete(handle);\n        this.updateLanguageStatusItems();\n    }\n\n    updateLanguageStatus(editor: TextEditor | undefined): void {\n        if (!editor) {\n            this.statusBar.removeElement(EditorLanguageStatusService.LANGUAGE_MODE_ID);\n            return;\n        }\n        const language = this.languages.getLanguage(editor.document.languageId);\n        const languageName = language ? language.name : '';\n        this.statusBar.setElement(EditorLanguageStatusService.LANGUAGE_MODE_ID, {\n            text: languageName,\n            alignment: StatusBarAlignment.RIGHT,\n            priority: 1,\n            command: EditorCommands.CHANGE_LANGUAGE.id,\n            tooltip: nls.localizeByDefault('Select Language Mode')\n        });\n        this.updateLanguageStatusItems(editor);\n    }\n\n    protected updateLanguageStatusItems(editor = this.editorAccess.editor): void {\n        if (!editor) {\n            this.statusBar.removeElement(EditorLanguageStatusService.LANGUAGE_STATUS_ID);\n            this.updatePinnedItems();\n            return;\n        }\n        const uri = new URI(editor.document.uri);\n        const items = Array.from(this.status.values())\n            .filter(item => score(item.selector, uri.scheme, uri.path.toString(), editor.document.languageId, true))\n            .sort((left, right) => right.severity - left.severity);\n        if (!items.length) {\n            this.statusBar.removeElement(EditorLanguageStatusService.LANGUAGE_STATUS_ID);\n            return;\n        }\n        const severityText = items[0].severity === Severity.Info\n            ? '$(bracket)'\n            : items[0].severity === Severity.Warning\n                ? '$(bracket-dot)'\n                : '$(bracket-error)';\n        this.statusBar.setElement(EditorLanguageStatusService.LANGUAGE_STATUS_ID, {\n            text: severityText,\n            alignment: StatusBarAlignment.RIGHT,\n            priority: 2,\n            tooltip: this.createTooltip(items),\n            affinity: { id: EditorLanguageStatusService.LANGUAGE_MODE_ID, alignment: StatusBarAlignment.LEFT, compact: true },\n        });\n        this.updatePinnedItems(items);\n    }\n\n    protected updatePinnedItems(items?: LanguageStatus[]): void {\n        const toRemoveFromStatusBar = new Set(this.pinnedCommands);\n        items?.forEach(item => {\n            if (toRemoveFromStatusBar.has(item.id)) {\n                toRemoveFromStatusBar.delete(item.id);\n                this.statusBar.setElement(item.id, this.toPinnedItem(item));\n            }\n        });\n        toRemoveFromStatusBar.forEach(id => this.statusBar.removeElement(id));\n    }\n\n    protected toPinnedItem(item: LanguageStatus): StatusBarEntry {\n        return {\n            text: item.label,\n            affinity: { id: EditorLanguageStatusService.LANGUAGE_MODE_ID, alignment: StatusBarAlignment.RIGHT, compact: false },\n            alignment: StatusBarAlignment.RIGHT,\n            onclick: item.command && (e => { e.preventDefault(); this.commandRegistry.executeCommand(item.command!.id, ...(item.command?.arguments ?? [])); }),\n        };\n    }\n\n    protected createTooltip(items: LanguageStatus[]): HTMLElement {\n        const hoverContainer = document.createElement('div');\n        hoverContainer.classList.add('hover-row');\n        for (const item of items) {\n            const itemContainer = document.createElement('div');\n            itemContainer.classList.add('hover-language-status');\n            {\n                const severityContainer = document.createElement('div');\n                severityContainer.classList.add('severity', `sev${item.severity}`);\n                severityContainer.classList.toggle('show', item.severity === Severity.Error || item.severity === Severity.Warning);\n                {\n                    const severityIcon = document.createElement('span');\n                    severityIcon.className = this.getSeverityIconClasses(item.severity);\n                    severityContainer.appendChild(severityIcon);\n                }\n                itemContainer.appendChild(severityContainer);\n            }\n            const textContainer = document.createElement('div');\n            textContainer.className = 'element';\n            const labelContainer = document.createElement('div');\n            labelContainer.className = 'left';\n            const label = document.createElement('span');\n            label.classList.add('label');\n            this.renderWithIcons(label, item.busy ? `$(sync~spin)\\u00A0\\u00A0${item.label}` : item.label);\n            labelContainer.appendChild(label);\n            const detail = document.createElement('span');\n            detail.classList.add('detail');\n            this.renderWithIcons(detail, item.detail);\n            labelContainer.appendChild(detail);\n            textContainer.appendChild(labelContainer);\n            const commandContainer = document.createElement('div');\n            commandContainer.classList.add('right');\n            if (item.command) {\n                const link = document.createElement('a');\n                link.classList.add('language-status-link');\n                link.href = new URI()\n                    .withScheme('command')\n                    .withPath(item.command.id)\n                    .withQuery(item.command.arguments ? encodeURIComponent(JSON.stringify(item.command.arguments)) : '')\n                    .toString(false);\n                link.onclick = e => { e.preventDefault(); this.commandRegistry.executeCommand(item.command!.id, ...(item.command?.arguments ?? [])); };\n                link.textContent = item.command.title ?? item.command.id;\n                link.title = item.command.tooltip ?? '';\n                link.ariaRoleDescription = 'button';\n                link.ariaDisabled = 'false';\n                commandContainer.appendChild(link);\n                const pinContainer = document.createElement('div');\n                pinContainer.classList.add('language-status-action-bar');\n                const pin = document.createElement('a');\n                this.setPinProperties(pin, item.id);\n                pin.onclick = e => { e.preventDefault(); this.togglePinned(item); this.setPinProperties(pin, item.id); };\n                pinContainer.appendChild(pin);\n                commandContainer.appendChild(pinContainer);\n            }\n            textContainer.appendChild(commandContainer);\n            itemContainer.append(textContainer);\n            hoverContainer.appendChild(itemContainer);\n        }\n        return hoverContainer;\n    }\n\n    protected setPinProperties(pin: HTMLElement, id: string): void {\n        pin.className = this.pinnedCommands.has(id) ? codicon('pinned', true) : codicon('pin', true);\n        pin.ariaRoleDescription = 'button';\n        const pinText = this.pinnedCommands.has(id)\n            ? nls.localizeByDefault('Remove from Status Bar')\n            : nls.localizeByDefault('Add to Status Bar');\n        pin.ariaLabel = pinText;\n        pin.title = pinText;\n    }\n\n    protected togglePinned(item: LanguageStatus): void {\n        if (this.pinnedCommands.has(item.id)) {\n            this.pinnedCommands.delete(item.id);\n            this.statusBar.removeElement(item.id);\n        } else {\n            this.pinnedCommands.add(item.id);\n            this.statusBar.setElement(item.id, this.toPinnedItem(item));\n        }\n    }\n\n    protected getSeverityIconClasses(severity: Severity): string {\n        switch (severity) {\n            case Severity.Error: return codicon('error');\n            case Severity.Warning: return codicon('info');\n            default: return codicon('check');\n        }\n    }\n\n    protected renderWithIcons(host: HTMLElement, text?: string): void {\n        if (text) {\n            for (const chunk of this.labelParser.parse(text)) {\n                if (typeof chunk === 'string') {\n                    host.append(chunk);\n                } else {\n                    const iconSpan = document.createElement('span');\n                    const className = codicon(chunk.name) + (chunk.animation ? ` fa-${chunk.animation}` : '');\n                    iconSpan.className = className;\n                    host.append(iconSpan);\n                }\n            }\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '@theia/core/shared/inversify';\nimport { ILogger } from '@theia/core/lib/common/logger';\nimport { OpenerService, OpenerOptions, open } from '@theia/core/lib/browser/opener-service';\nimport { EditorOpenerOptions } from '../editor-manager';\nimport { NavigationLocationUpdater } from './navigation-location-updater';\nimport { NavigationLocationSimilarity } from './navigation-location-similarity';\nimport { NavigationLocation, Range, ContentChangeLocation, RecentlyClosedEditor } from './navigation-location';\nimport URI from '@theia/core/lib/common/uri';\n\n/**\n * The navigation location service.\n * It also stores and manages navigation locations and recently closed editors.\n */\n@injectable()\nexport class NavigationLocationService {\n\n    private static MAX_STACK_ITEMS = 30;\n    private static readonly MAX_RECENTLY_CLOSED_EDITORS = 20;\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    @inject(NavigationLocationUpdater)\n    protected readonly updater: NavigationLocationUpdater;\n\n    @inject(NavigationLocationSimilarity)\n    protected readonly similarity: NavigationLocationSimilarity;\n\n    protected pointer = -1;\n    protected stack: NavigationLocation[] = [];\n    protected canRegister = true;\n    protected _lastEditLocation: ContentChangeLocation | undefined;\n\n    protected recentlyClosedEditors: RecentlyClosedEditor[] = [];\n\n    /**\n     * Registers the give locations into the service.\n     */\n    register(...locations: NavigationLocation[]): void {\n        if (this.canRegister) {\n            const max = this.maxStackItems();\n            [...locations].forEach(location => {\n                if (ContentChangeLocation.is(location)) {\n                    this._lastEditLocation = location;\n                }\n                const current = this.currentLocation();\n                this.debug(`Registering new location: ${NavigationLocation.toString(location)}.`);\n                if (!this.isSimilar(current, location)) {\n                    this.debug('Before location registration.');\n                    this.debug(this.stackDump);\n                    // Just like in VSCode; if we are not at the end of stack, we remove anything after.\n                    if (this.stack.length > this.pointer + 1) {\n                        this.debug(`Discarding all locations after ${this.pointer}.`);\n                        this.stack = this.stack.slice(0, this.pointer + 1);\n                    }\n                    this.stack.push(location);\n                    this.pointer = this.stack.length - 1;\n                    if (this.stack.length > max) {\n                        this.debug('Trimming exceeding locations.');\n                        this.stack.shift();\n                        this.pointer--;\n                    }\n                    this.debug('Updating preceding navigation locations.');\n                    for (let i = this.stack.length - 1; i >= 0; i--) {\n                        const candidate = this.stack[i];\n                        const update = this.updater.affects(candidate, location);\n                        if (update === undefined) {\n                            this.debug(`Erasing obsolete location: ${NavigationLocation.toString(candidate)}.`);\n                            this.stack.splice(i, 1);\n                            this.pointer--;\n                        } else if (typeof update !== 'boolean') {\n                            this.debug(`Updating location at index: ${i} => ${NavigationLocation.toString(candidate)}.`);\n                            this.stack[i] = update;\n                        }\n                    }\n                    this.debug('After location registration.');\n                    this.debug(this.stackDump);\n                } else {\n                    if (current) {\n                        this.debug(`The new location ${NavigationLocation.toString(location)} is similar to the current one: ${NavigationLocation.toString(current)}. Aborting.`);\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * Navigates one back. Returns with the previous location, or `undefined` if it could not navigate back.\n     */\n    async back(): Promise<NavigationLocation | undefined> {\n        this.debug('Navigating back.');\n        if (this.canGoBack()) {\n            this.pointer--;\n            await this.reveal();\n            this.debug(this.stackDump);\n            return this.currentLocation();\n        }\n        this.debug('Cannot navigate back.');\n        return undefined;\n    }\n\n    /**\n     * Navigates one forward. Returns with the next location, or `undefined` if it could not go forward.\n     */\n    async forward(): Promise<NavigationLocation | undefined> {\n        this.debug('Navigating forward.');\n        if (this.canGoForward()) {\n            this.pointer++;\n            await this.reveal();\n            this.debug(this.stackDump);\n            return this.currentLocation();\n        }\n        this.debug('Cannot navigate forward.');\n        return undefined;\n    }\n\n    /**\n     * Checks whether the service can go [`back`](#back).\n     */\n    canGoBack(): boolean {\n        return this.pointer >= 1;\n    }\n\n    /**\n     * Checks whether the service can go [`forward`](#forward).\n     */\n    canGoForward(): boolean {\n        return this.pointer >= 0 && this.pointer !== this.stack.length - 1;\n    }\n\n    /**\n     * Returns with all known navigation locations in chronological order.\n     */\n    locations(): ReadonlyArray<NavigationLocation> {\n        return this.stack;\n    }\n\n    /**\n     * Returns with the current location.\n     */\n    currentLocation(): NavigationLocation | undefined {\n        return this.stack[this.pointer];\n    }\n\n    /**\n     * Returns with the location of the most recent edition if any. If there were no modifications,\n     * returns `undefined`.\n     */\n    lastEditLocation(): NavigationLocation | undefined {\n        return this._lastEditLocation;\n    }\n\n    /**\n     * Clears the total history.\n     */\n    clearHistory(): void {\n        this.stack = [];\n        this.pointer = -1;\n        this._lastEditLocation = undefined;\n        this.recentlyClosedEditors = [];\n    }\n\n    /**\n     * Reveals the location argument. If not given, reveals the `current location`. Does nothing, if the argument is `undefined`.\n     */\n    async reveal(location: NavigationLocation | undefined = this.currentLocation()): Promise<void> {\n        if (location === undefined) {\n            return;\n        }\n        try {\n            this.canRegister = false;\n            const { uri } = location;\n            const options = this.toOpenerOptions(location);\n            await open(this.openerService, uri, options);\n        } catch (e) {\n            this.logger.error(`Error occurred while revealing location: ${NavigationLocation.toString(location)}.`, e);\n        } finally {\n            this.canRegister = true;\n        }\n    }\n\n    /**\n     * `true` if the two locations are similar.\n     */\n    protected isSimilar(left: NavigationLocation | undefined, right: NavigationLocation | undefined): boolean {\n        return this.similarity.similar(left, right);\n    }\n\n    /**\n     * Returns with the number of navigation locations that the application can handle and manage.\n     * When the number of locations exceeds this number, old locations will be erased.\n     */\n    protected maxStackItems(): number {\n        return NavigationLocationService.MAX_STACK_ITEMS;\n    }\n\n    /**\n     * Returns with the opener option for the location argument.\n     */\n    protected toOpenerOptions(location: NavigationLocation): OpenerOptions {\n        let { start } = NavigationLocation.range(location);\n        // Here, the `start` and represents the previous state that has been updated with the `text`.\n        // So we calculate the range by appending the `text` length to the `start`.\n        if (ContentChangeLocation.is(location)) {\n            start = { ...start, character: start.character + location.context.text.length };\n        }\n        return {\n            selection: Range.create(start, start)\n        } as EditorOpenerOptions;\n    }\n\n    private async debug(message: string | (() => string)): Promise<void> {\n        this.logger.trace(typeof message === 'string' ? message : message());\n    }\n\n    private get stackDump(): string {\n        return `----- Navigation location stack [${new Date()}] -----\nPointer: ${this.pointer}\n${this.stack.map((location, i) => `${i}: ${JSON.stringify(NavigationLocation.toObject(location))}`).join('\\n')}\n----- o -----`;\n    }\n\n    /**\n     * Get the recently closed editors stack in chronological order.\n     *\n     * @returns readonly closed editors stack.\n     */\n    get closedEditorsStack(): ReadonlyArray<RecentlyClosedEditor> {\n        return this.recentlyClosedEditors;\n    }\n\n    /**\n     * Get the last recently closed editor.\n     *\n     * @returns the recently closed editor if it exists.\n     */\n    getLastClosedEditor(): RecentlyClosedEditor | undefined {\n        return this.recentlyClosedEditors[this.recentlyClosedEditors.length - 1];\n    }\n\n    /**\n     * Add the recently closed editor to the history.\n     *\n     * @param editor the recently closed editor.\n     */\n    addClosedEditor(editor: RecentlyClosedEditor): void {\n        this.removeClosedEditor(editor.uri);\n        this.recentlyClosedEditors.push(editor);\n\n        // Removes the oldest entry from the history if the maximum size is reached.\n        if (this.recentlyClosedEditors.length > NavigationLocationService.MAX_RECENTLY_CLOSED_EDITORS) {\n            this.recentlyClosedEditors.shift();\n        }\n    }\n\n    /**\n     * Remove all occurrences of the given editor in the history if they exist.\n     *\n     * @param uri the uri of the editor that should be removed from the history.\n     */\n    removeClosedEditor(uri: URI): void {\n        this.recentlyClosedEditors = this.recentlyClosedEditors.filter(e => !uri.isEqual(e.uri));\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { NavigationLocation } from './navigation-location';\n\n/**\n * Service for checking whether two navigation locations are similar or not.\n */\n@injectable()\nexport class NavigationLocationSimilarity {\n\n    /**\n     * The number of lines to move in the editor to justify for new state.\n     */\n    private static EDITOR_SELECTION_THRESHOLD = 10;\n\n    /**\n     * `true` if the `left` and `right` locations are withing +- 10 lines in the same editor. Otherwise, `false`.\n     */\n    similar(left: NavigationLocation | undefined, right: NavigationLocation | undefined): boolean {\n        if (left === undefined || right === undefined) {\n            return left === right;\n        }\n\n        if (left.uri.toString() !== right.uri.toString()) {\n            return false;\n        }\n\n        const leftRange = NavigationLocation.range(left);\n        const rightRange = NavigationLocation.range(right);\n        if (leftRange === undefined || rightRange === undefined) {\n            return leftRange === rightRange;\n        }\n\n        const leftLineNumber = Math.min(leftRange.start.line, leftRange.end.line);\n        const rightLineNumber = Math.min(rightRange.start.line, rightRange.end.line);\n        return Math.abs(leftLineNumber - rightLineNumber) < this.getThreshold();\n    }\n\n    protected getThreshold(): number {\n        return NavigationLocationSimilarity.EDITOR_SELECTION_THRESHOLD;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { NavigationLocation, ContentChangeLocation, CursorLocation, SelectionLocation, Position, Range } from './navigation-location';\n\n/**\n * A navigation location updater that is responsible for adapting editor navigation locations.\n *\n * 1. Inserting or deleting text before the position shifts the position accordingly.\n * 2. Inserting text at the position offset shifts the position accordingly.\n * 3. Inserting or deleting text strictly contained by the position shrinks or stretches the position.\n * 4. Inserting or deleting text after a position does not affect the position.\n * 5. Deleting text which strictly contains the position deletes the position.\n * Note that the position is not deleted if its only shrunken to length zero. To delete a position, the modification must delete from\n * strictly before to strictly after the position.\n * 6. Replacing text contained by the position shrinks or expands the position (but does not shift it), such that the final position\n * contains the original position and the replacing text.\n * 7. Replacing text overlapping the position in other ways is considered as a sequence of first deleting the replaced text and\n * afterwards inserting the new text. Thus, a position is shrunken and can then be shifted (if the replaced text overlaps the offset of the position).\n */\n@injectable()\nexport class NavigationLocationUpdater {\n\n    /**\n     * Checks whether `candidateLocation` has to be updated when applying `other`.\n     *  - `false` if the `other` does not affect the `candidateLocation`.\n     *  - A `NavigationLocation` object if the `candidateLocation` has to be replaced with the return value.\n     *  - `undefined` if the candidate has to be deleted.\n     *\n     * If the `otherLocation` is not a `ContentChangeLocation` or it does not contain any actual content changes, this method returns with `false`\n     */\n    affects(candidateLocation: NavigationLocation, otherLocation: NavigationLocation): false | NavigationLocation | undefined {\n        if (!ContentChangeLocation.is(otherLocation)) {\n            return false;\n        }\n        if (candidateLocation.uri.toString() !== otherLocation.uri.toString()) {\n            return false;\n        }\n\n        const candidate = NavigationLocation.range(candidateLocation);\n        const other = NavigationLocation.range(otherLocation);\n        if (candidate === undefined || other === undefined) {\n            return false;\n        }\n\n        const { uri, type } = candidateLocation;\n        const modification = otherLocation.context.text;\n        const newLineCount = modification.split(/[\\n\\r]/g).length - 1;\n\n        // Spec (1. and 2.)\n        if (other.end.line < candidate.start.line\n            || (other.end.line === candidate.start.line && other.end.character <= candidate.start.character)) {\n\n            // Shortcut for the general case. The user is typing above the candidate range. Nothing to do.\n            if (other.start.line === other.end.line && newLineCount === 0) {\n                return false;\n            }\n\n            const lineDiff = other.start.line - other.end.line + newLineCount;\n            let startCharacter = candidate.start.character;\n            let endCharacter = candidate.end.character;\n\n            if (other.start.line !== other.end.line) {\n                startCharacter = other.start.character + (candidate.start.character - other.end.character) + (modification.length - (modification.lastIndexOf('\\n') + 1));\n                endCharacter = candidate.start.line === candidate.end.line\n                    ? candidate.end.character + startCharacter - candidate.start.character\n                    : candidate.end.character;\n            }\n\n            const context = this.handleBefore(candidateLocation, other, lineDiff, startCharacter, endCharacter);\n            return {\n                uri,\n                type,\n                context\n            };\n        }\n\n        // Spec (3.,  5., and 6.)\n        if (this.contained(other, candidate)) {\n            const endLine = candidate.end.line - other.end.line + candidate.start.line + newLineCount;\n            let endCharacter = candidate.end.character - (other.end.character - other.start.character) + modification.length;\n\n            if (newLineCount > 0) {\n                if (candidate.end.line === other.end.line) {\n                    endCharacter = modification.length - (modification.lastIndexOf('\\n') + 1) + (candidate.end.character - other.end.character);\n                } else {\n                    endCharacter = endCharacter - 1;\n                }\n            }\n\n            const context = this.handleInside(candidateLocation, endLine, endCharacter);\n            return {\n                uri,\n                type,\n                context\n            };\n        }\n\n        // Spec (5.)\n        if (other.start.line === candidate.start.line && other.start.character === candidate.start.character\n            && (other.end.line > candidate.end.line || (other.end.line === candidate.end.line && other.end.character > candidate.end.character))) {\n            return undefined;\n        }\n\n        // Spec (4.)\n        if (candidate.end.line < other.start.line\n            || (candidate.end.line === other.start.line && candidate.end.character < other.end.character)) {\n            return false;\n        }\n\n        return false;\n    }\n\n    protected handleInside(candidate: NavigationLocation, endLine: number, endCharacter: number): NavigationLocation.Context {\n        if (CursorLocation.is(candidate)) {\n            throw new Error('Modifications are not allowed inside a cursor location.');\n        }\n        const { start } = NavigationLocation.range(candidate);\n        const range = {\n            start,\n            end: {\n                line: endLine,\n                character: endCharacter\n            }\n        };\n        if (SelectionLocation.is(candidate)) {\n            return range;\n        }\n        if (ContentChangeLocation.is(candidate)) {\n            const { rangeLength, text } = candidate.context;\n            return {\n                range,\n                rangeLength,\n                text\n            };\n        }\n        throw new Error(`Unexpected navigation location: ${NavigationLocation.toString(candidate)}.`);\n    }\n\n    protected handleBefore(candidate: NavigationLocation, modification: Range, lineDiff: number, startCharacter: number, endCharacter: number): NavigationLocation.Context {\n        let range = NavigationLocation.range(candidate);\n        range = this.shiftLine(range, lineDiff);\n        range = {\n            start: {\n                line: range.start.line,\n                character: startCharacter\n            },\n            end: {\n                line: range.end.line,\n                character: endCharacter\n            }\n        };\n        if (CursorLocation.is(candidate)) {\n            return range.start;\n        }\n        if (SelectionLocation.is(candidate)) {\n            return range;\n        }\n        if (ContentChangeLocation.is(candidate)) {\n            const { rangeLength, text } = candidate.context;\n            return {\n                range,\n                rangeLength,\n                text\n            };\n        }\n        throw new Error(`Unexpected navigation location: ${NavigationLocation.toString(candidate)}.`);\n    }\n\n    protected shiftLine(position: Position, diff: number): Position;\n    protected shiftLine(range: Range, diff: number): Range;\n    protected shiftLine(input: Position | Range, diff: number): Position | Range {\n        if (Position.is(input)) {\n            const { line, character } = input;\n            return {\n                line: line + diff,\n                character\n            };\n        }\n        const { start, end } = input;\n        return {\n            start: this.shiftLine(start, diff),\n            end: this.shiftLine(end, diff)\n        };\n    }\n\n    /**\n     * `true` if `subRange` is strictly contained in the `range`. Otherwise, `false`.\n     */\n    protected contained(subRange: Range, range: Range): boolean {\n        if (subRange.start.line > range.start.line && subRange.end.line < range.end.line) {\n            return true;\n        }\n        if (subRange.start.line < range.start.line || subRange.end.line > range.end.line) {\n            return false;\n        }\n        if (subRange.start.line === range.start.line && subRange.start.character < range.start.character) {\n            return false;\n        }\n        if (subRange.end.line === range.end.line && subRange.end.character > range.end.character) {\n            return false;\n        }\n        return true;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '@theia/core/lib/common/uri';\nimport { Position, Range, TextDocumentContentChangeDelta } from '../editor';\nexport { Position, Range };\n\nexport namespace NavigationLocation {\n\n    /**\n     * The navigation location type.\n     */\n    export enum Type {\n\n        /**\n         * Cursor position change type.\n         */\n        CURSOR,\n\n        /**\n         * Text selection change type.\n         */\n        SELECTION,\n\n        /**\n         * Content change type.\n         */\n        CONTENT_CHANGE\n\n    }\n\n    /**\n     * The type of the context for the navigation location.\n     */\n    export type Context = Position | Range | TextDocumentContentChangeDelta;\n\n    export namespace Context {\n\n        /**\n         * Returns with the type for the context.\n         */\n        export function getType(context: Context): Type {\n            if (Position.is(context)) {\n                return Type.CURSOR;\n            }\n            if (Range.is(context)) {\n                return Type.SELECTION;\n            }\n            if (TextDocumentContentChangeDelta.is(context)) {\n                return Type.CONTENT_CHANGE;\n            }\n            throw new Error(`Unexpected context for type: ${context}.`);\n        }\n\n    }\n\n}\n\n/**\n * Representation of a navigation location in a text editor.\n */\nexport interface NavigationLocation {\n\n    /**\n     * The URI of the resource opened in the editor.\n     */\n    readonly uri: URI;\n\n    /**\n     * The type of the navigation location.\n     */\n    readonly type: NavigationLocation.Type;\n\n    /**\n     * Context of the navigation location.\n     */\n    readonly context: NavigationLocation.Context;\n\n}\n\nexport namespace NavigationLocation {\n\n    /**\n     * Transforms the location into an object that can be safely serialized.\n     */\n    export function toObject(location: NavigationLocation): object {\n        const { uri, type } = location;\n        const context = (() => {\n            if (CursorLocation.is(location)) {\n                return CursorLocation.toObject(location.context);\n            }\n            if (SelectionLocation.is(location)) {\n                return SelectionLocation.toObject(location.context);\n            }\n            if (ContentChangeLocation.is(location)) {\n                return ContentChangeLocation.toObject(location.context);\n            }\n        })();\n        return {\n            uri: uri.toString(),\n            type,\n            context\n        };\n    }\n\n    /**\n     * Returns with the navigation location object from its serialized counterpart.\n     */\n    export function fromObject(object: Partial<NavigationLocation>): NavigationLocation | undefined {\n        const { uri, type } = object;\n        if (uri !== undefined && type !== undefined && object.context !== undefined) {\n            const context = (() => {\n                switch (type) {\n                    case NavigationLocation.Type.CURSOR: return CursorLocation.fromObject(object.context as Position);\n                    case NavigationLocation.Type.SELECTION: return SelectionLocation.fromObject(object.context as Range);\n                    case NavigationLocation.Type.CONTENT_CHANGE: return ContentChangeLocation.fromObject(object.context as TextDocumentContentChangeDelta);\n                }\n            })();\n            if (context) {\n                return {\n                    uri: toUri(uri),\n                    context,\n                    type\n                };\n            }\n        }\n        return undefined;\n    }\n\n    /**\n     * Returns with the context of the location as a `Range`.\n     */\n    export function range(location: NavigationLocation): Range {\n        if (CursorLocation.is(location)) {\n            return Range.create(location.context, location.context);\n        }\n        if (SelectionLocation.is(location)) {\n            return location.context;\n        }\n        if (ContentChangeLocation.is(location)) {\n            return location.context.range;\n        }\n        throw new Error(`Unexpected navigation location: ${location}.`);\n    }\n\n    /**\n     * Creates a new cursor location.\n     */\n    export function create(uri: URI | { uri: URI } | string, context: Position): CursorLocation;\n\n    /**\n     * Creates a new selection location.\n     */\n    export function create(uri: URI | { uri: URI } | string, context: Range): SelectionLocation;\n\n    /**\n     * Creates a new text content change location type.\n     */\n    export function create(uri: URI | { uri: URI } | string, context: TextDocumentContentChangeDelta): ContentChangeLocation;\n\n    /**\n     * Creates a new navigation location object.\n     */\n    export function create(uri: URI | { uri: URI } | string, context: NavigationLocation.Context): NavigationLocation {\n        const type = NavigationLocation.Context.getType(context);\n        return {\n            uri: toUri(uri),\n            type,\n            context\n        };\n    }\n\n    /**\n     * Returns with the human-consumable (JSON) string representation of the location argument.\n     */\n    export function toString(location: NavigationLocation): string {\n        return JSON.stringify(toObject(location));\n    }\n\n}\n\nfunction toUri(arg: URI | { uri: URI } | string): URI {\n    if (arg instanceof URI) {\n        return arg;\n    }\n    if (typeof arg === 'string') {\n        return new URI(arg);\n    }\n    return arg.uri;\n}\n\n/**\n * Representation of a closed editor.\n */\nexport interface RecentlyClosedEditor {\n\n    /**\n     * The uri of the closed editor.\n     */\n    readonly uri: URI,\n\n    /**\n     * The serializable view state of the closed editor.\n     */\n    readonly viewState: object\n\n}\n\nexport namespace RecentlyClosedEditor {\n\n    /**\n     * Transform a RecentlyClosedEditor into an object for storing.\n     *\n     * @param closedEditor the editor needs to be transformed.\n     */\n    export function toObject(closedEditor: RecentlyClosedEditor): object {\n        const { uri, viewState } = closedEditor;\n        return {\n            uri: uri.toString(),\n            viewState: viewState\n        };\n    }\n\n    /**\n     * Transform the given object to a RecentlyClosedEditor object if possible.\n     */\n    export function fromObject(object: Partial<RecentlyClosedEditor>): RecentlyClosedEditor | undefined {\n        const { uri, viewState } = object;\n        if (uri !== undefined && viewState !== undefined) {\n            return {\n                uri: toUri(uri),\n                viewState: viewState\n            };\n        }\n        return undefined;\n    }\n\n}\n\n/**\n * Navigation location representing the cursor location change.\n */\nexport interface CursorLocation extends NavigationLocation {\n\n    /**\n     * The type is always `cursor`.\n     */\n    readonly type: NavigationLocation.Type.CURSOR;\n\n    /**\n     * The context for the location, that is always a position.\n     */\n    readonly context: Position;\n\n}\n\nexport namespace CursorLocation {\n\n    /**\n     * `true` if the argument is a cursor location. Otherwise, `false`.\n     */\n    export function is(location: NavigationLocation): location is CursorLocation {\n        return location.type === NavigationLocation.Type.CURSOR;\n    }\n\n    /**\n     * Returns with the serialized format of the position argument.\n     */\n    export function toObject(context: Position): object {\n        const { line, character } = context;\n        return {\n            line,\n            character\n        };\n    }\n\n    /**\n     * Returns with the position from its serializable counterpart, or `undefined`.\n     */\n    export function fromObject(object: Partial<Position>): Position | undefined {\n        if (object.line !== undefined && object.character !== undefined) {\n            const { line, character } = object;\n            return {\n                line,\n                character\n            };\n        }\n        return undefined;\n    }\n\n}\n\n/**\n * Representation of a selection location.\n */\nexport interface SelectionLocation extends NavigationLocation {\n\n    /**\n     * The `selection` type.\n     */\n    readonly type: NavigationLocation.Type.SELECTION;\n\n    /**\n     * The context of the selection; a range.\n     */\n    readonly context: Range;\n\n}\n\nexport namespace SelectionLocation {\n\n    /**\n     * `true` if the argument is a selection location.\n     */\n    export function is(location: NavigationLocation): location is SelectionLocation {\n        return location.type === NavigationLocation.Type.SELECTION;\n    }\n\n    /**\n     * Converts the range argument into a serializable object.\n     */\n    export function toObject(context: Range): object {\n        const { start, end } = context;\n        return {\n            start: CursorLocation.toObject(start),\n            end: CursorLocation.toObject(end)\n        };\n    }\n\n    /**\n     * Creates a range object from its serializable counterpart. Returns with `undefined` if the argument cannot be converted into a range.\n     */\n    export function fromObject(object: Partial<Range>): Range | undefined {\n        if (!!object.start && !!object.end) {\n            const start = CursorLocation.fromObject(object.start);\n            const end = CursorLocation.fromObject(object.end);\n            if (start && end) {\n                return {\n                    start,\n                    end\n                };\n            }\n        }\n        return undefined;\n    }\n}\n\n/**\n * Content change location type.\n */\nexport interface ContentChangeLocation extends NavigationLocation {\n\n    /**\n     * The type, that is always `content change`.\n     */\n    readonly type: NavigationLocation.Type.CONTENT_CHANGE;\n\n    /**\n     * A text document content change deltas as the context.\n     */\n    readonly context: TextDocumentContentChangeDelta;\n\n}\n\nexport namespace ContentChangeLocation {\n\n    /**\n     * `true` if the argument is a content change location. Otherwise, `false`.\n     */\n    export function is(location: NavigationLocation): location is ContentChangeLocation {\n        return location.type === NavigationLocation.Type.CONTENT_CHANGE;\n    }\n\n    /**\n     * Returns with a serializable object representing the arguments.\n     */\n    export function toObject(context: TextDocumentContentChangeDelta): object {\n        return {\n            range: SelectionLocation.toObject(context.range),\n            rangeLength: context.rangeLength,\n            text: context.text\n        };\n    }\n\n    /**\n     * Returns with a text document change delta for the argument. `undefined` if the argument cannot be mapped to a content change delta.\n     */\n    export function fromObject(object: Partial<TextDocumentContentChangeDelta>): TextDocumentContentChangeDelta | undefined {\n        if (!!object.range && object.rangeLength !== undefined && object.text !== undefined) {\n            const range = SelectionLocation.fromObject(object.range!);\n            const rangeLength = object.rangeLength;\n            const text = object.text;\n            if (!!range) {\n                return {\n                    range,\n                    rangeLength: rangeLength!,\n                    text: text!\n                };\n            }\n        } else {\n            return undefined;\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { CancellationToken, nls, QuickPickItemOrSeparator } from '@theia/core/lib/common';\nimport { LabelProvider } from '@theia/core/lib/browser/label-provider';\nimport { QuickAccessProvider, QuickAccessRegistry, QuickAccessContribution } from '@theia/core/lib/browser/quick-input/quick-access';\nimport { filterItems, QuickPickItem, QuickPickSeparator } from '@theia/core/lib/browser/quick-input/quick-input-service';\nimport { ApplicationShell, NavigatableWidget, TabBar, Widget } from '@theia/core/lib/browser';\n\n@injectable()\nexport class QuickEditorService implements QuickAccessContribution, QuickAccessProvider {\n    static PREFIX = 'edt ';\n\n    @inject(LabelProvider) protected readonly labelProvider: LabelProvider;\n    @inject(QuickAccessRegistry) protected readonly quickAccessRegistry: QuickAccessRegistry;\n    @inject(ApplicationShell) protected readonly shell: ApplicationShell;\n\n    protected groupLocalizations: string[] = [];\n\n    registerQuickAccessProvider(): void {\n        this.quickAccessRegistry.registerQuickAccessProvider({\n            getInstance: () => this,\n            prefix: QuickEditorService.PREFIX,\n            placeholder: '',\n            helpEntries: [{ description: 'Show All Opened Editors', needsEditor: false }]\n        });\n    }\n\n    getPicks(filter: string, token: CancellationToken): (QuickPickItem | QuickPickSeparator)[] {\n        const editorItems: QuickPickItemOrSeparator[] = [];\n        const hasUri = (widget: Widget): widget is NavigatableWidget => Boolean(NavigatableWidget.getUri(widget));\n        const handleWidgets = (widgets: NavigatableWidget[], label: string) => {\n            if (widgets.length) {\n                editorItems.push({ type: 'separator', label });\n            }\n            editorItems.push(...widgets.map(widget => this.toItem(widget)));\n        };\n        const handleSplittableArea = (tabbars: TabBar<Widget>[], labelPrefix: string) => {\n            tabbars.forEach((tabbar, index) => {\n                const editorsOnTabbar = tabbar.titles.reduce<NavigatableWidget[]>((widgets, title) => {\n                    if (hasUri(title.owner)) {\n                        widgets.push(title.owner);\n                    }\n                    return widgets;\n                }, []);\n                const label = tabbars.length > 1 ? `${labelPrefix} ${this.getGroupLocalization(index)}` : labelPrefix;\n                handleWidgets(editorsOnTabbar, label);\n            });\n        };\n\n        handleSplittableArea(this.shell.mainAreaTabBars, ApplicationShell.areaLabels.main);\n        handleSplittableArea(this.shell.bottomAreaTabBars, ApplicationShell.areaLabels.bottom);\n\n        for (const area of ['left', 'right'] as ApplicationShell.Area[]) {\n            const editorsInArea = this.shell.getWidgets(area).filter(hasUri);\n            handleWidgets(editorsInArea, ApplicationShell.areaLabels[area]);\n        }\n\n        return filterItems(editorItems.slice(), filter);\n    }\n\n    protected getGroupLocalization(index: number): string {\n        return this.groupLocalizations[index] || nls.localizeByDefault('Group {0}', index + 1);\n    }\n\n    protected toItem(widget: NavigatableWidget): QuickPickItem {\n        const uri = NavigatableWidget.getUri(widget)!;\n        const icon = this.labelProvider.getIcon(uri);\n        const iconClasses = icon === '' ? undefined : [icon + ' file-icon'];\n\n        return {\n            label: this.labelProvider.getName(uri),\n            description: this.labelProvider.getDetails(uri),\n            iconClasses,\n            ariaLabel: uri.path.fsPath(),\n            alwaysShow: true,\n            execute: () => this.shell.activateWidget(widget.id),\n        };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// copied and modified from https://github.com/microsoft/vscode/blob/53eac52308c4611000a171cc7bf1214293473c78/src/vs/platform/undoRedo/common/undoRedoService.ts#\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\n\n@injectable()\nexport class UndoRedoService {\n    private readonly editStacks = new Map<string, ResourceEditStack>();\n\n    pushElement(resource: URI, undo: () => Promise<void>, redo: () => Promise<void>): void {\n        let editStack: ResourceEditStack;\n        if (this.editStacks.has(resource.toString())) {\n            editStack = this.editStacks.get(resource.toString())!;\n        } else {\n            editStack = new ResourceEditStack();\n            this.editStacks.set(resource.toString(), editStack);\n        }\n\n        editStack.pushElement({ undo, redo });\n    }\n\n    removeElements(resource: URI): void {\n        if (this.editStacks.has(resource.toString())) {\n            this.editStacks.delete(resource.toString());\n        }\n    }\n\n    undo(resource: URI): void {\n        if (!this.editStacks.has(resource.toString())) {\n            return;\n        }\n\n        const editStack = this.editStacks.get(resource.toString())!;\n        const element = editStack.getClosestPastElement();\n        if (!element) {\n            return;\n        }\n\n        editStack.moveBackward(element);\n        element.undo();\n    }\n\n    redo(resource: URI): void {\n        if (!this.editStacks.has(resource.toString())) {\n            return;\n        }\n\n        const editStack = this.editStacks.get(resource.toString())!;\n        const element = editStack.getClosestFutureElement();\n        if (!element) {\n            return;\n        }\n\n        editStack.moveForward(element);\n        element.redo();\n    }\n}\n\ninterface StackElement {\n    undo(): Promise<void> | void;\n    redo(): Promise<void> | void;\n}\n\nexport class ResourceEditStack {\n    private past: StackElement[];\n    private future: StackElement[];\n\n    constructor() {\n        this.past = [];\n        this.future = [];\n    }\n\n    pushElement(element: StackElement): void {\n        this.future = [];\n        this.past.push(element);\n    }\n\n    getClosestPastElement(): StackElement | undefined {\n        if (this.past.length === 0) {\n            return undefined;\n        }\n        return this.past[this.past.length - 1];\n    }\n\n    getClosestFutureElement(): StackElement | undefined {\n        if (this.future.length === 0) {\n            return undefined;\n        }\n        return this.future[this.future.length - 1];\n    }\n\n    moveBackward(element: StackElement): void {\n        this.past.pop();\n        this.future.push(element);\n    }\n\n    moveForward(element: StackElement): void {\n        this.future.pop();\n        this.past.push(element);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { match as matchGlobPattern } from '@theia/core/lib/common/glob';\n\nexport interface RelativePattern {\n    base: string;\n    pattern: string;\n    pathToRelative(from: string, to: string): string;\n}\n\nexport interface LanguageFilter {\n    language?: string;\n    scheme?: string;\n    pattern?: string | RelativePattern;\n    hasAccessToAllModels?: boolean;\n}\nexport type LanguageSelector = string | LanguageFilter | (string | LanguageFilter)[];\n\nexport function score(selector: LanguageSelector | undefined, uriScheme: string, path: string, candidateLanguage: string, candidateIsSynchronized: boolean): number {\n\n    if (Array.isArray(selector)) {\n        let ret = 0;\n        for (const filter of selector) {\n            const value = score(filter, uriScheme, path, candidateLanguage, candidateIsSynchronized);\n            if (value === 10) {\n                return value;\n            }\n            if (value > ret) {\n                ret = value;\n            }\n        }\n        return ret;\n\n    } else if (typeof selector === 'string') {\n\n        if (!candidateIsSynchronized) {\n            return 0;\n        }\n\n        if (selector === '*') {\n            return 5;\n        } else if (selector === candidateLanguage) {\n            return 10;\n        } else {\n            return 0;\n        }\n\n    } else if (selector) {\n        const { language, pattern, scheme, hasAccessToAllModels } = selector;\n\n        if (!candidateIsSynchronized && !hasAccessToAllModels) {\n            return 0;\n        }\n\n        let result = 0;\n\n        if (scheme) {\n            if (scheme === uriScheme) {\n                result = 10;\n            } else if (scheme === '*') {\n                result = 5;\n            } else {\n                return 0;\n            }\n        }\n\n        if (language) {\n            if (language === candidateLanguage) {\n                result = 10;\n            } else if (language === '*') {\n                result = Math.max(result, 5);\n            } else {\n                return 0;\n            }\n        }\n\n        if (pattern) {\n            if (pattern === path || matchGlobPattern(pattern, path)) {\n                result = 10;\n            } else {\n                return 0;\n            }\n        }\n\n        return result;\n\n    } else {\n        return 0;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * The default supported API version the framework supports.\n * The version should be in the format `x.y.z`.\n */\nexport const DEFAULT_SUPPORTED_API_VERSION = '1.87.2';\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport type { BrowserWindowConstructorOptions } from 'electron';\nexport import deepmerge = require('deepmerge');\n\nexport type RequiredRecursive<T> = {\n    [K in keyof T]-?: T[K] extends object ? RequiredRecursive<T[K]> : T[K]\n};\n\n/**\n * Base configuration for the Theia application.\n */\nexport interface ApplicationConfig {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    readonly [key: string]: any;\n}\n\nexport type ElectronFrontendApplicationConfig = RequiredRecursive<ElectronFrontendApplicationConfig.Partial>;\nexport namespace ElectronFrontendApplicationConfig {\n    export const DEFAULT: ElectronFrontendApplicationConfig = {\n        windowOptions: {},\n        showWindowEarly: true\n    };\n    export interface Partial {\n\n        /**\n         * Override or add properties to the electron `windowOptions`.\n         *\n         * Defaults to `{}`.\n         */\n        readonly windowOptions?: BrowserWindowConstructorOptions;\n\n        /**\n         * Whether or not to show an empty Electron window as early as possible.\n         *\n         * Defaults to `true`.\n         */\n        readonly showWindowEarly?: boolean;\n    }\n}\n\nexport type DefaultTheme = string | Readonly<{ light: string, dark: string }>;\nexport namespace DefaultTheme {\n    export function defaultForOSTheme(theme: DefaultTheme): string {\n        if (typeof theme === 'string') {\n            return theme;\n        }\n        if (\n            typeof window !== 'undefined' &&\n            window.matchMedia &&\n            window.matchMedia('(prefers-color-scheme: dark)').matches\n        ) {\n            return theme.dark;\n        }\n        return theme.light;\n    }\n    export function defaultBackgroundColor(dark?: boolean): string {\n        // The default light background color is based on the `colors#editor.background` value from\n        // `packages/monaco/data/monaco-themes/vscode/dark_vs.json` and the dark background comes from the `light_vs.json`.\n        return dark ? '#1E1E1E' : '#FFFFFF';\n    }\n}\n\n/**\n * Application configuration for the frontend. The following properties will be injected into the `index.html`.\n */\nexport type FrontendApplicationConfig = RequiredRecursive<FrontendApplicationConfig.Partial>;\nexport namespace FrontendApplicationConfig {\n    export const DEFAULT: FrontendApplicationConfig = {\n        applicationName: 'Eclipse Theia',\n        defaultTheme: { light: 'light', dark: 'dark' },\n        defaultIconTheme: 'theia-file-icons',\n        electron: ElectronFrontendApplicationConfig.DEFAULT,\n        defaultLocale: '',\n        validatePreferencesSchema: true,\n        reloadOnReconnect: false\n    };\n    export interface Partial extends ApplicationConfig {\n\n        /**\n         * The default theme for the application.\n         *\n         * Defaults to `dark` if the OS's theme is dark. Otherwise `light`.\n         */\n        readonly defaultTheme?: DefaultTheme;\n\n        /**\n         * The default icon theme for the application.\n         *\n         * Defaults to `none`.\n         */\n        readonly defaultIconTheme?: string;\n\n        /**\n         * The name of the application.\n         *\n         * Defaults to `Eclipse Theia`.\n         */\n        readonly applicationName?: string;\n\n        /**\n         * Electron specific configuration.\n         *\n         * Defaults to `ElectronFrontendApplicationConfig.DEFAULT`.\n         */\n        readonly electron?: ElectronFrontendApplicationConfig.Partial;\n\n        /**\n         * The default locale for the application.\n         *\n         * Defaults to \"\".\n         */\n        readonly defaultLocale?: string;\n\n        /**\n         * When `true`, the application will validate the JSON schema of the preferences on start\n         * and log warnings to the console if the schema is not valid.\n         *\n         * Defaults to `true`.\n         */\n        readonly validatePreferencesSchema?: boolean;\n\n        /**\n         * When 'true', the window will reload in case the front end reconnects to a back-end,\n         * but the back end does not have a connection context for this front end anymore.\n         */\n        readonly reloadOnReconnect?: boolean;\n    }\n}\n\n/**\n * Application configuration for the backend.\n */\nexport type BackendApplicationConfig = RequiredRecursive<BackendApplicationConfig.Partial>;\nexport namespace BackendApplicationConfig {\n    export const DEFAULT: BackendApplicationConfig = {\n        singleInstance: false,\n        frontendConnectionTimeout: 0\n    };\n    export interface Partial extends ApplicationConfig {\n\n        /**\n         * If true and in Electron mode, only one instance of the application is allowed to run at a time.\n         *\n         * Defaults to `false`.\n         */\n        readonly singleInstance?: boolean;\n\n        /**\n         * The time in ms the connection context will be preserved for reconnection after a front end disconnects.\n         */\n        readonly frontendConnectionTimeout?: number;\n    }\n}\n\n/**\n * Configuration for the generator.\n */\nexport type GeneratorConfig = RequiredRecursive<GeneratorConfig.Partial>;\nexport namespace GeneratorConfig {\n    export const DEFAULT: GeneratorConfig = {\n        preloadTemplate: ''\n    };\n    export interface Partial {\n\n        /**\n         * Template to use for extra preload content markup (file path or HTML).\n         *\n         * Defaults to `''`.\n         */\n        readonly preloadTemplate?: string;\n    }\n}\n\nexport interface NpmRegistryProps {\n\n    /**\n     * Defaults to `false`.\n     */\n    readonly next: boolean;\n\n    /**\n     * Defaults to `https://registry.npmjs.org/`.\n     */\n    readonly registry: string;\n\n}\nexport namespace NpmRegistryProps {\n    export const DEFAULT: NpmRegistryProps = {\n        next: false,\n        registry: 'https://registry.npmjs.org/'\n    };\n}\n\n/**\n * Representation of all backend and frontend related Theia extension and application properties.\n */\nexport interface ApplicationProps extends NpmRegistryProps {\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    readonly [key: string]: any;\n\n    /**\n     * Whether the extension targets the browser or electron. Defaults to `browser`.\n     */\n    readonly target: ApplicationProps.Target;\n\n    /**\n     * Frontend related properties.\n     */\n    readonly frontend: {\n        readonly config: FrontendApplicationConfig\n    };\n\n    /**\n     * Backend specific properties.\n     */\n    readonly backend: {\n        readonly config: BackendApplicationConfig\n    };\n\n    /**\n     * Generator specific properties.\n     */\n    readonly generator: {\n        readonly config: GeneratorConfig\n    };\n}\nexport namespace ApplicationProps {\n    export type Target = `${ApplicationTarget}`;\n    export enum ApplicationTarget {\n        browser = 'browser',\n        electron = 'electron',\n        browserOnly = 'browser-only'\n    };\n    export const DEFAULT: ApplicationProps = {\n        ...NpmRegistryProps.DEFAULT,\n        target: 'browser',\n        backend: {\n            config: BackendApplicationConfig.DEFAULT\n        },\n        frontend: {\n            config: FrontendApplicationConfig.DEFAULT\n        },\n        generator: {\n            config: GeneratorConfig.DEFAULT\n        }\n    };\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nconst isElectron: () => boolean = require('is-electron');\n\n/**\n * The electron specific environment.\n */\nclass ElectronEnv {\n\n    /**\n     * Environment variable that can be accessed on the `process` to check if running in electron or not.\n     */\n    readonly THEIA_ELECTRON_VERSION = 'THEIA_ELECTRON_VERSION';\n\n    /**\n     * `true` if running in electron. Otherwise, `false`.\n     *\n     * Can be called from both the `main` and the render process. Also works for forked cluster workers.\n     */\n    is(): boolean {\n        return isElectron();\n    }\n\n    /**\n     * `true` if running in Electron in development mode. Otherwise, `false`.\n     *\n     * Cannot be used from the browser. From the browser, it is always `false`.\n     */\n    isDevMode(): boolean {\n        return this.is()\n            && typeof process !== 'undefined'\n            // `defaultApp` does not exist on the Node.js API, but on electron (`electron.d.ts`).\n            && ((process as any).defaultApp || /node_modules[/\\\\]electron[/\\\\]/.test(process.execPath)); // eslint-disable-line @typescript-eslint/no-explicit-any\n    }\n\n    /**\n     * Creates and return with a new environment object which always contains the `ELECTRON_RUN_AS_NODE: 1` property pair.\n     * This should be used to `spawn` and `fork` a new Node.js process from the Node.js shipped with Electron. Otherwise, a new Electron\n     * process will be spawned which [has side-effects](https://github.com/eclipse-theia/theia/issues/5385).\n     *\n     * If called from the backend and the `env` argument is not defined, it falls back to `process.env` such as Node.js behaves\n     * with the [`SpawnOptions`](https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options).\n     * If `env` is defined, it will be shallow-copied.\n     *\n     * Calling this function from the frontend does not make any sense, hence throw an error.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    runAsNodeEnv(env?: any): any & { ELECTRON_RUN_AS_NODE: 1 } {\n        if (typeof process === 'undefined') {\n            throw new Error(\"'process' cannot be undefined.\");\n        }\n        return {\n            ...(env === undefined ? process.env : env),\n            ELECTRON_RUN_AS_NODE: 1\n        };\n    }\n\n}\n\nconst electron = new ElectronEnv();\nconst environment: Readonly<{ electron: ElectronEnv }> = { electron };\nexport { environment };\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from 'react';\nimport { inject, injectable, postConstruct } from 'inversify';\nimport { Dialog, DialogProps } from './dialogs';\nimport { ReactDialog } from './dialogs/react-dialog';\nimport { ApplicationServer, ApplicationInfo, ExtensionInfo } from '../common/application-protocol';\nimport { Message } from './widgets/widget';\nimport { FrontendApplicationConfigProvider } from './frontend-application-config-provider';\nimport { DEFAULT_SUPPORTED_API_VERSION } from '@theia/application-package/lib/api';\nimport { WindowService } from './window/window-service';\nimport { Key, KeyCode } from './keys';\nimport { nls } from '../common/nls';\n\nexport const ABOUT_CONTENT_CLASS = 'theia-aboutDialog';\nexport const ABOUT_EXTENSIONS_CLASS = 'theia-aboutExtensions';\n\n@injectable()\nexport class AboutDialogProps extends DialogProps {\n}\n\n@injectable()\nexport class AboutDialog extends ReactDialog<void> {\n    protected applicationInfo: ApplicationInfo | undefined;\n    protected extensionsInfos: ExtensionInfo[] = [];\n    protected readonly okButton: HTMLButtonElement;\n\n    @inject(ApplicationServer)\n    protected readonly appServer: ApplicationServer;\n\n    @inject(WindowService)\n    protected readonly windowService: WindowService;\n\n    constructor(\n        @inject(AboutDialogProps) protected override readonly props: AboutDialogProps\n    ) {\n        super({\n            title: FrontendApplicationConfigProvider.get().applicationName,\n        });\n        this.appendAcceptButton(Dialog.OK);\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.doInit();\n    }\n\n    protected async doInit(): Promise<void> {\n        this.applicationInfo = await this.appServer.getApplicationInfo();\n        this.extensionsInfos = await this.appServer.getExtensionsInfos();\n        this.update();\n    }\n\n    protected renderHeader(): React.ReactNode {\n        const applicationInfo = this.applicationInfo;\n        const compatibilityUrl = 'https://eclipse-theia.github.io/vscode-theia-comparator/status.html';\n\n        const detailsLabel = nls.localizeByDefault('Details');\n        const versionLabel = nls.localize('theia/core/about/version', 'Version');\n        const defaultApiLabel = nls.localize('theia/core/about/defaultApi', 'Default {0} API', 'VS Code');\n        const compatibilityLabel = nls.localize('theia/core/about/compatibility', '{0} Compatibility', 'VS Code');\n\n        return <>\n            <h3>{detailsLabel}</h3>\n            <div className='about-details'>\n                {applicationInfo && <p>{`${versionLabel}: ${applicationInfo.version}`}</p>}\n                <p>{`${defaultApiLabel}: ${DEFAULT_SUPPORTED_API_VERSION}`}</p>\n                <p>\n                    <a\n                        role={'button'}\n                        tabIndex={0}\n                        onClick={() => this.doOpenExternalLink(compatibilityUrl)}\n                        onKeyDown={(e: React.KeyboardEvent) => this.doOpenExternalLinkEnter(e, compatibilityUrl)}>\n                        {compatibilityLabel}\n                    </a>\n                </p>\n            </div>\n        </>;\n    }\n\n    protected renderExtensions(): React.ReactNode {\n        const extensionsInfos = this.extensionsInfos;\n        return <>\n            <h3>List of extensions</h3>\n            <ul className={ABOUT_EXTENSIONS_CLASS}>\n                {\n                    extensionsInfos\n                        .sort((a: ExtensionInfo, b: ExtensionInfo) => a.name.toLowerCase().localeCompare(b.name.toLowerCase()))\n                        .map((extension: ExtensionInfo) => <li key={extension.name}>{extension.name} {extension.version}</li>)\n                }\n            </ul>\n        </>;\n    }\n\n    protected render(): React.ReactNode {\n        return <div className={ABOUT_CONTENT_CLASS}>\n            {this.renderHeader()}\n            {this.renderExtensions()}\n        </div>;\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        this.update();\n    }\n\n    /**\n     * Open a link in an external window.\n     * @param url the link.\n     */\n    protected doOpenExternalLink = (url: string) => this.windowService.openNewWindow(url, { external: true });\n    protected doOpenExternalLinkEnter = (e: React.KeyboardEvent, url: string) => {\n        if (this.isEnterKey(e)) {\n            this.doOpenExternalLink(url);\n        }\n    };\n\n    protected isEnterKey(e: React.KeyboardEvent): boolean {\n        return Key.ENTER.keyCode === KeyCode.createKeyCode(e.nativeEvent).key?.keyCode;\n    }\n\n    get value(): undefined { return undefined; }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// code copied and modified from https://github.com/microsoft/vscode/blob/1.47.3/src/vs/workbench/services/authentication/browser/authenticationService.ts\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { Emitter, Event } from '../common/event';\nimport { StorageService } from '../browser/storage-service';\nimport { Disposable, DisposableCollection } from '../common/disposable';\nimport { ACCOUNTS_MENU, ACCOUNTS_SUBMENU, MenuModelRegistry } from '../common/menu';\nimport { Command, CommandRegistry } from '../common/command';\nimport { nls } from '../common/nls';\n\nexport interface AuthenticationSessionAccountInformation {\n    readonly id: string;\n    readonly label: string;\n}\n\nexport interface AuthenticationSession {\n    id: string;\n    accessToken: string;\n    account: AuthenticationSessionAccountInformation;\n    scopes: ReadonlyArray<string>;\n}\n\nexport interface AuthenticationProviderInformation {\n    id: string;\n    label: string;\n}\n\n/** Should match the definition from the theia/vscode types */\nexport interface AuthenticationProviderAuthenticationSessionsChangeEvent {\n    readonly added: readonly AuthenticationSession[] | undefined;\n    readonly removed: readonly AuthenticationSession[] | undefined;\n    readonly changed: readonly AuthenticationSession[] | undefined;\n}\n\nexport interface SessionRequest {\n    disposables: Disposable[];\n    requestingExtensionIds: string[];\n}\n\nexport interface SessionRequestInfo {\n    [scopes: string]: SessionRequest;\n}\n\n/**\n * Our authentication provider should at least contain the following information:\n * - The signature of authentication providers from vscode\n * - Registration information about the provider (id, label)\n * - Provider options (supportsMultipleAccounts)\n *\n * Additionally, we provide the possibility to sign out of a specific account name.\n */\nexport interface AuthenticationProvider {\n    id: string;\n\n    label: string;\n\n    supportsMultipleAccounts: boolean;\n\n    hasSessions(): boolean;\n\n    signOut(accountName: string): Promise<void>;\n\n    updateSessionItems(event: AuthenticationProviderAuthenticationSessionsChangeEvent): Promise<void>;\n\n    /**\n     * @deprecated use `createSession` instead.\n     */\n    login(scopes: string[]): Promise<AuthenticationSession>;\n\n    /**\n     * @deprecated use `removeSession` instead.\n     */\n    logout(sessionId: string): Promise<void>;\n\n    /**\n     * An [event](#Event) which fires when the array of sessions has changed, or data\n     * within a session has changed.\n     */\n    readonly onDidChangeSessions: Event<AuthenticationProviderAuthenticationSessionsChangeEvent>;\n\n    /**\n     * Get a list of sessions.\n     * @param scopes An optional list of scopes. If provided, the sessions returned should match\n     * these permissions, otherwise all sessions should be returned.\n     * @returns A promise that resolves to an array of authentication sessions.\n     */\n    getSessions(scopes?: string[]): Thenable<ReadonlyArray<AuthenticationSession>>;\n\n    /**\n     * Prompts a user to login.\n     * @param scopes A list of scopes, permissions, that the new session should be created with.\n     * @returns A promise that resolves to an authentication session.\n     */\n    createSession(scopes: string[]): Thenable<AuthenticationSession>;\n\n    /**\n     * Removes the session corresponding to session id.\n     * @param sessionId The id of the session to remove.\n     */\n    removeSession(sessionId: string): Thenable<void>;\n}\nexport const AuthenticationService = Symbol('AuthenticationService');\n\nexport interface AuthenticationService {\n    isAuthenticationProviderRegistered(id: string): boolean;\n    getProviderIds(): string[];\n    registerAuthenticationProvider(id: string, provider: AuthenticationProvider): void;\n    unregisterAuthenticationProvider(id: string): void;\n    requestNewSession(id: string, scopes: string[], extensionId: string, extensionName: string): void;\n    updateSessions(providerId: string, event: AuthenticationProviderAuthenticationSessionsChangeEvent): void;\n\n    readonly onDidRegisterAuthenticationProvider: Event<AuthenticationProviderInformation>;\n    readonly onDidUnregisterAuthenticationProvider: Event<AuthenticationProviderInformation>;\n\n    readonly onDidChangeSessions: Event<{ providerId: string, label: string, event: AuthenticationProviderAuthenticationSessionsChangeEvent }>;\n    getSessions(providerId: string, scopes?: string[]): Promise<ReadonlyArray<AuthenticationSession>>;\n    getLabel(providerId: string): string;\n    supportsMultipleAccounts(providerId: string): boolean;\n    login(providerId: string, scopes: string[]): Promise<AuthenticationSession>;\n    logout(providerId: string, sessionId: string): Promise<void>;\n\n    signOutOfAccount(providerId: string, accountName: string): Promise<void>;\n}\n\nexport interface SessionChangeEvent {\n    providerId: string,\n    label: string,\n    event: AuthenticationProviderAuthenticationSessionsChangeEvent\n}\n\n@injectable()\nexport class AuthenticationServiceImpl implements AuthenticationService {\n    private noAccountsMenuItem: Disposable | undefined;\n    private noAccountsCommand: Command = { id: 'noAccounts' };\n    private signInRequestItems = new Map<string, SessionRequestInfo>();\n    private sessionMap = new Map<string, DisposableCollection>();\n\n    protected authenticationProviders: Map<string, AuthenticationProvider> = new Map<string, AuthenticationProvider>();\n\n    private onDidRegisterAuthenticationProviderEmitter: Emitter<AuthenticationProviderInformation> = new Emitter<AuthenticationProviderInformation>();\n    readonly onDidRegisterAuthenticationProvider: Event<AuthenticationProviderInformation> = this.onDidRegisterAuthenticationProviderEmitter.event;\n\n    private onDidUnregisterAuthenticationProviderEmitter: Emitter<AuthenticationProviderInformation> = new Emitter<AuthenticationProviderInformation>();\n    readonly onDidUnregisterAuthenticationProvider: Event<AuthenticationProviderInformation> = this.onDidUnregisterAuthenticationProviderEmitter.event;\n\n    private onDidChangeSessionsEmitter: Emitter<SessionChangeEvent> = new Emitter<SessionChangeEvent>();\n    readonly onDidChangeSessions: Event<SessionChangeEvent> = this.onDidChangeSessionsEmitter.event;\n\n    @inject(MenuModelRegistry) protected readonly menus: MenuModelRegistry;\n    @inject(CommandRegistry) protected readonly commands: CommandRegistry;\n    @inject(StorageService) protected readonly storageService: StorageService;\n\n    @postConstruct()\n    init(): void {\n        this.onDidChangeSessions(event => this.handleSessionChange(event));\n        this.commands.registerCommand(this.noAccountsCommand, {\n            execute: () => { },\n            isEnabled: () => false\n        });\n    }\n\n    protected async handleSessionChange(changeEvent: SessionChangeEvent): Promise<void> {\n        if (changeEvent.event.added && changeEvent.event.added.length > 0) {\n            const sessions = await this.getSessions(changeEvent.providerId);\n            sessions.forEach(session => {\n                if (!this.sessionMap.get(session.id)) {\n                    this.sessionMap.set(session.id, this.createAccountUi(changeEvent.providerId, changeEvent.label, session));\n                }\n            });\n        }\n        for (const removed of changeEvent.event.removed || []) {\n            const sessionId = typeof removed === 'string' ? removed : removed?.id;\n            if (sessionId) {\n                this.sessionMap.get(sessionId)?.dispose();\n                this.sessionMap.delete(sessionId);\n            }\n        }\n    }\n\n    protected createAccountUi(providerId: string, providerLabel: string, session: AuthenticationSession): DisposableCollection {\n        // unregister old commands and menus if present (there is only one per account but there may be several sessions per account)\n        const providerAccountId = `account-sign-out-${providerId}-${session.account.id}`;\n        this.commands.unregisterCommand(providerAccountId);\n\n        const providerAccountSubmenu = [...ACCOUNTS_SUBMENU, providerAccountId];\n        this.menus.unregisterMenuAction({ commandId: providerAccountId }, providerAccountSubmenu);\n\n        // register new command and menu entry for the sessions account\n        const disposables = new DisposableCollection();\n        disposables.push(this.commands.registerCommand({ id: providerAccountId }, {\n            execute: async () => {\n                this.signOutOfAccount(providerId, session.account.label);\n            }\n        }));\n        this.menus.registerSubmenu(providerAccountSubmenu, `${session.account.label} (${providerLabel})`);\n        disposables.push(this.menus.registerMenuAction(providerAccountSubmenu, {\n            label: nls.localizeByDefault('Sign Out'),\n            commandId: providerAccountId\n        }));\n        return disposables;\n    }\n\n    getProviderIds(): string[] {\n        const providerIds: string[] = [];\n        this.authenticationProviders.forEach(provider => {\n            providerIds.push(provider.id);\n        });\n        return providerIds;\n    }\n\n    isAuthenticationProviderRegistered(id: string): boolean {\n        return this.authenticationProviders.has(id);\n    }\n\n    private updateAccountsMenuItem(): void {\n        let hasSession = false;\n        this.authenticationProviders.forEach(async provider => {\n            hasSession = hasSession || provider.hasSessions();\n        });\n\n        if (hasSession && this.noAccountsMenuItem) {\n            this.noAccountsMenuItem.dispose();\n            this.noAccountsMenuItem = undefined;\n        }\n\n        if (!hasSession && !this.noAccountsMenuItem) {\n            this.noAccountsMenuItem = this.menus.registerMenuAction(ACCOUNTS_MENU, {\n                label: 'You are not signed in to any accounts',\n                order: '0',\n                commandId: this.noAccountsCommand.id\n            });\n        }\n    }\n\n    registerAuthenticationProvider(id: string, authenticationProvider: AuthenticationProvider): void {\n        if (this.authenticationProviders.get(id)) {\n            throw new Error(`An authentication provider with id '${id}' is already registered.`);\n        }\n        this.authenticationProviders.set(id, authenticationProvider);\n        this.onDidRegisterAuthenticationProviderEmitter.fire({ id, label: authenticationProvider.label });\n\n        this.updateAccountsMenuItem();\n        console.log(`An authentication provider with id '${id}' was registered.`);\n    }\n\n    unregisterAuthenticationProvider(id: string): void {\n        const provider = this.authenticationProviders.get(id);\n        if (provider) {\n            this.authenticationProviders.delete(id);\n            this.onDidUnregisterAuthenticationProviderEmitter.fire({ id, label: provider.label });\n            this.updateAccountsMenuItem();\n        } else {\n            console.error(`Failed to unregister an authentication provider. A provider with id '${id}' was not found.`);\n        }\n    }\n\n    async updateSessions(id: string, event: AuthenticationProviderAuthenticationSessionsChangeEvent): Promise<void> {\n        const provider = this.authenticationProviders.get(id);\n        if (provider) {\n            await provider.updateSessionItems(event);\n            this.onDidChangeSessionsEmitter.fire({ providerId: id, label: provider.label, event: event });\n            this.updateAccountsMenuItem();\n\n            if (event.added) {\n                await this.updateNewSessionRequests(provider);\n            }\n        } else {\n            console.error(`Failed to update an authentication session. An authentication provider with id '${id}' was not found.`);\n        }\n    }\n\n    private async updateNewSessionRequests(provider: AuthenticationProvider): Promise<void> {\n        const existingRequestsForProvider = this.signInRequestItems.get(provider.id);\n        if (!existingRequestsForProvider) {\n            return;\n        }\n\n        const sessions = await provider.getSessions();\n        Object.keys(existingRequestsForProvider).forEach(requestedScopes => {\n            if (sessions.some(session => session.scopes.slice().sort().join('') === requestedScopes)) {\n                const sessionRequest = existingRequestsForProvider[requestedScopes];\n                if (sessionRequest) {\n                    sessionRequest.disposables.forEach(item => item.dispose());\n                }\n\n                delete existingRequestsForProvider[requestedScopes];\n                if (Object.keys(existingRequestsForProvider).length === 0) {\n                    this.signInRequestItems.delete(provider.id);\n                } else {\n                    this.signInRequestItems.set(provider.id, existingRequestsForProvider);\n                }\n            }\n        });\n    }\n\n    async requestNewSession(providerId: string, scopes: string[], extensionId: string, extensionName: string): Promise<void> {\n        let provider = this.authenticationProviders.get(providerId);\n        if (!provider) {\n            // Activate has already been called for the authentication provider, but it cannot block on registering itself\n            // since this is sync and returns a disposable. So, wait for registration event to fire that indicates the\n            // provider is now in the map.\n            await new Promise<void>((resolve, _) => {\n                this.onDidRegisterAuthenticationProvider(e => {\n                    if (e.id === providerId) {\n                        provider = this.authenticationProviders.get(providerId);\n                        resolve(undefined);\n                    }\n                });\n            });\n        }\n\n        if (provider) {\n            const providerRequests = this.signInRequestItems.get(providerId);\n            const scopesList = scopes.sort().join('');\n            const extensionHasExistingRequest = providerRequests\n                && providerRequests[scopesList]\n                && providerRequests[scopesList].requestingExtensionIds.indexOf(extensionId) > -1;\n\n            if (extensionHasExistingRequest) {\n                return;\n            }\n\n            const menuItem = this.menus.registerMenuAction(ACCOUNTS_SUBMENU, {\n                label: `Sign in to use ${extensionName} (1)`,\n                order: '1',\n                commandId: `${extensionId}signIn`,\n            });\n\n            const signInCommand = this.commands.registerCommand({ id: `${extensionId}signIn` }, {\n                execute: async () => {\n                    const session = await this.login(providerId, scopes);\n\n                    // Add extension to allow list since user explicitly signed in on behalf of it\n                    const allowList = await readAllowedExtensions(this.storageService, providerId, session.account.label);\n                    if (!allowList.find(allowed => allowed.id === extensionId)) {\n                        allowList.push({ id: extensionId, name: extensionName });\n                        this.storageService.setData(`authentication-trusted-extensions-${providerId}-${session.account.label}`, JSON.stringify(allowList));\n                    }\n\n                    // And also set it as the preferred account for the extension\n                    this.storageService.setData(`authentication-session-${extensionName}-${providerId}`, session.id);\n                }\n            });\n\n            if (providerRequests) {\n                const existingRequest = providerRequests[scopesList] || { disposables: [], requestingExtensionIds: [] };\n\n                providerRequests[scopesList] = {\n                    disposables: [...existingRequest.disposables, menuItem, signInCommand],\n                    requestingExtensionIds: [...existingRequest.requestingExtensionIds, extensionId]\n                };\n                this.signInRequestItems.set(providerId, providerRequests);\n            } else {\n                this.signInRequestItems.set(providerId, {\n                    [scopesList]: {\n                        disposables: [menuItem, signInCommand],\n                        requestingExtensionIds: [extensionId]\n                    }\n                });\n            }\n        }\n    }\n\n    getLabel(id: string): string {\n        const authProvider = this.authenticationProviders.get(id);\n        if (authProvider) {\n            return authProvider.label;\n        } else {\n            throw new Error(`No authentication provider '${id}' is currently registered.`);\n        }\n    }\n\n    supportsMultipleAccounts(id: string): boolean {\n        const authProvider = this.authenticationProviders.get(id);\n        if (authProvider) {\n            return authProvider.supportsMultipleAccounts;\n        } else {\n            throw new Error(`No authentication provider '${id}' is currently registered.`);\n        }\n    }\n\n    async getSessions(id: string, scopes?: string[]): Promise<ReadonlyArray<AuthenticationSession>> {\n        const authProvider = this.authenticationProviders.get(id);\n        if (authProvider) {\n            return authProvider.getSessions(scopes);\n        } else {\n            throw new Error(`No authentication provider '${id}' is currently registered.`);\n        }\n    }\n\n    async login(id: string, scopes: string[]): Promise<AuthenticationSession> {\n        const authProvider = this.authenticationProviders.get(id);\n        if (authProvider) {\n            return authProvider.createSession(scopes);\n        } else {\n            throw new Error(`No authentication provider '${id}' is currently registered.`);\n        }\n    }\n\n    async logout(id: string, sessionId: string): Promise<void> {\n        const authProvider = this.authenticationProviders.get(id);\n        if (authProvider) {\n            return authProvider.removeSession(sessionId);\n        } else {\n            throw new Error(`No authentication provider '${id}' is currently registered.`);\n        }\n    }\n\n    async signOutOfAccount(id: string, accountName: string): Promise<void> {\n        const authProvider = this.authenticationProviders.get(id);\n        if (authProvider) {\n            return authProvider.signOut(accountName);\n        } else {\n            throw new Error(`No authentication provider '${id}' is currently registered.`);\n        }\n    }\n}\n\nexport interface AllowedExtension {\n    id: string;\n    name: string;\n}\n\nexport async function readAllowedExtensions(storageService: StorageService, providerId: string, accountName: string): Promise<AllowedExtension[]> {\n    let trustedExtensions: AllowedExtension[] = [];\n    try {\n        const trustedExtensionSrc: string | undefined = await storageService.getData(`authentication-trusted-extensions-${providerId}-${accountName}`);\n        if (trustedExtensionSrc) {\n            trustedExtensions = JSON.parse(trustedExtensionSrc);\n        }\n    } catch (err) {\n        console.error(err);\n    }\n\n    return trustedExtensions;\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from '../../../shared/inversify';\nimport { Emitter, Event } from '../../common';\nimport { Disposable, DisposableCollection } from '../../common/disposable';\nimport { Coordinate } from '../context-menu-renderer';\nimport { RendererHost } from '../widgets/react-renderer';\nimport { Styles } from './breadcrumbs-constants';\n\nexport interface BreadcrumbPopupContainerFactory {\n    (parent: HTMLElement, breadcrumbId: string, position: Coordinate): BreadcrumbPopupContainer;\n}\nexport const BreadcrumbPopupContainerFactory = Symbol('BreadcrumbPopupContainerFactory');\n\nexport type BreadcrumbID = string;\nexport const BreadcrumbID = Symbol('BreadcrumbID');\n\n/**\n * This class creates a popup container at the given position\n * so that contributions can attach their HTML elements\n * as children of `BreadcrumbPopupContainer#container`.\n *\n * - `dispose()` is called on blur or on hit on escape\n */\n@injectable()\nexport class BreadcrumbPopupContainer implements Disposable {\n    @inject(RendererHost) protected readonly parent: RendererHost;\n    @inject(BreadcrumbID) public readonly breadcrumbId: BreadcrumbID;\n    @inject(Coordinate) protected readonly position: Coordinate;\n\n    protected onDidDisposeEmitter = new Emitter<void>();\n    protected toDispose: DisposableCollection = new DisposableCollection(this.onDidDisposeEmitter);\n    get onDidDispose(): Event<void> {\n        return this.onDidDisposeEmitter.event;\n    }\n\n    protected _container: HTMLElement;\n    get container(): HTMLElement {\n        return this._container;\n    }\n\n    protected _isOpen: boolean;\n    get isOpen(): boolean {\n        return this._isOpen;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this._container = this.createPopupDiv(this.position);\n        document.addEventListener('keyup', this.escFunction);\n        this._container.focus();\n        this._isOpen = true;\n    }\n\n    protected createPopupDiv(position: Coordinate): HTMLDivElement {\n        const result = window.document.createElement('div');\n        result.className = Styles.BREADCRUMB_POPUP;\n        result.style.left = `${position.x}px`;\n        result.style.top = `${position.y}px`;\n        result.tabIndex = 0;\n        result.addEventListener('focusout', this.onFocusOut);\n        this.parent.appendChild(result);\n        return result;\n    }\n\n    protected onFocusOut = (event: FocusEvent) => {\n        if (!(event.relatedTarget instanceof Element) || !this._container.contains(event.relatedTarget)) {\n            this.dispose();\n        }\n    };\n\n    protected escFunction = (event: KeyboardEvent) => {\n        if (event.key === 'Escape' || event.key === 'Esc') {\n            this.dispose();\n        }\n    };\n\n    dispose(): void {\n        if (!this.toDispose.disposed) {\n            this.onDidDisposeEmitter.fire();\n            this.toDispose.dispose();\n            this._container.remove();\n            this._isOpen = false;\n            document.removeEventListener('keyup', this.escFunction);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from 'react';\nimport { injectable } from 'inversify';\nimport { Breadcrumb, Styles } from './breadcrumbs-constants';\n\nexport const BreadcrumbRenderer = Symbol('BreadcrumbRenderer');\nexport interface BreadcrumbRenderer {\n    /**\n     * Renders the given breadcrumb. If `onClick` is given, it is called on breadcrumb click.\n     */\n    render(breadcrumb: Breadcrumb, onMouseDown?: (breadcrumb: Breadcrumb, event: React.MouseEvent) => void): React.ReactNode;\n}\n\n@injectable()\nexport class DefaultBreadcrumbRenderer implements BreadcrumbRenderer {\n    render(breadcrumb: Breadcrumb, onMouseDown?: (breadcrumb: Breadcrumb, event: React.MouseEvent) => void): React.ReactNode {\n        return <li key={breadcrumb.id} title={breadcrumb.longLabel}\n            className={Styles.BREADCRUMB_ITEM + (!onMouseDown ? '' : ' ' + Styles.BREADCRUMB_ITEM_HAS_POPUP)}\n            onMouseDown={event => onMouseDown && onMouseDown(breadcrumb, event)}\n            tabIndex={0}\n            data-breadcrumb-id={breadcrumb.id}\n        >\n            {breadcrumb.iconClass && <span className={breadcrumb.iconClass}></span>} <span> {breadcrumb.label}</span>\n        </li >;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MaybePromise, Event } from '../../common';\nimport { Disposable } from '../../../shared/vscode-languageserver-protocol';\nimport URI from '../../common/uri';\n\nexport namespace Styles {\n    export const BREADCRUMBS = 'theia-breadcrumbs';\n    export const BREADCRUMB_ITEM = 'theia-breadcrumb-item';\n    export const BREADCRUMB_POPUP_OVERLAY_CONTAINER = 'theia-breadcrumbs-popups-overlay';\n    export const BREADCRUMB_POPUP = 'theia-breadcrumbs-popup';\n    export const BREADCRUMB_ITEM_HAS_POPUP = 'theia-breadcrumb-item-haspopup';\n}\n\n/** A single breadcrumb in the breadcrumbs bar. */\nexport interface Breadcrumb {\n\n    /** An ID of this breadcrumb that should be unique in the breadcrumbs bar. */\n    readonly id: string;\n\n    /** The breadcrumb type. Should be the same as the contribution type `BreadcrumbsContribution#type`. */\n    readonly type: symbol;\n\n    /** The text that will be rendered as label. */\n    readonly label: string;\n\n    /** A longer text that will be used as tooltip text. */\n    readonly longLabel: string;\n\n    /** A CSS class for the icon. */\n    readonly iconClass?: string;\n\n    /** CSS classes for the container. */\n    readonly containerClass?: string;\n}\n\nexport const BreadcrumbsContribution = Symbol('BreadcrumbsContribution');\nexport interface BreadcrumbsContribution {\n\n    /**\n     * The breadcrumb type. Breadcrumbs returned by `#computeBreadcrumbs(uri)` should have this as `Breadcrumb#type`.\n     */\n    readonly type: symbol;\n\n    /**\n     * The priority of this breadcrumbs contribution. Contributions are rendered left to right in order of ascending priority.\n     */\n    readonly priority: number;\n\n    /**\n     * An event emitter that should fire when breadcrumbs change for a given URI.\n     */\n    readonly onDidChangeBreadcrumbs: Event<URI>;\n\n    /**\n     * Computes breadcrumbs for a given URI.\n     */\n    computeBreadcrumbs(uri: URI): MaybePromise<Breadcrumb[]>;\n\n    /**\n     * Attaches the breadcrumb popup content for the given breadcrumb as child to the given parent.\n     * If it returns a Disposable, it is called when the popup closes.\n     */\n    attachPopupContent(breadcrumb: Breadcrumb, parent: HTMLElement): Promise<Disposable | undefined>;\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from 'react';\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { ReactRenderer } from '../widgets';\nimport { BreadcrumbsService } from './breadcrumbs-service';\nimport { BreadcrumbRenderer } from './breadcrumb-renderer';\nimport PerfectScrollbar from 'perfect-scrollbar';\nimport URI from '../../common/uri';\nimport { Emitter, Event } from '../../common';\nimport { BreadcrumbPopupContainer } from './breadcrumb-popup-container';\nimport { CorePreferences } from '../core-preferences';\nimport { Breadcrumb, Styles } from './breadcrumbs-constants';\nimport { LabelProvider } from '../label-provider';\n\ninterface Cancelable {\n    canceled: boolean;\n}\n\n@injectable()\nexport class BreadcrumbsRenderer extends ReactRenderer {\n\n    @inject(BreadcrumbsService)\n    protected readonly breadcrumbsService: BreadcrumbsService;\n\n    @inject(BreadcrumbRenderer)\n    protected readonly breadcrumbRenderer: BreadcrumbRenderer;\n\n    @inject(CorePreferences)\n    protected readonly corePreferences: CorePreferences;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    protected readonly onDidChangeActiveStateEmitter = new Emitter<boolean>();\n    get onDidChangeActiveState(): Event<boolean> {\n        return this.onDidChangeActiveStateEmitter.event;\n    }\n\n    protected uri: URI | undefined;\n    protected breadcrumbs: Breadcrumb[] = [];\n    protected popup: BreadcrumbPopupContainer | undefined;\n    protected scrollbar: PerfectScrollbar | undefined;\n\n    get active(): boolean {\n        return !!this.breadcrumbs.length;\n    }\n\n    protected get breadCrumbsContainer(): Element | undefined {\n        return this.host.firstElementChild ?? undefined;\n    }\n\n    protected refreshCancellationMarker: Cancelable = { canceled: true };\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.push(this.onDidChangeActiveStateEmitter);\n        this.toDispose.push(this.breadcrumbsService.onDidChangeBreadcrumbs(uri => {\n            if (this.uri?.isEqual(uri)) {\n                this.refresh(this.uri);\n            }\n        }));\n        this.toDispose.push(this.corePreferences.onPreferenceChanged(change => {\n            if (change.preferenceName === 'breadcrumbs.enabled') {\n                this.refresh(this.uri);\n            }\n        }));\n        this.toDispose.push(this.labelProvider.onDidChange(() => this.refresh(this.uri)));\n    }\n\n    override dispose(): void {\n        super.dispose();\n        this.toDispose.dispose();\n        if (this.popup) { this.popup.dispose(); }\n        if (this.scrollbar) {\n            this.scrollbar.destroy();\n            this.scrollbar = undefined;\n        }\n    }\n\n    async refresh(uri?: URI): Promise<void> {\n        this.uri = uri;\n        this.refreshCancellationMarker.canceled = true;\n        const currentCallCanceled = { canceled: false };\n        this.refreshCancellationMarker = currentCallCanceled;\n        let breadcrumbs: Breadcrumb[];\n        if (uri && this.corePreferences['breadcrumbs.enabled']) {\n            breadcrumbs = await this.breadcrumbsService.getBreadcrumbs(uri);\n        } else {\n            breadcrumbs = [];\n        }\n        if (currentCallCanceled.canceled) {\n            return;\n        }\n\n        const wasActive = this.active;\n        this.breadcrumbs = breadcrumbs;\n        const isActive = this.active;\n        if (wasActive !== isActive) {\n            this.onDidChangeActiveStateEmitter.fire(isActive);\n        }\n\n        this.update();\n    }\n\n    protected update(): void {\n        this.render();\n\n        if (!this.scrollbar) {\n            this.createScrollbar();\n        } else {\n            this.scrollbar.update();\n        }\n        this.scrollToEnd();\n    }\n\n    protected createScrollbar(): void {\n        const { breadCrumbsContainer } = this;\n        if (breadCrumbsContainer) {\n            this.scrollbar = new PerfectScrollbar(breadCrumbsContainer, {\n                handlers: ['drag-thumb', 'keyboard', 'wheel', 'touch'],\n                useBothWheelAxes: true,\n                scrollXMarginOffset: 4,\n                suppressScrollY: true\n            });\n        }\n    }\n\n    protected scrollToEnd(): void {\n        const { breadCrumbsContainer } = this;\n        if (breadCrumbsContainer) {\n            breadCrumbsContainer.scrollLeft = breadCrumbsContainer.scrollWidth;\n        }\n    }\n\n    protected override doRender(): React.ReactNode {\n        return <ul className={Styles.BREADCRUMBS}>{this.renderBreadcrumbs()}</ul>;\n    }\n\n    protected renderBreadcrumbs(): React.ReactNode {\n        return this.breadcrumbs.map(breadcrumb => this.breadcrumbRenderer.render(breadcrumb, this.togglePopup));\n    }\n\n    protected togglePopup = (breadcrumb: Breadcrumb, event: React.MouseEvent) => {\n        event.stopPropagation();\n        event.preventDefault();\n        let openPopup = true;\n        if (this.popup?.isOpen) {\n            this.popup.dispose();\n\n            // There is a popup open. If the popup is the popup that belongs to the currently clicked breadcrumb\n            // just close the popup. If another breadcrumb was clicked, open the new popup immediately.\n            openPopup = this.popup.breadcrumbId !== breadcrumb.id;\n        } else {\n            this.popup = undefined;\n        }\n        if (openPopup) {\n            const { currentTarget } = event;\n            const breadcrumbElement = currentTarget.closest(`.${Styles.BREADCRUMB_ITEM}`);\n            if (breadcrumbElement) {\n                const { left: x, bottom: y } = breadcrumbElement.getBoundingClientRect();\n                this.breadcrumbsService.openPopup(breadcrumb, { x, y }).then(popup => { this.popup = popup; });\n            }\n        }\n    };\n}\n\nexport const BreadcrumbsRendererFactory = Symbol('BreadcrumbsRendererFactory');\nexport interface BreadcrumbsRendererFactory {\n    (): BreadcrumbsRenderer;\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, named, postConstruct } from 'inversify';\nimport { ContributionProvider, Prioritizeable, Emitter, Event } from '../../common';\nimport URI from '../../common/uri';\nimport { Coordinate } from '../context-menu-renderer';\nimport { BreadcrumbPopupContainer, BreadcrumbPopupContainerFactory } from './breadcrumb-popup-container';\nimport { BreadcrumbsContribution, Styles, Breadcrumb } from './breadcrumbs-constants';\n\n@injectable()\nexport class BreadcrumbsService {\n\n    @inject(ContributionProvider) @named(BreadcrumbsContribution)\n    protected readonly contributions: ContributionProvider<BreadcrumbsContribution>;\n\n    @inject(BreadcrumbPopupContainerFactory) protected readonly breadcrumbPopupContainerFactory: BreadcrumbPopupContainerFactory;\n\n    protected hasSubscribed = false;\n\n    protected popupsOverlayContainer: HTMLDivElement;\n\n    protected readonly onDidChangeBreadcrumbsEmitter = new Emitter<URI>();\n\n    @postConstruct()\n    init(): void {\n        this.createOverlayContainer();\n    }\n\n    protected createOverlayContainer(): void {\n        this.popupsOverlayContainer = window.document.createElement('div');\n        this.popupsOverlayContainer.id = Styles.BREADCRUMB_POPUP_OVERLAY_CONTAINER;\n        if (window.document.body) {\n            window.document.body.appendChild(this.popupsOverlayContainer);\n        }\n    }\n\n    /**\n     * Subscribe to this event emitter to be notified when the breadcrumbs have changed.\n     * The URI is the URI of the editor the breadcrumbs have changed for.\n     */\n    get onDidChangeBreadcrumbs(): Event<URI> {\n        // This lazy subscription is to address problems in inversify's instantiation routine\n        // related to use of the IconThemeService by different components instantiated by the\n        // ContributionProvider.\n        if (!this.hasSubscribed) {\n            this.subscribeToContributions();\n        }\n        return this.onDidChangeBreadcrumbsEmitter.event;\n    }\n\n    /**\n     * Subscribes to the onDidChangeBreadcrumbs events for all contributions.\n     */\n    protected subscribeToContributions(): void {\n        this.hasSubscribed = true;\n        for (const contribution of this.contributions.getContributions()) {\n            contribution.onDidChangeBreadcrumbs(uri => this.onDidChangeBreadcrumbsEmitter.fire(uri));\n        }\n    }\n\n    /**\n     * Returns the breadcrumbs for a given URI, possibly an empty list.\n     */\n    async getBreadcrumbs(uri: URI): Promise<Breadcrumb[]> {\n        const result: Breadcrumb[] = [];\n        for (const contribution of await this.prioritizedContributions()) {\n            result.push(...await contribution.computeBreadcrumbs(uri));\n        }\n        return result;\n    }\n\n    protected async prioritizedContributions(): Promise<BreadcrumbsContribution[]> {\n        const prioritized = await Prioritizeable.prioritizeAll(\n            this.contributions.getContributions(), contribution => contribution.priority);\n        return prioritized.map(p => p.value).reverse();\n    }\n\n    /**\n     * Opens a popup for the given breadcrumb at the given position.\n     */\n    async openPopup(breadcrumb: Breadcrumb, position: Coordinate): Promise<BreadcrumbPopupContainer | undefined> {\n        const contribution = this.contributions.getContributions().find(c => c.type === breadcrumb.type);\n        if (contribution) {\n            const popup = this.breadcrumbPopupContainerFactory(this.popupsOverlayContainer, breadcrumb.id, position);\n            const popupContent = await contribution.attachPopupContent(breadcrumb, popup.container);\n            if (popupContent && popup.isOpen) {\n                popup.onDidDispose(() => popupContent.dispose());\n            } else {\n                popupContent?.dispose();\n            }\n            return popup;\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './breadcrumb-popup-container';\nexport * from './breadcrumb-renderer';\nexport * from './breadcrumbs-renderer';\nexport * from './breadcrumbs-service';\nexport * from './breadcrumbs-constants';\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { environment } from '../common';\n\nconst userAgent = typeof navigator !== 'undefined' ? navigator.userAgent : '';\n\nexport const isIE = (userAgent.indexOf('Trident') >= 0);\nexport const isEdge = (userAgent.indexOf('Edge/') >= 0);\nexport const isEdgeOrIE = isIE || isEdge;\n\nexport const isOpera = (userAgent.indexOf('Opera') >= 0);\nexport const isFirefox = (userAgent.indexOf('Firefox') >= 0);\nexport const isWebKit = (userAgent.indexOf('AppleWebKit') >= 0);\nexport const isChrome = (userAgent.indexOf('Chrome') >= 0);\nexport const isSafari = (userAgent.indexOf('Chrome') === -1) && (userAgent.indexOf('Safari') >= 0);\nexport const isIPad = (userAgent.indexOf('iPad') >= 0);\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n/**\n * @deprecated us Environment.electron.is\n */\nexport const isNative = environment.electron.is();\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const isBasicWasmSupported = typeof (window as any).WebAssembly !== 'undefined';\n\n/**\n * Resolves after the next animation frame if no parameter is given,\n * or after the given number of animation frames.\n */\nexport function animationFrame(n: number = 1): Promise<void> {\n    return new Promise(resolve => {\n        function frameFunc(): void {\n            if (n <= 0) {\n                resolve();\n            } else {\n                n--;\n                requestAnimationFrame(frameFunc);\n            }\n        }\n        frameFunc();\n    });\n}\n\n/**\n * Parse a magnitude value (e.g. width, height, left, top) from a CSS attribute value.\n * Returns the given default value (or undefined) if the value cannot be determined,\n * e.g. because it is a relative value like `50%` or `auto`.\n */\nexport function parseCssMagnitude(value: string | null, defaultValue: number): number;\nexport function parseCssMagnitude(value: string | null, defaultValue?: number): number | undefined {\n    if (value) {\n        let parsed: number;\n        if (value.endsWith('px')) {\n            parsed = parseFloat(value.substring(0, value.length - 2));\n        } else {\n            parsed = parseFloat(value);\n        }\n        if (!isNaN(parsed)) {\n            return parsed;\n        }\n    }\n    return defaultValue;\n}\n\n/**\n * Parse the number of milliseconds from a CSS time value.\n * Returns the given default value (or undefined) if the value cannot be determined.\n */\nexport function parseCssTime(time: string | null, defaultValue: number): number;\nexport function parseCssTime(time: string | null, defaultValue?: number): number | undefined {\n    if (time) {\n        let parsed: number;\n        if (time.endsWith('ms')) {\n            parsed = parseFloat(time.substring(0, time.length - 2));\n        } else if (time.endsWith('s')) {\n            parsed = parseFloat(time.substring(0, time.length - 1)) * 1000;\n        } else {\n            parsed = parseFloat(time);\n        }\n        if (!isNaN(parsed)) {\n            return parsed;\n        }\n    }\n    return defaultValue;\n}\n\ninterface ElementScroll {\n    left: number\n    top: number\n    maxLeft: number\n    maxTop: number\n}\n\nfunction getMonacoEditorScroll(elem: HTMLElement): ElementScroll | undefined {\n    const linesContent = elem.querySelector('.lines-content') as HTMLElement;\n    const viewLines = elem.querySelector('.view-lines') as HTMLElement;\n    // eslint-disable-next-line no-null/no-null\n    if (linesContent === null || viewLines === null) {\n        return undefined;\n    }\n    const linesContentStyle = linesContent.style;\n    const elemStyle = elem.style;\n    const viewLinesStyle = viewLines.style;\n    return {\n        left: -parseCssMagnitude(linesContentStyle.left, 0),\n        top: -parseCssMagnitude(linesContentStyle.top, 0),\n        maxLeft: parseCssMagnitude(viewLinesStyle.width, 0) - parseCssMagnitude(elemStyle.width, 0),\n        maxTop: parseCssMagnitude(viewLinesStyle.height, 0) - parseCssMagnitude(elemStyle.height, 0)\n    };\n}\n\n/**\n * Prevent browser back/forward navigation of a mouse wheel event.\n */\nexport function preventNavigation(event: WheelEvent): void {\n    const { currentTarget, deltaX, deltaY } = event;\n    const absDeltaX = Math.abs(deltaX);\n    const absDeltaY = Math.abs(deltaY);\n    let elem = event.target as Element | null;\n\n    while (elem && elem !== currentTarget) {\n        let scroll: ElementScroll | undefined;\n        if (elem.classList.contains('monaco-scrollable-element')) {\n            scroll = getMonacoEditorScroll(elem as HTMLElement);\n        } else {\n            scroll = {\n                left: elem.scrollLeft,\n                top: elem.scrollTop,\n                maxLeft: elem.scrollWidth - elem.clientWidth,\n                maxTop: elem.scrollHeight - elem.clientHeight\n            };\n        }\n        if (scroll) {\n            const scrollH = scroll.maxLeft > 0 && (deltaX < 0 && scroll.left > 0 || deltaX > 0 && scroll.left < scroll.maxLeft);\n            const scrollV = scroll.maxTop > 0 && (deltaY < 0 && scroll.top > 0 || deltaY > 0 && scroll.top < scroll.maxTop);\n            if (scrollH && scrollV || scrollH && absDeltaX > absDeltaY || scrollV && absDeltaY > absDeltaX) {\n                // The event is consumed by the scrollable child element\n                return;\n            }\n        }\n        elem = elem.parentElement;\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n}\n\nexport type PartialCSSStyle = Omit<Partial<CSSStyleDeclaration>,\n    'visibility' |\n    'display' |\n    'parentRule' |\n    'getPropertyPriority' |\n    'getPropertyValue' |\n    'item' |\n    'removeProperty' |\n    'setProperty'>;\n\nexport function measureTextWidth(text: string | string[], style?: PartialCSSStyle): number {\n    const measureElement = getMeasurementElement(style);\n    text = Array.isArray(text) ? text : [text];\n    let width = 0;\n    for (const item of text) {\n        measureElement.textContent = item;\n        width = Math.max(measureElement.getBoundingClientRect().width, width);\n    }\n    return width;\n}\n\nexport function measureTextHeight(text: string | string[], style?: PartialCSSStyle): number {\n    const measureElement = getMeasurementElement(style);\n    text = Array.isArray(text) ? text : [text];\n    let height = 0;\n    for (const item of text) {\n        measureElement.textContent = item;\n        height = Math.max(measureElement.getBoundingClientRect().height, height);\n    }\n    return height;\n}\n\nconst defaultStyle = document.createElement('div').style;\ndefaultStyle.fontFamily = 'var(--theia-ui-font-family)';\ndefaultStyle.fontSize = 'var(--theia-ui-font-size1)';\ndefaultStyle.visibility = 'hidden';\n\nfunction getMeasurementElement(style?: PartialCSSStyle): HTMLElement {\n    let measureElement = document.getElementById('measure');\n    if (!measureElement) {\n        measureElement = document.createElement('span');\n        measureElement.id = 'measure';\n        measureElement.style.fontFamily = defaultStyle.fontFamily;\n        measureElement.style.fontSize = defaultStyle.fontSize;\n        measureElement.style.visibility = defaultStyle.visibility;\n        document.body.appendChild(measureElement);\n    }\n    const measureStyle = measureElement.style;\n    // Reset styling first\n    for (let i = 0; i < measureStyle.length; i++) {\n        const property = measureStyle[i];\n        measureStyle.setProperty(property, defaultStyle.getPropertyValue(property));\n    }\n    // Apply new styling\n    if (style) {\n        for (const [key, value] of Object.entries(style)) {\n            measureStyle.setProperty(key, value as string);\n        }\n    }\n    return measureElement;\n}\n","// *****************************************************************************\n// Copyright (C) 2019 RedHat and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MaybePromise } from '../common/types';\n\nexport const ClipboardService = Symbol('ClipboardService');\nexport interface ClipboardService {\n    readText(): MaybePromise<string>;\n    writeText(value: string): MaybePromise<void>;\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { DisposableCollection, Disposable } from '../common/disposable';\nimport { Emitter } from '../common/event';\nimport { ColorDefinition, ColorCssVariable } from '../common/color';\n\n@injectable()\nexport class ColorRegistry {\n\n    protected readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange = this.onDidChangeEmitter.event;\n    protected fireDidChange(): void {\n        this.onDidChangeEmitter.fire(undefined);\n    }\n\n    *getColors(): IterableIterator<string> { }\n\n    getCurrentCssVariable(id: string): ColorCssVariable | undefined {\n        const value = this.getCurrentColor(id);\n        if (!value) {\n            return undefined;\n        }\n        const name = this.toCssVariableName(id);\n        return { name, value };\n    }\n\n    toCssVariableName(id: string, prefix = 'theia'): string {\n        return `--${prefix}-${id.replace(/\\./g, '-')}`;\n    }\n\n    getCurrentColor(id: string): string | undefined {\n        return undefined;\n    }\n\n    register(...definitions: ColorDefinition[]): Disposable {\n        const result = new DisposableCollection(...definitions.map(definition => this.doRegister(definition)));\n        this.fireDidChange();\n        return result;\n    }\n\n    protected doRegister(definition: ColorDefinition): Disposable {\n        return Disposable.NULL;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable max-len, @typescript-eslint/indent */\n\nimport debounce = require('lodash.debounce');\nimport { injectable, inject, optional } from 'inversify';\nimport { MAIN_MENU_BAR, MANAGE_MENU, MenuContribution, MenuModelRegistry, ACCOUNTS_MENU } from '../common/menu';\nimport { KeybindingContribution, KeybindingRegistry } from './keybinding';\nimport { FrontendApplication } from './frontend-application';\nimport { FrontendApplicationContribution, OnWillStopAction } from './frontend-application-contribution';\nimport { CommandContribution, CommandRegistry, Command } from '../common/command';\nimport { UriAwareCommandHandler } from '../common/uri-command-handler';\nimport { SelectionService } from '../common/selection-service';\nimport { MessageService } from '../common/message-service';\nimport { OpenerService, open } from '../browser/opener-service';\nimport { ApplicationShell } from './shell/application-shell';\nimport { SHELL_TABBAR_CONTEXT_CLOSE, SHELL_TABBAR_CONTEXT_COPY, SHELL_TABBAR_CONTEXT_PIN, SHELL_TABBAR_CONTEXT_SPLIT } from './shell/tab-bars';\nimport { AboutDialog } from './about-dialog';\nimport * as browser from './browser';\nimport URI from '../common/uri';\nimport { ContextKey, ContextKeyService } from './context-key-service';\nimport { OS, isOSX, isWindows, EOL } from '../common/os';\nimport { ResourceContextKey } from './resource-context-key';\nimport { UriSelection } from '../common/selection';\nimport { StorageService } from './storage-service';\nimport { Navigatable, NavigatableWidget } from './navigatable';\nimport { QuickViewService } from './quick-input/quick-view-service';\nimport { environment } from '@theia/application-package/lib/environment';\nimport { IconTheme, IconThemeService } from './icon-theme-service';\nimport { ColorContribution } from './color-application-contribution';\nimport { ColorRegistry } from './color-registry';\nimport { Color } from '../common/color';\nimport { CoreConfiguration, CorePreferences } from './core-preferences';\nimport { ThemeService } from './theming';\nimport { PreferenceService, PreferenceChangeEvent, PreferenceScope } from './preferences';\nimport { ClipboardService } from './clipboard-service';\nimport { EncodingRegistry } from './encoding-registry';\nimport { UTF8 } from '../common/encodings';\nimport { EnvVariablesServer } from '../common/env-variables';\nimport { AuthenticationService } from './authentication-service';\nimport { FormatType, Saveable, SaveOptions } from './saveable';\nimport { QuickInputService, QuickPickItem, QuickPickItemOrSeparator, QuickPickSeparator } from './quick-input';\nimport { AsyncLocalizationProvider } from '../common/i18n/localization';\nimport { nls } from '../common/nls';\nimport { CurrentWidgetCommandAdapter } from './shell/current-widget-command-adapter';\nimport { ConfirmDialog, confirmExit, ConfirmSaveDialog, Dialog } from './dialogs';\nimport { WindowService } from './window/window-service';\nimport { FrontendApplicationConfigProvider } from './frontend-application-config-provider';\nimport { DecorationStyle } from './decoration-style';\nimport { isPinned, Title, togglePinned, Widget } from './widgets';\nimport { SaveResourceService } from './save-resource-service';\nimport { UserWorkingDirectoryProvider } from './user-working-directory-provider';\nimport { UNTITLED_SCHEME, UntitledResourceResolver } from '../common';\nimport { LanguageQuickPickService } from './i18n/language-quick-pick-service';\n\nexport namespace CommonMenus {\n\n    export const FILE = [...MAIN_MENU_BAR, '1_file'];\n    export const FILE_NEW_TEXT = [...FILE, '1_new_text'];\n    export const FILE_NEW = [...FILE, '1_new'];\n    export const FILE_OPEN = [...FILE, '2_open'];\n    export const FILE_SAVE = [...FILE, '3_save'];\n    export const FILE_AUTOSAVE = [...FILE, '4_autosave'];\n    export const FILE_SETTINGS = [...FILE, '5_settings'];\n    export const FILE_SETTINGS_SUBMENU = [...FILE_SETTINGS, '1_settings_submenu'];\n    export const FILE_SETTINGS_SUBMENU_OPEN = [...FILE_SETTINGS_SUBMENU, '1_settings_submenu_open'];\n    export const FILE_SETTINGS_SUBMENU_THEME = [...FILE_SETTINGS_SUBMENU, '2_settings_submenu_theme'];\n    export const FILE_CLOSE = [...FILE, '6_close'];\n\n    export const FILE_NEW_CONTRIBUTIONS = 'file/newFile';\n\n    export const EDIT = [...MAIN_MENU_BAR, '2_edit'];\n    export const EDIT_UNDO = [...EDIT, '1_undo'];\n    export const EDIT_CLIPBOARD = [...EDIT, '2_clipboard'];\n    export const EDIT_FIND = [...EDIT, '3_find'];\n\n    export const VIEW = [...MAIN_MENU_BAR, '4_view'];\n    export const VIEW_PRIMARY = [...VIEW, '0_primary'];\n    export const VIEW_APPEARANCE = [...VIEW, '1_appearance'];\n    export const VIEW_APPEARANCE_SUBMENU = [...VIEW_APPEARANCE, '1_appearance_submenu'];\n    export const VIEW_APPEARANCE_SUBMENU_SCREEN = [...VIEW_APPEARANCE_SUBMENU, '2_appearance_submenu_screen'];\n    export const VIEW_APPEARANCE_SUBMENU_BAR = [...VIEW_APPEARANCE_SUBMENU, '3_appearance_submenu_bar'];\n    export const VIEW_EDITOR_SUBMENU = [...VIEW_APPEARANCE, '2_editor_submenu'];\n    export const VIEW_EDITOR_SUBMENU_SPLIT = [...VIEW_EDITOR_SUBMENU, '1_editor_submenu_split'];\n    export const VIEW_EDITOR_SUBMENU_ORTHO = [...VIEW_EDITOR_SUBMENU, '2_editor_submenu_ortho'];\n    export const VIEW_VIEWS = [...VIEW, '2_views'];\n    export const VIEW_LAYOUT = [...VIEW, '3_layout'];\n    export const VIEW_TOGGLE = [...VIEW, '4_toggle'];\n\n    export const MANAGE_GENERAL = [...MANAGE_MENU, '1_manage_general'];\n    export const MANAGE_SETTINGS = [...MANAGE_MENU, '2_manage_settings'];\n    export const MANAGE_SETTINGS_THEMES = [...MANAGE_SETTINGS, '1_manage_settings_themes'];\n\n    // last menu item\n    export const HELP = [...MAIN_MENU_BAR, '9_help'];\n\n}\n\nexport namespace CommonCommands {\n\n    export const FILE_CATEGORY = 'File';\n    export const VIEW_CATEGORY = 'View';\n    export const CREATE_CATEGORY = 'Create';\n    export const PREFERENCES_CATEGORY = 'Preferences';\n    export const MANAGE_CATEGORY = 'Manage';\n    export const FILE_CATEGORY_KEY = nls.getDefaultKey(FILE_CATEGORY);\n    export const VIEW_CATEGORY_KEY = nls.getDefaultKey(VIEW_CATEGORY);\n    export const PREFERENCES_CATEGORY_KEY = nls.getDefaultKey(PREFERENCES_CATEGORY);\n\n    export const OPEN: Command = {\n        id: 'core.open',\n    };\n\n    export const CUT = Command.toDefaultLocalizedCommand({\n        id: 'core.cut',\n        label: 'Cut'\n    });\n    export const COPY = Command.toDefaultLocalizedCommand({\n        id: 'core.copy',\n        label: 'Copy'\n    });\n    export const PASTE = Command.toDefaultLocalizedCommand({\n        id: 'core.paste',\n        label: 'Paste'\n    });\n\n    export const COPY_PATH = Command.toDefaultLocalizedCommand({\n        id: 'core.copy.path',\n        label: 'Copy Path'\n    });\n\n    export const UNDO = Command.toDefaultLocalizedCommand({\n        id: 'core.undo',\n        label: 'Undo'\n    });\n    export const REDO = Command.toDefaultLocalizedCommand({\n        id: 'core.redo',\n        label: 'Redo'\n    });\n    export const SELECT_ALL = Command.toDefaultLocalizedCommand({\n        id: 'core.selectAll',\n        label: 'Select All'\n    });\n\n    export const FIND = Command.toDefaultLocalizedCommand({\n        id: 'core.find',\n        label: 'Find'\n    });\n    export const REPLACE = Command.toDefaultLocalizedCommand({\n        id: 'core.replace',\n        label: 'Replace'\n    });\n\n    export const NEXT_TAB = Command.toDefaultLocalizedCommand({\n        id: 'core.nextTab',\n        category: VIEW_CATEGORY,\n        label: 'Show Next Tab'\n    });\n    export const PREVIOUS_TAB = Command.toDefaultLocalizedCommand({\n        id: 'core.previousTab',\n        category: VIEW_CATEGORY,\n        label: 'Show Previous Tab'\n    });\n    export const NEXT_TAB_IN_GROUP = Command.toLocalizedCommand({\n        id: 'core.nextTabInGroup',\n        category: VIEW_CATEGORY,\n        label: 'Switch to Next Tab in Group'\n    }, 'theia/core/common/showNextTabInGroup', VIEW_CATEGORY_KEY);\n    export const PREVIOUS_TAB_IN_GROUP = Command.toLocalizedCommand({\n        id: 'core.previousTabInGroup',\n        category: VIEW_CATEGORY,\n        label: 'Switch to Previous Tab in Group'\n    }, 'theia/core/common/showPreviousTabInGroup', VIEW_CATEGORY_KEY);\n    export const NEXT_TAB_GROUP = Command.toLocalizedCommand({\n        id: 'core.nextTabGroup',\n        category: VIEW_CATEGORY,\n        label: 'Switch to Next Tab Group'\n    }, 'theia/core/common/showNextTabGroup', VIEW_CATEGORY_KEY);\n    export const PREVIOUS_TAB_GROUP = Command.toLocalizedCommand({\n        id: 'core.previousTabBar',\n        category: VIEW_CATEGORY,\n        label: 'Switch to Previous Tab Group'\n    }, 'theia/core/common/showPreviousTabGroup', VIEW_CATEGORY_KEY);\n    export const CLOSE_TAB = Command.toLocalizedCommand({\n        id: 'core.close.tab',\n        category: VIEW_CATEGORY,\n        label: 'Close Tab'\n    }, 'theia/core/common/closeTab', VIEW_CATEGORY_KEY);\n    export const CLOSE_OTHER_TABS = Command.toLocalizedCommand({\n        id: 'core.close.other.tabs',\n        category: VIEW_CATEGORY,\n        label: 'Close Other Tabs'\n    }, 'theia/core/common/closeOthers', VIEW_CATEGORY_KEY);\n    export const CLOSE_SAVED_TABS = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.closeUnmodifiedEditors',\n        category: VIEW_CATEGORY,\n        label: 'Close Saved Editors in Group',\n    });\n    export const CLOSE_RIGHT_TABS = Command.toLocalizedCommand({\n        id: 'core.close.right.tabs',\n        category: VIEW_CATEGORY,\n        label: 'Close Tabs to the Right'\n    }, 'theia/core/common/closeRight', VIEW_CATEGORY_KEY);\n    export const CLOSE_ALL_TABS = Command.toLocalizedCommand({\n        id: 'core.close.all.tabs',\n        category: VIEW_CATEGORY,\n        label: 'Close All Tabs'\n    }, 'theia/core/common/closeAll', VIEW_CATEGORY_KEY);\n    export const CLOSE_MAIN_TAB = Command.toLocalizedCommand({\n        id: 'core.close.main.tab',\n        category: VIEW_CATEGORY,\n        label: 'Close Tab in Main Area'\n    }, 'theia/core/common/closeTabMain', VIEW_CATEGORY_KEY);\n    export const CLOSE_OTHER_MAIN_TABS = Command.toLocalizedCommand({\n        id: 'core.close.other.main.tabs',\n        category: VIEW_CATEGORY,\n        label: 'Close Other Tabs in Main Area'\n    }, 'theia/core/common/closeOtherTabMain', VIEW_CATEGORY_KEY);\n    export const CLOSE_ALL_MAIN_TABS = Command.toLocalizedCommand({\n        id: 'core.close.all.main.tabs',\n        category: VIEW_CATEGORY,\n        label: 'Close All Tabs in Main Area'\n    }, 'theia/core/common/closeAllTabMain', VIEW_CATEGORY_KEY);\n    export const COLLAPSE_PANEL = Command.toLocalizedCommand({\n        id: 'core.collapse.tab',\n        category: VIEW_CATEGORY,\n        label: 'Collapse Side Panel'\n    }, 'theia/core/common/collapseTab', VIEW_CATEGORY_KEY);\n    export const COLLAPSE_ALL_PANELS = Command.toLocalizedCommand({\n        id: 'core.collapse.all.tabs',\n        category: VIEW_CATEGORY,\n        label: 'Collapse All Side Panels'\n    }, 'theia/core/common/collapseAllTabs', VIEW_CATEGORY_KEY);\n    export const TOGGLE_BOTTOM_PANEL = Command.toLocalizedCommand({\n        id: 'core.toggle.bottom.panel',\n        category: VIEW_CATEGORY,\n        label: 'Toggle Bottom Panel'\n    }, 'theia/core/common/collapseBottomPanel', VIEW_CATEGORY_KEY);\n    export const TOGGLE_STATUS_BAR = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.toggleStatusbarVisibility',\n        category: VIEW_CATEGORY,\n        label: 'Toggle Status Bar Visibility'\n    });\n    export const PIN_TAB = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.pinEditor',\n        category: VIEW_CATEGORY,\n        label: 'Pin Editor'\n    });\n    export const UNPIN_TAB = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.unpinEditor',\n        category: VIEW_CATEGORY,\n        label: 'Unpin Editor'\n    });\n    export const TOGGLE_MAXIMIZED = Command.toLocalizedCommand({\n        id: 'core.toggleMaximized',\n        category: VIEW_CATEGORY,\n        label: 'Toggle Maximized'\n    }, 'theia/core/common/toggleMaximized', VIEW_CATEGORY_KEY);\n    export const OPEN_VIEW = Command.toDefaultLocalizedCommand({\n        id: 'core.openView',\n        category: VIEW_CATEGORY,\n        label: 'Open View...'\n    });\n    export const SHOW_MENU_BAR = Command.toDefaultLocalizedCommand({\n        id: 'window.menuBarVisibility',\n        category: VIEW_CATEGORY,\n        label: 'Toggle Menu Bar'\n    });\n    /**\n     * Command Parameters:\n     * - `fileName`: string\n     * - `directory`: URI\n     */\n    export const NEW_FILE = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.files.newFile',\n        category: FILE_CATEGORY\n    });\n    export const NEW_UNTITLED_TEXT_FILE = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.files.newUntitledTextFile',\n        category: FILE_CATEGORY,\n        label: 'New Untitled Text File'\n    });\n    export const NEW_UNTITLED_FILE = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.files.newUntitledFile',\n        category: CREATE_CATEGORY,\n        label: 'New File...'\n    });\n    export const SAVE = Command.toDefaultLocalizedCommand({\n        id: 'core.save',\n        category: FILE_CATEGORY,\n        label: 'Save',\n    });\n    export const SAVE_AS = Command.toDefaultLocalizedCommand({\n        id: 'file.saveAs',\n        category: FILE_CATEGORY,\n        label: 'Save As...',\n    });\n    export const SAVE_WITHOUT_FORMATTING = Command.toDefaultLocalizedCommand({\n        id: 'core.saveWithoutFormatting',\n        category: FILE_CATEGORY,\n        label: 'Save without Formatting',\n    });\n    export const SAVE_ALL = Command.toDefaultLocalizedCommand({\n        id: 'core.saveAll',\n        category: FILE_CATEGORY,\n        label: 'Save All',\n    });\n\n    export const AUTO_SAVE = Command.toDefaultLocalizedCommand({\n        id: 'textEditor.commands.autosave',\n        category: FILE_CATEGORY,\n        label: 'Auto Save',\n    });\n\n    export const ABOUT_COMMAND = Command.toDefaultLocalizedCommand({\n        id: 'core.about',\n        label: 'About'\n    });\n\n    export const OPEN_PREFERENCES = Command.toDefaultLocalizedCommand({\n        id: 'preferences:open',\n        category: PREFERENCES_CATEGORY,\n        label: 'Open Settings (UI)',\n    });\n\n    export const SELECT_COLOR_THEME = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.selectTheme',\n        label: 'Color Theme',\n        category: PREFERENCES_CATEGORY\n    });\n    export const SELECT_ICON_THEME = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.selectIconTheme',\n        label: 'File Icon Theme',\n        category: PREFERENCES_CATEGORY\n    });\n\n    export const CONFIGURE_DISPLAY_LANGUAGE = Command.toDefaultLocalizedCommand({\n        id: 'workbench.action.configureLanguage',\n        label: 'Configure Display Language'\n    });\n\n    export const TOGGLE_BREADCRUMBS = Command.toDefaultLocalizedCommand({\n        id: 'breadcrumbs.toggle',\n        label: 'Toggle Breadcrumbs',\n        category: VIEW_CATEGORY\n    });\n}\n\nexport const supportCut = environment.electron.is() || document.queryCommandSupported('cut');\nexport const supportCopy = environment.electron.is() || document.queryCommandSupported('copy');\n// Chrome incorrectly returns true for document.queryCommandSupported('paste')\n// when the paste feature is available but the calling script has insufficient\n// privileges to actually perform the action\nexport const supportPaste = environment.electron.is() || (!browser.isChrome && document.queryCommandSupported('paste'));\n\nexport const RECENT_COMMANDS_STORAGE_KEY = 'commands';\n\nexport const CLASSNAME_OS_MAC = 'mac';\nexport const CLASSNAME_OS_WINDOWS = 'windows';\nexport const CLASSNAME_OS_LINUX = 'linux';\n\n@injectable()\nexport class CommonFrontendContribution implements FrontendApplicationContribution, MenuContribution, CommandContribution, KeybindingContribution, ColorContribution {\n\n    protected commonDecorationsStyleSheet: CSSStyleSheet = DecorationStyle.createStyleSheet('coreCommonDecorationsStyle');\n\n    constructor(\n        @inject(ApplicationShell) protected readonly shell: ApplicationShell,\n        @inject(SelectionService) protected readonly selectionService: SelectionService,\n        @inject(MessageService) protected readonly messageService: MessageService,\n        @inject(OpenerService) protected readonly openerService: OpenerService,\n        @inject(AboutDialog) protected readonly aboutDialog: AboutDialog,\n        @inject(AsyncLocalizationProvider) protected readonly localizationProvider: AsyncLocalizationProvider,\n        @inject(SaveResourceService) protected readonly saveResourceService: SaveResourceService,\n    ) { }\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @inject(ResourceContextKey)\n    protected readonly resourceContextKey: ResourceContextKey;\n\n    @inject(CommandRegistry)\n    protected readonly commandRegistry: CommandRegistry;\n\n    @inject(MenuModelRegistry)\n    protected readonly menuRegistry: MenuModelRegistry;\n\n    @inject(StorageService)\n    protected readonly storageService: StorageService;\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    @inject(IconThemeService)\n    protected readonly iconThemes: IconThemeService;\n\n    @inject(ThemeService)\n    protected readonly themeService: ThemeService;\n\n    @inject(CorePreferences)\n    protected readonly preferences: CorePreferences;\n\n    @inject(PreferenceService)\n    protected readonly preferenceService: PreferenceService;\n\n    @inject(ClipboardService)\n    protected readonly clipboardService: ClipboardService;\n\n    @inject(EncodingRegistry)\n    protected readonly encodingRegistry: EncodingRegistry;\n\n    @inject(EnvVariablesServer)\n    protected readonly environments: EnvVariablesServer;\n\n    @inject(AuthenticationService)\n    protected readonly authenticationService: AuthenticationService;\n\n    @inject(WindowService)\n    protected readonly windowService: WindowService;\n\n    @inject(UserWorkingDirectoryProvider)\n    protected readonly workingDirProvider: UserWorkingDirectoryProvider;\n\n    @inject(LanguageQuickPickService)\n    protected readonly languageQuickPickService: LanguageQuickPickService;\n\n    @inject(UntitledResourceResolver)\n    protected readonly untitledResourceResolver: UntitledResourceResolver;\n\n    protected pinnedKey: ContextKey<boolean>;\n\n    async configure(app: FrontendApplication): Promise<void> {\n        // FIXME: This request blocks valuable startup time (~200ms).\n        const configDirUri = await this.environments.getConfigDirUri();\n        // Global settings\n        this.encodingRegistry.registerOverride({\n            encoding: UTF8,\n            parent: new URI(configDirUri)\n        });\n\n        this.contextKeyService.createKey<boolean>('isLinux', OS.type() === OS.Type.Linux);\n        this.contextKeyService.createKey<boolean>('isMac', OS.type() === OS.Type.OSX);\n        this.contextKeyService.createKey<boolean>('isWindows', OS.type() === OS.Type.Windows);\n        this.contextKeyService.createKey<boolean>('isWeb', !this.isElectron());\n\n        this.pinnedKey = this.contextKeyService.createKey<boolean>('activeEditorIsPinned', false);\n        this.updatePinnedKey();\n        this.shell.onDidChangeActiveWidget(() => this.updatePinnedKey());\n\n        this.initResourceContextKeys();\n        this.registerCtrlWHandling();\n\n        this.setOsClass();\n        this.updateStyles();\n        this.preferences.ready.then(() => this.setSashProperties());\n        this.preferences.onPreferenceChanged(e => this.handlePreferenceChange(e, app));\n\n        app.shell.leftPanelHandler.addBottomMenu({\n            id: 'settings-menu',\n            iconClass: 'codicon codicon-settings-gear',\n            title: nls.localizeByDefault(CommonCommands.MANAGE_CATEGORY),\n            menuPath: MANAGE_MENU,\n            order: 1,\n        });\n        const accountsMenu = {\n            id: 'accounts-menu',\n            iconClass: 'codicon codicon-person',\n            title: nls.localizeByDefault('Accounts'),\n            menuPath: ACCOUNTS_MENU,\n            order: 0,\n        };\n        this.authenticationService.onDidRegisterAuthenticationProvider(() => {\n            app.shell.leftPanelHandler.addBottomMenu(accountsMenu);\n        });\n        this.authenticationService.onDidUnregisterAuthenticationProvider(() => {\n            if (this.authenticationService.getProviderIds().length === 0) {\n                app.shell.leftPanelHandler.removeBottomMenu(accountsMenu.id);\n            }\n        });\n    }\n\n    protected setOsClass(): void {\n        if (isOSX) {\n            document.body.classList.add(CLASSNAME_OS_MAC);\n        } else if (isWindows) {\n            document.body.classList.add(CLASSNAME_OS_WINDOWS);\n        } else {\n            document.body.classList.add(CLASSNAME_OS_LINUX);\n        }\n    }\n\n    protected updateStyles(): void {\n        document.body.classList.remove('theia-editor-highlightModifiedTabs');\n        if (this.preferences['workbench.editor.highlightModifiedTabs']) {\n            document.body.classList.add('theia-editor-highlightModifiedTabs');\n        }\n    }\n\n    protected updatePinnedKey(): void {\n        const activeTab = this.shell.findTabBar();\n        const pinningTarget = activeTab && this.shell.findTitle(activeTab);\n        const value = pinningTarget && isPinned(pinningTarget);\n        this.pinnedKey.set(value);\n    }\n\n    protected handlePreferenceChange(e: PreferenceChangeEvent<CoreConfiguration>, app: FrontendApplication): void {\n        switch (e.preferenceName) {\n            case 'workbench.editor.highlightModifiedTabs': {\n                this.updateStyles();\n                break;\n            }\n            case 'window.menuBarVisibility': {\n                const { newValue } = e;\n                const mainMenuId = 'main-menu';\n                if (newValue === 'compact') {\n                    this.shell.leftPanelHandler.addTopMenu({\n                        id: mainMenuId,\n                        iconClass: 'codicon codicon-menu',\n                        title: nls.localizeByDefault('Application Menu'),\n                        menuPath: MAIN_MENU_BAR,\n                        order: 0,\n                    });\n                } else {\n                    app.shell.leftPanelHandler.removeTopMenu(mainMenuId);\n                }\n                break;\n            }\n            case 'workbench.sash.hoverDelay':\n            case 'workbench.sash.size': {\n                this.setSashProperties();\n                break;\n            }\n        }\n    }\n\n    protected setSashProperties(): void {\n        const sashRule = `:root {\n            --theia-sash-hoverDelay: ${this.preferences['workbench.sash.hoverDelay']}ms;\n            --theia-sash-width: ${this.preferences['workbench.sash.size']}px;\n        }`;\n\n        DecorationStyle.deleteStyleRule(':root', this.commonDecorationsStyleSheet);\n        this.commonDecorationsStyleSheet.insertRule(sashRule);\n    }\n\n    onStart(): void {\n        this.storageService.getData<{ recent: Command[] }>(RECENT_COMMANDS_STORAGE_KEY, { recent: [] })\n            .then(tasks => this.commandRegistry.recent = tasks.recent);\n    }\n\n    onStop(): void {\n        const recent = this.commandRegistry.recent;\n        this.storageService.setData<{ recent: Command[] }>(RECENT_COMMANDS_STORAGE_KEY, { recent });\n        window.localStorage.setItem(IconThemeService.STORAGE_KEY, this.iconThemes.current);\n        window.localStorage.setItem(ThemeService.STORAGE_KEY, this.themeService.getCurrentTheme().id);\n    }\n\n    protected initResourceContextKeys(): void {\n        const updateContextKeys = () => {\n            const selection = this.selectionService.selection;\n            const resourceUri = Navigatable.is(selection) && selection.getResourceUri() || UriSelection.getUri(selection);\n            this.resourceContextKey.set(resourceUri);\n        };\n        updateContextKeys();\n        this.selectionService.onSelectionChanged(updateContextKeys);\n    }\n\n    registerMenus(registry: MenuModelRegistry): void {\n        registry.registerSubmenu(CommonMenus.FILE, nls.localizeByDefault('File'));\n        registry.registerSubmenu(CommonMenus.EDIT, nls.localizeByDefault('Edit'));\n        registry.registerSubmenu(CommonMenus.VIEW, nls.localizeByDefault('View'));\n        registry.registerSubmenu(CommonMenus.HELP, nls.localizeByDefault('Help'));\n\n        // For plugins contributing create new file commands/menu-actions\n        registry.registerIndependentSubmenu(CommonMenus.FILE_NEW_CONTRIBUTIONS, nls.localizeByDefault('New File...'));\n\n        registry.registerMenuAction(CommonMenus.FILE_SAVE, {\n            commandId: CommonCommands.SAVE.id\n        });\n        registry.registerMenuAction(CommonMenus.FILE_SAVE, {\n            commandId: CommonCommands.SAVE_ALL.id\n        });\n\n        registry.registerMenuAction(CommonMenus.FILE_AUTOSAVE, {\n            commandId: CommonCommands.AUTO_SAVE.id\n        });\n\n        registry.registerSubmenu(CommonMenus.FILE_SETTINGS_SUBMENU, nls.localizeByDefault(CommonCommands.PREFERENCES_CATEGORY));\n\n        registry.registerMenuAction(CommonMenus.EDIT_UNDO, {\n            commandId: CommonCommands.UNDO.id,\n            order: '0'\n        });\n        registry.registerMenuAction(CommonMenus.EDIT_UNDO, {\n            commandId: CommonCommands.REDO.id,\n            order: '1'\n        });\n\n        registry.registerMenuAction(CommonMenus.EDIT_FIND, {\n            commandId: CommonCommands.FIND.id,\n            order: '0'\n        });\n        registry.registerMenuAction(CommonMenus.EDIT_FIND, {\n            commandId: CommonCommands.REPLACE.id,\n            order: '1'\n        });\n\n        registry.registerMenuAction(CommonMenus.EDIT_CLIPBOARD, {\n            commandId: CommonCommands.CUT.id,\n            order: '0'\n        });\n        registry.registerMenuAction(CommonMenus.EDIT_CLIPBOARD, {\n            commandId: CommonCommands.COPY.id,\n            order: '1'\n        });\n        registry.registerMenuAction(CommonMenus.EDIT_CLIPBOARD, {\n            commandId: CommonCommands.PASTE.id,\n            order: '2'\n        });\n        registry.registerMenuAction(CommonMenus.EDIT_CLIPBOARD, {\n            commandId: CommonCommands.COPY_PATH.id,\n            order: '3'\n        });\n\n        registry.registerMenuAction(CommonMenus.VIEW_APPEARANCE_SUBMENU_BAR, {\n            commandId: CommonCommands.TOGGLE_BOTTOM_PANEL.id,\n            order: '1'\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_APPEARANCE_SUBMENU_BAR, {\n            commandId: CommonCommands.TOGGLE_STATUS_BAR.id,\n            order: '2',\n            label: nls.localizeByDefault('Toggle Status Bar Visibility')\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_APPEARANCE_SUBMENU_BAR, {\n            commandId: CommonCommands.COLLAPSE_ALL_PANELS.id,\n            order: '3'\n        });\n\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_CLOSE, {\n            commandId: CommonCommands.CLOSE_TAB.id,\n            label: nls.localizeByDefault('Close'),\n            order: '0'\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_CLOSE, {\n            commandId: CommonCommands.CLOSE_OTHER_TABS.id,\n            label: nls.localizeByDefault('Close Others'),\n            order: '1'\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_CLOSE, {\n            commandId: CommonCommands.CLOSE_RIGHT_TABS.id,\n            label: nls.localizeByDefault('Close to the Right'),\n            order: '2'\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_CLOSE, {\n            commandId: CommonCommands.CLOSE_SAVED_TABS.id,\n            label: nls.localizeByDefault('Close Saved'),\n            order: '3',\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_CLOSE, {\n            commandId: CommonCommands.CLOSE_ALL_TABS.id,\n            label: nls.localizeByDefault('Close All'),\n            order: '4'\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_SPLIT, {\n            commandId: CommonCommands.COLLAPSE_PANEL.id,\n            label: CommonCommands.COLLAPSE_PANEL.label,\n            order: '5'\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_SPLIT, {\n            commandId: CommonCommands.TOGGLE_MAXIMIZED.id,\n            label: CommonCommands.TOGGLE_MAXIMIZED.label,\n            order: '6'\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_APPEARANCE_SUBMENU_SCREEN, {\n            commandId: CommonCommands.TOGGLE_MAXIMIZED.id,\n            label: CommonCommands.TOGGLE_MAXIMIZED.label,\n            order: '6'\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_COPY, {\n            commandId: CommonCommands.COPY_PATH.id,\n            label: CommonCommands.COPY_PATH.label,\n            order: '1',\n        });\n        registry.registerMenuAction(CommonMenus.VIEW_APPEARANCE_SUBMENU_BAR, {\n            commandId: CommonCommands.SHOW_MENU_BAR.id,\n            label: nls.localizeByDefault('Toggle Menu Bar'),\n            order: '0'\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_PIN, {\n            commandId: CommonCommands.PIN_TAB.id,\n            label: nls.localizeByDefault('Pin'),\n            order: '7'\n        });\n        registry.registerMenuAction(SHELL_TABBAR_CONTEXT_PIN, {\n            commandId: CommonCommands.UNPIN_TAB.id,\n            label: nls.localizeByDefault('Unpin'),\n            order: '8'\n        });\n        registry.registerMenuAction(CommonMenus.HELP, {\n            commandId: CommonCommands.ABOUT_COMMAND.id,\n            label: CommonCommands.ABOUT_COMMAND.label,\n            order: '9'\n        });\n\n        registry.registerMenuAction(CommonMenus.VIEW_PRIMARY, {\n            commandId: CommonCommands.OPEN_VIEW.id\n        });\n\n        registry.registerMenuAction(CommonMenus.FILE_SETTINGS_SUBMENU_THEME, {\n            commandId: CommonCommands.SELECT_COLOR_THEME.id\n        });\n        registry.registerMenuAction(CommonMenus.FILE_SETTINGS_SUBMENU_THEME, {\n            commandId: CommonCommands.SELECT_ICON_THEME.id\n        });\n\n        registry.registerSubmenu(CommonMenus.MANAGE_SETTINGS_THEMES, nls.localizeByDefault('Themes'), { order: 'a50' });\n        registry.registerMenuAction(CommonMenus.MANAGE_SETTINGS_THEMES, {\n            commandId: CommonCommands.SELECT_COLOR_THEME.id,\n            order: '0'\n        });\n        registry.registerMenuAction(CommonMenus.MANAGE_SETTINGS_THEMES, {\n            commandId: CommonCommands.SELECT_ICON_THEME.id,\n            order: '1'\n        });\n\n        registry.registerSubmenu(CommonMenus.VIEW_APPEARANCE_SUBMENU, nls.localizeByDefault('Appearance'));\n\n        registry.registerMenuAction(CommonMenus.FILE_NEW_TEXT, {\n            commandId: CommonCommands.NEW_UNTITLED_TEXT_FILE.id,\n            label: nls.localizeByDefault('New Text File'),\n            order: 'a'\n        });\n\n        registry.registerMenuAction(CommonMenus.FILE_NEW_TEXT, {\n            commandId: CommonCommands.NEW_UNTITLED_FILE.id,\n            label: nls.localizeByDefault('New File...'),\n            order: 'a1'\n        });\n    }\n\n    registerCommands(commandRegistry: CommandRegistry): void {\n        commandRegistry.registerCommand(CommonCommands.OPEN, UriAwareCommandHandler.MultiSelect(this.selectionService, {\n            execute: uris => uris.map(uri => open(this.openerService, uri)),\n        }));\n        commandRegistry.registerCommand(CommonCommands.CUT, {\n            execute: () => {\n                if (supportCut) {\n                    document.execCommand('cut');\n                } else {\n                    this.messageService.warn(nls.localize('theia/core/cutWarn', \"Please use the browser's cut command or shortcut.\"));\n                }\n            }\n        });\n        commandRegistry.registerCommand(CommonCommands.COPY, {\n            execute: () => {\n                if (supportCopy) {\n                    document.execCommand('copy');\n                } else {\n                    this.messageService.warn(nls.localize('theia/core/copyWarn', \"Please use the browser's copy command or shortcut.\"));\n                }\n            }\n        });\n        commandRegistry.registerCommand(CommonCommands.PASTE, {\n            execute: () => {\n                if (supportPaste) {\n                    document.execCommand('paste');\n                } else {\n                    this.messageService.warn(nls.localize('theia/core/pasteWarn', \"Please use the browser's paste command or shortcut.\"));\n                }\n            }\n        });\n        commandRegistry.registerCommand(CommonCommands.COPY_PATH, UriAwareCommandHandler.MultiSelect(this.selectionService, {\n            isVisible: uris => Array.isArray(uris) && uris.some(uri => uri instanceof URI),\n            isEnabled: uris => Array.isArray(uris) && uris.some(uri => uri instanceof URI),\n            execute: async uris => {\n                if (uris.length) {\n                    const lineDelimiter = EOL;\n                    const text = uris.map(resource => resource.path.fsPath()).join(lineDelimiter);\n                    await this.clipboardService.writeText(text);\n                } else {\n                    await this.messageService.info(nls.localize('theia/core/copyInfo', 'Open a file first to copy its path'));\n                }\n            }\n        }));\n\n        commandRegistry.registerCommand(CommonCommands.UNDO, {\n            execute: () => document.execCommand('undo')\n        });\n        commandRegistry.registerCommand(CommonCommands.REDO, {\n            execute: () => document.execCommand('redo')\n        });\n        commandRegistry.registerCommand(CommonCommands.SELECT_ALL, {\n            execute: () => document.execCommand('selectAll')\n        });\n\n        commandRegistry.registerCommand(CommonCommands.FIND, {\n            execute: () => { /* no-op */ }\n        });\n        commandRegistry.registerCommand(CommonCommands.REPLACE, {\n            execute: () => { /* no-op */ }\n        });\n\n        commandRegistry.registerCommand(CommonCommands.NEXT_TAB, {\n            isEnabled: () => this.shell.currentTabBar !== undefined,\n            execute: () => this.shell.activateNextTab()\n        });\n        commandRegistry.registerCommand(CommonCommands.PREVIOUS_TAB, {\n            isEnabled: () => this.shell.currentTabBar !== undefined,\n            execute: () => this.shell.activatePreviousTab()\n        });\n        commandRegistry.registerCommand(CommonCommands.NEXT_TAB_IN_GROUP, {\n            isEnabled: () => this.shell.nextTabIndexInTabBar() !== -1,\n            execute: () => this.shell.activateNextTabInTabBar()\n        });\n        commandRegistry.registerCommand(CommonCommands.PREVIOUS_TAB_IN_GROUP, {\n            isEnabled: () => this.shell.previousTabIndexInTabBar() !== -1,\n            execute: () => this.shell.activatePreviousTabInTabBar()\n        });\n        commandRegistry.registerCommand(CommonCommands.NEXT_TAB_GROUP, {\n            isEnabled: () => this.shell.nextTabBar() !== undefined,\n            execute: () => this.shell.activateNextTabBar()\n        });\n        commandRegistry.registerCommand(CommonCommands.PREVIOUS_TAB_GROUP, {\n            isEnabled: () => this.shell.previousTabBar() !== undefined,\n            execute: () => this.shell.activatePreviousTabBar()\n        });\n        commandRegistry.registerCommand(CommonCommands.CLOSE_TAB, new CurrentWidgetCommandAdapter(this.shell, {\n            isEnabled: title => Boolean(title?.closable),\n            execute: (title, tabBar) => tabBar && this.shell.closeTabs(tabBar, candidate => candidate === title),\n        }));\n        commandRegistry.registerCommand(CommonCommands.CLOSE_OTHER_TABS, new CurrentWidgetCommandAdapter(this.shell, {\n            isEnabled: (title, tabbar) => Boolean(tabbar?.titles.some(candidate => candidate !== title && candidate.closable)),\n            execute: (title, tabbar) => tabbar && this.shell.closeTabs(tabbar, candidate => candidate !== title && candidate.closable),\n        }));\n        commandRegistry.registerCommand(CommonCommands.CLOSE_SAVED_TABS, new CurrentWidgetCommandAdapter(this.shell, {\n            isEnabled: (_title, tabbar) => Boolean(tabbar?.titles.some(candidate => candidate.closable && !Saveable.isDirty(candidate.owner))),\n            execute: (_title, tabbar) => tabbar && this.shell.closeTabs(tabbar, candidate => candidate.closable && !Saveable.isDirty(candidate.owner)),\n        }));\n        commandRegistry.registerCommand(CommonCommands.CLOSE_RIGHT_TABS, new CurrentWidgetCommandAdapter(this.shell, {\n            isEnabled: (title, tabbar) => {\n                let targetSeen = false;\n                return Boolean(tabbar?.titles.some(candidate => {\n                    if (targetSeen && candidate.closable) { return true; };\n                    if (candidate === title) { targetSeen = true; };\n                }));\n            },\n            isVisible: (_title, tabbar) => {\n                const area = (tabbar && this.shell.getAreaFor(tabbar)) ?? this.shell.currentTabArea;\n                return area !== undefined && area !== 'left' && area !== 'right';\n            },\n            execute: (title, tabbar) => {\n                if (tabbar) {\n                    let targetSeen = false;\n                    this.shell.closeTabs(tabbar, candidate => {\n                        if (targetSeen && candidate.closable) { return true; };\n                        if (candidate === title) { targetSeen = true; };\n                        return false;\n                    });\n                }\n            }\n        }));\n        commandRegistry.registerCommand(CommonCommands.CLOSE_ALL_TABS, new CurrentWidgetCommandAdapter(this.shell, {\n            isEnabled: (_title, tabbar) => Boolean(tabbar?.titles.some(title => title.closable)),\n            execute: (_title, tabbar) => tabbar && this.shell.closeTabs(tabbar, candidate => candidate.closable),\n        }));\n        commandRegistry.registerCommand(CommonCommands.CLOSE_MAIN_TAB, {\n            isEnabled: () => {\n                const currentWidget = this.shell.getCurrentWidget('main');\n                return currentWidget !== undefined && currentWidget.title.closable;\n            },\n            execute: () => this.shell.getCurrentWidget('main')!.close()\n        });\n        commandRegistry.registerCommand(CommonCommands.CLOSE_OTHER_MAIN_TABS, {\n            isEnabled: () => {\n                const currentWidget = this.shell.getCurrentWidget('main');\n                return currentWidget !== undefined &&\n                    this.shell.mainAreaTabBars.some(tb => tb.titles.some(title => title.owner !== currentWidget && title.closable));\n            },\n            execute: () => {\n                const currentWidget = this.shell.getCurrentWidget('main');\n                this.shell.closeTabs('main', title => title.owner !== currentWidget && title.closable);\n            }\n        });\n        commandRegistry.registerCommand(CommonCommands.CLOSE_ALL_MAIN_TABS, {\n            isEnabled: () => this.shell.mainAreaTabBars.some(tb => tb.titles.some(title => title.closable)),\n            execute: () => this.shell.closeTabs('main', title => title.closable)\n        });\n        commandRegistry.registerCommand(CommonCommands.COLLAPSE_PANEL, new CurrentWidgetCommandAdapter(this.shell, {\n            isEnabled: (_title, tabbar) => Boolean(tabbar && ApplicationShell.isSideArea(this.shell.getAreaFor(tabbar))),\n            isVisible: (_title, tabbar) => Boolean(tabbar && ApplicationShell.isSideArea(this.shell.getAreaFor(tabbar))),\n            execute: (_title, tabbar) => tabbar && this.shell.collapsePanel(this.shell.getAreaFor(tabbar)!)\n        }));\n        commandRegistry.registerCommand(CommonCommands.COLLAPSE_ALL_PANELS, {\n            execute: () => {\n                this.shell.collapsePanel('left');\n                this.shell.collapsePanel('right');\n                this.shell.collapsePanel('bottom');\n            }\n        });\n        commandRegistry.registerCommand(CommonCommands.TOGGLE_BOTTOM_PANEL, {\n            isEnabled: () => this.shell.getWidgets('bottom').length > 0,\n            execute: () => {\n                if (this.shell.isExpanded('bottom')) {\n                    this.shell.collapsePanel('bottom');\n                } else {\n                    this.shell.expandPanel('bottom');\n                }\n            }\n        });\n        commandRegistry.registerCommand(CommonCommands.TOGGLE_STATUS_BAR, {\n            execute: () => this.preferenceService.updateValue('workbench.statusBar.visible', !this.preferences['workbench.statusBar.visible'])\n        });\n        commandRegistry.registerCommand(CommonCommands.TOGGLE_MAXIMIZED, new CurrentWidgetCommandAdapter(this.shell, {\n            isEnabled: title => Boolean(title?.owner && this.shell.canToggleMaximized(title?.owner)),\n            isVisible: title => Boolean(title?.owner && this.shell.canToggleMaximized(title?.owner)),\n            execute: title => title?.owner && this.shell.toggleMaximized(title?.owner),\n        }));\n        commandRegistry.registerCommand(CommonCommands.SHOW_MENU_BAR, {\n            isEnabled: () => !isOSX,\n            isVisible: () => !isOSX,\n            execute: () => {\n                const menuBarVisibility = 'window.menuBarVisibility';\n                const visibility = this.preferences[menuBarVisibility];\n                if (visibility !== 'compact') {\n                    this.preferenceService.updateValue(menuBarVisibility, 'compact');\n                } else {\n                    this.preferenceService.updateValue(menuBarVisibility, 'classic');\n                }\n            }\n        });\n        commandRegistry.registerCommand(CommonCommands.SAVE, {\n            execute: () => this.save({ formatType: FormatType.ON })\n        });\n        commandRegistry.registerCommand(CommonCommands.SAVE_AS, {\n            isEnabled: () => this.saveResourceService.canSaveAs(this.shell.currentWidget),\n            execute: () => {\n                const { currentWidget } = this.shell;\n                // No clue what could have happened between `isEnabled` and `execute`\n                // when fetching currentWidget, so better to double-check:\n                if (this.saveResourceService.canSaveAs(currentWidget)) {\n                    this.saveResourceService.saveAs(currentWidget);\n                } else {\n                    this.messageService.error(nls.localize('theia/workspace/failSaveAs', 'Cannot run \"{0}\" for the current widget.', CommonCommands.SAVE_AS.label!));\n                }\n            },\n        });\n        commandRegistry.registerCommand(CommonCommands.SAVE_WITHOUT_FORMATTING, {\n            execute: () => this.save({ formatType: FormatType.OFF })\n        });\n        commandRegistry.registerCommand(CommonCommands.SAVE_ALL, {\n            execute: () => this.shell.saveAll({ formatType: FormatType.DIRTY })\n        });\n        commandRegistry.registerCommand(CommonCommands.ABOUT_COMMAND, {\n            execute: () => this.openAbout()\n        });\n\n        commandRegistry.registerCommand(CommonCommands.OPEN_VIEW, {\n            execute: () => this.quickInputService?.open(QuickViewService.PREFIX)\n        });\n\n        commandRegistry.registerCommand(CommonCommands.SELECT_COLOR_THEME, {\n            execute: () => this.selectColorTheme()\n        });\n        commandRegistry.registerCommand(CommonCommands.SELECT_ICON_THEME, {\n            execute: () => this.selectIconTheme()\n        });\n        commandRegistry.registerCommand(CommonCommands.PIN_TAB, new CurrentWidgetCommandAdapter(this.shell, {\n            isEnabled: title => Boolean(title && !isPinned(title)),\n            execute: title => this.togglePinned(title),\n        }));\n        commandRegistry.registerCommand(CommonCommands.UNPIN_TAB, new CurrentWidgetCommandAdapter(this.shell, {\n            isEnabled: title => Boolean(title && isPinned(title)),\n            execute: title => this.togglePinned(title),\n        }));\n        commandRegistry.registerCommand(CommonCommands.CONFIGURE_DISPLAY_LANGUAGE, {\n            execute: () => this.configureDisplayLanguage()\n        });\n        commandRegistry.registerCommand(CommonCommands.TOGGLE_BREADCRUMBS, {\n            execute: () => this.toggleBreadcrumbs(),\n            isToggled: () => this.isBreadcrumbsEnabled(),\n        });\n        commandRegistry.registerCommand(CommonCommands.NEW_UNTITLED_TEXT_FILE, {\n            execute: async () => {\n                const untitledUri = this.untitledResourceResolver.createUntitledURI('', await this.workingDirProvider.getUserWorkingDir());\n                this.untitledResourceResolver.resolve(untitledUri);\n                return open(this.openerService, untitledUri);\n            }\n        });\n        commandRegistry.registerCommand(CommonCommands.NEW_UNTITLED_FILE, {\n            execute: async () => this.showNewFilePicker()\n        });\n\n        for (const [index, ordinal] of this.getOrdinalNumbers().entries()) {\n            commandRegistry.registerCommand({ id: `workbench.action.focus${ordinal}EditorGroup`, label: index === 0 ? nls.localizeByDefault('Focus First Editor Group') : '', category: nls.localize(CommonCommands.VIEW_CATEGORY_KEY, CommonCommands.VIEW_CATEGORY) }, {\n                isEnabled: () => this.shell.mainAreaTabBars.length > index,\n                execute: () => {\n                    const widget = this.shell.mainAreaTabBars[index]?.currentTitle?.owner;\n                    if (widget) {\n                        this.shell.activateWidget(widget.id);\n                    }\n                }\n            });\n        }\n    }\n\n    protected getOrdinalNumbers(): readonly string[] {\n        return ['First', 'Second', 'Third', 'Fourth', 'Fifth', 'Sixth', 'Seventh', 'Eighth', 'Ninth'];\n    }\n\n    protected isElectron(): boolean {\n        return environment.electron.is();\n    }\n\n    protected togglePinned(title?: Title<Widget>): void {\n        if (title) {\n            togglePinned(title);\n            this.updatePinnedKey();\n        }\n    }\n\n    registerKeybindings(registry: KeybindingRegistry): void {\n        if (supportCut) {\n            registry.registerKeybinding({\n                command: CommonCommands.CUT.id,\n                keybinding: 'ctrlcmd+x'\n            });\n        }\n        if (supportCopy) {\n            registry.registerKeybinding({\n                command: CommonCommands.COPY.id,\n                keybinding: 'ctrlcmd+c'\n            });\n        }\n        if (supportPaste) {\n            registry.registerKeybinding({\n                command: CommonCommands.PASTE.id,\n                keybinding: 'ctrlcmd+v'\n            });\n        }\n        registry.registerKeybinding({\n            command: CommonCommands.COPY_PATH.id,\n            keybinding: isWindows ? 'shift+alt+c' : 'ctrlcmd+alt+c',\n            when: '!editorFocus'\n        });\n        registry.registerKeybindings(\n            // Edition\n            {\n                command: CommonCommands.UNDO.id,\n                keybinding: 'ctrlcmd+z'\n            },\n            {\n                command: CommonCommands.REDO.id,\n                keybinding: 'ctrlcmd+shift+z'\n            },\n            {\n                command: CommonCommands.SELECT_ALL.id,\n                keybinding: 'ctrlcmd+a'\n            },\n            {\n                command: CommonCommands.FIND.id,\n                keybinding: 'ctrlcmd+f'\n            },\n            {\n                command: CommonCommands.REPLACE.id,\n                keybinding: 'ctrlcmd+alt+f'\n            },\n            // Tabs\n            {\n                command: CommonCommands.NEXT_TAB.id,\n                keybinding: 'ctrlcmd+tab'\n            },\n            {\n                command: CommonCommands.NEXT_TAB.id,\n                keybinding: 'ctrlcmd+alt+d'\n            },\n            {\n                command: CommonCommands.PREVIOUS_TAB.id,\n                keybinding: 'ctrlcmd+shift+tab'\n            },\n            {\n                command: CommonCommands.PREVIOUS_TAB.id,\n                keybinding: 'ctrlcmd+alt+a'\n            },\n            {\n                command: CommonCommands.CLOSE_MAIN_TAB.id,\n                keybinding: this.isElectron() ? (isWindows ? 'ctrl+f4' : 'ctrlcmd+w') : 'alt+w'\n            },\n            {\n                command: CommonCommands.CLOSE_OTHER_MAIN_TABS.id,\n                keybinding: 'ctrlcmd+alt+t'\n            },\n            {\n                command: CommonCommands.CLOSE_ALL_MAIN_TABS.id,\n                keybinding: this.isElectron() ? 'ctrlCmd+k ctrlCmd+w' : 'alt+shift+w'\n            },\n            // Panels\n            {\n                command: CommonCommands.COLLAPSE_PANEL.id,\n                keybinding: 'alt+c'\n            },\n            {\n                command: CommonCommands.TOGGLE_BOTTOM_PANEL.id,\n                keybinding: 'ctrlcmd+j',\n            },\n            {\n                command: CommonCommands.COLLAPSE_ALL_PANELS.id,\n                keybinding: 'alt+shift+c',\n            },\n            {\n                command: CommonCommands.TOGGLE_MAXIMIZED.id,\n                keybinding: 'alt+m',\n            },\n            // Saving\n            {\n                command: CommonCommands.SAVE.id,\n                keybinding: 'ctrlcmd+s'\n            },\n            {\n                command: CommonCommands.SAVE_WITHOUT_FORMATTING.id,\n                keybinding: 'ctrlcmd+k s'\n            },\n            {\n                command: CommonCommands.SAVE_ALL.id,\n                keybinding: 'ctrlcmd+alt+s'\n            },\n            // Theming\n            {\n                command: CommonCommands.SELECT_COLOR_THEME.id,\n                keybinding: 'ctrlcmd+k ctrlcmd+t'\n            },\n            {\n                command: CommonCommands.PIN_TAB.id,\n                keybinding: 'ctrlcmd+k shift+enter',\n                when: '!activeEditorIsPinned'\n            },\n            {\n                command: CommonCommands.UNPIN_TAB.id,\n                keybinding: 'ctrlcmd+k shift+enter',\n                when: 'activeEditorIsPinned'\n            },\n            {\n                command: CommonCommands.NEW_UNTITLED_TEXT_FILE.id,\n                keybinding: this.isElectron() ? 'ctrlcmd+n' : 'alt+n',\n            },\n            {\n                command: CommonCommands.NEW_UNTITLED_FILE.id,\n                keybinding: 'ctrlcmd+alt+n'\n            }\n        );\n        for (const [index, ordinal] of this.getOrdinalNumbers().entries()) {\n            registry.registerKeybinding({\n                command: `workbench.action.focus${ordinal}EditorGroup`,\n                keybinding: `ctrlcmd+${(index + 1) % 10}`,\n            });\n        }\n    }\n\n    protected async save(options?: SaveOptions): Promise<void> {\n        const widget = this.shell.currentWidget;\n        this.saveResourceService.save(widget, options);\n    }\n\n    protected async openAbout(): Promise<void> {\n        this.aboutDialog.open();\n    }\n\n    protected shouldPreventClose = false;\n\n    /**\n     * registers event listener which make sure that\n     * window doesn't get closed if CMD/CTRL W is pressed.\n     * Too many users have that in their muscle memory.\n     * Chrome doesn't let us rebind or prevent default the keybinding, so this\n     * at least doesn't close the window immediately.\n     */\n    protected registerCtrlWHandling(): void {\n        function isCtrlCmd(event: KeyboardEvent): boolean {\n            return (isOSX && event.metaKey) || (!isOSX && event.ctrlKey);\n        }\n\n        window.document.addEventListener('keydown', event => {\n            this.shouldPreventClose = isCtrlCmd(event) && event.code === 'KeyW';\n        });\n\n        window.document.addEventListener('keyup', () => {\n            this.shouldPreventClose = false;\n        });\n    }\n\n    onWillStop(): OnWillStopAction | undefined {\n        if (this.shouldPreventClose || this.shell.canSaveAll()) {\n            return {\n                reason: 'Dirty editors present',\n                action: async () => {\n                    const captionsToSave = this.unsavedTabsCaptions();\n                    const untitledCaptionsToSave = this.unsavedUntitledTabsCaptions();\n                    const shouldExit = await this.confirmExitWithOrWithoutSaving(captionsToSave, async () => {\n                        await this.saveDirty(untitledCaptionsToSave);\n                        await this.shell.saveAll();\n                    });\n                    const allSavedOrDoNotSave = (\n                        shouldExit === true && untitledCaptionsToSave.length === 0 // Should save and cancel if any captions failed to save\n                    ) || shouldExit === false; // Do not save\n\n                    this.shouldPreventClose = !allSavedOrDoNotSave;\n                    return allSavedOrDoNotSave;\n\n                }\n            };\n        }\n    }\n    // Asks the user to confirm whether they want to exit with or without saving the changes\n    private async confirmExitWithOrWithoutSaving(captionsToSave: string[], performSave: () => Promise<void>): Promise<boolean | undefined> {\n        const div: HTMLElement = document.createElement('div');\n        div.innerText = nls.localizeByDefault(\"Your changes will be lost if you don't save them.\");\n\n        let result;\n        if (captionsToSave.length > 0) {\n            const span = document.createElement('span');\n            span.appendChild(document.createElement('br'));\n            captionsToSave.forEach(cap => {\n                const b = document.createElement('b');\n                b.innerText = cap;\n                span.appendChild(b);\n                span.appendChild(document.createElement('br'));\n            });\n            span.appendChild(document.createElement('br'));\n            div.appendChild(span);\n            result = await new ConfirmSaveDialog({\n                title: nls.localizeByDefault('Do you want to save the changes to the following {0} files?', captionsToSave.length),\n                msg: div,\n                dontSave: nls.localizeByDefault(\"Don't Save\"),\n                save: nls.localizeByDefault('Save All'),\n                cancel: Dialog.CANCEL\n            }).open();\n\n            if (result) {\n                await performSave();\n            }\n        } else {\n            // fallback if not passed with an empty caption-list.\n            result = confirmExit();\n        }\n        if (result !== undefined) {\n            return result === true;\n        } else {\n            return undefined;\n        };\n\n    }\n    protected unsavedTabsCaptions(): string[] {\n        return this.shell.widgets\n            .filter(widget => this.saveResourceService.canSave(widget))\n            .map(widget => widget.title.label);\n    }\n    protected unsavedUntitledTabsCaptions(): Widget[] {\n        return this.shell.widgets.filter(widget =>\n            NavigatableWidget.getUri(widget)?.scheme === UNTITLED_SCHEME && this.saveResourceService.canSaveAs(widget)\n        );\n    }\n    protected async configureDisplayLanguage(): Promise<void> {\n        const languageInfo = await this.languageQuickPickService.pickDisplayLanguage();\n        if (languageInfo && !nls.isSelectedLocale(languageInfo.languageId) && await this.confirmRestart(\n            languageInfo.localizedLanguageName ?? languageInfo.languageName ?? languageInfo.languageId\n        )) {\n            nls.setLocale(languageInfo.languageId);\n            this.windowService.setSafeToShutDown();\n            this.windowService.reload();\n        }\n    }\n    /**\n     * saves any dirty widget in toSave\n     * side effect - will pop all widgets from toSave that was saved\n     * @param toSave\n     */\n    protected async saveDirty(toSave: Widget[]): Promise<void> {\n        for (const widget of toSave) {\n            const saveable = Saveable.get(widget);\n            if (saveable?.dirty) {\n                await this.saveResourceService.save(widget);\n                if (!this.saveResourceService.canSave(widget)) {\n                    toSave.pop();\n                }\n            }\n        }\n    }\n    protected toggleBreadcrumbs(): void {\n        const value: boolean | undefined = this.preferenceService.get('breadcrumbs.enabled');\n        this.preferenceService.set('breadcrumbs.enabled', !value, PreferenceScope.User);\n    }\n\n    protected isBreadcrumbsEnabled(): boolean {\n        return !!this.preferenceService.get('breadcrumbs.enabled');\n    }\n\n    protected async confirmRestart(languageName: string): Promise<boolean> {\n        const appName = FrontendApplicationConfigProvider.get().applicationName;\n        const shouldRestart = await new ConfirmDialog({\n            title: nls.localizeByDefault('Restart {0} to switch to {1}?', appName, languageName),\n            msg: nls.localizeByDefault('To change the display language to {0}, {1} needs to restart.', languageName, appName),\n            ok: nls.localizeByDefault('Restart'),\n            cancel: Dialog.CANCEL,\n        }).open();\n        return shouldRestart === true;\n    }\n\n    protected selectIconTheme(): void {\n        let resetTo: IconTheme | undefined = this.iconThemes.getCurrent();\n        const setTheme = (id: string, persist: boolean) => {\n            const theme = this.iconThemes.getDefinition(id);\n            if (theme) {\n                this.iconThemes.setCurrent(theme as IconTheme, persist);\n            }\n        };\n        const previewTheme = debounce(setTheme, 200);\n\n        let items: Array<QuickPickItem & { id: string }> = [];\n        for (const iconTheme of this.iconThemes.definitions) {\n            items.push({\n                id: iconTheme.id,\n                label: iconTheme.label,\n                description: iconTheme.description,\n            });\n        }\n        items = items.sort((a, b) => {\n            if (a.id === 'none') {\n                return -1;\n            }\n            return a.label!.localeCompare(b.label!);\n        });\n\n        this.quickInputService?.showQuickPick(items,\n            {\n                placeholder: nls.localizeByDefault('Select File Icon Theme'),\n                activeItem: items.find(item => item.id === resetTo?.id),\n                onDidChangeSelection: (_, selectedItems) => {\n                    resetTo = undefined;\n                    setTheme(selectedItems[0].id, true);\n                },\n                onDidChangeActive: (_, activeItems) => {\n                    previewTheme(activeItems[0].id, false);\n                },\n                onDidHide: () => {\n                    if (resetTo) {\n                        this.iconThemes.setCurrent(resetTo, false);\n                    }\n                }\n            });\n    }\n\n    protected selectColorTheme(): void {\n        let resetTo: string | undefined = this.themeService.getCurrentTheme().id;\n        const setTheme = (id: string, persist: boolean) => this.themeService.setCurrentTheme(id, persist);\n        const previewTheme = debounce(setTheme, 200);\n        type QuickPickWithId = QuickPickItem & { id: string };\n        const itemsByTheme: {\n            light: Array<QuickPickWithId>,\n            dark: Array<QuickPickWithId>,\n            hc: Array<QuickPickWithId>,\n            hcLight: Array<QuickPickWithId>\n        } = { light: [], dark: [], hc: [], hcLight: [] };\n\n        const lightThemesSeparator = nls.localizeByDefault('light themes');\n        const darkThemesSeparator = nls.localizeByDefault('dark themes');\n        const highContrastThemesSeparator = nls.localizeByDefault('high contrast themes');\n\n        for (const theme of this.themeService.getThemes().sort((a, b) => a.label.localeCompare(b.label))) {\n            const themeItems: QuickPickItemOrSeparator[] = itemsByTheme[theme.type];\n\n            // Add a separator for the first item in the respective group.\n            // High Contrast Themes despite dark or light should be grouped together.\n            if (themeItems.length === 0 && theme.type !== 'hcLight') {\n                let label = '';\n                if (theme.type === 'light') {\n                    label = lightThemesSeparator;\n                } else if (theme.type === 'dark') {\n                    label = darkThemesSeparator;\n                } else {\n                    label = highContrastThemesSeparator;\n                }\n                themeItems.push({\n                    type: 'separator',\n                    label\n                });\n            }\n\n            themeItems.push({\n                id: theme.id,\n                label: theme.label,\n                description: theme.description,\n            });\n        }\n        const items = [...itemsByTheme.light, ...itemsByTheme.dark, ...itemsByTheme.hc, ...itemsByTheme.hcLight];\n        this.quickInputService?.showQuickPick(items,\n            {\n                placeholder: nls.localizeByDefault('Select Color Theme (Up/Down Keys to Preview)'),\n                activeItem: items.find(item => item.id === resetTo),\n                onDidChangeSelection: (_, selectedItems) => {\n                    resetTo = undefined;\n                    setTheme(selectedItems[0].id, true);\n                },\n                onDidChangeActive: (_, activeItems) => {\n                    previewTheme(activeItems[0].id, false);\n                },\n                onDidHide: () => {\n                    if (resetTo) {\n                        setTheme(resetTo, false);\n                    }\n                }\n            });\n    }\n\n    /**\n     * @todo https://github.com/eclipse-theia/theia/issues/12824\n     */\n    protected async showNewFilePicker(): Promise<void> {\n        const newFileContributions = this.menuRegistry.getMenuNode(CommonMenus.FILE_NEW_CONTRIBUTIONS); // Add menus\n        const items: QuickPickItemOrSeparator[] = [\n            {\n                label: nls.localizeByDefault('New Text File'),\n                description: nls.localizeByDefault('Built-in'),\n                execute: async () => this.commandRegistry.executeCommand(CommonCommands.NEW_UNTITLED_TEXT_FILE.id)\n            },\n            ...newFileContributions.children\n                .flatMap(node => {\n                    if (node.children && node.children.length > 0) {\n                        return node.children;\n                    }\n                    return node;\n                })\n                .filter(node => node.role || node.command)\n                .map(node => {\n                    if (node.role) {\n                        return { type: 'separator' } as QuickPickSeparator;\n                    }\n                    const command = this.commandRegistry.getCommand(node.command!);\n                    return {\n                        label: command!.label!,\n                        execute: async () => this.commandRegistry.executeCommand(command!.id!)\n                    };\n\n                })\n        ];\n\n        const CREATE_NEW_FILE_ITEM_ID = 'create-new-file';\n        const hasNewFileHandler = this.commandRegistry.getActiveHandler(CommonCommands.NEW_FILE.id) !== undefined;\n        // Create a \"Create New File\" item only if there is a NEW_FILE command handler.\n        const createNewFileItem: QuickPickItem & { value?: string } | undefined = hasNewFileHandler ? {\n            id: CREATE_NEW_FILE_ITEM_ID,\n            label: nls.localizeByDefault('Create New File ({0})'),\n            description: nls.localizeByDefault('Built-in'),\n            execute: async () => {\n                if (createNewFileItem?.value) {\n                    const parent = await this.workingDirProvider.getUserWorkingDir();\n                    // Exec NEW_FILE command with the file name and parent dir as arguments\n                    return this.commandRegistry.executeCommand(CommonCommands.NEW_FILE.id, createNewFileItem.value, parent);\n                }\n            }\n        } : undefined;\n\n        this.quickInputService.showQuickPick(items, {\n            title: nls.localizeByDefault('New File...'),\n            placeholder: nls.localizeByDefault('Select File Type or Enter File Name...'),\n            canSelectMany: false,\n            onDidChangeValue: picker => {\n                if (createNewFileItem === undefined) {\n                    return;\n                }\n                // Dynamically show or hide the \"Create New File\" item based on the input value.\n                if (picker.value) {\n                    createNewFileItem.alwaysShow = true;\n                    createNewFileItem.value = picker.value;\n                    createNewFileItem.label = nls.localizeByDefault('Create New File ({0})', picker.value);\n                    picker.items = [...items, createNewFileItem];\n                } else {\n                    createNewFileItem.alwaysShow = false;\n                    createNewFileItem.value = undefined;\n                    picker.items = items.filter(item => item !== createNewFileItem);\n                }\n            }\n        });\n    }\n\n    registerColors(colors: ColorRegistry): void {\n        colors.register(\n            // Base Colors should be aligned with https://code.visualstudio.com/api/references/theme-color#base-colors\n            // if not yet contributed by Monaco, check runtime css variables to learn\n            { id: 'selection.background', defaults: { dark: '#217daf', light: '#c0dbf1' }, description: 'Overall border color for focused elements. This color is only used if not overridden by a component.' },\n            { id: 'icon.foreground', defaults: { dark: '#C5C5C5', light: '#424242', hcDark: '#FFFFFF', hcLight: '#292929' }, description: 'The default color for icons in the workbench.' },\n            { id: 'sash.hoverBorder', defaults: { dark: Color.transparent('focusBorder', 0.99), light: Color.transparent('focusBorder', 0.99), hcDark: 'focusBorder', hcLight: 'focusBorder' }, description: 'The hover border color for draggable sashes.' },\n            { id: 'sash.activeBorder', defaults: { dark: 'focusBorder', light: 'focusBorder', hcDark: 'focusBorder' }, description: 'The active border color for draggable sashes.' },\n            // Window border colors should be aligned with https://code.visualstudio.com/api/references/theme-color#window-border\n            {\n                id: 'window.activeBorder', defaults: {\n                    hcDark: 'contrastBorder',\n                    hcLight: 'contrastBorder'\n                }, description: 'The color used for the border of the window when it is active.'\n            },\n            {\n                id: 'window.inactiveBorder', defaults: {\n                    hcDark: 'contrastBorder',\n                    hcLight: 'contrastBorder'\n                },\n                description: 'The color used for the border of the window when it is inactive.'\n            },\n\n            // Buttons should be aligned with https://code.visualstudio.com/api/references/theme-color#button-control\n            // if not yet contributed by Monaco, check runtime css variables to learn\n            { id: 'button.foreground', defaults: { dark: Color.white, light: Color.white, hcDark: Color.white, hcLight: Color.white }, description: 'Button foreground color.' },\n            { id: 'button.background', defaults: { dark: '#0E639C', light: '#007ACC', hcDark: undefined, hcLight: '#0F4A85' }, description: 'Button background color.' },\n            { id: 'button.hoverBackground', defaults: { dark: Color.lighten('button.background', 0.2), light: Color.darken('button.background', 0.2) }, description: 'Button background color when hovering.' },\n\n            // Activity Bar colors should be aligned with https://code.visualstudio.com/api/references/theme-color#activity-bar\n            {\n                id: 'activityBar.background', defaults: {\n                    dark: '#333333',\n                    light: '#2C2C2C',\n                    hcDark: '#000000',\n                    hcLight: '#FFFFFF'\n                }, description: 'Activity bar background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'\n            },\n            {\n                id: 'activityBar.foreground', defaults: {\n                    dark: Color.white,\n                    light: Color.white,\n                    hcDark: Color.white,\n                    hcLight: 'editor.foreground'\n                }, description: 'Activity bar item foreground color when it is active. The activity bar is showing on the far left or right and allows to switch between views of the side bar.',\n            },\n            {\n                id: 'activityBar.inactiveForeground', defaults: {\n                    dark: Color.transparent('activityBar.foreground', 0.4),\n                    light: Color.transparent('activityBar.foreground', 0.4),\n                    hcDark: Color.white,\n                    hcLight: 'editor.foreground'\n                }, description: 'Activity bar item foreground color when it is inactive. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'\n            },\n            {\n                id: 'activityBar.border', defaults: {\n                    hcDark: 'contrastBorder',\n                    hcLight: 'contrastBorder'\n                }, description: 'Activity bar border color separating to the side bar. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'\n            },\n            {\n                id: 'activityBar.activeBorder', defaults: {\n                    dark: 'activityBar.foreground',\n                    light: 'activityBar.foreground',\n                    hcLight: 'contrastBorder'\n                }, description: 'Activity bar border color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'\n            },\n            {\n                id: 'activityBar.activeFocusBorder', defaults: {\n                    hcLight: '#B5200D'\n                }, description: 'Activity bar focus border color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'\n            },\n            { id: 'activityBar.activeBackground', description: 'Activity bar background color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.' },\n            {\n                id: 'activityBar.dropBackground', defaults: {\n                    dark: Color.transparent('#ffffff', 0.12),\n                    light: Color.transparent('#ffffff', 0.12),\n                    hcDark: Color.transparent('#ffffff', 0.12),\n                }, description: 'Drag and drop feedback color for the activity bar items. The color should have transparency so that the activity bar entries can still shine through. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'\n            },\n            {\n                id: 'activityBarBadge.background', defaults: {\n                    dark: '#007ACC',\n                    light: '#007ACC',\n                    hcDark: '#000000',\n                    hcLight: '#0F4A85'\n                }, description: 'Activity notification badge background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'\n            },\n            {\n                id: 'activityBarBadge.foreground', defaults: {\n                    dark: Color.white,\n                    light: Color.white,\n                    hcDark: Color.white,\n                    hcLight: Color.white\n                }, description: 'Activity notification badge foreground color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'\n            },\n\n            // Side Bar should be aligned with https://code.visualstudio.com/api/references/theme-color#side-bar\n            // if not yet contributed by Monaco, check runtime css variables to learn\n            { id: 'sideBar.background', defaults: { dark: '#252526', light: '#F3F3F3', hcDark: '#000000', hcLight: '#FFFFFF' }, description: 'Side bar background color. The side bar is the container for views like explorer and search.' },\n            { id: 'sideBar.foreground', description: 'Side bar foreground color. The side bar is the container for views like explorer and search.' },\n            { id: 'sideBarSectionHeader.background', defaults: { dark: '#80808033', light: '#80808033' }, description: 'Side bar section header background color. The side bar is the container for views like explorer and search.' },\n            { id: 'sideBarSectionHeader.foreground', description: 'Side bar foreground color. The side bar is the container for views like explorer and search.' },\n            { id: 'sideBarSectionHeader.border', defaults: { dark: 'contrastBorder', light: 'contrastBorder', hcDark: 'contrastBorder', hcLight: 'contrastBorder' }, description: 'Side bar section header border color. The side bar is the container for views like explorer and search.' },\n\n            // Lists and Trees colors should be aligned with https://code.visualstudio.com/api/references/theme-color#lists-and-trees\n            // if not yet contributed by Monaco, check runtime css variables to learn.\n            // TODO: Following are not yet supported/no respective elements in theia:\n            // list.focusBackground, list.focusForeground, list.inactiveFocusBackground, list.filterMatchBorder,\n            // list.dropBackground, listFilterWidget.outline, listFilterWidget.noMatchesOutline\n            // list.invalidItemForeground => tree node needs an respective class\n            { id: 'list.activeSelectionBackground', defaults: { dark: '#094771', light: '#0074E8', hcLight: Color.transparent('#0F4A85', 0.1) }, description: 'List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.' },\n            { id: 'list.activeSelectionForeground', defaults: { dark: '#FFF', light: '#FFF' }, description: 'List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.' },\n            { id: 'list.inactiveSelectionBackground', defaults: { dark: '#37373D', light: '#E4E6F1', hcLight: Color.transparent('#0F4A85', 0.1) }, description: 'List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.' },\n            { id: 'list.inactiveSelectionForeground', description: 'List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.' },\n            { id: 'list.hoverBackground', defaults: { dark: '#2A2D2E', light: '#F0F0F0', hcLight: Color.transparent('#0F4A85', 0.1) }, description: 'List/Tree background when hovering over items using the mouse.' },\n            { id: 'list.hoverForeground', description: 'List/Tree foreground when hovering over items using the mouse.' },\n            { id: 'list.errorForeground', defaults: { dark: '#F88070', light: '#B01011' }, description: 'Foreground color of list items containing errors.' },\n            { id: 'list.warningForeground', defaults: { dark: '#CCA700', light: '#855F00' }, description: 'Foreground color of list items containing warnings.' },\n            { id: 'list.filterMatchBackground', defaults: { dark: 'editor.findMatchHighlightBackground', light: 'editor.findMatchHighlightBackground' }, description: 'Background color of the filtered match.' },\n            { id: 'list.highlightForeground', defaults: { dark: '#18A3FF', light: '#0066BF', hcDark: 'focusBorder', hcLight: 'focusBorder' }, description: 'List/Tree foreground color of the match highlights when searching inside the list/tree.' },\n            { id: 'list.focusHighlightForeground', defaults: { dark: 'list.highlightForeground', light: 'list.activeSelectionForeground', hcDark: 'list.highlightForeground', hcLight: 'list.highlightForeground' }, description: 'List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.' },\n            { id: 'tree.inactiveIndentGuidesStroke', defaults: { dark: Color.transparent('tree.indentGuidesStroke', 0.4), light: Color.transparent('tree.indentGuidesStroke', 0.4), hcDark: Color.transparent('tree.indentGuidesStroke', 0.4) }, description: 'Tree stroke color for the inactive indentation guides.' },\n\n            // Editor Group & Tabs colors should be aligned with https://code.visualstudio.com/api/references/theme-color#editor-groups-tabs\n            {\n                id: 'editorGroup.border',\n                defaults: {\n                    dark: '#444444',\n                    light: '#E7E7E7',\n                    hcDark: 'contrastBorder',\n                    hcLight: 'contrastBorder'\n                },\n                description: 'Color to separate multiple editor groups from each other. Editor groups are the containers of editors.'\n            },\n            {\n                id: 'editorGroup.dropBackground',\n                defaults: {\n                    dark: Color.transparent('#53595D', 0.5),\n                    light: Color.transparent('#2677CB', 0.18),\n                    hcLight: Color.transparent('#0F4A85', 0.50)\n                },\n                description: 'Background color when dragging editors around. The color should have transparency so that the editor contents can still shine through.'\n            },\n            {\n                id: 'editorGroupHeader.tabsBackground',\n                defaults: {\n                    dark: '#252526',\n                    light: '#F3F3F3',\n                },\n                description: 'Background color of the editor group title header when tabs are enabled. Editor groups are the containers of editors.'\n            },\n            {\n                id: 'editorGroupHeader.tabsBorder',\n                defaults: {\n                    hcDark: 'contrastBorder'\n                },\n                description: 'Border color of the editor group title header when tabs are enabled. Editor groups are the containers of editors.'\n            },\n            {\n                id: 'tab.activeBackground',\n                defaults: {\n                    dark: 'editor.background',\n                    light: 'editor.background',\n                    hcDark: 'editor.background',\n                    hcLight: 'editor.background'\n                },\n                description: 'Active tab background color. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.unfocusedActiveBackground',\n                defaults: {\n                    dark: 'tab.activeBackground',\n                    light: 'tab.activeBackground',\n                    hcDark: 'tab.activeBackground',\n                    hcLight: 'tab.activeBackground'\n                },\n                description: 'Active tab background color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.inactiveBackground',\n                defaults: {\n                    dark: '#2D2D2D',\n                    light: '#ECECEC'\n                },\n                description: 'Inactive tab background color. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.activeForeground',\n                defaults: {\n                    dark: Color.white,\n                    light: '#333333',\n                    hcDark: Color.white,\n                    hcLight: '#292929'\n                }, description: 'Active tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.inactiveForeground', defaults: {\n                    dark: Color.transparent('tab.activeForeground', 0.5),\n                    light: Color.transparent('tab.activeForeground', 0.7),\n                    hcDark: Color.white,\n                    hcLight: '#292929'\n                }, description: 'Inactive tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.unfocusedActiveForeground', defaults: {\n                    dark: Color.transparent('tab.activeForeground', 0.5),\n                    light: Color.transparent('tab.activeForeground', 0.7),\n                    hcDark: Color.white,\n                    hcLight: '#292929'\n                }, description: 'Active tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.unfocusedInactiveForeground', defaults: {\n                    dark: Color.transparent('tab.inactiveForeground', 0.5),\n                    light: Color.transparent('tab.inactiveForeground', 0.5),\n                    hcDark: Color.white,\n                    hcLight: '#292929'\n                }, description: 'Inactive tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.border', defaults: {\n                    dark: '#252526',\n                    light: '#F3F3F3',\n                    hcDark: 'contrastBorder',\n                    hcLight: 'contrastBorder'\n                }, description: 'Border to separate tabs from each other. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.activeBorder',\n                description: 'Border on the bottom of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.unfocusedActiveBorder',\n                defaults: {\n                    dark: Color.transparent('tab.activeBorder', 0.5),\n                    light: Color.transparent('tab.activeBorder', 0.7)\n                },\n                description: 'Border on the bottom of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.activeBorderTop',\n                defaults: {\n                    hcLight: '#B5200D'\n                },\n                description: 'Border to the top of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.unfocusedActiveBorderTop', defaults: {\n                    dark: Color.transparent('tab.activeBorderTop', 0.5),\n                    light: Color.transparent('tab.activeBorderTop', 0.7),\n                    hcLight: '#B5200D'\n                }, description: 'Border to the top of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.hoverBackground',\n                description: 'Tab background color when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.unfocusedHoverBackground', defaults: {\n                    dark: Color.transparent('tab.hoverBackground', 0.5),\n                    light: Color.transparent('tab.hoverBackground', 0.7)\n                }, description: 'Tab background color in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.hoverBorder',\n                description: 'Border to highlight tabs when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.unfocusedHoverBorder', defaults: {\n                    dark: Color.transparent('tab.hoverBorder', 0.5),\n                    light: Color.transparent('tab.hoverBorder', 0.7),\n                    hcLight: 'contrastBorder'\n                }, description: 'Border to highlight tabs in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.activeModifiedBorder', defaults: {\n                    dark: '#3399CC',\n                    light: '#33AAEE',\n                    hcLight: 'contrastBorder'\n                }, description: 'Border on the top of modified (dirty) active tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.inactiveModifiedBorder', defaults: {\n                    dark: Color.transparent('tab.activeModifiedBorder', 0.5),\n                    light: Color.transparent('tab.activeModifiedBorder', 0.5),\n                    hcDark: Color.white,\n                    hcLight: 'contrastBorder'\n                }, description: 'Border on the top of modified (dirty) inactive tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.unfocusedActiveModifiedBorder', defaults: {\n                    dark: Color.transparent('tab.activeModifiedBorder', 0.5),\n                    light: Color.transparent('tab.activeModifiedBorder', 0.7),\n                    hcDark: Color.white,\n                    hcLight: 'contrastBorder'\n                }, description: 'Border on the top of modified (dirty) active tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n            {\n                id: 'tab.unfocusedInactiveModifiedBorder', defaults: {\n                    dark: Color.transparent('tab.inactiveModifiedBorder', 0.5),\n                    light: Color.transparent('tab.inactiveModifiedBorder', 0.5),\n                    hcDark: Color.white,\n                    hcLight: 'contrastBorder'\n                }, description: 'Border on the top of modified (dirty) inactive tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'\n            },\n\n            // Status bar colors should be aligned with https://code.visualstudio.com/api/references/theme-color#status-bar-colors\n            // Not yet supported:\n            // statusBarItem.prominentForeground, statusBarItem.prominentBackground, statusBarItem.prominentHoverBackground\n            {\n                id: 'statusBar.foreground', defaults: {\n                    dark: '#FFFFFF',\n                    light: '#FFFFFF',\n                    hcDark: '#FFFFFF',\n                    hcLight: 'editor.foreground'\n                }, description: 'Status bar foreground color when a workspace is opened. The status bar is shown in the bottom of the window.'\n            },\n            {\n                id: 'statusBar.background', defaults: {\n                    dark: '#007ACC',\n                    light: '#007ACC'\n                }, description: 'Status bar background color when a workspace is opened. The status bar is shown in the bottom of the window.'\n            },\n            {\n                id: 'statusBar.noFolderForeground', defaults: {\n                    dark: 'statusBar.foreground',\n                    light: 'statusBar.foreground',\n                    hcDark: 'statusBar.foreground',\n                    hcLight: 'statusBar.foreground'\n                }, description: 'Status bar foreground color when no folder is opened. The status bar is shown in the bottom of the window.'\n            },\n            {\n                id: 'statusBar.noFolderBackground', defaults: {\n                    dark: '#68217A',\n                    light: '#68217A'\n                }, description: 'Status bar background color when no folder is opened. The status bar is shown in the bottom of the window.'\n            },\n            {\n                id: 'statusBar.border', defaults: {\n                    hcDark: 'contrastBorder',\n                    hcLight: 'contrastBorder'\n                }, description: 'Status bar border color separating to the sidebar and editor. The status bar is shown in the bottom of the window.'\n            },\n            {\n                id: 'statusBar.noFolderBorder', defaults: {\n                    dark: 'statusBar.border',\n                    light: 'statusBar.border',\n                    hcDark: 'statusBar.border',\n                    hcLight: 'statusBar.border'\n                }, description: 'Status bar border color separating to the sidebar and editor when no folder is opened. The status bar is shown in the bottom of the window.'\n            },\n            {\n                id: 'statusBarItem.activeBackground', defaults: {\n                    dark: Color.rgba(255, 255, 255, 0.18),\n                    light: Color.rgba(255, 255, 255, 0.18),\n                    hcDark: Color.rgba(255, 255, 255, 0.18),\n                    hcLight: Color.rgba(0, 0, 0, 0.18)\n                }, description: 'Status bar item background color when clicking. The status bar is shown in the bottom of the window.'\n            },\n            {\n                id: 'statusBarItem.hoverBackground', defaults: {\n                    dark: Color.rgba(255, 255, 255, 0.12),\n                    light: Color.rgba(255, 255, 255, 0.12),\n                    hcDark: Color.rgba(255, 255, 255, 0.12),\n                    hcLight: Color.rgba(0, 0, 0, 0.12)\n                }, description: 'Status bar item background color when hovering. The status bar is shown in the bottom of the window.'\n            },\n            {\n                id: 'statusBarItem.errorBackground', defaults: {\n                    dark: Color.darken('errorBackground', 0.4),\n                    light: Color.darken('errorBackground', 0.4),\n                    hcDark: undefined,\n                    hcLight: '#B5200D'\n                }, description: 'Status bar error items background color. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window.'\n            },\n            {\n                id: 'statusBarItem.errorForeground', defaults: {\n                    dark: Color.white,\n                    light: Color.white,\n                    hcDark: Color.white,\n                    hcLight: Color.white\n                }, description: 'Status bar error items foreground color. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window.'\n            },\n            {\n                id: 'statusBarItem.warningBackground', defaults: {\n                    dark: Color.darken('warningBackground', 0.4),\n                    light: Color.darken('warningBackground', 0.4),\n                    hcDark: undefined,\n                    hcLight: '#895503'\n                }, description: 'Status bar warning items background color. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window.'\n            },\n            {\n                id: 'statusBarItem.warningForeground', defaults: {\n                    dark: Color.white,\n                    light: Color.white,\n                    hcDark: Color.white,\n                    hcLight: Color.white\n                }, description: 'Status bar warning items foreground color. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window.'\n            },\n\n            // Quickinput colors should be aligned with https://code.visualstudio.com/api/references/theme-color#quick-picker\n            // if not yet contributed by Monaco, check runtime css variables to learn.\n            {\n                id: 'quickInput.background', defaults: {\n                    dark: 'editorWidget.background',\n                    light: 'editorWidget.background',\n                    hcDark: 'editorWidget.background',\n                    hcLight: 'editorWidget.background'\n                }, description: 'Quick Input background color. The Quick Input widget is the container for views like the color theme picker.'\n            },\n            {\n                id: 'quickInput.foreground', defaults: {\n                    dark: 'editorWidget.foreground',\n                    light: 'editorWidget.foreground',\n                    hcDark: 'editorWidget.foreground',\n                    hcLight: 'editorWidget.foreground'\n                }, description: 'Quick Input foreground color. The Quick Input widget is the container for views like the color theme picker.'\n            },\n            {\n                id: 'quickInput.list.focusBackground', defaults: {\n                    dark: undefined,\n                    light: undefined,\n                    hcDark: undefined,\n                    hcLight: undefined\n                }, description: 'quickInput.list.focusBackground deprecation. Please use quickInputList.focusBackground instead'\n            },\n            {\n                id: 'quickInputList.focusForeground', defaults: {\n                    dark: 'list.activeSelectionForeground',\n                    light: 'list.activeSelectionForeground',\n                    hcDark: 'list.activeSelectionForeground',\n                    hcLight: 'list.activeSelectionForeground'\n                }, description: 'Quick picker foreground color for the focused item'\n            },\n            {\n                id: 'quickInputList.focusBackground', defaults: {\n                    dark: 'list.activeSelectionBackground',\n                    light: 'list.activeSelectionBackground',\n                    hcDark: undefined\n                }, description: 'Quick picker background color for the focused item.'\n            },\n\n            // Panel colors should be aligned with https://code.visualstudio.com/api/references/theme-color#panel-colors\n            {\n                id: 'panel.background', defaults: {\n                    dark: 'editor.background', light: 'editor.background', hcDark: 'editor.background', hcLight: 'editor.background'\n                }, description: 'Panel background color. Panels are shown below the editor area and contain views like output and integrated terminal.'\n            },\n            {\n                id: 'panel.border', defaults: {\n                    dark: Color.transparent('#808080', 0.35), light: Color.transparent('#808080', 0.35), hcDark: 'contrastBorder', hcLight: 'contrastBorder'\n                }, description: 'Panel border color to separate the panel from the editor. Panels are shown below the editor area and contain views like output and integrated terminal.'\n            },\n            {\n                id: 'panel.dropBackground', defaults: {\n                    dark: Color.rgba(255, 255, 255, 0.12), light: Color.transparent('#2677CB', 0.18), hcDark: Color.rgba(255, 255, 255, 0.12)\n                }, description: 'Drag and drop feedback color for the panel title items. The color should have transparency so that the panel entries can still shine through. Panels are shown below the editor area and contain views like output and integrated terminal.'\n            },\n            {\n                id: 'panelTitle.activeForeground', defaults: {\n                    dark: '#E7E7E7', light: '#424242', hcDark: Color.white, hcLight: 'editor.foreground'\n                }, description: 'Title color for the active panel. Panels are shown below the editor area and contain views like output and integrated terminal.'\n            },\n            {\n                id: 'panelTitle.inactiveForeground', defaults: {\n                    dark: Color.transparent('panelTitle.activeForeground', 0.6), light: Color.transparent('panelTitle.activeForeground', 0.75), hcDark: Color.white, hcLight: 'editor.foreground'\n                }, description: 'Title color for the inactive panel. Panels are shown below the editor area and contain views like output and integrated terminal.'\n            },\n            {\n                id: 'panelTitle.activeBorder', defaults: {\n                    dark: 'panelTitle.activeForeground', light: 'panelTitle.activeForeground', hcDark: 'contrastBorder', hcLight: '#B5200D'\n                }, description: 'Border color for the active panel title. Panels are shown below the editor area and contain views like output and integrated terminal.'\n            },\n            {\n                id: 'panelInput.border', defaults: { light: '#ddd' },\n                description: 'Input box border for inputs in the panel.'\n            },\n            {\n                id: 'imagePreview.border', defaults: {\n                    dark: Color.transparent('#808080', 0.35), light: Color.transparent('#808080', 0.35), hcDark: 'contrastBorder', hcLight: 'contrastBorder'\n                }, description: 'Border color for image in image preview.'\n            },\n\n            // Title Bar colors should be aligned with https://code.visualstudio.com/api/references/theme-color#title-bar-colors\n            {\n                id: 'titleBar.activeForeground', defaults: {\n                    dark: '#CCCCCC',\n                    light: '#333333',\n                    hcDark: '#FFFFFF',\n                    hcLight: '#292929'\n                }, description: 'Title bar foreground when the window is active. Note that this color is currently only supported on macOS.'\n            },\n            {\n                id: 'titleBar.inactiveForeground', defaults: {\n                    dark: Color.transparent('titleBar.activeForeground', 0.6),\n                    light: Color.transparent('titleBar.activeForeground', 0.6),\n                    hcLight: '#292929'\n                }, description: 'Title bar foreground when the window is inactive. Note that this color is currently only supported on macOS.'\n            },\n            {\n                id: 'titleBar.activeBackground', defaults: {\n                    dark: '#3C3C3C',\n                    light: '#DDDDDD',\n                    hcDark: '#000000',\n                    hcLight: '#FFFFFF'\n                }, description: 'Title bar background when the window is active. Note that this color is currently only supported on macOS.'\n            },\n            {\n                id: 'titleBar.inactiveBackground', defaults: {\n                    dark: Color.transparent('titleBar.activeBackground', 0.6),\n                    light: Color.transparent('titleBar.activeBackground', 0.6)\n                }, description: 'Title bar background when the window is inactive. Note that this color is currently only supported on macOS.'\n            },\n            {\n                id: 'titleBar.border', defaults: {\n                    hcDark: 'contrastBorder',\n                    hcLight: 'contrastBorder'\n                }, description: 'Title bar border color. Note that this color is currently only supported on macOS.'\n            },\n\n            // Menu Bar colors should be aligned with https://code.visualstudio.com/api/references/theme-color#menu-bar-colors\n            {\n                id: 'menubar.selectionForeground', defaults: {\n                    dark: 'titleBar.activeForeground',\n                    light: 'titleBar.activeForeground',\n                    hcDark: 'titleBar.activeForeground',\n                    hcLight: 'titleBar.activeForeground'\n                }, description: 'Foreground color of the selected menu item in the menubar.'\n            },\n            {\n                id: 'menubar.selectionBackground', defaults: {\n                    dark: 'toolbar.hoverBackground',\n                    light: 'toolbar.hoverBackground'\n                }, description: 'Background color of the selected menu item in the menubar.'\n            },\n            {\n                id: 'menubar.selectionBorder', defaults: {\n                    hcDark: 'activeContrastBorder', hcLight: 'activeContrastBorder'\n                }, description: 'Border color of the selected menu item in the menubar.'\n            },\n            {\n                id: 'menu.border', defaults: {\n                    hcDark: 'contrastBorder', hcLight: 'contrastBorder'\n                }, description: 'Border color of menus.'\n            },\n            {\n                id: 'menu.foreground', defaults: {\n                    dark: 'dropdown.foreground', light: 'foreground', hcDark: 'dropdown.foreground', hcLight: 'dropdown.foreground'\n                },\n                description: 'Foreground color of menu items.'\n            },\n            {\n                id: 'menu.background', defaults: {\n                    dark: 'dropdown.background', light: 'dropdown.background', hcDark: 'dropdown.background', hcLight: 'dropdown.background'\n                }, description: 'Background color of menu items.'\n            },\n            {\n                id: 'menu.selectionForeground', defaults: {\n                    dark: 'list.activeSelectionForeground', light: 'list.activeSelectionForeground', hcDark: 'list.activeSelectionForeground', hcLight: 'list.activeSelectionForeground'\n                }, description: 'Foreground color of the selected menu item in menus.'\n            },\n            {\n                id: 'menu.selectionBackground', defaults: {\n                    dark: 'list.activeSelectionBackground', light: 'list.activeSelectionBackground', hcDark: 'list.activeSelectionBackground', hcLight: 'list.activeSelectionBackground'\n                },\n                description: 'Background color of the selected menu item in menus.'\n            },\n            {\n                id: 'menu.selectionBorder', defaults: {\n                    hcDark: 'activeContrastBorder', hcLight: 'activeContrastBorder'\n                }, description: 'Border color of the selected menu item in menus.'\n            },\n            {\n                id: 'menu.separatorBackground', defaults: {\n                    dark: '#BBBBBB', light: '#888888', hcDark: 'contrastBorder', hcLight: 'contrastBorder'\n                },\n                description: 'Color of a separator menu item in menus.'\n            },\n\n            // Welcome Page colors should be aligned with https://code.visualstudio.com/api/references/theme-color#welcome-page\n            { id: 'welcomePage.background', description: 'Background color for the Welcome page.' },\n            { id: 'welcomePage.buttonBackground', defaults: { dark: Color.rgba(0, 0, 0, .2), light: Color.rgba(0, 0, 0, .04), hcDark: Color.black, hcLight: Color.white }, description: 'Background color for the buttons on the Welcome page.' },\n            { id: 'welcomePage.buttonHoverBackground', defaults: { dark: Color.rgba(200, 235, 255, .072), light: Color.rgba(0, 0, 0, .10) }, description: 'Hover background color for the buttons on the Welcome page.' },\n            { id: 'walkThrough.embeddedEditorBackground', defaults: { dark: Color.rgba(0, 0, 0, .4), light: '#f4f4f4' }, description: 'Background color for the embedded editors on the Interactive Playground.' },\n\n            // Dropdown colors should be aligned with https://code.visualstudio.com/api/references/theme-color#dropdown-control\n\n            {\n                id: 'dropdown.background', defaults: {\n                    light: Color.white,\n                    dark: '#3C3C3C',\n                    hcDark: Color.black,\n                    hcLight: Color.white\n                }, description: 'Dropdown background.'\n            },\n            {\n                id: 'dropdown.listBackground', defaults: {\n                    hcDark: Color.black,\n                    hcLight: Color.white\n                }, description: 'Dropdown list background.'\n            },\n            {\n                id: 'dropdown.foreground', defaults: {\n                    dark: '#F0F0F0',\n                    hcDark: Color.white,\n                    hcLight: 'foreground'\n                }, description: 'Dropdown foreground.'\n            },\n            {\n                id: 'dropdown.border', defaults: {\n                    light: '#CECECE',\n                    dark: 'dropdown.background',\n                    hcDark: 'contrastBorder',\n                    hcLight: 'contrastBorder'\n                }, description: 'Dropdown border.'\n            },\n\n            // Settings Editor colors should be aligned with https://code.visualstudio.com/api/references/theme-color#settings-editor-colors\n            {\n                id: 'settings.headerForeground', defaults: {\n                    light: '#444444', dark: '#e7e7e7', hcDark: '#ffffff', hcLight: '#292929'\n                }, description: 'The foreground color for a section header or active title.'\n            },\n            {\n                id: 'settings.modifiedItemIndicator', defaults: {\n                    light: Color.rgba(102, 175, 224),\n                    dark: Color.rgba(12, 125, 157),\n                    hcDark: Color.rgba(0, 73, 122),\n                    hcLight: Color.rgba(102, 175, 224)\n                }, description: 'The color of the modified setting indicator.'\n            },\n            {\n                id: 'settings.dropdownBackground', defaults: {\n                    dark: 'dropdown.background', light: 'dropdown.background', hcDark: 'dropdown.background', hcLight: 'dropdown.background'\n                },\n                description: 'Settings editor dropdown background.'\n            },\n            {\n                id: 'settings.dropdownForeground', defaults: {\n                    dark: 'dropdown.foreground', light: 'dropdown.foreground', hcDark: 'dropdown.foreground', hcLight: 'dropdown.foreground'\n                }, description: 'Settings editor dropdown foreground.'\n            },\n            {\n                id: 'settings.dropdownBorder', defaults: {\n                    dark: 'dropdown.border', light: 'dropdown.border', hcDark: 'dropdown.border', hcLight: 'dropdown.border'\n                }, description: 'Settings editor dropdown border.'\n            },\n            {\n                id: 'settings.dropdownListBorder', defaults: {\n                    dark: 'editorWidget.border', light: 'editorWidget.border', hcDark: 'editorWidget.border', hcLight: 'editorWidget.border'\n                }, description: 'Settings editor dropdown list border. This surrounds the options and separates the options from the description.'\n            },\n            {\n                id: 'settings.checkboxBackground', defaults: {\n                    dark: 'checkbox.background', light: 'checkbox.background', hcDark: 'checkbox.background', hcLight: 'checkbox.background'\n                }, description: 'Settings editor checkbox background.'\n            },\n            {\n                id: 'settings.checkboxForeground', defaults: {\n                    dark: 'checkbox.foreground', light: 'checkbox.foreground', hcDark: 'checkbox.foreground', hcLight: 'checkbox.foreground'\n                }, description: 'Settings editor checkbox foreground.'\n            },\n            {\n                id: 'settings.checkboxBorder', defaults: {\n                    dark: 'checkbox.border', light: 'checkbox.border', hcDark: 'checkbox.border', hcLight: 'checkbox.border'\n                }, description: 'Settings editor checkbox border.'\n            },\n            {\n                id: 'settings.textInputBackground', defaults: {\n                    dark: 'input.background', light: 'input.background', hcDark: 'input.background', hcLight: 'input.background'\n                }, description: 'Settings editor text input box background.'\n            },\n            {\n                id: 'settings.textInputForeground', defaults: {\n                    dark: 'input.foreground', light: 'input.foreground', hcDark: 'input.foreground', hcLight: 'input.foreground'\n                }, description: 'Settings editor text input box foreground.'\n            },\n            {\n                id: 'settings.textInputBorder', defaults: {\n                    dark: 'input.border', light: 'input.border', hcDark: 'input.border', hcLight: 'input.background'\n                }, description: 'Settings editor text input box border.'\n            },\n            {\n                id: 'settings.numberInputBackground', defaults: {\n                    dark: 'input.background', light: 'input.background', hcDark: 'input.background', hcLight: 'input.background'\n                }, description: 'Settings editor number input box background.'\n            },\n            {\n                id: 'settings.numberInputForeground', defaults: {\n                    dark: 'input.foreground', light: 'input.foreground', hcDark: 'input.foreground', hcLight: 'input.foreground'\n                }, description: 'Settings editor number input box foreground.'\n            },\n            {\n                id: 'settings.numberInputBorder', defaults: {\n                    dark: 'input.border', light: 'input.border', hcDark: 'input.border', hcLight: 'input.border'\n                }, description: 'Settings editor number input box border.'\n            },\n            {\n                id: 'settings.focusedRowBackground', defaults: {\n                    dark: Color.transparent('#808080', 0.14),\n                    light: Color.transparent('#808080', 0.03),\n                    hcDark: undefined,\n                    hcLight: undefined\n                }, description: 'The background color of a settings row when focused.'\n            },\n            {\n                id: 'settings.rowHoverBackground', defaults: {\n                    dark: Color.transparent('#808080', 0.07),\n                    light: Color.transparent('#808080', 0.05),\n                    hcDark: undefined,\n                    hcLight: undefined\n                }, description: 'The background color of a settings row when hovered.'\n            },\n            {\n                id: 'settings.focusedRowBorder', defaults: {\n                    dark: Color.rgba(255, 255, 255, 0.12),\n                    light: Color.rgba(0, 0, 0, 0.12),\n                    hcDark: 'focusBorder',\n                    hcLight: 'focusBorder'\n                }, description: \"The color of the row's top and bottom border when the row is focused.\"\n            },\n            // Toolbar Action colors should be aligned with https://code.visualstudio.com/api/references/theme-color#action-colors\n            {\n                id: 'toolbar.hoverBackground', defaults: {\n                    dark: '#5a5d5e50', light: '#b8b8b850', hcDark: undefined, hcLight: undefined\n                }, description: 'Toolbar background when hovering over actions using the mouse.'\n            },\n\n            // Theia Variable colors\n            {\n                id: 'variable.name.color', defaults: {\n                    dark: '#C586C0',\n                    light: '#9B46B0',\n                    hcDark: '#C586C0'\n                },\n                description: 'Color of a variable name.'\n            },\n            {\n                id: 'variable.value.color', defaults: {\n                    dark: Color.rgba(204, 204, 204, 0.6),\n                    light: Color.rgba(108, 108, 108, 0.8),\n                    hcDark: Color.rgba(204, 204, 204, 0.6)\n                },\n                description: 'Color of a variable value.'\n            },\n            {\n                id: 'variable.number.variable.color', defaults: {\n                    dark: '#B5CEA8',\n                    light: '#09885A',\n                    hcDark: '#B5CEA8'\n                },\n                description: 'Value color of a number variable'\n            },\n            {\n                id: 'variable.boolean.variable.color', defaults: {\n                    dark: '#4E94CE',\n                    light: '#0000FF',\n                    hcDark: '#4E94CE'\n                },\n                description: 'Value color of a boolean variable'\n            },\n            {\n                id: 'variable.string.variable.color', defaults: {\n                    dark: '#CE9178',\n                    light: '#A31515',\n                    hcDark: '#CE9178'\n                },\n                description: 'Value color of a string variable'\n            },\n\n            // Theia ANSI colors\n            {\n                id: 'ansi.black.color', defaults: {\n                    dark: '#A0A0A0',\n                    light: Color.rgba(128, 128, 128),\n                    hcDark: '#A0A0A0'\n                },\n                description: 'ANSI black color'\n            },\n            {\n                id: 'ansi.red.color', defaults: {\n                    dark: '#A74747',\n                    light: '#BE1717',\n                    hcDark: '#A74747'\n                },\n                description: 'ANSI red color'\n            },\n            {\n                id: 'ansi.green.color', defaults: {\n                    dark: '#348F34',\n                    light: '#338A2F',\n                    hcDark: '#348F34'\n                },\n                description: 'ANSI green color'\n            },\n            {\n                id: 'ansi.yellow.color', defaults: {\n                    dark: '#5F4C29',\n                    light: '#BEB817',\n                    hcDark: '#5F4C29'\n                },\n                description: 'ANSI yellow color'\n            },\n            {\n                id: 'ansi.blue.color', defaults: {\n                    dark: '#6286BB',\n                    light: Color.rgba(0, 0, 139),\n                    hcDark: '#6286BB'\n                },\n                description: 'ANSI blue color'\n            },\n            {\n                id: 'ansi.magenta.color', defaults: {\n                    dark: '#914191',\n                    light: Color.rgba(139, 0, 139),\n                    hcDark: '#914191'\n                },\n                description: 'ANSI magenta color'\n            },\n            {\n                id: 'ansi.cyan.color', defaults: {\n                    dark: '#218D8D',\n                    light: Color.rgba(0, 139, 139),\n                    hcDark: '#218D8D'\n                },\n                description: 'ANSI cyan color'\n            },\n            {\n                id: 'ansi.white.color', defaults: {\n                    dark: '#707070',\n                    light: '#BDBDBD',\n                    hcDark: '#707070'\n                },\n                description: 'ANSI white color'\n            },\n\n            // Theia defaults\n            // Base\n            {\n                id: 'errorBackground',\n                defaults: {\n                    dark: 'inputValidation.errorBackground',\n                    light: 'inputValidation.errorBackground',\n                    hcDark: 'inputValidation.errorBackground'\n                }, description: 'Background color of error widgets (like alerts or notifications).'\n            },\n            {\n                id: 'successBackground',\n                defaults: {\n                    dark: 'editorGutter.addedBackground',\n                    light: 'editorGutter.addedBackground',\n                    hcDark: 'editorGutter.addedBackground'\n                }, description: 'Background color of success widgets (like alerts or notifications).'\n            },\n            {\n                id: 'warningBackground',\n                defaults: {\n                    dark: 'editorWarning.foreground',\n                    light: 'editorWarning.foreground',\n                    hcDark: 'editorWarning.border'\n                }, description: 'Background color of warning widgets (like alerts or notifications).'\n            },\n            {\n                id: 'warningForeground',\n                defaults: {\n                    dark: 'inputValidation.warningBackground',\n                    light: 'inputValidation.warningBackground',\n                    hcDark: 'inputValidation.warningBackground'\n                }, description: 'Foreground color of warning widgets (like alerts or notifications).'\n            },\n            // Statusbar\n            {\n                id: 'statusBar.offlineBackground',\n                defaults: {\n                    dark: 'editorWarning.foreground',\n                    light: 'editorWarning.foreground',\n                    hcDark: 'editorWarning.foreground',\n                    hcLight: 'editorWarning.foreground'\n                }, description: 'Background of hovered statusbar item in case the theia server is offline.'\n            },\n            {\n                id: 'statusBar.offlineForeground',\n                defaults: {\n                    dark: 'editor.background',\n                    light: 'editor.background',\n                    hcDark: 'editor.background',\n                    hcLight: 'editor.background'\n                }, description: 'Background of hovered statusbar item in case the theia server is offline.'\n            },\n            {\n                id: 'statusBarItem.offlineHoverBackground',\n                defaults: {\n                    dark: Color.lighten('statusBar.offlineBackground', 0.4),\n                    light: Color.lighten('statusBar.offlineBackground', 0.4),\n                    hcDark: Color.lighten('statusBar.offlineBackground', 0.4),\n                    hcLight: Color.lighten('statusBar.offlineBackground', 0.4)\n                }, description: 'Background of hovered statusbar item in case the theia server is offline.'\n            },\n            {\n                id: 'statusBarItem.offlineActiveBackground',\n                defaults: {\n                    dark: Color.lighten('statusBar.offlineBackground', 0.6),\n                    light: Color.lighten('statusBar.offlineBackground', 0.6),\n                    hcDark: Color.lighten('statusBar.offlineBackground', 0.6),\n                    hcLight: Color.lighten('statusBar.offlineBackground', 0.6)\n                }, description: 'Background of active statusbar item in case the theia server is offline.'\n            },\n            {\n                id: 'statusBarItem.remoteBackground',\n                defaults: {\n                    dark: 'activityBarBadge.background',\n                    light: 'activityBarBadge.background',\n                    hcDark: 'activityBarBadge.background',\n                    hcLight: 'activityBarBadge.background'\n                }, description: 'Background color for the remote indicator on the status bar.'\n            },\n            {\n                id: 'statusBarItem.remoteForeground',\n                defaults: {\n                    dark: 'activityBarBadge.foreground',\n                    light: 'activityBarBadge.foreground',\n                    hcDark: 'activityBarBadge.foreground',\n                    hcLight: 'activityBarBadge.foreground'\n                }, description: 'Foreground color for the remote indicator on the status bar.'\n            },\n            // Buttons\n            {\n                id: 'secondaryButton.foreground',\n                defaults: {\n                    dark: 'dropdown.foreground',\n                    light: 'dropdown.foreground',\n                    hcDark: 'dropdown.foreground',\n                    hcLight: 'dropdown.foreground'\n                }, description: 'Foreground color of secondary buttons.'\n            },\n            {\n                id: 'secondaryButton.disabledForeground',\n                defaults: {\n                    dark: Color.transparent('secondaryButton.foreground', 0.5),\n                    light: Color.transparent('secondaryButton.foreground', 0.5),\n                    hcDark: Color.transparent('secondaryButton.foreground', 0.5),\n                    hcLight: Color.transparent('secondaryButton.foreground', 0.5),\n                }, description: 'Foreground color of secondary buttons.'\n            },\n            {\n                id: 'secondaryButton.background',\n                defaults: {\n                    dark: Color.lighten('dropdown.background', 0.5),\n                    light: Color.lighten('dropdown.background', 0.5)\n                }, description: 'Background color of secondary buttons.'\n            },\n            {\n                id: 'secondaryButton.hoverBackground',\n                defaults: {\n                    dark: Color.lighten('secondaryButton.background', 0.2),\n                    light: Color.lighten('secondaryButton.background', 0.2)\n                }, description: 'Background color when hovering secondary buttons.'\n            },\n            {\n                id: 'secondaryButton.disabledBackground',\n                defaults: {\n                    dark: Color.transparent('secondaryButton.background', 0.6),\n                    light: Color.transparent('secondaryButton.background', 0.6)\n                }, description: 'Background color when hovering secondary buttons.'\n            },\n            {\n                id: 'button.disabledForeground',\n                defaults: {\n                    dark: Color.transparent('button.foreground', 0.5),\n                    light: Color.transparent('button.foreground', 0.5),\n                    hcDark: Color.transparent('button.foreground', 0.5)\n                }, description: 'Foreground color of secondary buttons.'\n            },\n            {\n                id: 'button.disabledBackground',\n                defaults: {\n                    dark: Color.transparent('button.background', 0.5),\n                    light: Color.transparent('button.background', 0.5)\n                }, description: 'Background color of secondary buttons.'\n            },\n            {\n                id: 'editorGutter.commentRangeForeground',\n                defaults: {\n                    dark: '#c5c5c5',\n                    light: '#c5c5c5',\n                    hcDark: Color.white,\n                    hcLight: Color.white\n                }, description: 'Editor gutter decoration color for commenting ranges.'\n            },\n            {\n                id: 'breadcrumb.foreground',\n                defaults: {\n                    dark: Color.transparent('foreground', 0.8),\n                    light: Color.transparent('foreground', 0.8),\n                    hcDark: Color.transparent('foreground', 0.8),\n                    hcLight: Color.transparent('foreground', 0.8)\n                },\n                description: 'Color of breadcrumb item text'\n            },\n            {\n                id: 'breadcrumb.background',\n                defaults: {\n                    dark: 'editor.background',\n                    light: 'editor.background',\n                    hcDark: 'editor.background',\n                    hcLight: 'editor.background'\n                },\n                description: 'Color of breadcrumb item background'\n            },\n            {\n                id: 'breadcrumb.focusForeground',\n                defaults: {\n                    dark: Color.lighten('foreground', 0.1),\n                    light: Color.darken('foreground', 0.2),\n                    hcDark: Color.lighten('foreground', 0.1),\n                    hcLight: Color.lighten('foreground', 0.1)\n                },\n                description: 'Color of breadcrumb item text when focused'\n            },\n            {\n                id: 'breadcrumb.activeSelectionForeground',\n                defaults: {\n                    dark: Color.lighten('foreground', 0.1),\n                    light: Color.darken('foreground', 0.2),\n                    hcDark: Color.lighten('foreground', 0.1),\n                    hcLight: Color.lighten('foreground', 0.1)\n                },\n                description: 'Color of selected breadcrumb item'\n            },\n            {\n                id: 'breadcrumbPicker.background',\n                defaults: {\n                    dark: 'editorWidget.background',\n                    light: 'editorWidget.background',\n                    hcDark: 'editorWidget.background',\n                    hcLight: 'editorWidget.background'\n                },\n                description: 'Background color of breadcrumb item picker'\n            },\n            {\n                id: 'mainToolbar.background',\n                defaults: {\n                    dark: Color.lighten('activityBar.background', 0.1),\n                    light: Color.darken('activityBar.background', 0.1),\n                    hcDark: Color.lighten('activityBar.background', 0.1),\n                    hcLight: Color.lighten('activityBar.background', 0.1)\n                },\n                description: 'Background color of shell\\'s global toolbar'\n            },\n            {\n                id: 'mainToolbar.foreground', defaults: {\n                    dark: Color.darken('activityBar.foreground', 0.1),\n                    light: Color.lighten('activityBar.foreground', 0.1),\n                    hcDark: Color.lighten('activityBar.foreground', 0.1),\n                    hcLight: Color.lighten('activityBar.foreground', 0.1),\n                }, description: 'Foreground color of active toolbar item',\n            },\n            {\n                id: 'editorHoverWidgetInternalBorder',\n                defaults: {\n                    dark: Color.transparent('editorHoverWidget.border', 0.5),\n                    light: Color.transparent('editorHoverWidget.border', 0.5),\n                    hcDark: Color.transparent('editorHoverWidget.border', 0.5),\n                    hcLight: Color.transparent('editorHoverWidget.border', 0.5)\n                },\n                description: 'The border between subelements of a hover widget'\n            }\n        );\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { Emitter, Event } from '../common/event';\n\nexport type ContextKeyValue = null | undefined | boolean | number | string\n    | Array<null | undefined | boolean | number | string>\n    | Record<string, null | undefined | boolean | number | string>;\n\nexport interface ContextKey<T extends ContextKeyValue = ContextKeyValue> {\n    set(value: T | undefined): void;\n    reset(): void;\n    get(): T | undefined;\n}\n\nexport namespace ContextKey {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    export const None: ContextKey<any> = Object.freeze({\n        set: () => { },\n        reset: () => { },\n        get: () => undefined\n    });\n}\n\nexport interface ContextKeyChangeEvent {\n    affects(keys: { has(key: string): boolean }): boolean;\n}\n\nexport const ContextKeyService = Symbol('ContextKeyService');\n\nexport interface ContextMatcher {\n    /**\n     * Whether the expression is satisfied. If `context` provided, the service will attempt to retrieve a context object associated with that element.\n     */\n    match(expression: string, context?: HTMLElement): boolean;\n}\n\nexport interface ContextKeyService extends ContextMatcher {\n    readonly onDidChange: Event<ContextKeyChangeEvent>;\n\n    createKey<T extends ContextKeyValue>(key: string, defaultValue: T | undefined): ContextKey<T>;\n\n    /**\n     * @returns a Set of the keys used by the given `expression` or `undefined` if none are used or the expression cannot be parsed.\n     */\n    parseKeys(expression: string): Set<string> | undefined;\n\n    /**\n     * Creates a temporary context that will use the `values` passed in when evaluating {@link callback}.\n     * {@link callback | The callback} must be synchronous.\n     */\n    with<T>(values: Record<string, unknown>, callback: () => T): T;\n\n    /**\n     * Creates a child service with a separate context scoped to the HTML element passed in.\n     * Useful for e.g. setting the {view} context value for particular widgets.\n     */\n    createScoped(target: HTMLElement): ScopedValueStore;\n\n    /**\n     * @param overlay values to be used in the new {@link ContextKeyService}. These values will be static.\n     * Creates a child service with a separate context and a set of fixed values to override parent values.\n     */\n    createOverlay(overlay: Iterable<[string, unknown]>): ContextMatcher;\n\n    /**\n     * Set or modify a value in the service's context.\n     */\n    setContext(key: string, value: unknown): void;\n}\n\nexport type ScopedValueStore = Omit<ContextKeyService, 'onDidChange' | 'match' | 'parseKeys' | 'with' | 'createOverlay'>;\n\n@injectable()\nexport class ContextKeyServiceDummyImpl implements ContextKeyService {\n\n    protected readonly onDidChangeEmitter = new Emitter<ContextKeyChangeEvent>();\n    readonly onDidChange = this.onDidChangeEmitter.event;\n    protected fireDidChange(event: ContextKeyChangeEvent): void {\n        this.onDidChangeEmitter.fire(event);\n    }\n\n    createKey<T extends ContextKeyValue>(key: string, defaultValue: T | undefined): ContextKey<T> {\n        return ContextKey.None;\n    }\n    /**\n     * It should be implemented by an extension, e.g. by the monaco extension.\n     */\n    match(expression: string, context?: HTMLElement): boolean {\n        return true;\n    }\n\n    /**\n     * It should be implemented by an extension, e.g. by the monaco extension.\n     */\n    parseKeys(expression: string): Set<string> | undefined {\n        return new Set<string>();\n    }\n\n    /**\n     * Details should be implemented by an extension, e.g. by the monaco extension.\n     * Callback must be synchronous.\n     */\n    with<T>(values: Record<string, unknown>, callback: () => T): T {\n        return callback();\n    }\n\n    /**\n     * Details should implemented by an extension, e.g. by the monaco extension.\n     */\n    createScoped(target: HTMLElement): ContextKeyService {\n        return this;\n    }\n\n    /**\n     * Details should be implemented by an extension, e.g. the monaco extension.\n     */\n    createOverlay(overlay: Iterable<[string, unknown]>): ContextMatcher {\n        return this;\n    }\n\n    /**\n     * Details should be implemented by an extension, e.g. by the monaco extension.\n     */\n    setContext(key: string, value: unknown): void { }\n\n    dispose(): void { }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { injectable } from 'inversify';\nimport { MenuPath } from '../common/menu';\nimport { Disposable, DisposableCollection } from '../common/disposable';\nimport { ContextMatcher } from './context-key-service';\n\nexport interface Coordinate { x: number; y: number; }\nexport const Coordinate = Symbol('Coordinate');\n\nexport type Anchor = MouseEvent | Coordinate;\n\nexport function coordinateFromAnchor(anchor: Anchor): Coordinate {\n    const { x, y } = anchor instanceof MouseEvent ? { x: anchor.clientX, y: anchor.clientY } : anchor;\n    return { x, y };\n}\n\nexport abstract class ContextMenuAccess implements Disposable {\n\n    protected readonly toDispose = new DisposableCollection();\n    readonly onDispose = this.toDispose.onDispose;\n\n    constructor(toClose: Disposable) {\n        this.toDispose.push(toClose);\n    }\n\n    get disposed(): boolean {\n        return this.toDispose.disposed;\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n}\n\n@injectable()\nexport abstract class ContextMenuRenderer {\n\n    protected _current: ContextMenuAccess | undefined;\n    protected readonly toDisposeOnSetCurrent = new DisposableCollection();\n    /**\n     * Currently opened context menu.\n     * Rendering a new context menu will close the current.\n     */\n    get current(): ContextMenuAccess | undefined {\n        return this._current;\n    }\n    protected setCurrent(current: ContextMenuAccess | undefined): void {\n        if (this._current === current) {\n            return;\n        }\n        this.toDisposeOnSetCurrent.dispose();\n        this._current = current;\n        if (current) {\n            this.toDisposeOnSetCurrent.push(current.onDispose(() => {\n                this._current = undefined;\n            }));\n            this.toDisposeOnSetCurrent.push(current);\n        }\n    }\n\n    render(options: RenderContextMenuOptions): ContextMenuAccess {\n        const resolvedOptions = this.resolve(options);\n        const access = this.doRender(resolvedOptions);\n        this.setCurrent(access);\n        return access;\n    }\n\n    protected abstract doRender(options: RenderContextMenuOptions): ContextMenuAccess;\n\n    protected resolve(options: RenderContextMenuOptions): RenderContextMenuOptions {\n        const args: any[] = options.args ? options.args.slice() : [];\n        if (options.includeAnchorArg !== false) {\n            args.push(options.anchor);\n        }\n        return {\n            ...options,\n            args\n        };\n    }\n\n}\n\nexport interface RenderContextMenuOptions {\n    menuPath: MenuPath;\n    anchor: Anchor;\n    args?: any[];\n    /**\n     * Whether the anchor should be passed as an argument to the handlers of commands for this context menu.\n     * If true, the anchor will be appended to the list of arguments or passed as the only argument if no other\n     * arguments are supplied.\n     * Default is `true`.\n     */\n    includeAnchorArg?: boolean;\n    /**\n     * A DOM context to use when evaluating any `when` clauses\n     * of menu items registered for this item.\n     */\n    context?: HTMLElement;\n    contextKeyService?: ContextMatcher;\n    onHide?: () => void;\n    /**\n     * If true a single submenu in the context menu is not rendered but its children are rendered on the top level.\n     * Default is `false`.\n     */\n    skipSingleRootNode?: boolean;\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Google and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from 'inversify';\nimport { environment } from '@theia/application-package/lib/environment';\nimport { createPreferenceProxy, PreferenceProxy, PreferenceService, PreferenceContribution, PreferenceSchema } from './preferences';\nimport { SUPPORTED_ENCODINGS } from './supported-encodings';\nimport { FrontendApplicationConfigProvider } from './frontend-application-config-provider';\nimport { isOSX } from '../common/os';\nimport { nls } from '../common/nls';\nimport { DefaultTheme } from '@theia/application-package/lib/application-props';\n\n/* eslint-disable max-len */\nconst windowTitleDescription = [\n    nls.localizeByDefault('Controls the window title based on the current context such as the opened workspace or active editor. Variables are substituted based on the context:'),\n    nls.localizeByDefault('`${activeEditorShort}`: the file name (e.g. myFile.txt).'),\n    nls.localizeByDefault('`${activeEditorMedium}`: the path of the file relative to the workspace folder (e.g. myFolder/myFileFolder/myFile.txt).'),\n    nls.localizeByDefault('`${activeEditorLong}`: the full path of the file (e.g. /Users/Development/myFolder/myFileFolder/myFile.txt).'),\n    nls.localizeByDefault('`${activeFolderShort}`: the name of the folder the file is contained in (e.g. myFileFolder).'),\n    nls.localizeByDefault('`${activeFolderMedium}`: the path of the folder the file is contained in, relative to the workspace folder (e.g. myFolder/myFileFolder).'),\n    nls.localizeByDefault('`${activeFolderLong}`: the full path of the folder the file is contained in (e.g. /Users/Development/myFolder/myFileFolder).'),\n    nls.localizeByDefault('`${folderName}`: name of the workspace folder the file is contained in (e.g. myFolder).'),\n    nls.localizeByDefault('`${folderPath}`: file path of the workspace folder the file is contained in (e.g. /Users/Development/myFolder).'),\n    nls.localizeByDefault('`${rootName}`: name of the workspace with optional remote name and workspace indicator if applicable (e.g. myFolder, myRemoteFolder [SSH] or myWorkspace (Workspace)).'),\n    nls.localizeByDefault('`${rootPath}`: file path of the opened workspace or folder (e.g. /Users/Development/myWorkspace).'),\n    nls.localizeByDefault('`${appName}`: e.g. VS Code.'),\n    nls.localizeByDefault('`${remoteName}`: e.g. SSH'),\n    nls.localizeByDefault('`${dirty}`: an indicator for when the active editor has unsaved changes.'),\n    nls.localizeByDefault('`${separator}`: a conditional separator (\" - \") that only shows when surrounded by variables with values or static text.')\n].join('\\n- ');\n\nexport const corePreferenceSchema: PreferenceSchema = {\n    'type': 'object',\n    properties: {\n        'application.confirmExit': {\n            type: 'string',\n            enum: [\n                'never',\n                'ifRequired',\n                'always',\n            ],\n            default: 'ifRequired',\n            description: nls.localizeByDefault('Controls whether to show a confirmation dialog before closing the browser tab or window. Note that even if enabled, browsers may still decide to close a tab or window without confirmation and that this setting is only a hint that may not work in all cases.'),\n        },\n        'breadcrumbs.enabled': {\n            'type': 'boolean',\n            'default': true,\n            'description': nls.localizeByDefault('Enable/disable navigation breadcrumbs.'),\n            'scope': 'application'\n        },\n        'files.encoding': {\n            'type': 'string',\n            'enum': Object.keys(SUPPORTED_ENCODINGS),\n            'default': 'utf8',\n            'description': nls.localizeByDefault(\n                'The default character set encoding to use when reading and writing files. This setting can also be configured per language.'),\n            'scope': 'language-overridable',\n            'enumDescriptions': Object.keys(SUPPORTED_ENCODINGS).map(key => SUPPORTED_ENCODINGS[key].labelLong),\n            'included': Object.keys(SUPPORTED_ENCODINGS).length > 1\n        },\n        'keyboard.dispatch': {\n            type: 'string',\n            enum: [\n                'code',\n                'keyCode',\n            ],\n            default: 'code',\n            markdownDescription: nls.localizeByDefault('Controls the dispatching logic for key presses to use either `code` (recommended) or `keyCode`.')\n        },\n        'window.tabbar.enhancedPreview': {\n            type: 'string',\n            enum: ['classic', 'enhanced', 'visual'],\n            markdownEnumDescriptions: [\n                nls.localize('theia/core/enhancedPreview/classic', 'Display a simple preview of the tab with basic information.'),\n                nls.localize('theia/core/enhancedPreview/enhanced', 'Display an enhanced preview of the tab with additional information.'),\n                nls.localize('theia/core/enhancedPreview/visual', 'Display a visual preview of the tab.'),\n            ],\n            default: 'classic',\n            description: nls.localize('theia/core/enhancedPreview', 'Controls what information about the tab should be displayed in horizontal tab bars, when hovering.')\n        },\n        'window.menuBarVisibility': {\n            type: 'string',\n            enum: ['classic', 'visible', 'hidden', 'compact'],\n            markdownEnumDescriptions: [\n                nls.localizeByDefault('Menu is displayed at the top of the window and only hidden in full screen mode.'),\n                nls.localizeByDefault('Menu is always visible at the top of the window even in full screen mode.'),\n                nls.localizeByDefault('Menu is always hidden.'),\n                nls.localizeByDefault('Menu is displayed as a compact button in the side bar. This value is ignored when {0} is {1}.', '`#window.titleBarStyle#`', '`native`')\n            ],\n            default: 'classic',\n            scope: 'application',\n            markdownDescription: nls.localizeByDefault(\"Control the visibility of the menu bar. A setting of 'toggle' means that the menu bar is hidden and a single press of the Alt key will show it. A setting of 'compact' will move the menu into the side bar.\"),\n            included: !(isOSX && environment.electron.is())\n        },\n        'window.title': {\n            type: 'string',\n            default: isOSX\n                ? '${activeEditorShort}${separator}${rootName}'\n                : '${dirty} ${activeEditorShort}${separator}${rootName}${separator}${appName}',\n            scope: 'application',\n            markdownDescription: windowTitleDescription\n        },\n        'window.titleSeparator': {\n            type: 'string',\n            default: ' - ',\n            scope: 'application',\n            markdownDescription: nls.localizeByDefault('Separator used by {0}.', '`#window.title#`')\n        },\n        'window.secondaryWindowPlacement': {\n            type: 'string',\n            enum: ['originalSize', 'halfWidth', 'fullSize'],\n            enumDescriptions: [\n                nls.localize('theia/core/secondaryWindow/originalSize', 'The position and size of the extracted widget will be the same as the original widget.'),\n                nls.localize('theia/core/secondaryWindow/halfWidth', 'The position and size of the extracted widget will be half the width of the running Theia application.'),\n                nls.localize('theia/core/secondaryWindow/fullSize', 'The position and size of the extracted widget will be the same as the running Theia application.'),\n            ],\n            default: 'originalSize',\n            description: nls.localize('theia/core/secondaryWindow/description', 'Sets the initial position and size of the extracted secondary window.'),\n        },\n        'window.secondaryWindowAlwaysOnTop': {\n            type: 'boolean',\n            default: false,\n            description: nls.localize('theia/core/secondaryWindow/alwaysOnTop', 'When enabled, the secondary window stays above all other windows, including those of different applications.'),\n        },\n        'http.proxy': {\n            type: 'string',\n            pattern: '^https?://([^:]*(:[^@]*)?@)?([^:]+|\\\\[[:0-9a-fA-F]+\\\\])(:\\\\d+)?/?$|^$',\n            markdownDescription: nls.localizeByDefault('The proxy setting to use. If not set, will be inherited from the `http_proxy` and `https_proxy` environment variables.'),\n            scope: 'application'\n        },\n        'http.proxyStrictSSL': {\n            type: 'boolean',\n            default: true,\n            description: nls.localizeByDefault('Controls whether the proxy server certificate should be verified against the list of supplied CAs.'),\n            scope: 'application'\n        },\n        'http.proxyAuthorization': {\n            type: 'string',\n            markdownDescription: nls.localizeByDefault('The value to send as the `Proxy-Authorization` header for every network request.'),\n            scope: 'application'\n        },\n        'http.proxySupport': {\n            type: 'string',\n            enum: ['off', 'on', 'fallback', 'override'],\n            enumDescriptions: [\n                nls.localizeByDefault('Disable proxy support for extensions.'),\n                nls.localizeByDefault('Enable proxy support for extensions.'),\n                nls.localizeByDefault('Enable proxy support for extensions, fall back to request options, when no proxy found.'),\n                nls.localizeByDefault('Enable proxy support for extensions, override request options.'),\n            ],\n            default: 'override',\n            description: nls.localizeByDefault('Use the proxy support for extensions.'),\n            scope: 'application'\n        },\n        'http.systemCertificates': {\n            type: 'boolean',\n            default: true,\n            description: nls.localizeByDefault('Controls whether CA certificates should be loaded from the OS. (On Windows and macOS, a reload of the window is required after turning this off.)'),\n            scope: 'application'\n        },\n        'workbench.list.openMode': {\n            type: 'string',\n            enum: [\n                'singleClick',\n                'doubleClick'\n            ],\n            default: 'singleClick',\n            description: nls.localizeByDefault('Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.')\n        },\n        'workbench.editor.highlightModifiedTabs': {\n            'type': 'boolean',\n            'markdownDescription': nls.localize('theia/core/highlightModifiedTabs', 'Controls whether a top border is drawn on modified (dirty) editor tabs or not.'),\n            'default': false\n        },\n        'workbench.editor.closeOnFileDelete': {\n            'type': 'boolean',\n            'description': nls.localizeByDefault('Controls whether editors showing a file that was opened during the session should close automatically when getting deleted or renamed by some other process. Disabling this will keep the editor open  on such an event. Note that deleting from within the application will always close the editor and that editors with unsaved changes will never close to preserve your data.'),\n            'default': false\n        },\n        'workbench.editor.mouseBackForwardToNavigate': {\n            'type': 'boolean',\n            'description': nls.localizeByDefault(\"Enables the use of mouse buttons four and five for commands 'Go Back' and 'Go Forward'.\"),\n            'default': true\n        },\n        'workbench.editor.revealIfOpen': {\n            'type': 'boolean',\n            'description': nls.localizeByDefault('Controls whether an editor is revealed in any of the visible groups if opened. If disabled, an editor will prefer to open in the currently active editor group. If enabled, an already opened editor will be revealed instead of opened again in the currently active editor group. Note that there are some cases where this setting is ignored, such as when forcing an editor to open in a specific group or to the side of the currently active group.'),\n            'default': false\n        },\n        'workbench.editor.decorations.badges': {\n            'type': 'boolean',\n            'description': nls.localizeByDefault('Controls whether editor file decorations should use badges.'),\n            'default': true\n        },\n        'workbench.commandPalette.history': {\n            type: 'number',\n            default: 50,\n            minimum: 0,\n            description: nls.localizeByDefault('Controls the number of recently used commands to keep in history for the command palette. Set to 0 to disable command history.')\n        },\n        'workbench.colorTheme': {\n            type: 'string',\n            enum: ['dark', 'light', 'hc-theia'],\n            enumItemLabels: ['Dark (Theia)', 'Light (Theia)', 'High Contrast (Theia)'],\n            default: DefaultTheme.defaultForOSTheme(FrontendApplicationConfigProvider.get().defaultTheme),\n            description: nls.localizeByDefault('Specifies the color theme used in the workbench.')\n        },\n        'workbench.iconTheme': {\n            type: ['string'],\n            enum: ['none', 'theia-file-icons'],\n            enumItemLabels: [nls.localizeByDefault('None'), 'File Icons (Theia)'],\n            default: FrontendApplicationConfigProvider.get().defaultIconTheme,\n            description: nls.localizeByDefault(\"Specifies the file icon theme used in the workbench or 'null' to not show any file icons.\")\n        },\n        'workbench.silentNotifications': {\n            type: 'boolean',\n            default: false,\n            description: nls.localize('theia/core/silentNotifications', 'Controls whether to suppress notification popups.')\n        },\n        'workbench.statusBar.visible': {\n            type: 'boolean',\n            default: true,\n            description: nls.localizeByDefault('Controls the visibility of the status bar at the bottom of the workbench.')\n        },\n        'workbench.tree.renderIndentGuides': {\n            type: 'string',\n            enum: ['onHover', 'none', 'always'],\n            default: 'onHover',\n            description: nls.localizeByDefault('Controls whether the tree should render indent guides.')\n        },\n        'workbench.hover.delay': {\n            type: 'number',\n            default: isOSX ? 1500 : 500,\n            description: nls.localizeByDefault('Controls the delay in milliseconds after which the hover is shown.')\n        },\n        'workbench.sash.hoverDelay': {\n            type: 'number',\n            default: 300,\n            minimum: 0,\n            maximum: 2000,\n            description: nls.localizeByDefault('Controls the hover feedback delay in milliseconds of the dragging area in between views/editors.')\n        },\n        'workbench.sash.size': {\n            type: 'number',\n            default: 4,\n            minimum: 1,\n            maximum: 20,\n            description: nls.localizeByDefault('Controls the feedback area size in pixels of the dragging area in between views/editors. Set it to a larger value if you feel it\\'s hard to resize views using the mouse.')\n        },\n        'workbench.tab.maximize': {\n            type: 'boolean',\n            default: false,\n            description: nls.localize('theia/core/tabMaximize', 'Controls whether to maximize tabs on double click.')\n        },\n        'workbench.tab.shrinkToFit.enabled': {\n            type: 'boolean',\n            default: false,\n            description: nls.localize('theia/core/tabShrinkToFit', 'Shrink tabs to fit available space.')\n        },\n        'workbench.tab.shrinkToFit.minimumSize': {\n            type: 'number',\n            default: 50,\n            minimum: 10,\n            description: nls.localize('theia/core/tabMinimumSize', 'Specifies the minimum size for tabs.')\n        },\n        'workbench.tab.shrinkToFit.defaultSize': {\n            type: 'number',\n            default: 200,\n            minimum: 10,\n            description: nls.localize('theia/core/tabDefaultSize', 'Specifies the default size for tabs.')\n        }\n    }\n};\n\nexport interface CoreConfiguration {\n    'application.confirmExit': 'never' | 'ifRequired' | 'always';\n    'breadcrumbs.enabled': boolean;\n    'files.encoding': string;\n    'keyboard.dispatch': 'code' | 'keyCode';\n    'window.tabbar.enhancedPreview': 'classic' | 'enhanced' | 'visual';\n    'window.menuBarVisibility': 'classic' | 'visible' | 'hidden' | 'compact';\n    'window.title': string;\n    'window.titleSeparator': string;\n    'workbench.list.openMode': 'singleClick' | 'doubleClick';\n    'workbench.commandPalette.history': number;\n    'workbench.editor.highlightModifiedTabs': boolean;\n    'workbench.editor.mouseBackForwardToNavigate': boolean;\n    'workbench.editor.closeOnFileDelete': boolean;\n    'workbench.editor.revealIfOpen': boolean;\n    'workbench.editor.decorations.badges': boolean;\n    'workbench.colorTheme': string;\n    'workbench.iconTheme': string;\n    'workbench.silentNotifications': boolean;\n    'workbench.statusBar.visible': boolean;\n    'workbench.tree.renderIndentGuides': 'onHover' | 'none' | 'always';\n    'workbench.hover.delay': number;\n    'workbench.sash.hoverDelay': number;\n    'workbench.sash.size': number;\n    'workbench.tab.maximize': boolean;\n    'workbench.tab.shrinkToFit.enabled': boolean;\n    'workbench.tab.shrinkToFit.minimumSize': number;\n    'workbench.tab.shrinkToFit.defaultSize': number;\n}\n\nexport const CorePreferenceContribution = Symbol('CorePreferenceContribution');\nexport const CorePreferences = Symbol('CorePreferences');\nexport type CorePreferences = PreferenceProxy<CoreConfiguration>;\n\nexport function createCorePreferences(preferences: PreferenceService, schema: PreferenceSchema = corePreferenceSchema): CorePreferences {\n    return createPreferenceProxy(preferences, schema);\n}\n\nexport function bindCorePreferences(bind: interfaces.Bind): void {\n    bind(CorePreferences).toDynamicValue(ctx => {\n        const preferences = ctx.container.get<PreferenceService>(PreferenceService);\n        const contribution = ctx.container.get<PreferenceContribution>(CorePreferenceContribution);\n        return createCorePreferences(preferences, contribution.schema);\n    }).inSingletonScope();\n    bind(CorePreferenceContribution).toConstantValue({ schema: corePreferenceSchema });\n    bind(PreferenceContribution).toService(CorePreferenceContribution);\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport namespace DecorationStyle {\n\n    export function createStyleElement(styleId: string, container: HTMLElement = document.head): HTMLStyleElement {\n        const style = document.createElement('style');\n        style.id = styleId;\n        style.type = 'text/css';\n        style.media = 'screen';\n        style.appendChild(document.createTextNode('')); // trick for webkit\n        container.appendChild(style);\n        return style;\n    }\n\n    export function createStyleSheet(styleId: string, container?: HTMLElement): CSSStyleSheet {\n        return <CSSStyleSheet>createStyleElement(styleId, container).sheet;\n    }\n\n    function getRuleIndex(selector: string, styleSheet: CSSStyleSheet): number {\n        return Array.from(styleSheet.cssRules || styleSheet.rules).findIndex(rule => rule.type === CSSRule.STYLE_RULE && (<CSSStyleRule>rule).selectorText === selector);\n    }\n\n    export function getOrCreateStyleRule(selector: string, styleSheet: CSSStyleSheet): CSSStyleRule {\n        let index = getRuleIndex(selector, styleSheet);\n        if (index === -1) {\n            // The given selector does not exist in the provided independent style sheet, rule index = 0\n            index = styleSheet.insertRule(selector + '{}', 0);\n        }\n\n        const rules = styleSheet.cssRules || styleSheet.rules;\n        const rule = rules[index];\n        if (rule && rule.type === CSSRule.STYLE_RULE) {\n            return rule as CSSStyleRule;\n        }\n        styleSheet.deleteRule(index);\n        throw new Error('This function is only for CSS style rules. Other types of CSS rules are not allowed.');\n    }\n\n    export function deleteStyleRule(selector: string, styleSheet: CSSStyleSheet): void {\n        if (!styleSheet) {\n            return;\n        }\n\n        // In general, only one rule exists for a given selector in the provided independent style sheet\n        const index = getRuleIndex(selector, styleSheet);\n        if (index !== -1) {\n            styleSheet.deleteRule(index);\n        }\n    }\n}\n\n","// *****************************************************************************\n// Copyright (C) 2020 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { isThenable } from '../common/promise-util';\nimport { CancellationToken, CancellationTokenSource, Disposable, Emitter, Event } from '../common';\nimport { TernarySearchTree } from '../common/ternary-search-tree';\nimport URI from '../common/uri';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// some code copied and modified from https://github.com/microsoft/vscode/blob/1.52.1/src/vs/workbench/services/decorations/browser/decorationsService.ts#L24-L23\n\nexport interface DecorationsProvider {\n    readonly onDidChange: Event<URI[]>;\n    provideDecorations(uri: URI, token: CancellationToken): Decoration | Promise<Decoration | undefined> | undefined;\n}\n\nexport interface Decoration {\n    readonly weight?: number;\n    readonly colorId?: string;\n    readonly letter?: string;\n    readonly tooltip?: string;\n    readonly bubble?: boolean;\n}\n\nexport interface ResourceDecorationChangeEvent {\n    affectsResource(uri: URI): boolean;\n}\nexport const DecorationsService = Symbol('DecorationsService');\nexport interface DecorationsService {\n\n    readonly onDidChangeDecorations: Event<Map<string, Decoration>>;\n\n    registerDecorationsProvider(provider: DecorationsProvider): Disposable;\n\n    getDecoration(uri: URI, includeChildren: boolean): Decoration[];\n}\n\nclass DecorationDataRequest {\n    constructor(\n        readonly source: CancellationTokenSource,\n        readonly thenable: Promise<void>,\n    ) { }\n}\n\nclass DecorationProviderWrapper {\n\n    readonly data: TernarySearchTree<URI, DecorationDataRequest | Decoration | undefined>;\n    readonly decorations: Map<string, Decoration> = new Map();\n    private readonly disposable: Disposable;\n\n    constructor(\n        readonly provider: DecorationsProvider,\n        readonly onDidChangeDecorationsEmitter: Emitter<Map<string, Decoration>>\n    ) {\n\n        this.data = TernarySearchTree.forUris<DecorationDataRequest | Decoration | undefined>(true);\n\n        this.disposable = this.provider.onDidChange(async uris => {\n            this.decorations.clear();\n            if (!uris) {\n                this.data.clear();\n            } else {\n                for (const uri of uris) {\n                    this.fetchData(uri);\n                    const decoration = await provider.provideDecorations(uri, CancellationToken.None);\n                    if (decoration) {\n                        this.decorations.set(uri.toString(), decoration);\n                    }\n                }\n            }\n            this.onDidChangeDecorationsEmitter.fire(this.decorations);\n        });\n    }\n\n    dispose(): void {\n        this.disposable.dispose();\n        this.data.clear();\n    }\n\n    knowsAbout(uri: URI): boolean {\n        return !!this.data.get(uri) || Boolean(this.data.findSuperstr(uri));\n    }\n\n    getOrRetrieve(uri: URI, includeChildren: boolean, callback: (data: Decoration, isChild: boolean) => void): void {\n\n        let item = this.data.get(uri);\n\n        if (item === undefined) {\n            // unknown -> trigger request\n            item = this.fetchData(uri);\n        }\n\n        if (item && !(item instanceof DecorationDataRequest)) {\n            // found something (which isn't pending anymore)\n            callback(item, false);\n        }\n\n        if (includeChildren) {\n            // (resolved) children\n            const iter = this.data.findSuperstr(uri);\n            if (iter) {\n                let next = iter.next();\n                while (!next.done) {\n                    const value = next.value;\n                    if (value && !(value instanceof DecorationDataRequest)) {\n                        callback(value, true);\n                    }\n                    next = iter.next();\n                }\n            }\n        }\n    }\n\n    private fetchData(uri: URI): Decoration | undefined {\n\n        // check for pending request and cancel it\n        const pendingRequest = this.data.get(uri);\n        if (pendingRequest instanceof DecorationDataRequest) {\n            pendingRequest.source.cancel();\n            this.data.delete(uri);\n        }\n\n        const source = new CancellationTokenSource();\n        const dataOrThenable = this.provider.provideDecorations(uri, source.token);\n        if (!isThenable<Decoration | Promise<Decoration | undefined> | undefined>(dataOrThenable)) {\n            // sync -> we have a result now\n            return this.keepItem(uri, dataOrThenable);\n\n        } else {\n            // async -> we have a result soon\n            const request = new DecorationDataRequest(source, Promise.resolve(dataOrThenable).then(data => {\n                if (this.data.get(uri) === request) {\n                    this.keepItem(uri, data);\n                }\n            }).catch(err => {\n                if (!(err instanceof Error && err.name === 'Canceled' && err.message === 'Canceled') && this.data.get(uri) === request) {\n                    this.data.delete(uri);\n                }\n            }));\n\n            this.data.set(uri, request);\n            return undefined;\n        }\n    }\n\n    private keepItem(uri: URI, data: Decoration | undefined): Decoration | undefined {\n        const deco = data ? data : undefined;\n        this.data.set(uri, deco);\n        return deco;\n    }\n}\n\n@injectable()\nexport class DecorationsServiceImpl implements DecorationsService {\n\n    private readonly data: DecorationProviderWrapper[] = [];\n    private readonly onDidChangeDecorationsEmitter = new Emitter<Map<string, Decoration>>();\n\n    readonly onDidChangeDecorations = this.onDidChangeDecorationsEmitter.event;\n\n    dispose(): void {\n        this.onDidChangeDecorationsEmitter.dispose();\n    }\n\n    registerDecorationsProvider(provider: DecorationsProvider): Disposable {\n\n        const wrapper = new DecorationProviderWrapper(provider, this.onDidChangeDecorationsEmitter);\n        this.data.push(wrapper);\n\n        return Disposable.create(() => {\n            // fire event that says 'yes' for any resource\n            // known to this provider. then dispose and remove it.\n            this.data.splice(this.data.indexOf(wrapper), 1);\n            this.onDidChangeDecorationsEmitter.fire(new Map<string, Decoration>());\n            wrapper.dispose();\n        });\n    }\n\n    getDecoration(uri: URI, includeChildren: boolean): Decoration[] {\n        const data: Decoration[] = [];\n        let containsChildren: boolean = false;\n        for (const wrapper of this.data) {\n            wrapper.getOrRetrieve(uri, includeChildren, (deco, isChild) => {\n                if (!isChild || deco.bubble) {\n                    data.push(deco);\n                    containsChildren = isChild || containsChildren;\n                }\n            });\n        }\n        return data;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from 'inversify';\nimport { Disposable, MaybePromise, CancellationTokenSource, nls } from '../common';\nimport { Key } from './keyboard/keys';\nimport { Widget, BaseWidget, Message, addKeyListener, codiconArray } from './widgets';\nimport { FrontendApplicationContribution } from './frontend-application-contribution';\n\n@injectable()\nexport class DialogProps {\n    readonly title: string;\n    /**\n     * Determines the maximum width of the dialog in pixels.\n     * Default value is undefined, which would result in the css property 'max-width: none' being applied to the dialog.\n     */\n    maxWidth?: number;\n    /**\n     * Determine the word wrapping behavior for content in the dialog.\n     * - `normal`: breaks words at allowed break points.\n     * - `break-word`: breaks otherwise unbreakable words.\n     * - `initial`: sets the property to it's default value.\n     * - `inherit`: inherit this property from it's parent element.\n     * Default value is undefined, which would result in the css property 'word-wrap' not being applied to the dialog.\n     */\n    wordWrap?: 'normal' | 'break-word' | 'initial' | 'inherit';\n}\n\nexport type DialogMode = 'open' | 'preview';\n\nexport type DialogError = string | boolean | {\n    message: string\n    result: boolean\n};\nexport namespace DialogError {\n    export function getResult(error: DialogError): boolean {\n        if (typeof error === 'string') {\n            return !error.length;\n        }\n        if (typeof error === 'boolean') {\n            return error;\n        }\n        return error.result;\n    }\n    export function getMessage(error: DialogError): string {\n        if (typeof error === 'string') {\n            return error;\n        }\n        if (typeof error === 'boolean') {\n            return '';\n        }\n        return error.message;\n    }\n}\n\nexport namespace Dialog {\n    export const YES = nls.localizeByDefault('Yes');\n    export const NO = nls.localizeByDefault('No');\n    export const OK = nls.localizeByDefault('OK');\n    export const CANCEL = nls.localizeByDefault('Cancel');\n}\n\n@injectable()\nexport class DialogOverlayService implements FrontendApplicationContribution {\n\n    protected static INSTANCE: DialogOverlayService;\n\n    static get(): DialogOverlayService {\n        return DialogOverlayService.INSTANCE;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected readonly dialogs: AbstractDialog<any>[] = [];\n    protected readonly documents: Document[] = [];\n\n    constructor() {\n    }\n\n    initialize(): void {\n        DialogOverlayService.INSTANCE = this;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected get currentDialog(): AbstractDialog<any> | undefined {\n        return this.dialogs[0];\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    push(dialog: AbstractDialog<any>): Disposable {\n        if (this.documents.findIndex(document => document === dialog.node.ownerDocument) < 0) {\n            addKeyListener(dialog.node.ownerDocument.body, Key.ENTER, e => this.handleEnter(e));\n            addKeyListener(dialog.node.ownerDocument.body, Key.ESCAPE, e => this.handleEscape(e));\n            this.documents.push(dialog.node.ownerDocument);\n        }\n        this.dialogs.unshift(dialog);\n        return Disposable.create(() => {\n            const index = this.dialogs.indexOf(dialog);\n            if (index > -1) {\n                this.dialogs.splice(index, 1);\n            }\n        });\n    }\n\n    protected handleEscape(event: KeyboardEvent): boolean | void {\n        const dialog = this.currentDialog;\n        if (dialog) {\n            return dialog['handleEscape'](event);\n        }\n        return false;\n    }\n\n    protected handleEnter(event: KeyboardEvent): boolean | void {\n        const dialog = this.currentDialog;\n        if (dialog) {\n            return dialog['handleEnter'](event);\n        }\n        return false;\n    }\n\n}\n\n@injectable()\nexport abstract class AbstractDialog<T> extends BaseWidget {\n\n    protected readonly titleNode: HTMLDivElement;\n    protected readonly contentNode: HTMLDivElement;\n    protected readonly closeCrossNode: HTMLElement;\n    protected readonly controlPanel: HTMLDivElement;\n    protected readonly errorMessageNode: HTMLDivElement;\n\n    protected resolve: undefined | ((value: T | undefined) => void);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected reject: undefined | ((reason: any) => void);\n\n    protected closeButton: HTMLButtonElement | undefined;\n    protected acceptButton: HTMLButtonElement | undefined;\n\n    protected activeElement: HTMLElement | undefined;\n\n    constructor(\n        protected readonly props: DialogProps,\n        options?: Widget.IOptions\n    ) {\n        super(options);\n        this.id = 'theia-dialog-shell';\n        this.addClass('dialogOverlay');\n        this.toDispose.push(Disposable.create(() => {\n            if (this.reject) {\n                Widget.detach(this);\n            }\n        }));\n        const container = this.node.ownerDocument.createElement('div');\n        container.classList.add('dialogBlock');\n        if (props.maxWidth === undefined) {\n            container.setAttribute('style', 'max-width: none');\n        } else if (props.maxWidth < 400) {\n            container.setAttribute('style', `max-width: ${props.maxWidth}px; min-width: 0px`);\n        } else {\n            container.setAttribute('style', `max-width: ${props.maxWidth}px`);\n        }\n        this.node.appendChild(container);\n\n        const titleContentNode = this.node.ownerDocument.createElement('div');\n        titleContentNode.classList.add('dialogTitle');\n        container.appendChild(titleContentNode);\n\n        this.titleNode = this.node.ownerDocument.createElement('div');\n        this.titleNode.textContent = props.title;\n        titleContentNode.appendChild(this.titleNode);\n\n        this.closeCrossNode = this.node.ownerDocument.createElement('i');\n        this.closeCrossNode.classList.add(...codiconArray('close', true));\n        this.closeCrossNode.classList.add('closeButton');\n        titleContentNode.appendChild(this.closeCrossNode);\n\n        this.contentNode = this.node.ownerDocument.createElement('div');\n        this.contentNode.classList.add('dialogContent');\n        if (props.wordWrap !== undefined) {\n            this.contentNode.setAttribute('style', `word-wrap: ${props.wordWrap}`);\n        }\n        container.appendChild(this.contentNode);\n\n        this.controlPanel = this.node.ownerDocument.createElement('div');\n        this.controlPanel.classList.add('dialogControl');\n        container.appendChild(this.controlPanel);\n\n        this.errorMessageNode = this.node.ownerDocument.createElement('div');\n        this.errorMessageNode.classList.add('error');\n        this.errorMessageNode.setAttribute('style', 'flex: 2');\n        this.controlPanel.appendChild(this.errorMessageNode);\n\n        this.update();\n    }\n\n    protected appendCloseButton(text: string = Dialog.CANCEL): HTMLButtonElement {\n        return this.closeButton = this.appendButton(text, false);\n    }\n\n    protected appendAcceptButton(text: string = Dialog.OK): HTMLButtonElement {\n        return this.acceptButton = this.appendButton(text, true);\n    }\n\n    protected appendButton(text: string, primary: boolean): HTMLButtonElement {\n        const button = this.createButton(text);\n        this.controlPanel.appendChild(button);\n        button.classList.add(primary ? 'main' : 'secondary');\n        return button;\n    }\n\n    protected createButton(text: string): HTMLButtonElement {\n        const button = document.createElement('button');\n        button.classList.add('theia-button');\n        button.textContent = text;\n        return button;\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        if (this.closeButton) {\n            this.addCloseAction(this.closeButton, 'click');\n        }\n        if (this.acceptButton) {\n            this.addAcceptAction(this.acceptButton, 'click');\n        }\n        this.addCloseAction(this.closeCrossNode, 'click');\n        // TODO: use DI always to create dialog instances\n        this.toDisposeOnDetach.push(DialogOverlayService.get().push(this));\n    }\n\n    protected handleEscape(event: KeyboardEvent): boolean | void {\n        this.close();\n    }\n\n    protected handleEnter(event: KeyboardEvent): boolean | void {\n        if (event.target instanceof HTMLTextAreaElement) {\n            return false;\n        }\n        this.accept();\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        if (this.acceptButton) {\n            this.acceptButton.focus();\n        }\n    }\n\n    open(): Promise<T | undefined> {\n        if (this.resolve) {\n            return Promise.reject(new Error('The dialog is already opened.'));\n        }\n        this.activeElement = this.node.ownerDocument.activeElement as HTMLElement;\n        return new Promise<T | undefined>((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n            this.toDisposeOnDetach.push(Disposable.create(() => {\n                this.resolve = undefined;\n                this.reject = undefined;\n            }));\n\n            Widget.attach(this, this.node.ownerDocument.body);\n            this.activate();\n        });\n    }\n\n    override close(): void {\n        if (this.resolve) {\n            if (this.activeElement) {\n                this.activeElement.focus({ preventScroll: true });\n            }\n            this.resolve(undefined);\n        }\n        this.activeElement = undefined;\n        super.close();\n    }\n    protected override onUpdateRequest(msg: Message): void {\n        super.onUpdateRequest(msg);\n        this.validate();\n    }\n\n    protected validateCancellationSource = new CancellationTokenSource();\n    protected async validate(): Promise<void> {\n        if (!this.resolve) {\n            return;\n        }\n        this.validateCancellationSource.cancel();\n        this.validateCancellationSource = new CancellationTokenSource();\n        const token = this.validateCancellationSource.token;\n        const value = this.value;\n        const error = await this.isValid(value, 'preview');\n        if (token.isCancellationRequested) {\n            return;\n        }\n        this.setErrorMessage(error);\n    }\n\n    protected acceptCancellationSource = new CancellationTokenSource();\n    protected async accept(): Promise<void> {\n        if (!this.resolve) {\n            return;\n        }\n        this.acceptCancellationSource.cancel();\n        this.acceptCancellationSource = new CancellationTokenSource();\n        const token = this.acceptCancellationSource.token;\n        const value = this.value;\n        const error = await this.isValid(value, 'open');\n        if (token.isCancellationRequested) {\n            return;\n        }\n        if (!DialogError.getResult(error)) {\n            this.setErrorMessage(error);\n        } else {\n            this.resolve(value);\n            Widget.detach(this);\n        }\n    }\n\n    abstract get value(): T;\n\n    /**\n     * Return a string of zero-length or true if valid.\n     */\n    protected isValid(value: T, mode: DialogMode): MaybePromise<DialogError> {\n        return '';\n    }\n\n    protected setErrorMessage(error: DialogError): void {\n        if (this.acceptButton) {\n            this.acceptButton.disabled = !DialogError.getResult(error);\n        }\n        this.errorMessageNode.innerText = DialogError.getMessage(error);\n    }\n\n    protected addAction<K extends keyof HTMLElementEventMap>(element: HTMLElement, callback: () => void, ...additionalEventTypes: K[]): void {\n        this.addKeyListener(element, Key.ENTER, callback, ...additionalEventTypes);\n    }\n\n    protected addCloseAction<K extends keyof HTMLElementEventMap>(element: HTMLElement, ...additionalEventTypes: K[]): void {\n        this.addAction(element, () => this.close(), ...additionalEventTypes);\n    }\n\n    protected addAcceptAction<K extends keyof HTMLElementEventMap>(element: HTMLElement, ...additionalEventTypes: K[]): void {\n        this.addAction(element, () => this.accept(), ...additionalEventTypes);\n    }\n\n}\n\n@injectable()\nexport class MessageDialogProps extends DialogProps {\n    readonly msg: string | HTMLElement;\n}\n\n@injectable()\nexport class ConfirmDialogProps extends MessageDialogProps {\n    readonly cancel?: string;\n    readonly ok?: string;\n}\n\nexport class ConfirmDialog extends AbstractDialog<boolean> {\n\n    protected confirmed = true;\n\n    constructor(\n        @inject(ConfirmDialogProps) protected override readonly props: ConfirmDialogProps\n    ) {\n        super(props);\n\n        this.contentNode.appendChild(this.createMessageNode(this.props.msg));\n        this.appendCloseButton(props.cancel);\n        this.appendAcceptButton(props.ok);\n    }\n\n    protected override onCloseRequest(msg: Message): void {\n        super.onCloseRequest(msg);\n        this.confirmed = false;\n        this.accept();\n    }\n\n    get value(): boolean {\n        return this.confirmed;\n    }\n\n    protected createMessageNode(msg: string | HTMLElement): HTMLElement {\n        if (typeof msg === 'string') {\n            const messageNode = this.node.ownerDocument.createElement('div');\n            messageNode.textContent = msg;\n            return messageNode;\n        }\n        return msg;\n    }\n}\n\nexport async function confirmExit(): Promise<boolean> {\n    const safeToExit = await new ConfirmDialog({\n        title: nls.localizeByDefault('Are you sure you want to quit?'),\n        msg: nls.localize('theia/core/quitMessage', 'Any unsaved changes will not be saved.'),\n        ok: Dialog.YES,\n        cancel: Dialog.NO,\n    }).open();\n    return safeToExit === true;\n}\n\nexport class ConfirmSaveDialogProps extends MessageDialogProps {\n    readonly cancel: string;\n    readonly dontSave: string;\n    readonly save: string;\n}\n\n// Dialog prompting the user to confirm whether they wish to save changes or not\nexport class ConfirmSaveDialog extends AbstractDialog<boolean | undefined> {\n    protected result?: boolean = false;\n\n    constructor(\n        @inject(ConfirmSaveDialogProps) protected override readonly props: ConfirmSaveDialogProps\n    ) {\n        super(props);\n        // Append message and buttons to the dialog\n        this.contentNode.appendChild(this.createMessageNode(this.props.msg));\n        this.closeButton = this.appendButtonAndSetResult(props.cancel, false);\n        this.appendButtonAndSetResult(props.dontSave, false, false);\n        this.acceptButton = this.appendButtonAndSetResult(props.save, true, true);\n    }\n\n    get value(): boolean | undefined {\n        return this.result;\n    }\n\n    protected createMessageNode(msg: string | HTMLElement): HTMLElement {\n        if (typeof msg === 'string') {\n            const messageNode = document.createElement('div');\n            messageNode.textContent = msg;\n            return messageNode;\n        }\n        return msg;\n    }\n\n    protected appendButtonAndSetResult(text: string, primary: boolean, result?: boolean): HTMLButtonElement {\n        const button = this.appendButton(text, primary);\n        button.addEventListener('click', () => {\n            this.result = result;\n            this.accept();\n        });\n        return button;\n    }\n\n}\n\n@injectable()\nexport class SingleTextInputDialogProps extends DialogProps {\n    readonly confirmButtonLabel?: string;\n    readonly initialValue?: string;\n    readonly placeholder?: string;\n    readonly initialSelectionRange?: {\n        start: number\n        end: number\n        direction?: 'forward' | 'backward' | 'none'\n    };\n    readonly validate?: (input: string, mode: DialogMode) => MaybePromise<DialogError>;\n}\n\nexport class SingleTextInputDialog extends AbstractDialog<string> {\n\n    protected readonly inputField: HTMLInputElement;\n\n    constructor(\n        @inject(SingleTextInputDialogProps) protected override props: SingleTextInputDialogProps\n    ) {\n        super(props);\n\n        this.inputField = document.createElement('input');\n        this.inputField.type = 'text';\n        this.inputField.className = 'theia-input';\n        this.inputField.spellcheck = false;\n        this.inputField.setAttribute('style', 'flex: 0;');\n        this.inputField.placeholder = props.placeholder || '';\n        this.inputField.value = props.initialValue || '';\n        if (props.initialSelectionRange) {\n            this.inputField.setSelectionRange(\n                props.initialSelectionRange.start,\n                props.initialSelectionRange.end,\n                props.initialSelectionRange.direction\n            );\n        } else {\n            this.inputField.select();\n        }\n\n        this.contentNode.appendChild(this.inputField);\n        this.controlPanel.removeChild(this.errorMessageNode);\n        this.contentNode.appendChild(this.errorMessageNode);\n\n        this.appendAcceptButton(props.confirmButtonLabel);\n    }\n\n    get value(): string {\n        return this.inputField.value;\n    }\n\n    protected override isValid(value: string, mode: DialogMode): MaybePromise<DialogError> {\n        if (this.props.validate) {\n            return this.props.validate(value, mode);\n        }\n        return super.isValid(value, mode);\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        this.addUpdateListener(this.inputField, 'input');\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        this.inputField.focus();\n    }\n\n    protected override handleEnter(event: KeyboardEvent): boolean | void {\n        if (event.target instanceof HTMLInputElement) {\n            return super.handleEnter(event);\n        }\n        return false;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from 'react';\nimport { injectable, inject } from 'inversify';\nimport { Disposable } from '../../common';\nimport { Message } from '../widgets';\nimport { AbstractDialog, DialogProps } from '../dialogs';\nimport { createRoot, Root } from 'react-dom/client';\n\n@injectable()\nexport abstract class ReactDialog<T> extends AbstractDialog<T> {\n    protected contentNodeRoot: Root;\n    protected isMounted: boolean;\n\n    constructor(\n        @inject(DialogProps) props: DialogProps\n    ) {\n        super(props);\n        this.contentNodeRoot = createRoot(this.contentNode);\n        this.isMounted = true;\n        this.toDispose.push(Disposable.create(() => {\n            this.contentNodeRoot.unmount();\n            this.isMounted = false;\n        }));\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        super.onUpdateRequest(msg);\n        if (!this.isMounted) {\n            this.contentNodeRoot = createRoot(this.contentNode);\n        }\n        this.contentNodeRoot?.render(<>{this.render()}</>);\n    }\n\n    /**\n     * Render the React widget in the DOM.\n     * - If the widget has been previously rendered,\n     * any subsequent calls will perform an update and only\n     * change the DOM if absolutely necessary.\n     */\n    protected abstract render(): React.ReactNode;\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from 'inversify';\nimport URI from '../common/uri';\nimport { LabelProviderContribution, LabelProvider, DidChangeLabelEvent } from './label-provider';\nimport { codicon } from './widgets';\n\nexport namespace DiffUris {\n\n    export const DIFF_SCHEME = 'diff';\n\n    export function encode(left: URI, right: URI, label?: string): URI {\n        const diffUris = [\n            left.toString(),\n            right.toString()\n        ];\n\n        const diffUriStr = JSON.stringify(diffUris);\n\n        return new URI().withScheme(DIFF_SCHEME).withPath(label || '').withQuery(diffUriStr);\n    }\n\n    export function decode(uri: URI): URI[] {\n        if (uri.scheme !== DIFF_SCHEME) {\n            throw new Error((`The URI must have scheme \"diff\". The URI was: ${uri}.`));\n        }\n        const diffUris: string[] = JSON.parse(uri.query);\n        return diffUris.map(s => new URI(s));\n    }\n\n    export function isDiffUri(uri: URI): boolean {\n        return uri.scheme === DIFF_SCHEME;\n    }\n\n}\n\n@injectable()\nexport class DiffUriLabelProviderContribution implements LabelProviderContribution {\n\n    constructor(@inject(LabelProvider) protected labelProvider: LabelProvider) { }\n\n    canHandle(element: object): number {\n        if (element instanceof URI && DiffUris.isDiffUri(element)) {\n            return 20;\n        }\n        return 0;\n    }\n\n    getLongName(uri: URI): string {\n        const label = uri.path.toString();\n        if (label) {\n            return label;\n        }\n        const [left, right] = DiffUris.decode(uri);\n        const leftLongName = this.labelProvider.getLongName(left);\n        const rightLongName = this.labelProvider.getLongName(right);\n        if (leftLongName === rightLongName) {\n            return leftLongName;\n        }\n        return `${leftLongName}  ${rightLongName}`;\n    }\n\n    getName(uri: URI): string {\n        const label = uri.path.toString();\n        if (label) {\n            return label;\n        }\n        const [left, right] = DiffUris.decode(uri);\n\n        if (left.path.toString() === right.path.toString() && left.query && right.query) {\n            const prefix = left.displayName ? `${left.displayName}: ` : '';\n            return `${prefix}${left.query}  ${right.query}`;\n        } else {\n            let title;\n            if (uri.displayName && left.path.toString() !== right.path.toString() && left.displayName !== uri.displayName) {\n                title = `${uri.displayName}: `;\n            } else {\n                title = '';\n            }\n\n            const leftLongName = this.labelProvider.getName(left);\n            const rightLongName = this.labelProvider.getName(right);\n            if (leftLongName === rightLongName) {\n                return leftLongName;\n            }\n            return `${title}${leftLongName}  ${rightLongName}`;\n        }\n    }\n\n    getIcon(uri: URI): string {\n        return codicon('split-horizontal');\n    }\n\n    affects(diffUri: URI, event: DidChangeLabelEvent): boolean {\n        for (const uri of DiffUris.decode(diffUri)) {\n            if (event.affects(uri)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/workbench/services/textfile/browser/textFileService.ts#L491\n\nimport { injectable, inject } from 'inversify';\nimport URI from '../common/uri';\nimport { Disposable } from '../common/disposable';\nimport { CorePreferences } from './core-preferences';\nimport { EncodingService as EncodingService } from '../common/encoding-service';\nimport { UTF8 } from '../common/encodings';\n\nexport interface EncodingOverride {\n    parent?: URI;\n    extension?: string;\n    scheme?: string;\n    encoding: string;\n}\n\n@injectable()\nexport class EncodingRegistry {\n\n    protected readonly encodingOverrides: EncodingOverride[] = [];\n\n    @inject(CorePreferences)\n    protected readonly preferences: CorePreferences;\n\n    @inject(EncodingService)\n    protected readonly encodingService: EncodingService;\n\n    registerOverride(override: EncodingOverride): Disposable {\n        this.encodingOverrides.push(override);\n        return Disposable.create(() => {\n            const index = this.encodingOverrides.indexOf(override);\n            if (index !== -1) {\n                this.encodingOverrides.splice(index, 1);\n            }\n        });\n    }\n\n    getEncodingForResource(resource: URI, preferredEncoding?: string): string {\n        let fileEncoding: string;\n\n        const override = this.getEncodingOverride(resource);\n        if (override) {\n            fileEncoding = override; // encoding override always wins\n        } else if (preferredEncoding) {\n            fileEncoding = preferredEncoding; // preferred encoding comes second\n        } else {\n            fileEncoding = this.preferences.get('files.encoding', undefined, resource.toString());\n        }\n\n        if (!fileEncoding || !this.encodingService.exists(fileEncoding)) {\n            return UTF8; // the default is UTF 8\n        }\n\n        return this.encodingService.toIconvEncoding(fileEncoding);\n    }\n\n    protected getEncodingOverride(resource: URI): string | undefined {\n        if (this.encodingOverrides && this.encodingOverrides.length) {\n            for (const override of this.encodingOverrides) {\n                if (override.parent && resource.isEqualOrParent(override.parent)) {\n                    return override.encoding;\n                }\n\n                if (override.extension && resource.path.ext === `.${override.extension}`) {\n                    return override.encoding;\n                }\n\n                if (override.scheme && override.scheme === resource.scheme) {\n                    return override.encoding;\n                }\n            }\n        }\n\n        return undefined;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '../common/uri';\n\n/**\n * An endpoint provides URLs for http and ws, based on configuration and defaults.\n */\nexport class Endpoint {\n    static readonly PROTO_HTTPS: string = 'https:';\n    static readonly PROTO_HTTP: string = 'http:';\n    static readonly PROTO_WS: string = 'ws:';\n    static readonly PROTO_WSS: string = 'wss:';\n    static readonly PROTO_FILE: string = 'file:';\n\n    constructor(\n        protected readonly options: Endpoint.Options = {},\n        protected readonly location: Endpoint.Location = self.location\n    ) { }\n\n    getWebSocketUrl(): URI {\n        return new URI(`${this.wsScheme}//${this.host}${this.pathname}${this.path}`);\n    }\n\n    getRestUrl(): URI {\n        return new URI(`${this.httpScheme}//${this.host}${this.pathname}${this.path}`);\n    }\n\n    protected get pathname(): string {\n        if (this.location.protocol === Endpoint.PROTO_FILE) {\n            return '';\n        }\n        if (this.location.pathname === '/') {\n            return '';\n        }\n        if (this.location.pathname.endsWith('/')) {\n            return this.location.pathname.substring(0, this.location.pathname.length - 1);\n        }\n        return this.location.pathname;\n    }\n\n    get host(): string {\n        if (this.options.host) {\n            return this.options.host;\n        }\n        if (this.location.host) {\n            return this.location.host;\n        }\n        return 'localhost:' + this.port;\n    }\n\n    get origin(): string {\n        return `${this.httpScheme}//${this.host}`;\n    }\n\n    protected get port(): string {\n        return this.getSearchParam('port', '3000');\n    }\n\n    protected getSearchParam(name: string, defaultValue: string): string {\n        const search = this.location.search;\n        if (!search) {\n            return defaultValue;\n        }\n        return search.substring(1).split('&')\n            .filter(value => value.startsWith(name + '='))\n            .map(value => {\n                const encoded = value.substring(name.length + 1);\n                return decodeURIComponent(encoded);\n            })[0] || defaultValue;\n    }\n\n    protected get wsScheme(): string {\n        if (this.options.wsScheme) {\n            return this.options.wsScheme;\n        }\n        return this.httpScheme === Endpoint.PROTO_HTTPS ? Endpoint.PROTO_WSS : Endpoint.PROTO_WS;\n    }\n\n    /**\n     * The HTTP/HTTPS scheme of the endpoint, or the user defined one.\n     * See: `Endpoint.Options.httpScheme`.\n     */\n    get httpScheme(): string {\n        if (this.options.httpScheme) {\n            return this.options.httpScheme;\n        }\n        if (this.location.protocol === Endpoint.PROTO_HTTP ||\n            this.location.protocol === Endpoint.PROTO_HTTPS) {\n            return this.location.protocol;\n        }\n        return Endpoint.PROTO_HTTP;\n    }\n\n    protected get path(): string {\n        if (this.options.path) {\n            if (this.options.path.startsWith('/')) {\n                return this.options.path;\n            } else {\n                return '/' + this.options.path;\n            }\n        }\n        return '';\n    }\n}\n\nexport namespace Endpoint {\n    export class Options {\n        host?: string;\n        wsScheme?: string;\n        httpScheme?: string;\n        path?: string;\n    }\n\n    // Necessary for running tests with dependency on TS lib on node\n    // FIXME figure out how to mock with ts-node\n    export class Location {\n        host: string;\n        pathname: string;\n        search: string;\n        protocol: string;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { FrontendApplicationConfig, deepmerge } from '@theia/application-package/lib/application-props';\n\nexport const DEFAULT_BACKGROUND_COLOR_STORAGE_KEY = 'theme.background';\n\nexport class FrontendApplicationConfigProvider {\n\n    private static KEY = Symbol('FrontendApplicationConfigProvider');\n\n    static get(): FrontendApplicationConfig {\n        const config = FrontendApplicationConfigProvider.doGet();\n        if (config === undefined) {\n            throw new Error('The configuration is not set. Did you call FrontendApplicationConfigProvider#set?');\n        }\n        return config;\n    }\n\n    static set(config: FrontendApplicationConfig.Partial): void {\n        if (FrontendApplicationConfigProvider.doGet() !== undefined) {\n            throw new Error('The configuration is already set.');\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const globalObject = window as any;\n        const key = FrontendApplicationConfigProvider.KEY;\n        globalObject[key] = deepmerge(FrontendApplicationConfig.DEFAULT, config);\n    }\n\n    private static doGet(): FrontendApplicationConfig | undefined {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const globalObject = window as any;\n        const key = FrontendApplicationConfigProvider.KEY;\n        return globalObject[key];\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2023 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport type { FrontendApplication } from './frontend-application';\nimport { MaybePromise, isObject } from '../common/types';\nimport { StopReason } from '../common/frontend-application-state';\nimport { injectable } from 'inversify';\n\n/**\n * Clients can implement to get a callback for contributing widgets to a shell on start.\n */\nexport const FrontendApplicationContribution = Symbol('FrontendApplicationContribution');\nexport interface FrontendApplicationContribution {\n\n    /**\n     * Called on application startup before configure is called.\n     */\n    initialize?(): void;\n\n    /**\n     * Called before commands, key bindings and menus are initialized.\n     * Should return a promise if it runs asynchronously.\n     */\n    configure?(app: FrontendApplication): MaybePromise<void>;\n\n    /**\n     * Called when the application is started. The application shell is not attached yet when this method runs.\n     * Should return a promise if it runs asynchronously.\n     */\n    onStart?(app: FrontendApplication): MaybePromise<void>;\n\n    /**\n     * Called on `beforeunload` event, right before the window closes.\n     * Return `true` or an OnWillStopAction in order to prevent exit.\n     * Note: No async code allowed, this function has to run on one tick.\n     */\n    onWillStop?(app: FrontendApplication): boolean | undefined | OnWillStopAction<unknown>;\n\n    /**\n     * Called when an application is stopped or unloaded.\n     *\n     * Note that this is implemented using `window.beforeunload` which doesn't allow any asynchronous code anymore.\n     * I.e. this is the last tick.\n     */\n    onStop?(app: FrontendApplication): void;\n\n    /**\n     * Called after the application shell has been attached in case there is no previous workbench layout state.\n     * Should return a promise if it runs asynchronously.\n     */\n    initializeLayout?(app: FrontendApplication): MaybePromise<void>;\n\n    /**\n     * An event is emitted when a layout is initialized, but before the shell is attached.\n     */\n    onDidInitializeLayout?(app: FrontendApplication): MaybePromise<void>;\n}\n\nexport interface OnWillStopAction<T = unknown> {\n    /**\n     * @resolves to a prepared value to be passed into the `action` function.\n     */\n    prepare?: (stopReason?: StopReason) => MaybePromise<T>;\n    /**\n     * @resolves to `true` if it is safe to close the application; `false` otherwise.\n     */\n    action: (prepared: T, stopReason?: StopReason) => MaybePromise<boolean>;\n    /**\n     * A descriptive string for the reason preventing close.\n     */\n    reason: string;\n    /**\n     * A number representing priority. Higher priority items are run later.\n     * High priority implies that some options of this check will have negative impacts if\n     * the user subsequently cancels the shutdown.\n     */\n    priority?: number;\n}\n\nexport namespace OnWillStopAction {\n    export function is(candidate: unknown): candidate is OnWillStopAction {\n        return isObject(candidate) && 'action' in candidate && 'reason' in candidate;\n    }\n}\n\n/**\n * Default frontend contribution that can be extended by clients if they do not want to implement any of the\n * methods from the interface but still want to contribute to the frontend application.\n */\n@injectable()\nexport abstract class DefaultFrontendApplicationContribution implements FrontendApplicationContribution {\n\n    initialize(): void {\n        // NOOP\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from 'inversify';\nimport { Emitter, Event } from '../common/event';\nimport { Deferred } from '../common/promise-util';\nimport { ILogger } from '../common/logger';\nimport { FrontendApplicationState } from '../common/frontend-application-state';\n\nexport { FrontendApplicationState };\n\n@injectable()\nexport class FrontendApplicationStateService {\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    private _state: FrontendApplicationState = 'init';\n\n    protected deferred: { [state: string]: Deferred<void> } = {};\n    protected readonly stateChanged = new Emitter<FrontendApplicationState>();\n\n    get state(): FrontendApplicationState {\n        return this._state;\n    }\n\n    set state(state: FrontendApplicationState) {\n        if (state !== this._state) {\n            this.doSetState(state);\n        }\n    }\n\n    get onStateChanged(): Event<FrontendApplicationState> {\n        return this.stateChanged.event;\n    }\n\n    protected doSetState(state: FrontendApplicationState): void {\n        if (this.deferred[this._state] === undefined) {\n            this.deferred[this._state] = new Deferred();\n        }\n        const oldState = this._state;\n        this._state = state;\n        if (this.deferred[state] === undefined) {\n            this.deferred[state] = new Deferred();\n        }\n        this.deferred[state].resolve();\n        this.logger.info(`Changed application state from '${oldState}' to '${this._state}'.`);\n        this.stateChanged.fire(state);\n    }\n\n    reachedState(state: FrontendApplicationState): Promise<void> {\n        if (this.deferred[state] === undefined) {\n            this.deferred[state] = new Deferred();\n        }\n        return this.deferred[state].promise;\n    }\n\n    reachedAnyState(...states: FrontendApplicationState[]): Promise<void> {\n        return Promise.race(states.map(s => this.reachedState(s)));\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, named } from 'inversify';\nimport { ContributionProvider, CommandRegistry, MenuModelRegistry, isOSX, BackendStopwatch, LogLevel, Stopwatch } from '../common';\nimport { MaybePromise } from '../common/types';\nimport { KeybindingRegistry } from './keybinding';\nimport { Widget } from './widgets';\nimport { ApplicationShell } from './shell/application-shell';\nimport { ShellLayoutRestorer, ApplicationShellLayoutMigrationError } from './shell/shell-layout-restorer';\nimport { FrontendApplicationStateService } from './frontend-application-state';\nimport { preventNavigation, parseCssTime, animationFrame } from './browser';\nimport { CorePreferences } from './core-preferences';\nimport { WindowService } from './window/window-service';\nimport { TooltipService } from './tooltip-service';\nimport { FrontendApplicationContribution } from './frontend-application-contribution';\n\nconst TIMER_WARNING_THRESHOLD = 100;\n\n@injectable()\nexport class FrontendApplication {\n\n    @inject(CorePreferences)\n    protected readonly corePreferences: CorePreferences;\n\n    @inject(WindowService)\n    protected readonly windowsService: WindowService;\n\n    @inject(TooltipService)\n    protected readonly tooltipService: TooltipService;\n\n    @inject(Stopwatch)\n    protected readonly stopwatch: Stopwatch;\n\n    @inject(BackendStopwatch)\n    protected readonly backendStopwatch: BackendStopwatch;\n\n    constructor(\n        @inject(CommandRegistry) protected readonly commands: CommandRegistry,\n        @inject(MenuModelRegistry) protected readonly menus: MenuModelRegistry,\n        @inject(KeybindingRegistry) protected readonly keybindings: KeybindingRegistry,\n        @inject(ShellLayoutRestorer) protected readonly layoutRestorer: ShellLayoutRestorer,\n        @inject(ContributionProvider) @named(FrontendApplicationContribution)\n        protected readonly contributions: ContributionProvider<FrontendApplicationContribution>,\n        @inject(ApplicationShell) protected readonly _shell: ApplicationShell,\n        @inject(FrontendApplicationStateService) protected readonly stateService: FrontendApplicationStateService\n    ) { }\n\n    get shell(): ApplicationShell {\n        return this._shell;\n    }\n\n    /**\n     * Start the frontend application.\n     *\n     * Start up consists of the following steps:\n     * - start frontend contributions\n     * - attach the application shell to the host element\n     * - initialize the application shell layout\n     * - reveal the application shell if it was hidden by a startup indicator\n     */\n    async start(): Promise<void> {\n        const startup = this.backendStopwatch.start('frontend');\n\n        await this.measure('startContributions', () => this.startContributions(), 'Start frontend contributions', false);\n        this.stateService.state = 'started_contributions';\n\n        const host = await this.getHost();\n        this.attachShell(host);\n        this.attachTooltip(host);\n        await animationFrame();\n        this.stateService.state = 'attached_shell';\n\n        await this.measure('initializeLayout', () => this.initializeLayout(), 'Initialize the workbench layout', false);\n        this.stateService.state = 'initialized_layout';\n        await this.fireOnDidInitializeLayout();\n\n        await this.measure('revealShell', () => this.revealShell(host), 'Replace loading indicator with ready workbench UI (animation)', false);\n        this.registerEventListeners();\n        this.stateService.state = 'ready';\n\n        startup.then(idToken => this.backendStopwatch.stop(idToken, 'Frontend application start', []));\n    }\n\n    /**\n     * Return a promise to the host element to which the application shell is attached.\n     */\n    protected getHost(): Promise<HTMLElement> {\n        if (document.body) {\n            return Promise.resolve(document.body);\n        }\n        return new Promise<HTMLElement>(resolve =>\n            window.addEventListener('load', () => resolve(document.body), { once: true })\n        );\n    }\n\n    /**\n     * Return an HTML element that indicates the startup phase, e.g. with an animation or a splash screen.\n     */\n    protected getStartupIndicator(host: HTMLElement): HTMLElement | undefined {\n        const startupElements = host.getElementsByClassName('theia-preload');\n        return startupElements.length === 0 ? undefined : startupElements[0] as HTMLElement;\n    }\n\n    /**\n     * Register global event listeners.\n     */\n    protected registerEventListeners(): void {\n        this.windowsService.onUnload(() => {\n            this.stateService.state = 'closing_window';\n            this.layoutRestorer.storeLayout(this);\n            this.stopContributions();\n        });\n        window.addEventListener('resize', () => this.shell.update());\n\n        this.keybindings.registerEventListeners(window);\n\n        document.addEventListener('touchmove', event => { event.preventDefault(); }, { passive: false });\n        // Prevent forward/back navigation by scrolling in OS X\n        if (isOSX) {\n            document.body.addEventListener('wheel', preventNavigation, { passive: false });\n        }\n        // Prevent the default browser behavior when dragging and dropping files into the window.\n        document.addEventListener('dragenter', event => {\n            if (event.dataTransfer) {\n                event.dataTransfer.dropEffect = 'none';\n            }\n            event.preventDefault();\n        }, false);\n        document.addEventListener('dragover', event => {\n            if (event.dataTransfer) {\n                event.dataTransfer.dropEffect = 'none';\n            } event.preventDefault();\n        }, false);\n        document.addEventListener('drop', event => {\n            event.preventDefault();\n        }, false);\n\n    }\n\n    /**\n     * Attach the application shell to the host element. If a startup indicator is present, the shell is\n     * inserted before that indicator so it is not visible yet.\n     */\n    protected attachShell(host: HTMLElement): void {\n        const ref = this.getStartupIndicator(host);\n        Widget.attach(this.shell, host, ref);\n    }\n\n    /**\n     * Attach the tooltip container to the host element.\n     */\n    protected attachTooltip(host: HTMLElement): void {\n        this.tooltipService.attachTo(host);\n    }\n\n    /**\n     * If a startup indicator is present, it is first hidden with the `theia-hidden` CSS class and then\n     * removed after a while. The delay until removal is taken from the CSS transition duration.\n     */\n    protected revealShell(host: HTMLElement): Promise<void> {\n        const startupElem = this.getStartupIndicator(host);\n        if (startupElem) {\n            return new Promise(resolve => {\n                window.requestAnimationFrame(() => {\n                    startupElem.classList.add('theia-hidden');\n                    const preloadStyle = window.getComputedStyle(startupElem);\n                    const transitionDuration = parseCssTime(preloadStyle.transitionDuration, 0);\n                    window.setTimeout(() => {\n                        const parent = startupElem.parentElement;\n                        if (parent) {\n                            parent.removeChild(startupElem);\n                        }\n                        resolve();\n                    }, transitionDuration);\n                });\n            });\n        } else {\n            return Promise.resolve();\n        }\n    }\n\n    /**\n     * Initialize the shell layout either using the layout restorer service or, if no layout has\n     * been stored, by creating the default layout.\n     */\n    protected async initializeLayout(): Promise<void> {\n        if (!await this.restoreLayout()) {\n            // Fallback: Create the default shell layout\n            await this.createDefaultLayout();\n        }\n        await this.shell.pendingUpdates;\n    }\n\n    /**\n     * Try to restore the shell layout from the storage service. Resolves to `true` if successful.\n     */\n    protected async restoreLayout(): Promise<boolean> {\n        try {\n            return await this.layoutRestorer.restoreLayout(this);\n        } catch (error) {\n            if (ApplicationShellLayoutMigrationError.is(error)) {\n                console.warn(error.message);\n                console.info('Initializing the default layout instead...');\n            } else {\n                console.error('Could not restore layout', error);\n            }\n            return false;\n        }\n    }\n\n    /**\n     * Let the frontend application contributions initialize the shell layout. Override this\n     * method in order to create an application-specific custom layout.\n     */\n    protected async createDefaultLayout(): Promise<void> {\n        for (const contribution of this.contributions.getContributions()) {\n            if (contribution.initializeLayout) {\n                await this.measure(contribution.constructor.name + '.initializeLayout',\n                    () => contribution.initializeLayout!(this)\n                );\n            }\n        }\n    }\n\n    protected async fireOnDidInitializeLayout(): Promise<void> {\n        for (const contribution of this.contributions.getContributions()) {\n            if (contribution.onDidInitializeLayout) {\n                await this.measure(contribution.constructor.name + '.onDidInitializeLayout',\n                    () => contribution.onDidInitializeLayout!(this)\n                );\n            }\n        }\n    }\n\n    /**\n     * Initialize and start the frontend application contributions.\n     */\n    protected async startContributions(): Promise<void> {\n        for (const contribution of this.contributions.getContributions()) {\n            if (contribution.initialize) {\n                try {\n                    await this.measure(contribution.constructor.name + '.initialize',\n                        () => contribution.initialize!()\n                    );\n                } catch (error) {\n                    console.error('Could not initialize contribution', error);\n                }\n            }\n        }\n\n        for (const contribution of this.contributions.getContributions()) {\n            if (contribution.configure) {\n                try {\n                    await this.measure(contribution.constructor.name + '.configure',\n                        () => contribution.configure!(this)\n                    );\n                } catch (error) {\n                    console.error('Could not configure contribution', error);\n                }\n            }\n        }\n\n        /**\n         * FIXME:\n         * - decouple commands & menus\n         * - consider treat commands, keybindings and menus as frontend application contributions\n         */\n        await this.measure('commands.onStart',\n            () => this.commands.onStart()\n        );\n        await this.measure('keybindings.onStart',\n            () => this.keybindings.onStart()\n        );\n        await this.measure('menus.onStart',\n            () => this.menus.onStart()\n        );\n        for (const contribution of this.contributions.getContributions()) {\n            if (contribution.onStart) {\n                try {\n                    await this.measure(contribution.constructor.name + '.onStart',\n                        () => contribution.onStart!(this)\n                    );\n                } catch (error) {\n                    console.error('Could not start contribution', error);\n                }\n            }\n        }\n    }\n\n    /**\n     * Stop the frontend application contributions. This is called when the window is unloaded.\n     */\n    protected stopContributions(): void {\n        console.info('>>> Stopping frontend contributions...');\n        for (const contribution of this.contributions.getContributions()) {\n            if (contribution.onStop) {\n                try {\n                    contribution.onStop(this);\n                } catch (error) {\n                    console.error('Could not stop contribution', error);\n                }\n            }\n        }\n        console.info('<<< All frontend contributions have been stopped.');\n    }\n\n    protected async measure<T>(name: string, fn: () => MaybePromise<T>, message = `Frontend ${name}`, threshold = true): Promise<T> {\n        return this.stopwatch.startAsync(name, message, fn,\n            threshold ? { thresholdMillis: TIMER_WARNING_THRESHOLD, defaultLogLevel: LogLevel.DEBUG } : {});\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from 'inversify';\nimport { Disposable, DisposableCollection, disposableTimeout, isOSX } from '../common';\nimport { MarkdownString } from '../common/markdown-rendering/markdown-string';\nimport { animationFrame } from './browser';\nimport { MarkdownRenderer, MarkdownRendererFactory } from './markdown-rendering/markdown-renderer';\nimport { PreferenceService } from './preferences';\n\nimport '../../src/browser/style/hover-service.css';\n\nexport type HoverPosition = 'left' | 'right' | 'top' | 'bottom';\n\nexport namespace HoverPosition {\n    export function invertIfNecessary(position: HoverPosition, target: DOMRect, host: DOMRect, totalWidth: number, totalHeight: number): HoverPosition {\n        if (position === 'left') {\n            if (target.left - host.width - 5 < 0) {\n                return 'right';\n            }\n        } else if (position === 'right') {\n            if (target.right + host.width + 5 > totalWidth) {\n                return 'left';\n            }\n        } else if (position === 'top') {\n            if (target.top - host.height - 5 < 0) {\n                return 'bottom';\n            }\n        } else if (position === 'bottom') {\n            if (target.bottom + host.height + 5 > totalHeight) {\n                return 'top';\n            }\n        }\n        return position;\n    }\n}\n\nexport interface HoverRequest {\n    content: string | MarkdownString | HTMLElement\n    target: HTMLElement\n    /**\n     * The position where the hover should appear.\n     * Note that the hover service will try to invert the position (i.e. right -> left)\n     * if the specified content does not fit in the window next to the target element\n     */\n    position: HoverPosition\n    /**\n     * Additional css classes that should be added to the hover box.\n     * Used to style certain boxes different e.g. for the extended tab preview.\n     */\n    cssClasses?: string[]\n    /**\n     * A function to render a visual preview on the hover.\n     * Function that takes the desired width and returns a HTMLElement to be rendered.\n     */\n    visualPreview?: (width: number) => HTMLElement | undefined;\n}\n\n@injectable()\nexport class HoverService {\n    protected static hostClassName = 'theia-hover';\n    protected static styleSheetId = 'theia-hover-style';\n    @inject(PreferenceService) protected readonly preferences: PreferenceService;\n    @inject(MarkdownRendererFactory) protected readonly markdownRendererFactory: MarkdownRendererFactory;\n\n    protected _markdownRenderer: MarkdownRenderer | undefined;\n    protected get markdownRenderer(): MarkdownRenderer {\n        this._markdownRenderer ||= this.markdownRendererFactory();\n        return this._markdownRenderer;\n    }\n\n    protected _hoverHost: HTMLElement | undefined;\n    protected get hoverHost(): HTMLElement {\n        if (!this._hoverHost) {\n            this._hoverHost = document.createElement('div');\n            this._hoverHost.classList.add(HoverService.hostClassName);\n            this._hoverHost.style.position = 'absolute';\n        }\n        return this._hoverHost;\n    }\n    protected pendingTimeout: Disposable | undefined;\n    protected hoverTarget: HTMLElement | undefined;\n    protected lastHidHover = Date.now();\n    protected readonly disposeOnHide = new DisposableCollection();\n\n    requestHover(request: HoverRequest): void {\n        if (request.target !== this.hoverTarget) {\n            this.cancelHover();\n            this.pendingTimeout = disposableTimeout(() => this.renderHover(request), this.getHoverDelay());\n        }\n    }\n\n    protected getHoverDelay(): number {\n        return Date.now() - this.lastHidHover < 200\n            ? 0\n            : this.preferences.get('workbench.hover.delay', isOSX ? 1500 : 500);\n    }\n\n    protected async renderHover(request: HoverRequest): Promise<void> {\n        const host = this.hoverHost;\n        let firstChild: HTMLElement | undefined;\n        const { target, content, position, cssClasses } = request;\n        if (cssClasses) {\n            host.classList.add(...cssClasses);\n        }\n        this.hoverTarget = target;\n        if (content instanceof HTMLElement) {\n            host.appendChild(content);\n            firstChild = content;\n        } else if (typeof content === 'string') {\n            host.textContent = content;\n        } else {\n            const renderedContent = this.markdownRenderer.render(content);\n            this.disposeOnHide.push(renderedContent);\n            host.appendChild(renderedContent.element);\n            firstChild = renderedContent.element;\n        }\n        // browsers might insert linebreaks when the hover appears at the edge of the window\n        // resetting the position prevents that\n        host.style.left = '0px';\n        host.style.top = '0px';\n        document.body.append(host);\n\n        if (request.visualPreview) {\n            // If just a string is being rendered use the size of the outer box\n            const width = firstChild ? firstChild.offsetWidth : this.hoverHost.offsetWidth;\n            const visualPreview = request.visualPreview(width);\n            if (visualPreview) {\n                host.appendChild(visualPreview);\n            }\n        }\n\n        await animationFrame(); // Allow the browser to size the host\n        const updatedPosition = this.setHostPosition(target, host, position);\n\n        this.disposeOnHide.push({\n            dispose: () => {\n                this.lastHidHover = Date.now();\n                host.classList.remove(updatedPosition);\n                if (cssClasses) {\n                    host.classList.remove(...cssClasses);\n                }\n            }\n        });\n\n        this.listenForMouseOut();\n    }\n\n    protected setHostPosition(target: HTMLElement, host: HTMLElement, position: HoverPosition): HoverPosition {\n        const targetDimensions = target.getBoundingClientRect();\n        const hostDimensions = host.getBoundingClientRect();\n        const documentWidth = document.body.getBoundingClientRect().width;\n        // document.body.getBoundingClientRect().height doesn't work as expected\n        // scrollHeight will always be accurate here: https://stackoverflow.com/a/44077777\n        const documentHeight = document.documentElement.scrollHeight;\n        position = HoverPosition.invertIfNecessary(position, targetDimensions, hostDimensions, documentWidth, documentHeight);\n        if (position === 'top' || position === 'bottom') {\n            const targetMiddleWidth = targetDimensions.left + (targetDimensions.width / 2);\n            const middleAlignment = targetMiddleWidth - (hostDimensions.width / 2);\n            const furthestRight = Math.min(documentWidth - hostDimensions.width, middleAlignment);\n            const left = Math.max(0, furthestRight);\n            const top = position === 'top'\n                ? targetDimensions.top - hostDimensions.height - 5\n                : targetDimensions.bottom + 5;\n            host.style.setProperty('--theia-hover-before-position', `${targetMiddleWidth - left - 5}px`);\n            host.style.top = `${top}px`;\n            host.style.left = `${left}px`;\n        } else {\n            const targetMiddleHeight = targetDimensions.top + (targetDimensions.height / 2);\n            const middleAlignment = targetMiddleHeight - (hostDimensions.height / 2);\n            const furthestTop = Math.min(documentHeight - hostDimensions.height, middleAlignment);\n            const top = Math.max(0, furthestTop);\n            const left = position === 'left'\n                ? targetDimensions.left - hostDimensions.width - 5\n                : targetDimensions.right + 5;\n            host.style.setProperty('--theia-hover-before-position', `${targetMiddleHeight - top - 5}px`);\n            host.style.left = `${left}px`;\n            host.style.top = `${top}px`;\n        }\n        host.classList.add(position);\n        return position;\n    }\n\n    protected listenForMouseOut(): void {\n        const handleMouseMove = (e: MouseEvent) => {\n            if (e.target instanceof Node && !this.hoverHost.contains(e.target) && !this.hoverTarget?.contains(e.target)) {\n                this.cancelHover();\n            }\n        };\n        document.addEventListener('mousemove', handleMouseMove);\n        this.disposeOnHide.push({ dispose: () => document.removeEventListener('mousemove', handleMouseMove) });\n    }\n\n    cancelHover(): void {\n        this.pendingTimeout?.dispose();\n        this.unRenderHover();\n        this.disposeOnHide.dispose();\n        this.hoverTarget = undefined;\n    }\n\n    protected unRenderHover(): void {\n        this.hoverHost.remove();\n        this.hoverHost.replaceChildren();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from 'inversify';\nimport { nls } from '../../common/nls';\nimport { AsyncLocalizationProvider, LanguageInfo } from '../../common/i18n/localization';\nimport { QuickInputService, QuickPickItem, QuickPickSeparator } from '../quick-input';\nimport { WindowService } from '../window/window-service';\n\nexport interface LanguageQuickPickItem extends QuickPickItem, LanguageInfo {\n    execute?(): Promise<void>\n}\n\n@injectable()\nexport class LanguageQuickPickService {\n\n    @inject(QuickInputService) protected readonly quickInputService: QuickInputService;\n    @inject(AsyncLocalizationProvider) protected readonly localizationProvider: AsyncLocalizationProvider;\n    @inject(WindowService) protected readonly windowService: WindowService;\n\n    async pickDisplayLanguage(): Promise<LanguageInfo | undefined> {\n        const quickInput = this.quickInputService.createQuickPick<LanguageQuickPickItem>();\n        const installedItems = await this.getInstalledLanguages();\n        const quickInputItems: (LanguageQuickPickItem | QuickPickSeparator)[] = [\n            {\n                type: 'separator',\n                label: nls.localizeByDefault('Installed')\n            },\n            ...installedItems\n        ];\n        quickInput.items = quickInputItems;\n        quickInput.busy = true;\n        const selected = installedItems.find(item => nls.isSelectedLocale(item.languageId));\n        if (selected) {\n            quickInput.activeItems = [selected];\n        }\n        quickInput.placeholder = nls.localizeByDefault('Configure Display Language');\n        quickInput.show();\n\n        this.getAvailableLanguages().then(availableItems => {\n            if (availableItems.length > 0) {\n                quickInputItems.push({\n                    type: 'separator',\n                    label: nls.localizeByDefault('Available')\n                });\n                const installed = new Set(installedItems.map(e => e.languageId));\n                for (const available of availableItems) {\n                    // Exclude already installed languages\n                    if (!installed.has(available.languageId)) {\n                        quickInputItems.push(available);\n                    }\n                }\n                quickInput.items = quickInputItems;\n            }\n        }).finally(() => {\n            quickInput.busy = false;\n        });\n\n        return new Promise(resolve => {\n            quickInput.onDidAccept(async () => {\n                const selectedItem = quickInput.selectedItems[0];\n                if (selectedItem) {\n                    // Some language quick pick items want to install additional languages\n                    // We have to await that before returning the selected locale\n                    await selectedItem.execute?.();\n                    resolve(selectedItem);\n                } else {\n                    resolve(undefined);\n                }\n                quickInput.hide();\n            });\n            quickInput.onDidHide(() => {\n                resolve(undefined);\n            });\n        });\n    }\n\n    protected async getInstalledLanguages(): Promise<LanguageQuickPickItem[]> {\n        const languageInfos = await this.localizationProvider.getAvailableLanguages();\n        const items: LanguageQuickPickItem[] = [];\n        const en: LanguageInfo = {\n            languageId: 'en',\n            languageName: 'English',\n            localizedLanguageName: 'English'\n        };\n        languageInfos.push(en);\n        for (const language of languageInfos.filter(e => !!e.languageId)) {\n            items.push(this.createLanguageQuickPickItem(language));\n        }\n        return items;\n    }\n\n    protected async getAvailableLanguages(): Promise<LanguageQuickPickItem[]> {\n        return [];\n    }\n\n    protected createLanguageQuickPickItem(language: LanguageInfo): LanguageQuickPickItem {\n        let label: string;\n        let description: string | undefined;\n        const languageName = language.localizedLanguageName || language.languageName;\n        const id = language.languageId;\n        const idLabel = id + (nls.isSelectedLocale(id) ? ` (${nls.localizeByDefault('Current')})` : '');\n        if (languageName) {\n            label = languageName;\n            description = idLabel;\n        } else {\n            label = idLabel;\n        }\n        return {\n            label,\n            description,\n            languageId: id,\n            languageName: language.languageName,\n            localizedLanguageName: language.localizedLanguageName\n        };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { Emitter } from '../common/event';\nimport { Disposable, DisposableCollection } from '../common/disposable';\nimport { LabelProviderContribution, DidChangeLabelEvent } from './label-provider';\nimport { FrontendApplicationConfigProvider } from './frontend-application-config-provider';\nimport { PreferenceService, PreferenceSchemaProvider } from './preferences';\nimport debounce = require('lodash.debounce');\n\nconst ICON_THEME_PREFERENCE_KEY = 'workbench.iconTheme';\n\nexport interface IconThemeDefinition {\n    readonly id: string\n    readonly label: string\n    readonly description?: string\n    readonly hasFileIcons?: boolean;\n    readonly hasFolderIcons?: boolean;\n    readonly hidesExplorerArrows?: boolean;\n    readonly showLanguageModeIcons?: boolean;\n}\n\nexport interface IconTheme extends IconThemeDefinition {\n    activate(): Disposable;\n}\n\n@injectable()\nexport class NoneIconTheme implements IconTheme, LabelProviderContribution {\n\n    readonly id = 'none';\n    readonly label = 'None';\n    readonly description = 'Disable file icons';\n    readonly hasFileIcons = true;\n    readonly hasFolderIcons = true;\n\n    protected readonly onDidChangeEmitter = new Emitter<DidChangeLabelEvent>();\n    readonly onDidChange = this.onDidChangeEmitter.event;\n\n    protected readonly toDeactivate = new DisposableCollection();\n\n    activate(): Disposable {\n        if (this.toDeactivate.disposed) {\n            this.toDeactivate.push(Disposable.create(() => this.fireDidChange()));\n            this.fireDidChange();\n        }\n        return this.toDeactivate;\n    }\n\n    protected fireDidChange(): void {\n        this.onDidChangeEmitter.fire({ affects: () => true });\n    }\n\n    canHandle(): number {\n        if (this.toDeactivate.disposed) {\n            return 0;\n        }\n        return Number.MAX_SAFE_INTEGER - 1024;\n    }\n\n    getIcon(): string {\n        return '';\n    }\n\n}\n\n@injectable()\nexport class IconThemeService {\n    static readonly STORAGE_KEY = 'iconTheme';\n\n    protected readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange = this.onDidChangeEmitter.event;\n\n    protected readonly _iconThemes = new Map<string, IconTheme>();\n    get ids(): IterableIterator<string> {\n        return this._iconThemes.keys();\n    }\n    get definitions(): IterableIterator<IconThemeDefinition> {\n        return this._iconThemes.values();\n    }\n    getDefinition(id: string): IconThemeDefinition | undefined {\n        return this._iconThemes.get(id);\n    }\n\n    @inject(NoneIconTheme) protected readonly noneIconTheme: NoneIconTheme;\n    @inject(PreferenceService) protected readonly preferences: PreferenceService;\n    @inject(PreferenceSchemaProvider) protected readonly schemaProvider: PreferenceSchemaProvider;\n\n    protected readonly onDidChangeCurrentEmitter = new Emitter<string>();\n    readonly onDidChangeCurrent = this.onDidChangeCurrentEmitter.event;\n\n    protected readonly toDeactivate = new DisposableCollection();\n\n    protected activeTheme: IconTheme;\n\n    @postConstruct()\n    protected init(): void {\n        this.register(this.fallback);\n        this.setCurrent(this.fallback, false);\n        this.preferences.ready.then(() => {\n            this.validateActiveTheme();\n            this.updateIconThemePreference();\n            this.preferences.onPreferencesChanged(changes => {\n                if (ICON_THEME_PREFERENCE_KEY in changes) {\n                    this.validateActiveTheme();\n                }\n            });\n        });\n    }\n\n    register(iconTheme: IconTheme): Disposable {\n        if (this._iconThemes.has(iconTheme.id)) {\n            console.warn(new Error(`Icon theme '${iconTheme.id}' has already been registered, skipping.`));\n            return Disposable.NULL;\n        }\n        this._iconThemes.set(iconTheme.id, iconTheme);\n        this.onDidChangeEmitter.fire(undefined);\n        this.validateActiveTheme();\n        this.updateIconThemePreference();\n        return Disposable.create(() => {\n            this.unregister(iconTheme.id);\n            this.updateIconThemePreference();\n        });\n    }\n\n    unregister(id: string): IconTheme | undefined {\n        const iconTheme = this._iconThemes.get(id);\n        if (!iconTheme) {\n            return undefined;\n        }\n        this._iconThemes.delete(id);\n        this.onDidChangeEmitter.fire(undefined);\n        if (id === this.getCurrent().id) {\n            this.setCurrent(this.default, false);\n        }\n        return iconTheme;\n    }\n\n    get current(): string {\n        return this.getCurrent().id;\n    }\n\n    set current(id: string) {\n        const newCurrent = this._iconThemes.get(id);\n        if (newCurrent && this.getCurrent().id !== newCurrent.id) {\n            this.setCurrent(newCurrent);\n        }\n    }\n\n    getCurrent(): IconTheme {\n        return this.activeTheme;\n    }\n\n    /**\n     * @param persistSetting If `true`, the theme's id will be set as the value of the `workbench.iconTheme` preference. (default: `true`)\n     */\n    setCurrent(newCurrent: IconTheme, persistSetting = true): void {\n        if (newCurrent !== this.getCurrent()) {\n            this.activeTheme = newCurrent;\n            this.toDeactivate.dispose();\n            this.toDeactivate.push(newCurrent.activate());\n            this.onDidChangeCurrentEmitter.fire(newCurrent.id);\n        }\n        if (persistSetting) {\n            this.preferences.updateValue(ICON_THEME_PREFERENCE_KEY, newCurrent.id);\n        }\n    }\n\n    protected getConfiguredTheme(): IconTheme | undefined {\n        const configuredId = this.preferences.get<string>(ICON_THEME_PREFERENCE_KEY);\n        return configuredId ? this._iconThemes.get(configuredId) : undefined;\n    }\n\n    protected validateActiveTheme(): void {\n        if (this.preferences.isReady) {\n            const configured = this.getConfiguredTheme();\n            if (configured && configured !== this.getCurrent()) {\n                this.setCurrent(configured, false);\n            }\n        }\n    }\n\n    protected updateIconThemePreference = debounce(() => this.doUpdateIconThemePreference(), 500);\n\n    protected doUpdateIconThemePreference(): void {\n        const preference = this.schemaProvider.getSchemaProperty(ICON_THEME_PREFERENCE_KEY);\n        if (preference) {\n            const sortedThemes = Array.from(this.definitions).sort((a, b) => a.label.localeCompare(b.label));\n            this.schemaProvider.updateSchemaProperty(ICON_THEME_PREFERENCE_KEY, {\n                ...preference,\n                enum: sortedThemes.map(e => e.id),\n                enumItemLabels: sortedThemes.map(e => e.label)\n            });\n        }\n    }\n\n    get default(): IconTheme {\n        return this._iconThemes.get(FrontendApplicationConfigProvider.get().defaultIconTheme) || this.fallback;\n    }\n\n    get fallback(): IconTheme {\n        return this.noneIconTheme;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './shell';\nexport * from './frontend-application';\nexport * from './frontend-application-contribution';\nexport * from './keyboard';\nexport * from './opener-service';\nexport * from './browser';\nexport * from './context-menu-renderer';\nexport * from './widgets';\nexport * from './dialogs';\nexport * from './tree';\nexport * from './messaging';\nexport * from './endpoint';\nexport * from './common-frontend-contribution';\nexport * from './quick-input';\nexport * from './widget-manager';\nexport * from './saveable';\nexport * from './storage-service';\nexport * from './preferences';\nexport * from './keybinding';\nexport * from './status-bar';\nexport * from './label-provider';\nexport * from './widget-open-handler';\nexport * from './navigatable';\nexport * from './diff-uris';\nexport * from './core-preferences';\nexport * from './view-container';\nexport * from './breadcrumbs';\nexport * from './tooltip-service';\nexport * from './decoration-style';\nexport * from './styling-service';\nexport * from './hover-service';\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, named } from 'inversify';\nimport { isOSX } from '../common/os';\nimport { Emitter, Event } from '../common/event';\nimport { CommandRegistry, Command } from '../common/command';\nimport { Disposable, DisposableCollection } from '../common/disposable';\nimport { KeyCode, KeySequence, Key } from './keyboard/keys';\nimport { KeyboardLayoutService } from './keyboard/keyboard-layout-service';\nimport { ContributionProvider } from '../common/contribution-provider';\nimport { ILogger } from '../common/logger';\nimport { StatusBarAlignment, StatusBar } from './status-bar/status-bar';\nimport { ContextKeyService } from './context-key-service';\nimport { CorePreferences } from './core-preferences';\nimport * as common from '../common/keybinding';\nimport { nls } from '../common/nls';\n\nexport enum KeybindingScope {\n    DEFAULT,\n    USER,\n    WORKSPACE,\n    END\n}\nexport namespace KeybindingScope {\n    export const length = KeybindingScope.END - KeybindingScope.DEFAULT;\n}\n\n/**\n * @deprecated import from `@theia/core/lib/common/keybinding` instead\n */\nexport type Keybinding = common.Keybinding;\nexport const Keybinding = common.Keybinding;\n\nexport interface ResolvedKeybinding extends common.Keybinding {\n    /**\n     * The KeyboardLayoutService may transform the `keybinding` depending on the\n     * user's keyboard layout. This property holds the transformed keybinding that\n     * should be used in the UI. The value is undefined if the KeyboardLayoutService\n     * has not been called yet to resolve the keybinding.\n     */\n    resolved?: KeyCode[];\n}\n\nexport interface ScopedKeybinding extends common.Keybinding {\n    /** Current keybinding scope */\n    scope: KeybindingScope;\n}\n\nexport const KeybindingContribution = Symbol('KeybindingContribution');\n/**\n * Allows extensions to contribute {@link common.Keybinding}s\n */\nexport interface KeybindingContribution {\n    /**\n     * Registers keybindings.\n     * @param keybindings the keybinding registry.\n     */\n    registerKeybindings(keybindings: KeybindingRegistry): void;\n}\n\nexport const KeybindingContext = Symbol('KeybindingContext');\nexport interface KeybindingContext {\n    /**\n     * The unique ID of the current context.\n     */\n    readonly id: string;\n\n    isEnabled(arg: common.Keybinding): boolean;\n}\nexport namespace KeybindingContexts {\n\n    export const NOOP_CONTEXT: KeybindingContext = {\n        id: 'noop.keybinding.context',\n        isEnabled: () => true\n    };\n\n    export const DEFAULT_CONTEXT: KeybindingContext = {\n        id: 'default.keybinding.context',\n        isEnabled: () => false\n    };\n}\n\n@injectable()\nexport class KeybindingRegistry {\n\n    static readonly PASSTHROUGH_PSEUDO_COMMAND = 'passthrough';\n    protected keySequence: KeySequence = [];\n\n    protected readonly contexts: { [id: string]: KeybindingContext } = {};\n    protected readonly keymaps: ScopedKeybinding[][] = [...Array(KeybindingScope.length)].map(() => []);\n\n    @inject(CorePreferences)\n    protected readonly corePreferences: CorePreferences;\n\n    @inject(KeyboardLayoutService)\n    protected readonly keyboardLayoutService: KeyboardLayoutService;\n\n    @inject(ContributionProvider) @named(KeybindingContext)\n    protected readonly contextProvider: ContributionProvider<KeybindingContext>;\n\n    @inject(CommandRegistry)\n    protected readonly commandRegistry: CommandRegistry;\n\n    @inject(ContributionProvider) @named(KeybindingContribution)\n    protected readonly contributions: ContributionProvider<KeybindingContribution>;\n\n    @inject(StatusBar)\n    protected readonly statusBar: StatusBar;\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    @inject(ContextKeyService)\n    protected readonly whenContextService: ContextKeyService;\n\n    async onStart(): Promise<void> {\n        await this.keyboardLayoutService.initialize();\n        this.keyboardLayoutService.onKeyboardLayoutChanged(newLayout => {\n            this.clearResolvedKeybindings();\n            this.keybindingsChanged.fire(undefined);\n        });\n        this.registerContext(KeybindingContexts.NOOP_CONTEXT);\n        this.registerContext(KeybindingContexts.DEFAULT_CONTEXT);\n        this.registerContext(...this.contextProvider.getContributions());\n        for (const contribution of this.contributions.getContributions()) {\n            contribution.registerKeybindings(this);\n        }\n    }\n\n    protected keybindingsChanged = new Emitter<void>();\n\n    /**\n     * Event that is fired when the resolved keybindings change due to a different keyboard layout\n     * or when a new keymap is being set\n     */\n    get onKeybindingsChanged(): Event<void> {\n        return this.keybindingsChanged.event;\n    }\n\n    /**\n     * Registers the keybinding context arguments into the application. Fails when an already registered\n     * context is being registered.\n     *\n     * @param contexts the keybinding contexts to register into the application.\n     */\n    protected registerContext(...contexts: KeybindingContext[]): void {\n        for (const context of contexts) {\n            const { id } = context;\n            if (this.contexts[id]) {\n                this.logger.error(`A keybinding context with ID ${id} is already registered.`);\n            } else {\n                this.contexts[id] = context;\n            }\n        }\n    }\n\n    /**\n     * Register a default keybinding to the registry.\n     *\n     * Keybindings registered later have higher priority during evaluation.\n     *\n     * @param binding the keybinding to be registered\n     */\n    registerKeybinding(binding: common.Keybinding): Disposable {\n        return this.doRegisterKeybinding(binding);\n    }\n\n    /**\n     * Register multiple default keybindings to the registry\n     *\n     * @param bindings An array of keybinding to be registered\n     */\n    registerKeybindings(...bindings: common.Keybinding[]): Disposable {\n        return this.doRegisterKeybindings(bindings, KeybindingScope.DEFAULT);\n    }\n\n    /**\n     * Unregister all keybindings from the registry that are bound to the key of the given keybinding\n     *\n     * @param binding a keybinding specifying the key to be unregistered\n     */\n    unregisterKeybinding(binding: common.Keybinding): void;\n    /**\n     * Unregister all keybindings with the given key from the registry\n     *\n     * @param key a key to be unregistered\n     */\n    unregisterKeybinding(key: string): void;\n    /**\n     * Unregister all existing keybindings for the given command\n     * @param command the command to unregister all keybindings for\n     */\n    unregisterKeybinding(command: Command): void;\n\n    unregisterKeybinding(arg: common.Keybinding | string | Command): void {\n        const keymap = this.keymaps[KeybindingScope.DEFAULT];\n        const filter = Command.is(arg)\n            ? ({ command }: common.Keybinding) => command === arg.id\n            : ({ keybinding }: common.Keybinding) => Keybinding.is(arg)\n                ? keybinding === arg.keybinding\n                : keybinding === arg;\n        for (const binding of keymap.filter(filter)) {\n            const idx = keymap.indexOf(binding);\n            if (idx !== -1) {\n                keymap.splice(idx, 1);\n            }\n        }\n    }\n\n    protected doRegisterKeybindings(bindings: common.Keybinding[], scope: KeybindingScope = KeybindingScope.DEFAULT): Disposable {\n        const toDispose = new DisposableCollection();\n        for (const binding of bindings) {\n            toDispose.push(this.doRegisterKeybinding(binding, scope));\n        }\n        return toDispose;\n    }\n\n    protected doRegisterKeybinding(binding: common.Keybinding, scope: KeybindingScope = KeybindingScope.DEFAULT): Disposable {\n        try {\n            this.resolveKeybinding(binding);\n            const scoped = Object.assign(binding, { scope });\n            this.insertBindingIntoScope(scoped, scope);\n            return Disposable.create(() => {\n                const index = this.keymaps[scope].indexOf(scoped);\n                if (index !== -1) {\n                    this.keymaps[scope].splice(index, 1);\n                }\n            });\n        } catch (error) {\n            this.logger.warn(`Could not register keybinding:\\n  ${common.Keybinding.stringify(binding)}\\n${error}`);\n            return Disposable.NULL;\n        }\n    }\n\n    /**\n     * Ensures that keybindings are inserted in order of increasing length of binding to ensure that if a\n     * user triggers a short keybinding (e.g. ctrl+k), the UI won't wait for a longer one (e.g. ctrl+k enter)\n     */\n    protected insertBindingIntoScope(item: common.Keybinding & { scope: KeybindingScope; }, scope: KeybindingScope): void {\n        const scopedKeymap = this.keymaps[scope];\n        const getNumberOfKeystrokes = (binding: common.Keybinding): number => (binding.keybinding.trim().match(/\\s/g)?.length ?? 0) + 1;\n        const numberOfKeystrokesInBinding = getNumberOfKeystrokes(item);\n        const indexOfFirstItemWithEqualStrokes = scopedKeymap.findIndex(existingBinding => getNumberOfKeystrokes(existingBinding) === numberOfKeystrokesInBinding);\n        if (indexOfFirstItemWithEqualStrokes > -1) {\n            scopedKeymap.splice(indexOfFirstItemWithEqualStrokes, 0, item);\n        } else {\n            scopedKeymap.push(item);\n        }\n    }\n\n    /**\n     * Ensure that the `resolved` property of the given binding is set by calling the KeyboardLayoutService.\n     */\n    resolveKeybinding(binding: ResolvedKeybinding): KeyCode[] {\n        if (!binding.resolved) {\n            const sequence = KeySequence.parse(binding.keybinding);\n            binding.resolved = sequence.map(code => this.keyboardLayoutService.resolveKeyCode(code));\n        }\n        return binding.resolved;\n    }\n\n    /**\n     * Clear all `resolved` properties of registered keybindings so the KeyboardLayoutService is called\n     * again to resolve them. This is necessary when the user's keyboard layout has changed.\n     */\n    protected clearResolvedKeybindings(): void {\n        for (let i = KeybindingScope.DEFAULT; i < KeybindingScope.END; i++) {\n            const bindings = this.keymaps[i];\n            for (let j = 0; j < bindings.length; j++) {\n                const binding = bindings[j] as ResolvedKeybinding;\n                binding.resolved = undefined;\n            }\n        }\n    }\n\n    /**\n     * Checks whether a colliding {@link common.Keybinding} exists in a specific scope.\n     * @param binding the keybinding to check\n     * @param scope the keybinding scope to check\n     * @returns true if there is a colliding keybinding\n     */\n    containsKeybindingInScope(binding: common.Keybinding, scope = KeybindingScope.USER): boolean {\n        const bindingKeySequence = this.resolveKeybinding(binding);\n        const collisions = this.getKeySequenceCollisions(this.getUsableBindings(this.keymaps[scope]), bindingKeySequence)\n            .filter(b => b.context === binding.context && !b.when && !binding.when);\n        if (collisions.full.length > 0) {\n            return true;\n        }\n        if (collisions.partial.length > 0) {\n            return true;\n        }\n        if (collisions.shadow.length > 0) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Get a user visible representation of a {@link common.Keybinding}.\n     * @returns an array of strings representing all elements of the {@link KeySequence} defined by the {@link common.Keybinding}\n     * @param keybinding the keybinding\n     * @param separator the separator to be used to stringify {@link KeyCode}s that are part of the {@link KeySequence}\n     */\n    acceleratorFor(keybinding: common.Keybinding, separator: string = ' ', asciiOnly = false): string[] {\n        const bindingKeySequence = this.resolveKeybinding(keybinding);\n        return this.acceleratorForSequence(bindingKeySequence, separator, asciiOnly);\n    }\n\n    /**\n     * Get a user visible representation of a {@link KeySequence}.\n     * @returns an array of strings representing all elements of the {@link KeySequence}\n     * @param keySequence the keysequence\n     * @param separator the separator to be used to stringify {@link KeyCode}s that are part of the {@link KeySequence}\n     */\n    acceleratorForSequence(keySequence: KeySequence, separator: string = ' ', asciiOnly = false): string[] {\n        return keySequence.map(keyCode => this.acceleratorForKeyCode(keyCode, separator, asciiOnly));\n    }\n\n    /**\n     * Get a user visible representation of a key code (a key with modifiers).\n     * @returns a string representing the {@link KeyCode}\n     * @param keyCode the keycode\n     * @param separator the separator used to separate keys (key and modifiers) in the returning string\n     * @param asciiOnly if `true`, no special characters will be substituted into the string returned. Ensures correct keyboard shortcuts in Electron menus.\n     */\n    acceleratorForKeyCode(keyCode: KeyCode, separator: string = ' ', asciiOnly = false): string {\n        return this.componentsForKeyCode(keyCode, asciiOnly).join(separator);\n    }\n\n    componentsForKeyCode(keyCode: KeyCode, asciiOnly = false): string[] {\n        const keyCodeResult = [];\n        const useSymbols = isOSX && !asciiOnly;\n        if (keyCode.meta && isOSX) {\n            keyCodeResult.push(useSymbols ? '' : 'Cmd');\n        }\n        if (keyCode.ctrl) {\n            keyCodeResult.push(useSymbols ? '' : 'Ctrl');\n        }\n        if (keyCode.alt) {\n            keyCodeResult.push(useSymbols ? '' : 'Alt');\n        }\n        if (keyCode.shift) {\n            keyCodeResult.push(useSymbols ? '' : 'Shift');\n        }\n        if (keyCode.key) {\n            keyCodeResult.push(this.acceleratorForKey(keyCode.key, asciiOnly));\n        }\n        return keyCodeResult;\n    }\n\n    /**\n     * @param asciiOnly if `true`, no special characters will be substituted into the string returned. Ensures correct keyboard shortcuts in Electron menus.\n     *\n     * Return a user visible representation of a single key.\n     */\n    acceleratorForKey(key: Key, asciiOnly = false): string {\n        if (isOSX && !asciiOnly) {\n            if (key === Key.ARROW_LEFT) {\n                return '';\n            }\n            if (key === Key.ARROW_RIGHT) {\n                return '';\n            }\n            if (key === Key.ARROW_UP) {\n                return '';\n            }\n            if (key === Key.ARROW_DOWN) {\n                return '';\n            }\n        }\n        const keyString = this.keyboardLayoutService.getKeyboardCharacter(key);\n        if (key.keyCode >= Key.KEY_A.keyCode && key.keyCode <= Key.KEY_Z.keyCode ||\n            key.keyCode >= Key.F1.keyCode && key.keyCode <= Key.F24.keyCode) {\n            return keyString.toUpperCase();\n        } else if (keyString.length > 1) {\n            return keyString.charAt(0).toUpperCase() + keyString.slice(1);\n        } else {\n            return keyString;\n        }\n    }\n\n    /**\n     * Finds collisions for a key sequence inside a list of bindings (error-free)\n     *\n     * @param bindings the reference bindings\n     * @param candidate the sequence to match\n     */\n    protected getKeySequenceCollisions(bindings: ScopedKeybinding[], candidate: KeySequence): KeybindingRegistry.KeybindingsResult {\n        const result = new KeybindingRegistry.KeybindingsResult();\n        for (const binding of bindings) {\n            try {\n                const bindingKeySequence = this.resolveKeybinding(binding);\n                const compareResult = KeySequence.compare(candidate, bindingKeySequence);\n                switch (compareResult) {\n                    case KeySequence.CompareResult.FULL: {\n                        result.full.push(binding);\n                        break;\n                    }\n                    case KeySequence.CompareResult.PARTIAL: {\n                        result.partial.push(binding);\n                        break;\n                    }\n                    case KeySequence.CompareResult.SHADOW: {\n                        result.shadow.push(binding);\n                        break;\n                    }\n                }\n            } catch (error) {\n                this.logger.warn(error);\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Get all keybindings associated to a commandId.\n     *\n     * @param commandId The ID of the command for which we are looking for keybindings.\n     * @returns an array of {@link ScopedKeybinding}\n     */\n    getKeybindingsForCommand(commandId: string): ScopedKeybinding[] {\n        const result: ScopedKeybinding[] = [];\n        const disabledBindings = new Set<string>();\n        for (let scope = KeybindingScope.END - 1; scope >= KeybindingScope.DEFAULT; scope--) {\n            this.keymaps[scope].forEach(binding => {\n                if (binding.command?.startsWith('-')) {\n                    disabledBindings.add(JSON.stringify({ command: binding.command.substring(1), binding: binding.keybinding, context: binding.context, when: binding.when }));\n                } else {\n                    const command = this.commandRegistry.getCommand(binding.command);\n                    if (command\n                        && command.id === commandId\n                        && !disabledBindings.has(JSON.stringify({ command: binding.command, binding: binding.keybinding, context: binding.context, when: binding.when }))) {\n                        result.push({ ...binding, scope });\n                    }\n                }\n            });\n        }\n        return result;\n    }\n\n    protected isActive(binding: common.Keybinding): boolean {\n        /* Pseudo commands like \"passthrough\" are always active (and not found\n           in the command registry).  */\n        if (this.isPseudoCommand(binding.command)) {\n            return true;\n        }\n\n        const command = this.commandRegistry.getCommand(binding.command);\n        return !!command && !!this.commandRegistry.getActiveHandler(command.id);\n    }\n\n    /**\n     * Tries to execute a keybinding.\n     *\n     * @param binding to execute\n     * @param event keyboard event.\n     */\n    protected executeKeyBinding(binding: common.Keybinding, event: KeyboardEvent): void {\n        if (this.isPseudoCommand(binding.command)) {\n            /* Don't do anything, let the event propagate.  */\n        } else {\n            const command = this.commandRegistry.getCommand(binding.command);\n            if (command) {\n                if (this.commandRegistry.isEnabled(binding.command, binding.args)) {\n                    this.commandRegistry.executeCommand(binding.command, binding.args)\n                        .catch(e => console.error('Failed to execute command:', e));\n                }\n\n                /* Note that if a keybinding is in context but the command is\n                   not active we still stop the processing here.  */\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        }\n    }\n\n    /**\n     * Only execute if it has no context (global context) or if we're in that context.\n     */\n    protected isEnabled(binding: common.Keybinding, event: KeyboardEvent): boolean {\n        return this.isEnabledInScope(binding, <HTMLElement>event.target);\n    }\n\n    isEnabledInScope(binding: common.Keybinding, target: HTMLElement | undefined): boolean {\n        const context = binding.context && this.contexts[binding.context];\n        if (binding.command && (!this.isPseudoCommand(binding.command) && !this.commandRegistry.isEnabled(binding.command, binding.args))) {\n            return false;\n        }\n        if (context && !context.isEnabled(binding)) {\n            return false;\n        }\n        if (binding.when && !this.whenContextService.match(binding.when, target)) {\n            return false;\n        }\n        return true;\n    }\n\n    dispatchCommand(id: string, target?: EventTarget): void {\n        const keybindings = this.getKeybindingsForCommand(id);\n        if (keybindings.length) {\n            for (const keyCode of this.resolveKeybinding(keybindings[0])) {\n                this.dispatchKeyDown(keyCode, target);\n            }\n        }\n    }\n\n    dispatchKeyDown(input: KeyboardEventInit | KeyCode | string, target: EventTarget = document.activeElement || window): void {\n        const eventInit = this.asKeyboardEventInit(input);\n        const emulatedKeyboardEvent = new KeyboardEvent('keydown', eventInit);\n        target.dispatchEvent(emulatedKeyboardEvent);\n    }\n    protected asKeyboardEventInit(input: KeyboardEventInit | KeyCode | string): KeyboardEventInit & Partial<{ keyCode: number }> {\n        if (typeof input === 'string') {\n            return this.asKeyboardEventInit(KeyCode.createKeyCode(input));\n        }\n        if (input instanceof KeyCode) {\n            return {\n                metaKey: input.meta,\n                shiftKey: input.shift,\n                altKey: input.alt,\n                ctrlKey: input.ctrl,\n                code: input.key && input.key.code,\n                key: (input && input.character) || (input.key && input.key.code),\n                keyCode: input.key && input.key.keyCode\n            };\n        }\n        return input;\n    }\n\n    registerEventListeners(win: Window): Disposable {\n        /* vvv HOTFIX begin vvv\n        *\n        * This is a hotfix against issues eclipse/theia#6459 and gitpod-io/gitpod#875 .\n        * It should be reverted after Theia was updated to the newer Monaco.\n        */\n        let inComposition = false;\n        const compositionStart = () => {\n            inComposition = true;\n        };\n        win.document.addEventListener('compositionstart', compositionStart);\n\n        const compositionEnd = () => {\n            inComposition = false;\n        };\n        win.document.addEventListener('compositionend', compositionEnd);\n\n        const keydown = (event: KeyboardEvent) => {\n            if (inComposition !== true) {\n                this.run(event);\n            }\n        };\n        win.document.addEventListener('keydown', keydown, true);\n\n        return Disposable.create(() => {\n            win.document.removeEventListener('compositionstart', compositionStart);\n            win.document.removeEventListener('compositionend', compositionEnd);\n            win.document.removeEventListener('keydown', keydown);\n        });\n    }\n    /**\n     * Run the command matching to the given keyboard event.\n     */\n    run(event: KeyboardEvent): void {\n        if (event.defaultPrevented) {\n            return;\n        }\n\n        const eventDispatch = this.corePreferences['keyboard.dispatch'];\n        const keyCode = KeyCode.createKeyCode(event, eventDispatch);\n        /* Keycode is only a modifier, next keycode will be modifier + key.\n           Ignore this one.  */\n        if (keyCode.isModifierOnly()) {\n            return;\n        }\n\n        this.keyboardLayoutService.validateKeyCode(keyCode);\n        this.keySequence.push(keyCode);\n        const match = this.matchKeybinding(this.keySequence, event);\n\n        if (match && match.kind === 'partial') {\n            /* Accumulate the keysequence */\n            event.preventDefault();\n            event.stopPropagation();\n\n            this.statusBar.setElement('keybinding-status', {\n                text: nls.localize('theia/core/keybindingStatus', '{0} was pressed, waiting for more keys', `(${this.acceleratorForSequence(this.keySequence, '+')})`),\n                alignment: StatusBarAlignment.LEFT,\n                priority: 2\n            });\n        } else {\n            if (match && match.kind === 'full') {\n                this.executeKeyBinding(match.binding, event);\n            }\n            this.keySequence = [];\n            this.statusBar.removeElement('keybinding-status');\n        }\n    }\n\n    /**\n     * Match first binding in the current context.\n     * Keybindings ordered by a scope and by a registration order within the scope.\n     *\n     * FIXME:\n     * This method should run very fast since it happens on each keystroke. We should reconsider how keybindings are stored.\n     * It should be possible to look up full and partial keybinding for given key sequence for constant time using some kind of tree.\n     * Such tree should not contain disabled keybindings and be invalidated whenever the registry is changed.\n     */\n    matchKeybinding(keySequence: KeySequence, event?: KeyboardEvent): KeybindingRegistry.Match {\n        let disabled: Set<string> | undefined;\n        const isEnabled = (binding: ScopedKeybinding) => {\n            if (event && !this.isEnabled(binding, event)) {\n                return false;\n            }\n            const { command, context, when, keybinding } = binding;\n            if (!this.isUsable(binding)) {\n                disabled = disabled || new Set<string>();\n                disabled.add(JSON.stringify({ command: command.substring(1), context, when, keybinding }));\n                return false;\n            }\n            return !disabled?.has(JSON.stringify({ command, context, when, keybinding }));\n        };\n\n        for (let scope = KeybindingScope.END; --scope >= KeybindingScope.DEFAULT;) {\n            for (const binding of this.keymaps[scope]) {\n                const resolved = this.resolveKeybinding(binding);\n                const compareResult = KeySequence.compare(keySequence, resolved);\n                if (compareResult === KeySequence.CompareResult.FULL && isEnabled(binding)) {\n                    return { kind: 'full', binding };\n                }\n                if (compareResult === KeySequence.CompareResult.PARTIAL && isEnabled(binding)) {\n                    return { kind: 'partial', binding };\n                }\n            }\n        }\n        return undefined;\n    }\n\n    /**\n     * Returns true if the binding is usable\n     * @param binding Binding to be checked\n     */\n    protected isUsable(binding: common.Keybinding): boolean {\n        return binding.command.charAt(0) !== '-';\n    }\n\n    /**\n     * Return a new filtered array containing only the usable bindings among the input bindings\n     * @param bindings Bindings to filter\n     */\n    protected getUsableBindings<T extends common.Keybinding>(bindings: T[]): T[] {\n        return bindings.filter(binding => this.isUsable(binding));\n    }\n\n    /**\n     * Return true of string a pseudo-command id, in other words a command id\n     * that has a special meaning and that we won't find in the command\n     * registry.\n     *\n     * @param commandId commandId to test\n     */\n    isPseudoCommand(commandId: string): boolean {\n        return commandId === KeybindingRegistry.PASSTHROUGH_PSEUDO_COMMAND;\n    }\n\n    /**\n     * Sets a new keymap replacing all existing {@link common.Keybinding}s in the given scope.\n     * @param scope the keybinding scope\n     * @param bindings an array containing the new {@link common.Keybinding}s\n     */\n    setKeymap(scope: KeybindingScope, bindings: common.Keybinding[]): void {\n        this.resetKeybindingsForScope(scope);\n        this.toResetKeymap.set(scope, this.doRegisterKeybindings(bindings, scope));\n        this.keybindingsChanged.fire(undefined);\n    }\n\n    protected readonly toResetKeymap = new Map<KeybindingScope, Disposable>();\n\n    /**\n     * Reset keybindings for a specific scope\n     * @param scope scope to reset the keybindings for\n     */\n    resetKeybindingsForScope(scope: KeybindingScope): void {\n        const toReset = this.toResetKeymap.get(scope);\n        if (toReset) {\n            toReset.dispose();\n        }\n    }\n\n    /**\n     * Reset keybindings for all scopes(only leaves the default keybindings mapped)\n     */\n    resetKeybindings(): void {\n        for (let i = KeybindingScope.DEFAULT + 1; i < KeybindingScope.END; i++) {\n            this.keymaps[i] = [];\n        }\n    }\n\n    /**\n     * Get all {@link common.Keybinding}s for a {@link KeybindingScope}.\n     * @returns an array of {@link common.ScopedKeybinding}\n     * @param scope the keybinding scope to retrieve the {@link common.Keybinding}s for.\n     */\n    getKeybindingsByScope(scope: KeybindingScope): ScopedKeybinding[] {\n        return this.keymaps[scope];\n    }\n}\n\nexport namespace KeybindingRegistry {\n    export type Match = {\n        kind: 'full' | 'partial'\n        binding: ScopedKeybinding\n    } | undefined;\n    export class KeybindingsResult {\n        full: ScopedKeybinding[] = [];\n        partial: ScopedKeybinding[] = [];\n        shadow: ScopedKeybinding[] = [];\n\n        /**\n         * Merge two results together inside `this`\n         *\n         * @param other the other KeybindingsResult to merge with\n         * @return this\n         */\n        merge(other: KeybindingsResult): KeybindingsResult {\n            this.full.push(...other.full);\n            this.partial.push(...other.partial);\n            this.shadow.push(...other.shadow);\n            return this;\n        }\n\n        /**\n         * Returns a new filtered KeybindingsResult\n         *\n         * @param fn callback filter on the results\n         * @return filtered new result\n         */\n        filter(fn: (binding: common.Keybinding) => boolean): KeybindingsResult {\n            const result = new KeybindingsResult();\n            result.full = this.full.filter(fn);\n            result.partial = this.partial.filter(fn);\n            result.shadow = this.shadow.filter(fn);\n            return result;\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, optional } from 'inversify';\nimport { isOSX } from '../../common/os';\nimport { CommandContribution, CommandRegistry, Command } from '../../common/command';\nimport { BrowserKeyboardLayoutProvider, KeyboardLayoutData } from './browser-keyboard-layout-provider';\nimport { QuickPickValue, QuickInputService, QuickPickItemOrSeparator } from '../quick-input';\nimport { nls } from '../../common/nls';\n\nexport namespace KeyboardCommands {\n\n    const KEYBOARD_CATEGORY = 'Keyboard';\n    const KEYBOARD_CATEGORY_KEY = nls.getDefaultKey(KEYBOARD_CATEGORY);\n\n    export const CHOOSE_KEYBOARD_LAYOUT = Command.toLocalizedCommand({\n        id: 'core.keyboard.choose',\n        category: KEYBOARD_CATEGORY,\n        label: 'Choose Keyboard Layout',\n    }, 'theia/core/keyboard/choose', KEYBOARD_CATEGORY_KEY);\n\n}\n\n@injectable()\nexport class BrowserKeyboardFrontendContribution implements CommandContribution {\n\n    @inject(BrowserKeyboardLayoutProvider)\n    protected readonly layoutProvider: BrowserKeyboardLayoutProvider;\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    registerCommands(commandRegistry: CommandRegistry): void {\n        commandRegistry.registerCommand(KeyboardCommands.CHOOSE_KEYBOARD_LAYOUT, {\n            execute: () => this.chooseLayout()\n        });\n    }\n\n    protected async chooseLayout(): Promise<KeyboardLayoutData | undefined> {\n        const current = this.layoutProvider.currentLayoutData;\n        const autodetect: QuickPickValue<'autodetect'> = {\n            label: nls.localizeByDefault('Auto Detect'),\n            description: this.layoutProvider.currentLayoutSource !== 'user-choice' ? nls.localize('theia/core/keyboard/current', '(current: {0})', current.name) : undefined,\n            detail: nls.localize('theia/core/keyboard/tryDetect', 'Try to detect the keyboard layout from browser information and pressed keys.'),\n            value: 'autodetect'\n        };\n        const pcLayouts = this.layoutProvider.allLayoutData\n            .filter(layout => layout.hardware === 'pc')\n            .sort((a, b) => compare(a.name, b.name))\n            .map(layout => this.toQuickPickValue(layout, current === layout));\n        const macLayouts = this.layoutProvider.allLayoutData\n            .filter(layout => layout.hardware === 'mac')\n            .sort((a, b) => compare(a.name, b.name))\n            .map(layout => this.toQuickPickValue(layout, current === layout));\n        let layouts: Array<QuickPickValue<KeyboardLayoutData | 'autodetect'> | QuickPickItemOrSeparator>;\n        const macKeyboards = nls.localize('theia/core/keyboard/mac', 'Mac Keyboards');\n        const pcKeyboards = nls.localize('theia/core/keyboard/pc', 'PC Keyboards');\n        if (isOSX) {\n            layouts = [\n                autodetect,\n                { type: 'separator', label: macKeyboards }, ...macLayouts,\n                { type: 'separator', label: pcKeyboards }, ...pcLayouts\n            ];\n        } else {\n            layouts = [\n                autodetect,\n                { type: 'separator', label: pcKeyboards }, ...pcLayouts,\n                { type: 'separator', label: macKeyboards }, ...macLayouts\n            ];\n        }\n        const selectedItem = await this.quickInputService?.showQuickPick(layouts, { placeholder: nls.localize('theia/core/keyboard/chooseLayout', 'Choose a keyboard layout') });\n        if (selectedItem && ('value' in selectedItem)) {\n            return this.layoutProvider.setLayoutData(selectedItem.value);\n        }\n    }\n\n    protected toQuickPickValue(layout: KeyboardLayoutData, isCurrent: boolean): QuickPickValue<KeyboardLayoutData> {\n        return {\n            label: layout.name,\n            description:\n                `${layout.hardware === 'mac' ? 'Mac' : 'PC'} (${layout.language})${isCurrent ? nls.localize('theia/core/keyboard/currentLayout', ' - current layout') : ''}`,\n            value: layout\n        };\n    }\n}\n\nfunction compare(a: string, b: string): number {\n    if (a < b) {\n        return -1;\n    }\n    if (a > b) {\n        return 1;\n    }\n    return 0;\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, postConstruct, inject } from 'inversify';\nimport { isOSX } from '../../common/os';\nimport { Emitter, Event } from '../../common/event';\nimport { ILogger } from '../../common/logger';\nimport { Deferred } from '../../common/promise-util';\nimport {\n    NativeKeyboardLayout, KeyboardLayoutProvider, KeyboardLayoutChangeNotifier, KeyValidator, KeyValidationInput\n} from '../../common/keyboard/keyboard-layout-provider';\nimport { LocalStorageService } from '../storage-service';\n\nexport type KeyboardLayoutSource = 'navigator.keyboard' | 'user-choice' | 'pressed-keys';\n\n@injectable()\nexport class BrowserKeyboardLayoutProvider implements KeyboardLayoutProvider, KeyboardLayoutChangeNotifier, KeyValidator {\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    @inject(LocalStorageService)\n    protected readonly storageService: LocalStorageService;\n\n    protected readonly initialized = new Deferred();\n    protected readonly nativeLayoutChanged = new Emitter<NativeKeyboardLayout>();\n\n    get onDidChangeNativeLayout(): Event<NativeKeyboardLayout> {\n        return this.nativeLayoutChanged.event;\n    }\n\n    protected readonly tester = new KeyboardTester(loadAllLayouts());\n    protected source: KeyboardLayoutSource = 'pressed-keys';\n    protected currentLayout: KeyboardLayoutData = DEFAULT_LAYOUT_DATA;\n\n    get allLayoutData(): KeyboardLayoutData[] {\n        return this.tester.candidates.slice();\n    }\n\n    get currentLayoutData(): KeyboardLayoutData {\n        return this.currentLayout;\n    }\n\n    get currentLayoutSource(): KeyboardLayoutSource {\n        return this.source;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.doInit();\n    }\n\n    protected async doInit(): Promise<void> {\n        await this.loadState();\n        const keyboard = (navigator as NavigatorExtension).keyboard;\n        if (keyboard && keyboard.addEventListener) {\n            keyboard.addEventListener('layoutchange', async () => {\n                const newLayout = await this.getNativeLayout();\n                this.nativeLayoutChanged.fire(newLayout);\n            });\n        }\n        this.initialized.resolve();\n    }\n\n    async getNativeLayout(): Promise<NativeKeyboardLayout> {\n        await this.initialized.promise;\n        if (this.source === 'user-choice') {\n            return this.currentLayout.raw;\n        }\n        const [layout, source] = await this.autodetect();\n        this.setCurrent(layout, source);\n        return layout.raw;\n    }\n\n    /**\n     * Set user-chosen keyboard layout data.\n     */\n    async setLayoutData(layout: KeyboardLayoutData | 'autodetect'): Promise<KeyboardLayoutData> {\n        if (layout === 'autodetect') {\n            if (this.source === 'user-choice') {\n                const [newLayout, source] = await this.autodetect();\n                this.setCurrent(newLayout, source);\n                this.nativeLayoutChanged.fire(newLayout.raw);\n                return newLayout;\n            }\n            return this.currentLayout;\n        } else {\n            if (this.source !== 'user-choice' || layout !== this.currentLayout) {\n                this.setCurrent(layout, 'user-choice');\n                this.nativeLayoutChanged.fire(layout.raw);\n            }\n            return layout;\n        }\n    }\n\n    /**\n     * Test all known keyboard layouts with the given combination of pressed key and\n     * produced character. Matching layouts have their score increased (see class\n     * KeyboardTester). If this leads to a change of the top-scoring layout, a layout\n     * change event is fired.\n     */\n    validateKey(keyCode: KeyValidationInput): void {\n        if (this.source !== 'pressed-keys') {\n            return;\n        }\n        const accepted = this.tester.updateScores(keyCode);\n        if (!accepted) {\n            return;\n        }\n        const layout = this.selectLayout();\n        if (layout !== this.currentLayout && layout !== DEFAULT_LAYOUT_DATA) {\n            this.setCurrent(layout, 'pressed-keys');\n            this.nativeLayoutChanged.fire(layout.raw);\n        }\n    }\n\n    protected setCurrent(layout: KeyboardLayoutData, source: KeyboardLayoutSource): void {\n        this.currentLayout = layout;\n        this.source = source;\n        this.saveState();\n        if (this.tester.inputCount && (source === 'pressed-keys' || source === 'navigator.keyboard')) {\n            const from = source === 'pressed-keys' ? 'pressed keys' : 'browser API';\n            const hardware = layout.hardware === 'mac' ? 'Mac' : 'PC';\n            this.logger.info(`Detected keyboard layout from ${from}: ${layout.name} (${hardware})`);\n        }\n    }\n\n    protected async autodetect(): Promise<[KeyboardLayoutData, KeyboardLayoutSource]> {\n        const keyboard = (navigator as NavigatorExtension).keyboard;\n        if (keyboard && keyboard.getLayoutMap) {\n            try {\n                const layoutMap = await keyboard.getLayoutMap();\n                this.testLayoutMap(layoutMap);\n                return [this.selectLayout(), 'navigator.keyboard'];\n            } catch (error) {\n                this.logger.warn('Failed to obtain keyboard layout map.', error);\n            }\n        }\n        return [this.selectLayout(), 'pressed-keys'];\n    }\n\n    /**\n     * @param layoutMap a keyboard layout map according to https://wicg.github.io/keyboard-map/\n     */\n    protected testLayoutMap(layoutMap: KeyboardLayoutMap): void {\n        this.tester.reset();\n        for (const [code, key] of layoutMap.entries()) {\n            this.tester.updateScores({ code, character: key });\n        }\n    }\n\n    /**\n     * Select a layout based on the current tester state and the operating system\n     * and language detected from the browser.\n     */\n    protected selectLayout(): KeyboardLayoutData {\n        const candidates = this.tester.candidates;\n        const scores = this.tester.scores;\n        const topScore = this.tester.topScore;\n        const language = navigator.language;\n        let matchingOScount = 0;\n        let topScoringCount = 0;\n        for (let i = 0; i < candidates.length; i++) {\n            if (scores[i] === topScore) {\n                const candidate = candidates[i];\n                if (osMatches(candidate.hardware)) {\n                    if (language && language.startsWith(candidate.language)) {\n                        return candidate;\n                    }\n                    matchingOScount++;\n                }\n                topScoringCount++;\n            }\n        }\n        if (matchingOScount >= 1) {\n            return candidates.find((c, i) => scores[i] === topScore && osMatches(c.hardware))!;\n        }\n        if (topScoringCount >= 1) {\n            return candidates.find((_, i) => scores[i] === topScore)!;\n        }\n        return DEFAULT_LAYOUT_DATA;\n    }\n\n    protected saveState(): Promise<void> {\n        const data: LayoutProviderState = {\n            tester: this.tester.getState(),\n            source: this.source,\n            currentLayout: this.currentLayout !== DEFAULT_LAYOUT_DATA ? getLayoutId(this.currentLayout) : undefined\n        };\n        return this.storageService.setData('keyboard', data);\n    }\n\n    protected async loadState(): Promise<void> {\n        const data = await this.storageService.getData<LayoutProviderState>('keyboard');\n        if (data) {\n            this.tester.setState(data.tester || {});\n            this.source = data.source || 'pressed-keys';\n            if (data.currentLayout) {\n                const layout = this.tester.candidates.find(c => getLayoutId(c) === data.currentLayout);\n                if (layout) {\n                    this.currentLayout = layout;\n                }\n            } else {\n                this.currentLayout = DEFAULT_LAYOUT_DATA;\n            }\n        }\n    }\n\n}\n\nexport interface KeyboardLayoutData {\n    name: string;\n    hardware: 'pc' | 'mac';\n    language: string;\n    raw: NativeKeyboardLayout;\n}\n\nfunction osMatches(hardware: 'pc' | 'mac'): boolean {\n    return isOSX ? hardware === 'mac' : hardware === 'pc';\n}\n\n/**\n * This is the fallback keyboard layout selected when nothing else matches.\n * It has an empty mapping, so user inputs are handled like with a standard US keyboard.\n */\nexport const DEFAULT_LAYOUT_DATA: KeyboardLayoutData = {\n    name: 'US',\n    hardware: isOSX ? 'mac' : 'pc',\n    language: 'en',\n    raw: {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        info: {} as any,\n        mapping: {}\n    }\n};\n\nexport interface LayoutProviderState {\n    tester?: KeyboardTesterState;\n    source?: KeyboardLayoutSource;\n    currentLayout?: string;\n}\n\nexport interface KeyboardTesterState {\n    scores?: { [id: string]: number };\n    topScore?: number;\n    testedInputs?: { [key: string]: string }\n}\n\n/**\n * Holds score values for all known keyboard layouts. Scores are updated\n * by comparing key codes with the corresponding character produced by\n * the user's keyboard.\n */\nexport class KeyboardTester {\n\n    readonly scores: number[];\n    topScore: number = 0;\n\n    private readonly testedInputs = new Map<string, string>();\n\n    get inputCount(): number {\n        return this.testedInputs.size;\n    }\n\n    constructor(readonly candidates: KeyboardLayoutData[]) {\n        this.scores = this.candidates.map(() => 0);\n    }\n\n    reset(): void {\n        for (let i = 0; i < this.scores.length; i++) {\n            this.scores[i] = 0;\n        }\n        this.topScore = 0;\n        this.testedInputs.clear();\n    }\n\n    updateScores(input: KeyValidationInput): boolean {\n        let property: 'value' | 'withShift' | 'withAltGr' | 'withShiftAltGr';\n        if (input.shiftKey && input.altKey) {\n            property = 'withShiftAltGr';\n        } else if (input.shiftKey) {\n            property = 'withShift';\n        } else if (input.altKey) {\n            property = 'withAltGr';\n        } else {\n            property = 'value';\n        }\n        const inputKey = `${input.code}.${property}`;\n        if (this.testedInputs.has(inputKey)) {\n            if (this.testedInputs.get(inputKey) === input.character) {\n                return false;\n            } else {\n                // The same input keystroke leads to a different character:\n                // probably a keyboard layout change, so forget all previous scores\n                this.reset();\n            }\n        }\n\n        const scores = this.scores;\n        for (let i = 0; i < this.candidates.length; i++) {\n            scores[i] += this.testCandidate(this.candidates[i], input, property);\n            if (scores[i] > this.topScore) {\n                this.topScore = scores[i];\n            }\n        }\n        this.testedInputs.set(inputKey, input.character);\n        return true;\n    }\n\n    protected testCandidate(candidate: KeyboardLayoutData, input: KeyValidationInput,\n        property: 'value' | 'withShift' | 'withAltGr' | 'withShiftAltGr'): number {\n        const keyMapping = candidate.raw.mapping[input.code];\n        if (keyMapping && keyMapping[property]) {\n            return keyMapping[property] === input.character ? 1 : 0;\n        } else {\n            return 0;\n        }\n    }\n\n    getState(): KeyboardTesterState {\n        const scores: { [id: string]: number } = {};\n        for (let i = 0; i < this.scores.length; i++) {\n            scores[getLayoutId(this.candidates[i])] = this.scores[i];\n        }\n        const testedInputs: { [key: string]: string } = {};\n        for (const [key, character] of this.testedInputs.entries()) {\n            testedInputs[key] = character;\n        }\n        return {\n            scores,\n            topScore: this.topScore,\n            testedInputs\n        };\n    }\n\n    setState(state: KeyboardTesterState): void {\n        this.reset();\n        if (state.scores) {\n            const layoutIds = this.candidates.map(getLayoutId);\n            for (const id in state.scores) {\n                if (state.scores.hasOwnProperty(id)) {\n                    const index = layoutIds.indexOf(id);\n                    if (index > 0) {\n                        this.scores[index] = state.scores[id];\n                    }\n                }\n            }\n        }\n        if (state.topScore) {\n            this.topScore = state.topScore;\n        }\n        if (state.testedInputs) {\n            for (const key in state.testedInputs) {\n                if (state.testedInputs.hasOwnProperty(key)) {\n                    this.testedInputs.set(key, state.testedInputs[key]);\n                }\n            }\n        }\n    }\n\n}\n\n/**\n * API specified by https://wicg.github.io/keyboard-map/\n */\ninterface NavigatorExtension extends Navigator {\n    keyboard: Keyboard;\n}\n\ninterface Keyboard {\n    getLayoutMap(): Promise<KeyboardLayoutMap>;\n    addEventListener(type: 'layoutchange', listener: EventListenerOrEventListenerObject): void;\n}\n\ntype KeyboardLayoutMap = Map<string, string>;\n\nfunction getLayoutId(layout: KeyboardLayoutData): string {\n    return `${layout.language}-${layout.name.replace(' ', '_')}-${layout.hardware}`;\n}\n\n/**\n * Keyboard layout files are expected to have the following name scheme:\n *     `language-name-hardware.json`\n *\n * - `language`: A language subtag according to IETF BCP 47\n * - `name`:     Display name of the keyboard layout (without dashes)\n * - `hardware`: `pc` or `mac`\n */\nfunction loadLayout(fileName: string): KeyboardLayoutData {\n    const [language, name, hardware] = fileName.split('-');\n    return {\n        name: name.replace('_', ' '),\n        hardware: hardware as 'pc' | 'mac',\n        language,\n        // Webpack knows what to do here and it should bundle all files under `../../../src/common/keyboard/layouts/`\n        // eslint-disable-next-line import/no-dynamic-require\n        raw: require('../../../src/common/keyboard/layouts/' + fileName + '.json')\n    };\n}\n\nfunction loadAllLayouts(): KeyboardLayoutData[] {\n    // The order of keyboard layouts is relevant for autodetection. Layouts with\n    // lower index have a higher chance of being selected.\n    // The current ordering approach is to sort by estimated number of developers\n    // in the respective country (taken from the Stack Overflow Developer Survey),\n    // but keeping all layouts of the same language together.\n    return [\n        'en-US-pc',\n        'en-US-mac',\n        'en-Dvorak-pc',\n        'en-Dvorak-mac',\n        'en-Dvorak_Lefthanded-pc',\n        'en-Dvorak_Lefthanded-mac',\n        'en-Dvorak_Righthanded-pc',\n        'en-Dvorak_Righthanded-mac',\n        'en-Colemak-mac',\n        'en-British-pc',\n        'en-British-mac',\n        'de-German-pc',\n        'de-German-mac',\n        'de-Swiss_German-pc',\n        'de-Swiss_German-mac',\n        'fr-French-pc',\n        'fr-French-mac',\n        'fr-Canadian_French-pc',\n        'fr-Canadian_French-mac',\n        'fr-Swiss_French-pc',\n        'fr-Swiss_French-mac',\n        'fr-Bepo-pc',\n        'pt-Portuguese-pc',\n        'pt-Portuguese-mac',\n        'pt-Brazilian-mac',\n        'pl-Polish-pc',\n        'pl-Polish-mac',\n        'nl-Dutch-pc',\n        'nl-Dutch-mac',\n        'es-Spanish-pc',\n        'es-Spanish-mac',\n        'it-Italian-pc',\n        'it-Italian-mac',\n        'sv-Swedish-pc',\n        'sv-Swedish-mac',\n        'tr-Turkish_Q-pc',\n        'tr-Turkish_Q-mac',\n        'cs-Czech-pc',\n        'cs-Czech-mac',\n        'ro-Romanian-pc',\n        'ro-Romanian-mac',\n        'da-Danish-pc',\n        'da-Danish-mac',\n        'nb-Norwegian-pc',\n        'nb-Norwegian-mac',\n        'hu-Hungarian-pc',\n        'hu-Hungarian-mac'\n    ].map(loadLayout);\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './keys';\nexport * from './keyboard-layout-service';\nexport * from './browser-keyboard-layout-provider';\nexport * from './browser-keyboard-frontend-contribution';\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, optional } from 'inversify';\nimport type { IWindowsKeyMapping } from 'native-keymap';\nimport { isWindows } from '../../common/os';\nimport {\n    NativeKeyboardLayout, KeyboardLayoutProvider, KeyboardLayoutChangeNotifier, KeyValidator\n} from '../../common/keyboard/keyboard-layout-provider';\nimport { Emitter, Event } from '../../common/event';\nimport { KeyCode, Key } from './keys';\n\nexport interface KeyboardLayout {\n    /**\n     * Mapping of standard US keyboard keys to the actual key codes to use.\n     * See `KeyboardLayoutService.getCharacterIndex` for the index computation.\n     */\n    readonly key2KeyCode: KeyCode[];\n    /**\n     * Mapping of KeyboardEvent codes to the characters shown on the user's keyboard\n     * for the respective keys.\n     */\n    readonly code2Character: { [code: string]: string };\n}\n\n@injectable()\nexport class KeyboardLayoutService {\n\n    @inject(KeyboardLayoutProvider)\n    protected readonly layoutProvider: KeyboardLayoutProvider;\n\n    @inject(KeyboardLayoutChangeNotifier)\n    protected readonly layoutChangeNotifier: KeyboardLayoutChangeNotifier;\n\n    @inject(KeyValidator) @optional()\n    protected readonly keyValidator?: KeyValidator;\n\n    private currentLayout?: KeyboardLayout;\n\n    protected updateLayout(newLayout: NativeKeyboardLayout): KeyboardLayout {\n        const transformed = this.transformNativeLayout(newLayout);\n        this.currentLayout = transformed;\n        this.keyboardLayoutChanged.fire(transformed);\n        return transformed;\n    }\n\n    protected keyboardLayoutChanged = new Emitter<KeyboardLayout>();\n\n    get onKeyboardLayoutChanged(): Event<KeyboardLayout> {\n        return this.keyboardLayoutChanged.event;\n    }\n\n    async initialize(): Promise<void> {\n        this.layoutChangeNotifier.onDidChangeNativeLayout(newLayout => this.updateLayout(newLayout));\n        const initialLayout = await this.layoutProvider.getNativeLayout();\n        this.updateLayout(initialLayout);\n    }\n\n    /**\n     * Resolve a KeyCode of a keybinding using the current keyboard layout.\n     * If no keyboard layout has been detected or the layout does not contain the\n     * key used in the KeyCode, the KeyCode is returned unchanged.\n     */\n    resolveKeyCode(inCode: KeyCode): KeyCode {\n        const layout = this.currentLayout;\n        if (layout && inCode.key) {\n            for (let shift = 0; shift <= 1; shift++) {\n                const index = this.getCharacterIndex(inCode.key, !!shift);\n                const mappedCode = layout.key2KeyCode[index];\n                if (mappedCode) {\n                    const transformed = this.transformKeyCode(inCode, mappedCode, !!shift);\n                    if (transformed) {\n                        return transformed;\n                    }\n                }\n            }\n        }\n        return inCode;\n    }\n\n    /**\n     * Return the character shown on the user's keyboard for the given key.\n     * Use this to determine UI representations of keybindings.\n     */\n    getKeyboardCharacter(key: Key): string {\n        const layout = this.currentLayout;\n        if (layout) {\n            const value = layout.code2Character[key.code]?.trim();\n            // Special cases from native keymap\n            if (value === '\\u001b') {\n                return 'escape';\n            }\n            if (value === '\\u007f') {\n                return 'delete';\n            }\n            if (value === '\\u0008') {\n                return 'backspace';\n            }\n            if (value?.replace(/[\\n\\r\\t]/g, '')) {\n                return value;\n            }\n        }\n        return key.easyString;\n    }\n\n    /**\n     * Called when a KeyboardEvent is processed by the KeybindingRegistry.\n     * The KeyValidator may trigger a keyboard layout change.\n     */\n    validateKeyCode(keyCode: KeyCode): void {\n        if (this.keyValidator && keyCode.key && keyCode.character) {\n            this.keyValidator.validateKey({\n                code: keyCode.key.code,\n                character: keyCode.character,\n                shiftKey: keyCode.shift,\n                ctrlKey: keyCode.ctrl,\n                altKey: keyCode.alt\n            });\n        }\n    }\n\n    protected transformKeyCode(inCode: KeyCode, mappedCode: KeyCode, keyNeedsShift: boolean): KeyCode | undefined {\n        if (!inCode.shift && keyNeedsShift) {\n            return undefined;\n        }\n        if (mappedCode.alt && (inCode.alt || inCode.ctrl || inCode.shift && !keyNeedsShift)) {\n            return undefined;\n        }\n        return new KeyCode({\n            key: mappedCode.key,\n            meta: inCode.meta,\n            ctrl: inCode.ctrl || mappedCode.alt,\n            shift: inCode.shift && !keyNeedsShift || mappedCode.shift,\n            alt: inCode.alt || mappedCode.alt\n        });\n    }\n\n    protected transformNativeLayout(nativeLayout: NativeKeyboardLayout): KeyboardLayout {\n        const key2KeyCode: KeyCode[] = new Array(2 * (Key.MAX_KEY_CODE + 1));\n        const code2Character: { [code: string]: string } = {};\n        const mapping = nativeLayout.mapping;\n        for (const code in mapping) {\n            if (mapping.hasOwnProperty(code)) {\n                const keyMapping = mapping[code];\n                const mappedKey = Key.getKey(code);\n                if (mappedKey && this.shouldIncludeKey(code)) {\n                    if (isWindows) {\n                        this.addWindowsKeyMapping(key2KeyCode, mappedKey, (keyMapping as IWindowsKeyMapping).vkey, keyMapping.value);\n                    } else {\n                        if (keyMapping.value) {\n                            this.addKeyMapping(key2KeyCode, mappedKey, keyMapping.value, false, false);\n                        }\n                        if (keyMapping.withShift) {\n                            this.addKeyMapping(key2KeyCode, mappedKey, keyMapping.withShift, true, false);\n                        }\n                        if (keyMapping.withAltGr) {\n                            this.addKeyMapping(key2KeyCode, mappedKey, keyMapping.withAltGr, false, true);\n                        }\n                        if (keyMapping.withShiftAltGr) {\n                            this.addKeyMapping(key2KeyCode, mappedKey, keyMapping.withShiftAltGr, true, true);\n                        }\n                    }\n                }\n                if (keyMapping.value) {\n                    code2Character[code] = keyMapping.value;\n                }\n            }\n        }\n        return { key2KeyCode, code2Character };\n    }\n\n    protected shouldIncludeKey(code: string): boolean {\n        // Exclude all numpad keys because they produce values that are already found elsewhere on the keyboard.\n        // This can cause problems, e.g. if `Numpad3` maps to `PageDown` then commands bound to `PageDown` would\n        // be resolved to `Digit3` (`Numpad3` is associated with `Key.DIGIT3`), effectively blocking the user\n        // from typing `3` in an editor.\n        return !code.startsWith('Numpad');\n    }\n\n    private addKeyMapping(key2KeyCode: KeyCode[], mappedKey: Key, value: string, shift: boolean, alt: boolean): void {\n        const key = VALUE_TO_KEY[value];\n        if (key) {\n            const index = this.getCharacterIndex(key.key, key.shift);\n            if (key2KeyCode[index] === undefined) {\n                key2KeyCode[index] = new KeyCode({\n                    key: mappedKey,\n                    shift,\n                    alt,\n                    character: value\n                });\n            }\n        }\n    }\n\n    private addWindowsKeyMapping(key2KeyCode: KeyCode[], mappedKey: Key, vkey: string, value: string): void {\n        const key = VKEY_TO_KEY[vkey];\n        if (key) {\n            const index = this.getCharacterIndex(key);\n            if (key2KeyCode[index] === undefined) {\n                key2KeyCode[index] = new KeyCode({\n                    key: mappedKey,\n                    character: value\n                });\n            }\n        }\n    }\n\n    protected getCharacterIndex(key: Key, shift?: boolean): number {\n        if (shift) {\n            return Key.MAX_KEY_CODE + key.keyCode + 1;\n        } else {\n            return key.keyCode;\n        }\n    }\n\n}\n\n/**\n * Mapping of character values to the corresponding keys on a standard US keyboard layout.\n */\nconst VALUE_TO_KEY: { [value: string]: { key: Key, shift?: boolean } } = {\n    '`': { key: Key.BACKQUOTE },\n    '~': { key: Key.BACKQUOTE, shift: true },\n    '1': { key: Key.DIGIT1 },\n    '!': { key: Key.DIGIT1, shift: true },\n    '2': { key: Key.DIGIT2 },\n    '@': { key: Key.DIGIT2, shift: true },\n    '3': { key: Key.DIGIT3 },\n    '#': { key: Key.DIGIT3, shift: true },\n    '4': { key: Key.DIGIT4 },\n    '$': { key: Key.DIGIT4, shift: true },\n    '5': { key: Key.DIGIT5 },\n    '%': { key: Key.DIGIT5, shift: true },\n    '6': { key: Key.DIGIT6 },\n    '^': { key: Key.DIGIT6, shift: true },\n    '7': { key: Key.DIGIT7 },\n    '&': { key: Key.DIGIT7, shift: true },\n    '8': { key: Key.DIGIT8 },\n    '*': { key: Key.DIGIT8, shift: true },\n    '9': { key: Key.DIGIT9 },\n    '(': { key: Key.DIGIT9, shift: true },\n    '0': { key: Key.DIGIT0 },\n    ')': { key: Key.DIGIT0, shift: true },\n    '-': { key: Key.MINUS },\n    '_': { key: Key.MINUS, shift: true },\n    '=': { key: Key.EQUAL },\n    '+': { key: Key.EQUAL, shift: true },\n\n    'a': { key: Key.KEY_A },\n    'A': { key: Key.KEY_A, shift: true },\n    'b': { key: Key.KEY_B },\n    'B': { key: Key.KEY_B, shift: true },\n    'c': { key: Key.KEY_C },\n    'C': { key: Key.KEY_C, shift: true },\n    'd': { key: Key.KEY_D },\n    'D': { key: Key.KEY_D, shift: true },\n    'e': { key: Key.KEY_E },\n    'E': { key: Key.KEY_E, shift: true },\n    'f': { key: Key.KEY_F },\n    'F': { key: Key.KEY_F, shift: true },\n    'g': { key: Key.KEY_G },\n    'G': { key: Key.KEY_G, shift: true },\n    'h': { key: Key.KEY_H },\n    'H': { key: Key.KEY_H, shift: true },\n    'i': { key: Key.KEY_I },\n    'I': { key: Key.KEY_I, shift: true },\n    'j': { key: Key.KEY_J },\n    'J': { key: Key.KEY_J, shift: true },\n    'k': { key: Key.KEY_K },\n    'K': { key: Key.KEY_K, shift: true },\n    'l': { key: Key.KEY_L },\n    'L': { key: Key.KEY_L, shift: true },\n    'm': { key: Key.KEY_M },\n    'M': { key: Key.KEY_M, shift: true },\n    'n': { key: Key.KEY_N },\n    'N': { key: Key.KEY_N, shift: true },\n    'o': { key: Key.KEY_O },\n    'O': { key: Key.KEY_O, shift: true },\n    'p': { key: Key.KEY_P },\n    'P': { key: Key.KEY_P, shift: true },\n    'q': { key: Key.KEY_Q },\n    'Q': { key: Key.KEY_Q, shift: true },\n    'r': { key: Key.KEY_R },\n    'R': { key: Key.KEY_R, shift: true },\n    's': { key: Key.KEY_S },\n    'S': { key: Key.KEY_S, shift: true },\n    't': { key: Key.KEY_T },\n    'T': { key: Key.KEY_T, shift: true },\n    'u': { key: Key.KEY_U },\n    'U': { key: Key.KEY_U, shift: true },\n    'v': { key: Key.KEY_V },\n    'V': { key: Key.KEY_V, shift: true },\n    'w': { key: Key.KEY_W },\n    'W': { key: Key.KEY_W, shift: true },\n    'x': { key: Key.KEY_X },\n    'X': { key: Key.KEY_X, shift: true },\n    'y': { key: Key.KEY_Y },\n    'Y': { key: Key.KEY_Y, shift: true },\n    'z': { key: Key.KEY_Z },\n    'Z': { key: Key.KEY_Z, shift: true },\n\n    '[': { key: Key.BRACKET_LEFT },\n    '{': { key: Key.BRACKET_LEFT, shift: true },\n    ']': { key: Key.BRACKET_RIGHT },\n    '}': { key: Key.BRACKET_RIGHT, shift: true },\n    ';': { key: Key.SEMICOLON },\n    ':': { key: Key.SEMICOLON, shift: true },\n    \"'\": { key: Key.QUOTE },\n    '\"': { key: Key.QUOTE, shift: true },\n    ',': { key: Key.COMMA },\n    '<': { key: Key.COMMA, shift: true },\n    '.': { key: Key.PERIOD },\n    '>': { key: Key.PERIOD, shift: true },\n    '/': { key: Key.SLASH },\n    '?': { key: Key.SLASH, shift: true },\n    '\\\\': { key: Key.BACKSLASH },\n    '|': { key: Key.BACKSLASH, shift: true },\n\n    '\\t': { key: Key.TAB },\n    '\\r': { key: Key.ENTER },\n    '\\n': { key: Key.ENTER },\n    ' ': { key: Key.SPACE },\n};\n\n/**\n * Mapping of Windows Virtual Keys to the corresponding keys on a standard US keyboard layout.\n */\nconst VKEY_TO_KEY: { [value: string]: Key } = {\n    VK_SHIFT: Key.SHIFT_LEFT,\n    VK_LSHIFT: Key.SHIFT_LEFT,\n    VK_RSHIFT: Key.SHIFT_RIGHT,\n    VK_CONTROL: Key.CONTROL_LEFT,\n    VK_LCONTROL: Key.CONTROL_LEFT,\n    VK_RCONTROL: Key.CONTROL_RIGHT,\n    VK_MENU: Key.ALT_LEFT,\n    VK_COMMAND: Key.OS_LEFT,\n    VK_LWIN: Key.OS_LEFT,\n    VK_RWIN: Key.OS_RIGHT,\n\n    VK_0: Key.DIGIT0,\n    VK_1: Key.DIGIT1,\n    VK_2: Key.DIGIT2,\n    VK_3: Key.DIGIT3,\n    VK_4: Key.DIGIT4,\n    VK_5: Key.DIGIT5,\n    VK_6: Key.DIGIT6,\n    VK_7: Key.DIGIT7,\n    VK_8: Key.DIGIT8,\n    VK_9: Key.DIGIT9,\n    VK_A: Key.KEY_A,\n    VK_B: Key.KEY_B,\n    VK_C: Key.KEY_C,\n    VK_D: Key.KEY_D,\n    VK_E: Key.KEY_E,\n    VK_F: Key.KEY_F,\n    VK_G: Key.KEY_G,\n    VK_H: Key.KEY_H,\n    VK_I: Key.KEY_I,\n    VK_J: Key.KEY_J,\n    VK_K: Key.KEY_K,\n    VK_L: Key.KEY_L,\n    VK_M: Key.KEY_M,\n    VK_N: Key.KEY_N,\n    VK_O: Key.KEY_O,\n    VK_P: Key.KEY_P,\n    VK_Q: Key.KEY_Q,\n    VK_R: Key.KEY_R,\n    VK_S: Key.KEY_S,\n    VK_T: Key.KEY_T,\n    VK_U: Key.KEY_U,\n    VK_V: Key.KEY_V,\n    VK_W: Key.KEY_W,\n    VK_X: Key.KEY_X,\n    VK_Y: Key.KEY_Y,\n    VK_Z: Key.KEY_Z,\n\n    VK_OEM_1: Key.SEMICOLON,\n    VK_OEM_2: Key.SLASH,\n    VK_OEM_3: Key.BACKQUOTE,\n    VK_OEM_4: Key.BRACKET_LEFT,\n    VK_OEM_5: Key.BACKSLASH,\n    VK_OEM_6: Key.BRACKET_RIGHT,\n    VK_OEM_7: Key.QUOTE,\n    VK_OEM_PLUS: Key.EQUAL,\n    VK_OEM_COMMA: Key.COMMA,\n    VK_OEM_MINUS: Key.MINUS,\n    VK_OEM_PERIOD: Key.PERIOD,\n\n    VK_F1: Key.F1,\n    VK_F2: Key.F2,\n    VK_F3: Key.F3,\n    VK_F4: Key.F4,\n    VK_F5: Key.F5,\n    VK_F6: Key.F6,\n    VK_F7: Key.F7,\n    VK_F8: Key.F8,\n    VK_F9: Key.F9,\n    VK_F10: Key.F10,\n    VK_F11: Key.F11,\n    VK_F12: Key.F12,\n    VK_F13: Key.F13,\n    VK_F14: Key.F14,\n    VK_F15: Key.F15,\n    VK_F16: Key.F16,\n    VK_F17: Key.F17,\n    VK_F18: Key.F18,\n    VK_F19: Key.F19,\n\n    VK_BACK: Key.BACKSPACE,\n    VK_TAB: Key.TAB,\n    VK_RETURN: Key.ENTER,\n    VK_CAPITAL: Key.CAPS_LOCK,\n    VK_ESCAPE: Key.ESCAPE,\n    VK_SPACE: Key.SPACE,\n    VK_PRIOR: Key.PAGE_UP,\n    VK_NEXT: Key.PAGE_DOWN,\n    VK_END: Key.END,\n    VK_HOME: Key.HOME,\n    VK_INSERT: Key.INSERT,\n    VK_DELETE: Key.DELETE,\n    VK_LEFT: Key.ARROW_LEFT,\n    VK_UP: Key.ARROW_UP,\n    VK_RIGHT: Key.ARROW_RIGHT,\n    VK_DOWN: Key.ARROW_DOWN,\n\n    VK_NUMLOCK: Key.NUM_LOCK,\n    VK_NUMPAD0: Key.DIGIT0,\n    VK_NUMPAD1: Key.DIGIT1,\n    VK_NUMPAD2: Key.DIGIT2,\n    VK_NUMPAD3: Key.DIGIT3,\n    VK_NUMPAD4: Key.DIGIT4,\n    VK_NUMPAD5: Key.DIGIT5,\n    VK_NUMPAD6: Key.DIGIT6,\n    VK_NUMPAD7: Key.DIGIT7,\n    VK_NUMPAD8: Key.DIGIT8,\n    VK_NUMPAD9: Key.DIGIT9,\n    VK_MULTIPLY: Key.MULTIPLY,\n    VK_ADD: Key.ADD,\n    VK_SUBTRACT: Key.SUBTRACT,\n    VK_DECIMAL: Key.DECIMAL,\n    VK_DIVIDE: Key.DIVIDE\n};\n","// *****************************************************************************\n// Copyright (C) 2017-2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * @deprecated since 1.20.0. Import from `@theia/core/lib/common/keys` instead.\n */\nexport * from '../../common/keys';\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n// Reexporting here for backwards compatibility.\n// Please import from '@theia/core/lib/browser' or '@theia/core/lib/browser/keyboard' instead of this module.\n// This module might be removed in future releases.\nimport { KeySequence, Keystroke, KeyCode, KeyModifier, Key, SpecialCases, KeysOrKeyCodes } from './keyboard/keys';\nexport { KeySequence, Keystroke, KeyCode, KeyModifier, Key, SpecialCases, KeysOrKeyCodes };\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { injectable } from 'inversify';\nimport { isObject, isString } from '../common';\n\nexport interface LabelIcon {\n    name: string;\n    animation?: string;\n}\n\nexport namespace LabelIcon {\n    export function is(val: unknown): val is LabelIcon {\n        return isObject<LabelIcon>(val) && isString(val.name);\n    }\n}\n\nexport type LabelPart = string | LabelIcon;\n\n@injectable()\nexport class LabelParser {\n\n    /**\n     * Returns an array with parts of the given text.\n     * These parts are of type LabelPart which can be either a string or a LabelIcon.\n     * For splitting up the giving text the parser follows this rule:\n     * The text gets parsed for the following pattern: $(iconName~iconAnimation).\n     * If the parser finds such pattern a new LabelIcon object\n     * { name: 'iconName', animation: 'iconAnimation'} is added to the returned array.\n     * iconName can be for instance the name of an icon of e.g. FontAwesome and the (optional) iconAnimation\n     * the name of an animation class which must be supported by the particular icon toolkit.\n     *\n     * Every string before, between or after such icon patterns gets also added to the array\n     * before, between or after the related LabelIcon.\n     *\n     * @param text - the label text to parse\n     */\n    parse(text: string): LabelPart[] {\n        const parserArray: LabelPart[] = [];\n        let arrPointer = 0;\n        let potentialIcon = '';\n\n        for (let idx = 0; idx < text.length; idx++) {\n            const char = text.charAt(idx);\n            parserArray[arrPointer] = parserArray[arrPointer] || '';\n            if (potentialIcon === '') {\n                if (char === '$') {\n                    potentialIcon += char;\n                } else {\n                    parserArray[arrPointer] += char;\n                }\n            } else if (potentialIcon === '$') {\n                if (char === '(') {\n                    potentialIcon += char;\n                } else {\n                    parserArray[arrPointer] += potentialIcon + char;\n                    potentialIcon = '';\n                }\n            } else {\n                if (char === ')') {\n                    const iconClassArr = potentialIcon.substring(2, potentialIcon.length).split('~');\n                    if (parserArray[arrPointer] !== '') {\n                        arrPointer++;\n                    }\n                    parserArray[arrPointer] = { name: iconClassArr[0], animation: iconClassArr[1] };\n                    arrPointer++;\n                    potentialIcon = '';\n                } else {\n                    potentialIcon += char;\n                }\n            }\n        }\n\n        if (potentialIcon !== '') {\n            parserArray[arrPointer] += potentialIcon;\n        }\n\n        return parserArray;\n    }\n\n    /**\n     * Strips icon specifiers from the given `text`, leaving only a\n     * space-separated concatenation of the non-icon segments.\n     *\n     * @param text text to be stripped of icon specifiers\n     * @returns the `text` with icon specifiers stripped out\n     */\n    stripIcons(text: string): string {\n        return this.parse(text)\n            .filter(item => !LabelIcon.is(item))\n            .map(s => (s as string).trim())\n            .filter(s => s.length)\n            .join(' ');\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, named, postConstruct } from 'inversify';\nimport * as fileIcons from 'file-icons-js';\nimport URI from '../common/uri';\nimport { ContributionProvider } from '../common/contribution-provider';\nimport { Event, Emitter, Disposable, isObject, Path, Prioritizeable } from '../common';\nimport { FrontendApplicationContribution } from './frontend-application-contribution';\nimport { EnvVariablesServer } from '../common/env-variables/env-variables-protocol';\nimport { ResourceLabelFormatter, ResourceLabelFormatting } from '../common/label-protocol';\nimport { codicon } from './widgets';\n\n/**\n * @internal don't export it, use `LabelProvider.folderIcon` instead.\n */\nconst DEFAULT_FOLDER_ICON = `${codicon('folder')} default-folder-icon`;\n/**\n * @internal don't export it, use `LabelProvider.fileIcon` instead.\n */\nconst DEFAULT_FILE_ICON = `${codicon('file')} default-file-icon`;\n\nexport const LabelProviderContribution = Symbol('LabelProviderContribution');\n/**\n * A {@link LabelProviderContribution} determines how specific elements/nodes are displayed in the workbench.\n * Theia views use a common {@link LabelProvider} to determine the label and/or an icon for elements shown in the UI. This includes elements in lists\n * and trees, but also view specific locations like headers. The common {@link LabelProvider} collects all {@links LabelProviderContribution} and delegates\n * to the contribution with the highest priority. This is determined via calling the {@link LabelProviderContribution.canHandle} function, so contributions\n * define which elements they are responsible for.\n * As arbitrary views can consume LabelProviderContributions, they must be generic for the covered element type, not view specific. Label providers and\n * contributions can be used for arbitrary element and node types, e.g. for markers or domain-specific elements.\n */\nexport interface LabelProviderContribution {\n\n    /**\n     * Determines whether this contribution can handle the given element and with what priority.\n     * All contributions are ordered by the returned number if greater than zero. The highest number wins.\n     * If two or more contributions return the same positive number one of those will be used. It is undefined which one.\n     */\n    canHandle(element: object): number;\n\n    /**\n     * returns an icon class for the given element.\n     */\n    getIcon?(element: object): string | undefined;\n\n    /**\n     * returns a short name for the given element.\n     */\n    getName?(element: object): string | undefined;\n\n    /**\n     * returns a long name for the given element.\n     */\n    getLongName?(element: object): string | undefined;\n\n    /**\n     * A compromise between {@link getName} and {@link getLongName}. Can be used to supplement getName in contexts that allow both a primary display field and extra detail.\n     */\n    getDetails?(element: object): string | undefined;\n\n    /**\n     * Emit when something has changed that may result in this label provider returning a different\n     * value for one or more properties (name, icon etc).\n     */\n    readonly onDidChange?: Event<DidChangeLabelEvent>;\n\n    /**\n     * Checks whether the given element is affected by the given change event.\n     * Contributions delegating to the label provider can use this hook\n     * to perform a recursive check.\n     */\n    affects?(element: object, event: DidChangeLabelEvent): boolean;\n\n}\n\nexport interface DidChangeLabelEvent {\n    affects(element: object): boolean;\n}\n\nexport interface URIIconReference {\n    kind: 'uriIconReference';\n    id: 'file' | 'folder';\n    uri?: URI\n}\nexport namespace URIIconReference {\n    export function is(element: unknown): element is URIIconReference {\n        return isObject(element) && element.kind === 'uriIconReference';\n    }\n    export function create(id: URIIconReference['id'], uri?: URI): URIIconReference {\n        return { kind: 'uriIconReference', id, uri };\n    }\n}\n\n@injectable()\nexport class DefaultUriLabelProviderContribution implements LabelProviderContribution {\n\n    protected formatters: ResourceLabelFormatter[] = [];\n    protected readonly onDidChangeEmitter = new Emitter<DidChangeLabelEvent>();\n    protected homePath: string | undefined;\n    @inject(EnvVariablesServer) protected readonly envVariablesServer: EnvVariablesServer;\n\n    @postConstruct()\n    init(): void {\n        this.envVariablesServer.getHomeDirUri().then(result => {\n            this.homePath = result;\n            this.fireOnDidChange();\n        });\n    }\n\n    canHandle(element: object): number {\n        if (element instanceof URI || URIIconReference.is(element)) {\n            return 1;\n        }\n        return 0;\n    }\n\n    getIcon(element: URI | URIIconReference): string {\n        if (URIIconReference.is(element) && element.id === 'folder') {\n            return this.defaultFolderIcon;\n        }\n        const uri = URIIconReference.is(element) ? element.uri : element;\n        if (uri) {\n            const iconClass = uri && this.getFileIcon(uri);\n            return iconClass || this.defaultFileIcon;\n        }\n        return '';\n    }\n\n    get defaultFolderIcon(): string {\n        return DEFAULT_FOLDER_ICON;\n    }\n\n    get defaultFileIcon(): string {\n        return DEFAULT_FILE_ICON;\n    }\n\n    protected getFileIcon(uri: URI): string | undefined {\n        const fileIcon = fileIcons.getClassWithColor(uri.displayName);\n        if (!fileIcon) {\n            return undefined;\n        }\n        return fileIcon + ' theia-file-icons-js';\n    }\n\n    getName(element: URI | URIIconReference): string | undefined {\n        const uri = this.getUri(element);\n        return uri && uri.displayName;\n    }\n\n    getLongName(element: URI | URIIconReference): string | undefined {\n        const uri = this.getUri(element);\n        if (uri) {\n            const formatting = this.findFormatting(uri);\n            if (formatting) {\n                return this.formatUri(uri, formatting);\n            }\n        }\n        return uri && uri.path.fsPath();\n    }\n\n    getDetails(element: URI | URIIconReference): string | undefined {\n        const uri = this.getUri(element);\n        if (uri) {\n            return this.getLongName(uri.parent);\n        }\n        return this.getLongName(element);\n    }\n\n    protected getUri(element: URI | URIIconReference): URI | undefined {\n        return URIIconReference.is(element) ? element.uri : element;\n    }\n\n    registerFormatter(formatter: ResourceLabelFormatter): Disposable {\n        this.formatters.push(formatter);\n        this.fireOnDidChange();\n        return Disposable.create(() => {\n            this.formatters = this.formatters.filter(f => f !== formatter);\n            this.fireOnDidChange();\n        });\n    }\n\n    get onDidChange(): Event<DidChangeLabelEvent> {\n        return this.onDidChangeEmitter.event;\n    }\n\n    private fireOnDidChange(): void {\n        this.onDidChangeEmitter.fire({\n            affects: (element: URI) => this.canHandle(element) > 0\n        });\n    }\n\n    // copied and modified from https://github.com/microsoft/vscode/blob/1.44.2/src/vs/workbench/services/label/common/labelService.ts\n    /*---------------------------------------------------------------------------------------------\n    *  Copyright (c) Microsoft Corporation. All rights reserved.\n    *  Licensed under the MIT License. See License.txt in the project root for license information.\n    *--------------------------------------------------------------------------------------------*/\n    private readonly labelMatchingRegexp = /\\${(scheme|authority|path|query)}/g;\n    protected formatUri(resource: URI, formatting: ResourceLabelFormatting): string {\n        let label = formatting.label.replace(this.labelMatchingRegexp, (match, token) => {\n            switch (token) {\n                case 'scheme': return resource.scheme;\n                case 'authority': return resource.authority;\n                case 'path': return resource.path.toString();\n                case 'query': return resource.query;\n                default: return '';\n            }\n        });\n\n        // convert \\c:\\something => C:\\something\n        if (formatting.normalizeDriveLetter && this.hasDriveLetter(label)) {\n            label = label.charAt(1).toUpperCase() + label.substring(2);\n        }\n\n        if (formatting.tildify) {\n            label = Path.tildify(label, this.homePath ? this.homePath : '');\n        }\n        if (formatting.authorityPrefix && resource.authority) {\n            label = formatting.authorityPrefix + label;\n        }\n\n        return label.replace(/\\//g, formatting.separator);\n    }\n\n    private hasDriveLetter(path: string): boolean {\n        return !!(path && path[2] === ':');\n    }\n\n    protected findFormatting(resource: URI): ResourceLabelFormatting | undefined {\n        let bestResult: ResourceLabelFormatter | undefined;\n\n        this.formatters.forEach(formatter => {\n            if (formatter.scheme === resource.scheme) {\n                if (!bestResult && !formatter.authority) {\n                    bestResult = formatter;\n                    return;\n                }\n                if (!formatter.authority) {\n                    return;\n                }\n\n                if ((formatter.authority.toLowerCase() === resource.authority.toLowerCase()) &&\n                    (!bestResult || !bestResult.authority || formatter.authority.length > bestResult.authority.length ||\n                        ((formatter.authority.length === bestResult.authority.length) && formatter.priority))) {\n                    bestResult = formatter;\n                }\n            }\n        });\n\n        return bestResult ? bestResult.formatting : undefined;\n    }\n}\n\n/**\n * The {@link LabelProvider} determines how elements/nodes are displayed in the workbench. For any element, it can determine a short label, a long label\n * and an icon. The {@link LabelProvider} is to be used in lists, trees and tables, but also view specific locations like headers.\n * The common {@link LabelProvider} can be extended/adapted via {@link LabelProviderContribution}s. For every element, the {@links LabelProvider} will determine the\n * {@link LabelProviderContribution} with the hightest priority and delegate to it. Theia registers default {@link LabelProviderContribution} for common types, e.g.\n * the {@link DefaultUriLabelProviderContribution} for elements that have a URI.\n * Using the {@link LabelProvider} across the workbench ensures a common look and feel for elements across multiple views. To adapt the way how specific\n * elements/nodes are rendered, use a {@link LabelProviderContribution} rather than adapting or sub classing the {@link LabelProvider}. This way, your adaptation\n * is applied to all views in Theia that use the {@link LabelProvider}\n */\n@injectable()\nexport class LabelProvider implements FrontendApplicationContribution {\n\n    protected readonly onDidChangeEmitter = new Emitter<DidChangeLabelEvent>();\n\n    @inject(ContributionProvider) @named(LabelProviderContribution)\n    protected readonly contributionProvider: ContributionProvider<LabelProviderContribution>;\n\n    /**\n     * Start listening to contributions.\n     *\n     * Don't call this method directly!\n     * It's called by the frontend application during initialization.\n     */\n    initialize(): void {\n        const contributions = this.contributionProvider.getContributions();\n        for (const eventContribution of contributions) {\n            if (eventContribution.onDidChange) {\n                eventContribution.onDidChange(event => {\n                    this.onDidChangeEmitter.fire({\n                        // TODO check eventContribution.canHandle as well\n                        affects: element => this.affects(element, event)\n                    });\n                });\n            }\n        }\n    }\n\n    protected affects(element: object, event: DidChangeLabelEvent): boolean {\n        if (event.affects(element)) {\n            return true;\n        }\n        for (const contribution of this.findContribution(element)) {\n            if (contribution.affects && contribution.affects(element, event)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    get onDidChange(): Event<DidChangeLabelEvent> {\n        return this.onDidChangeEmitter.event;\n    }\n\n    /**\n     * Return a default file icon for the current icon theme.\n     */\n    get fileIcon(): string {\n        return this.getIcon(URIIconReference.create('file'));\n    }\n\n    /**\n     * Return a default folder icon for the current icon theme.\n     */\n    get folderIcon(): string {\n        return this.getIcon(URIIconReference.create('folder'));\n    }\n\n    /**\n     * Get the icon class from the list of available {@link LabelProviderContribution} for the given element.\n     * @return the icon class\n     */\n    getIcon(element: object): string {\n        return this.handleRequest(element, 'getIcon') ?? '';\n    }\n\n    /**\n     * Get a short name from the list of available {@link LabelProviderContribution} for the given element.\n     * @return the short name\n     */\n    getName(element: object): string {\n        return this.handleRequest(element, 'getName') ?? '<unknown>';\n    }\n\n    /**\n     * Get a long name from the list of available {@link LabelProviderContribution} for the given element.\n     * @return the long name\n     */\n    getLongName(element: object): string {\n        return this.handleRequest(element, 'getLongName') ?? '';\n    }\n\n    /**\n     * Get details from the list of available {@link LabelProviderContribution} for the given element.\n     * @return the details\n     * Can be used to supplement {@link getName} in contexts that allow both a primary display field and extra detail.\n     */\n    getDetails(element: object): string {\n        return this.handleRequest(element, 'getDetails') ?? '';\n    }\n\n    protected handleRequest(element: object, method: keyof Omit<LabelProviderContribution, 'canHandle' | 'onDidChange' | 'affects'>): string | undefined {\n        for (const contribution of this.findContribution(element, method)) {\n            const value = contribution[method]?.(element);\n            if (value !== undefined) {\n                return value;\n            }\n        }\n    }\n\n    protected findContribution(element: object, method?: keyof Omit<LabelProviderContribution, 'canHandle' | 'onDidChange' | 'affects'>): LabelProviderContribution[] {\n        const candidates = method\n            ? this.contributionProvider.getContributions().filter(candidate => candidate[method])\n            : this.contributionProvider.getContributions();\n        return Prioritizeable.prioritizeAllSync(candidates, contrib =>\n            contrib.canHandle(element)\n        ).map(entry => entry.value);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { Disposable, Emitter, Event } from '../common';\n\nexport interface Language {\n    readonly id: string;\n    readonly name: string;\n    readonly extensions: Set<string>;\n    readonly filenames: Set<string>;\n    readonly iconClass?: string;\n}\n\n@injectable()\nexport class LanguageService {\n    protected readonly onDidChangeIconEmitter = new Emitter<DidChangeIconEvent>();\n\n    /**\n     * It should be implemented by an extension, e.g. by the monaco extension.\n     */\n    get languages(): Language[] {\n        return [];\n    }\n\n    /**\n     * It should be implemented by an extension, e.g. by the monaco extension.\n     */\n    getLanguage(languageId: string): Language | undefined {\n        return undefined;\n    }\n\n    /**\n     * It should be implemented by an extension, e.g. by the monaco extension.\n     */\n    detectLanguage(obj: unknown): Language | undefined {\n        return undefined;\n    }\n\n    /**\n     * It should be implemented by an extension, e.g. by the monaco extension.\n     */\n    registerIcon(languageId: string, iconClass: string): Disposable {\n        return Disposable.NULL;\n    }\n\n    /**\n     * It should be implemented by an extension, e.g. by the monaco extension.\n     */\n    getIcon(obj: unknown): string | undefined {\n        return undefined;\n    }\n\n    /**\n     * Emit when the icon of a particular language was changed.\n     */\n    get onDidChangeIcon(): Event<DidChangeIconEvent> {\n        return this.onDidChangeIconEmitter.event;\n    }\n}\n\nexport interface DidChangeIconEvent {\n    languageId: string;\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as DOMPurify from 'dompurify';\nimport { injectable, inject, postConstruct } from 'inversify';\nimport * as markdownit from 'markdown-it';\nimport { MarkdownString } from '../../common/markdown-rendering/markdown-string';\nimport { Disposable, DisposableGroup } from '../../common';\nimport { LabelParser } from '../label-parser';\nimport { codicon } from '../widgets';\n\n// #region Copied from Copied from https://github.com/microsoft/vscode/blob/7d9b1c37f8e5ae3772782ba3b09d827eb3fdd833/src/vs/base/browser/formattedTextRenderer.ts\nexport interface ContentActionHandler {\n    callback: (content: string, event?: MouseEvent | KeyboardEvent) => void;\n    readonly disposables: DisposableGroup;\n}\n\nexport interface FormattedTextRenderOptions {\n    readonly className?: string;\n    readonly inline?: boolean;\n    readonly actionHandler?: ContentActionHandler;\n    readonly renderCodeSegments?: boolean;\n}\n\n// #endregion\n\n// #region Copied from Copied from https://github.com/microsoft/vscode/blob/7d9b1c37f8e5ae3772782ba3b09d827eb3fdd833/src/vs/base/browser/markdownRenderer.ts\n\nexport interface MarkdownRenderResult extends Disposable {\n    element: HTMLElement;\n}\n\nexport interface MarkdownRenderOptions extends FormattedTextRenderOptions {\n    readonly codeBlockRenderer?: (languageId: string, value: string) => Promise<HTMLElement>;\n    readonly asyncRenderCallback?: () => void;\n}\n\n// #endregion\n\n/** Use this directly if you aren't worried about circular dependencies in the Shell */\nexport const MarkdownRenderer = Symbol('MarkdownRenderer');\nexport interface MarkdownRenderer {\n    render(markdown: MarkdownString | undefined, options?: MarkdownRenderOptions): MarkdownRenderResult;\n}\n\n/** Use this to avoid circular dependencies in the Shell */\nexport const MarkdownRendererFactory = Symbol('MarkdownRendererFactory');\nexport interface MarkdownRendererFactory {\n    (): MarkdownRenderer;\n}\n\n@injectable()\nexport class MarkdownRendererImpl implements MarkdownRenderer {\n    @inject(LabelParser) protected readonly labelParser: LabelParser;\n    protected readonly markdownIt = markdownit();\n    protected resetRenderer: Disposable | undefined;\n\n    @postConstruct()\n    protected init(): void {\n        this.markdownItPlugin();\n    }\n\n    render(markdown: MarkdownString | undefined, options?: MarkdownRenderOptions): MarkdownRenderResult {\n        const host = document.createElement('div');\n        if (markdown) {\n            const html = this.markdownIt.render(markdown.value);\n            host.innerHTML = DOMPurify.sanitize(html, {\n                ALLOW_UNKNOWN_PROTOCOLS: true // DOMPurify usually strips non http(s) links from hrefs\n            });\n        }\n        return { element: host, dispose: () => { } };\n    }\n\n    protected markdownItPlugin(): void {\n        this.markdownIt.renderer.rules.text = (tokens, idx) => {\n            const content = tokens[idx].content;\n            return this.labelParser.parse(content).map(chunk => {\n                if (typeof chunk === 'string') {\n                    return chunk;\n                }\n                return `<i class=\"${codicon(chunk.name)} ${chunk.animation ? `fa-${chunk.animation}` : ''} icon-inline\"></i>`;\n            }).join('');\n        };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Channel, Event } from '../../common';\n\nexport const ConnectionSource = Symbol('ConnectionSource');\n\n/**\n * A ConnectionSource creates a Channel. The channel is valid until it sends a close event.\n */\nexport interface ConnectionSource {\n    onConnectionDidOpen: Event<Channel>;\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './ws-connection-provider';\n","// *****************************************************************************\n// Copyright (C) 2020 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, interfaces, postConstruct } from 'inversify';\nimport { Channel, RpcProxy, RpcProxyFactory } from '../../common';\nimport { ChannelMultiplexer } from '../../common/message-rpc/channel';\nimport { Deferred } from '../../common/promise-util';\nimport { ConnectionSource } from './connection-source';\n\nexport const LocalConnectionProvider = Symbol('LocalConnectionProvider');\nexport const RemoteConnectionProvider = Symbol('RemoteConnectionProvider');\n\nexport namespace ServiceConnectionProvider {\n    export type ConnectionHandler = (path: String, channel: Channel) => void;\n}\n\n/**\n * This class manages the channels for remote services in the back end\n */\n@injectable()\nexport class ServiceConnectionProvider {\n\n    static createProxy<T extends object>(container: interfaces.Container, path: string, arg?: object): RpcProxy<T> {\n        return container.get<ServiceConnectionProvider>(RemoteConnectionProvider).createProxy(path, arg);\n    }\n\n    static createLocalProxy<T extends object>(container: interfaces.Container, path: string, arg?: object): RpcProxy<T> {\n        return container.get<ServiceConnectionProvider>(LocalConnectionProvider).createProxy(path, arg);\n    }\n\n    static createHandler(container: interfaces.Container, path: string, arg?: object): void {\n        const remote = container.get<ServiceConnectionProvider>(RemoteConnectionProvider);\n        const local = container.get<ServiceConnectionProvider>(LocalConnectionProvider);\n        remote.createProxy(path, arg);\n        if (remote !== local) {\n            local.createProxy(path, arg);\n        }\n    }\n\n    protected readonly channelHandlers = new Map<string, ServiceConnectionProvider.ConnectionHandler>();\n\n    /**\n     * Create a proxy object to remote interface of T type\n     * over a web socket connection for the given path and proxy factory.\n     */\n    createProxy<T extends object>(path: string, factory: RpcProxyFactory<T>): RpcProxy<T>;\n    /**\n     * Create a proxy object to remote interface of T type\n     * over a web socket connection for the given path.\n     *\n     * An optional target can be provided to handle\n     * notifications and requests from a remote side.\n     */\n    createProxy<T extends object>(path: string, target?: object): RpcProxy<T>;\n    createProxy<T extends object>(path: string, arg?: object): RpcProxy<T> {\n        const factory = arg instanceof RpcProxyFactory ? arg : new RpcProxyFactory<T>(arg);\n        this.listen(path, (_, c) => factory.listen(c), true);\n        return factory.createProxy();\n    }\n\n    protected channelMultiplexer: ChannelMultiplexer;\n\n    private channelReadyDeferred = new Deferred<void>();\n    protected get channelReady(): Promise<void> {\n        return this.channelReadyDeferred.promise;\n    }\n\n    @postConstruct()\n    init(): void {\n        this.connectionSource.onConnectionDidOpen(channel => this.handleChannelCreated(channel));\n    }\n\n    @inject(ConnectionSource)\n    protected connectionSource: ConnectionSource;\n\n    /**\n     * This method must be invoked by subclasses when they have created the main channel.\n     * @param mainChannel\n     */\n    protected handleChannelCreated(channel: Channel): void {\n        channel.onClose(() => {\n            this.handleChannelClosed(channel);\n        });\n\n        this.channelMultiplexer = new ChannelMultiplexer(channel);\n        this.channelReadyDeferred.resolve();\n        for (const entry of this.channelHandlers.entries()) {\n            this.openChannel(entry[0], entry[1]);\n        }\n    }\n\n    handleChannelClosed(channel: Channel): void {\n        this.channelReadyDeferred = new Deferred();\n    }\n\n    /**\n     * Install a connection handler for the given path.\n     */\n    listen(path: string, handler: ServiceConnectionProvider.ConnectionHandler, reconnect: boolean): void {\n        this.openChannel(path, handler).then(() => {\n            if (reconnect) {\n                this.channelHandlers.set(path, handler);\n            }\n        });\n\n    }\n\n    private async openChannel(path: string, handler: ServiceConnectionProvider.ConnectionHandler): Promise<void> {\n        await this.channelReady;\n        const newChannel = await this.channelMultiplexer.open(path);\n        handler(path, newChannel);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, interfaces, decorate, unmanaged, inject } from 'inversify';\nimport { RpcProxyFactory, RpcProxy } from '../../common';\nimport { RemoteConnectionProvider, ServiceConnectionProvider } from './service-connection-provider';\n\ndecorate(injectable(), RpcProxyFactory);\ndecorate(unmanaged(), RpcProxyFactory, 0);\n\n/**\n * @deprecated This class serves to keep API compatibility for a while. Use {@linkcode ServiceConnectionProvider} instead.\n */\n@injectable()\nexport class WebSocketConnectionProvider {\n    @inject(RemoteConnectionProvider)\n    private readonly remoteConnectionProvider: ServiceConnectionProvider;\n\n    static createProxy<T extends object>(container: interfaces.Container, path: string, arg?: object): RpcProxy<T> {\n        return ServiceConnectionProvider.createProxy(container, path, arg);\n    }\n\n    static createLocalProxy<T extends object>(container: interfaces.Container, path: string, arg?: object): RpcProxy<T> {\n        return ServiceConnectionProvider.createLocalProxy(container, path, arg);\n    }\n\n    static createHandler(container: interfaces.Container, path: string, arg?: object): void {\n        return ServiceConnectionProvider.createHandler(container, path, arg);\n    }\n\n    createProxy<T extends object>(path: string, target?: object): RpcProxy<T>;\n    createProxy<T extends object>(path: string, factory: RpcProxyFactory<T>): RpcProxy<T> {\n        return this.remoteConnectionProvider.createProxy(path, factory);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { URI, isObject, MaybeArray } from '../common';\nimport { Widget, BaseWidget } from './widgets';\n\n/**\n * `Navigatable` provides an access to an URI of an underlying instance of `Resource`.\n */\nexport interface Navigatable {\n    /**\n     * Return an underlying resource URI.\n     */\n    getResourceUri(): URI | undefined;\n    /**\n     * Creates a new URI to which this navigatable should moved based on the given target resource URI.\n     */\n    createMoveToUri(resourceUri: URI): URI | undefined;\n}\n\nexport namespace Navigatable {\n    export function is(arg: unknown): arg is Navigatable {\n        return isObject(arg) && 'getResourceUri' in arg && 'createMoveToUri' in arg;\n    }\n}\n\nexport type NavigatableWidget = BaseWidget & Navigatable;\nexport namespace NavigatableWidget {\n    export function is(arg: unknown): arg is NavigatableWidget {\n        return arg instanceof BaseWidget && Navigatable.is(arg);\n    }\n    export function* getAffected<T extends Widget>(\n        widgets: Iterable<T>,\n        context: MaybeArray<URI>\n    ): IterableIterator<[URI, T & NavigatableWidget]> {\n        const uris = Array.isArray(context) ? context : [context];\n        return get(widgets, resourceUri => uris.some(uri => uri.isEqualOrParent(resourceUri)));\n    }\n    export function* get<T extends Widget>(\n        widgets: Iterable<T>,\n        filter: (resourceUri: URI) => boolean = () => true\n    ): IterableIterator<[URI, T & NavigatableWidget]> {\n        for (const widget of widgets) {\n            if (NavigatableWidget.is(widget)) {\n                const resourceUri = widget.getResourceUri();\n                if (resourceUri && filter(resourceUri)) {\n                    yield [resourceUri, widget];\n                }\n            }\n        }\n    }\n    export function getUri(widget?: Widget): URI | undefined {\n        if (is(widget)) {\n            return widget.getResourceUri();\n        }\n    }\n}\n\nexport interface NavigatableWidgetOptions {\n    kind: 'navigatable';\n    uri: string;\n    counter?: number;\n}\nexport namespace NavigatableWidgetOptions {\n    export function is(arg: unknown): arg is NavigatableWidgetOptions {\n        return isObject(arg) && arg.kind === 'navigatable';\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport URI from '../common/uri';\nimport { WidgetOpenHandler, WidgetOpenerOptions } from './widget-open-handler';\nimport { NavigatableWidget, NavigatableWidgetOptions } from './navigatable-types';\nexport * from './navigatable-types';\n\nexport abstract class NavigatableWidgetOpenHandler<W extends NavigatableWidget> extends WidgetOpenHandler<W> {\n\n    protected createWidgetOptions(uri: URI, options?: WidgetOpenerOptions): NavigatableWidgetOptions {\n        return {\n            kind: 'navigatable',\n            uri: this.serializeUri(uri)\n        };\n    }\n\n    protected serializeUri(uri: URI): string {\n        if (uri.scheme === 'file') {\n            return uri.withoutFragment().normalizePath().toString();\n        } else {\n            return uri.withoutFragment().toString();\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { named, injectable, inject } from 'inversify';\nimport URI from '../common/uri';\nimport { ContributionProvider, Prioritizeable, MaybePromise, Emitter, Event, Disposable } from '../common';\n\nexport interface OpenerOptions {\n}\n\nexport const OpenHandler = Symbol('OpenHandler');\n/**\n * `OpenHandler` should be implemented to provide a new opener.\n */\nexport interface OpenHandler {\n    /**\n     * A unique id of this handler.\n     */\n    readonly id: string;\n    /**\n     * A human-readable name of this handler.\n     */\n    readonly label?: string;\n    /**\n     * A css icon class of this handler.\n     */\n    readonly iconClass?: string;\n    /**\n     * Test whether this handler can open the given URI for given options.\n     * Return a nonzero number if this handler can open; otherwise it cannot.\n     * Never reject.\n     *\n     * A returned value indicating a priority of this handler.\n     */\n    canHandle(uri: URI, options?: OpenerOptions): MaybePromise<number>;\n    /**\n     * Open a widget for the given URI and options.\n     * Resolve to an opened widget or undefined, e.g. if a page is opened.\n     * Never reject if `canHandle` return a positive number; otherwise should reject.\n     */\n    open(uri: URI, options?: OpenerOptions): MaybePromise<object | undefined>;\n}\n\nexport const OpenerService = Symbol('OpenerService');\n/**\n * `OpenerService` provide an access to existing openers.\n */\nexport interface OpenerService {\n    /**\n     * Return all registered openers.\n     * Never reject.\n     */\n    getOpeners(): Promise<OpenHandler[]>;\n    /**\n     * Return all openers able to open the given URI for given options\n     * ordered according their priority.\n     * Never reject.\n     */\n    getOpeners(uri: URI, options?: OpenerOptions): Promise<OpenHandler[]>;\n    /**\n     * Return an opener with the higher priority for the given URI.\n     * Reject if such does not exist.\n     */\n    getOpener(uri: URI, options?: OpenerOptions): Promise<OpenHandler>;\n    /**\n     * Add open handler i.e. for custom editors\n     */\n    addHandler?(openHandler: OpenHandler): Disposable;\n    /**\n     * Event that fires when a new opener is added or removed.\n     */\n    onDidChangeOpeners?: Event<void>;\n}\n\nexport async function open(openerService: OpenerService, uri: URI, options?: OpenerOptions): Promise<object | undefined> {\n    const opener = await openerService.getOpener(uri, options);\n    return opener.open(uri, options);\n}\n\n@injectable()\nexport class DefaultOpenerService implements OpenerService {\n    // Collection of open-handlers for custom-editor contributions.\n    protected readonly customEditorOpenHandlers: OpenHandler[] = [];\n\n    protected readonly onDidChangeOpenersEmitter = new Emitter<void>();\n    readonly onDidChangeOpeners = this.onDidChangeOpenersEmitter.event;\n\n    constructor(\n        @inject(ContributionProvider) @named(OpenHandler)\n        protected readonly handlersProvider: ContributionProvider<OpenHandler>\n    ) { }\n\n    addHandler(openHandler: OpenHandler): Disposable {\n        this.customEditorOpenHandlers.push(openHandler);\n        this.onDidChangeOpenersEmitter.fire();\n\n        return Disposable.create(() => {\n            this.customEditorOpenHandlers.splice(this.customEditorOpenHandlers.indexOf(openHandler), 1);\n            this.onDidChangeOpenersEmitter.fire();\n        });\n    }\n\n    async getOpener(uri: URI, options?: OpenerOptions): Promise<OpenHandler> {\n        const handlers = await this.prioritize(uri, options);\n        if (handlers.length >= 1) {\n            return handlers[0];\n        }\n        return Promise.reject(new Error(`There is no opener for ${uri}.`));\n    }\n\n    async getOpeners(uri?: URI, options?: OpenerOptions): Promise<OpenHandler[]> {\n        return uri ? this.prioritize(uri, options) : this.getHandlers();\n    }\n\n    protected async prioritize(uri: URI, options?: OpenerOptions): Promise<OpenHandler[]> {\n        const prioritized = await Prioritizeable.prioritizeAll(this.getHandlers(), async handler => {\n            try {\n                return await handler.canHandle(uri, options);\n            } catch {\n                return 0;\n            }\n        });\n        return prioritized.map(p => p.value);\n    }\n\n    protected getHandlers(): OpenHandler[] {\n        return [\n            ...this.handlersProvider.getContributions(),\n            ...this.customEditorOpenHandlers\n        ];\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './preference-service';\nexport * from './preference-proxy';\nexport * from './preference-contribution';\nexport * from './preference-provider';\nexport * from './preference-scope';\nexport * from './preference-language-override-service';\nexport * from './preference-validation-service';\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from 'inversify';\nimport { PreferenceSchema } from '../../common/preferences/preference-schema';\nimport { Disposable, DisposableCollection, Emitter, Event, isObject, MaybePromise } from '../../common';\nimport { PreferenceChangeEvent, PreferenceEventEmitter, PreferenceProxy, PreferenceProxyOptions, PreferenceRetrieval } from './preference-proxy';\nimport { PreferenceChange, PreferenceChangeImpl, PreferenceChanges, PreferenceScope, PreferenceService } from './preference-service';\nimport { JSONValue } from '@phosphor/coreutils';\nimport { PreferenceProviderDataChange } from './preference-provider';\nimport { OverridePreferenceName } from './preference-language-override-service';\n\nexport const PreferenceProxySchema = Symbol('PreferenceProxySchema');\nexport interface PreferenceProxyFactory {\n    <T>(schema: MaybePromise<PreferenceSchema>, options?: PreferenceProxyOptions): PreferenceProxy<T>;\n}\nexport const PreferenceProxyFactory = Symbol('PreferenceProxyFactory');\n\nexport class PreferenceProxyChange extends PreferenceChangeImpl {\n    constructor(change: PreferenceProviderDataChange, protected readonly overrideIdentifier?: string) {\n        super(change);\n    }\n\n    override affects(resourceUri?: string, overrideIdentifier?: string): boolean {\n        if (overrideIdentifier !== this.overrideIdentifier) {\n            return false;\n        }\n        return super.affects(resourceUri);\n    }\n}\n\n@injectable()\nexport class InjectablePreferenceProxy<T extends Record<string, JSONValue>> implements\n    ProxyHandler<T>, ProxyHandler<Disposable>, ProxyHandler<PreferenceEventEmitter<T>>, ProxyHandler<PreferenceRetrieval<T>> {\n\n    @inject(PreferenceProxyOptions) protected readonly options: PreferenceProxyOptions;\n    @inject(PreferenceService) protected readonly preferences: PreferenceService;\n    @inject(PreferenceProxySchema) protected readonly promisedSchema: () => PreferenceSchema | Promise<PreferenceSchema>;\n    @inject(PreferenceProxyFactory) protected readonly factory: PreferenceProxyFactory;\n    protected toDispose = new DisposableCollection();\n    protected _onPreferenceChangedEmitter: Emitter<PreferenceChangeEvent<T>> | undefined;\n    protected schema: PreferenceSchema | undefined;\n\n    protected get prefix(): string {\n        return this.options.prefix ?? '';\n    }\n\n    protected get style(): Required<PreferenceProxyOptions>['style'] {\n        return this.options.style ?? 'flat';\n    }\n\n    protected get resourceUri(): PreferenceProxyOptions['resourceUri'] {\n        return this.options.resourceUri;\n    }\n\n    protected get overrideIdentifier(): PreferenceProxyOptions['overrideIdentifier'] {\n        return this.options.overrideIdentifier;\n    }\n\n    protected get isDeep(): boolean {\n        const { style } = this;\n        return style === 'deep' || style === 'both';\n    }\n\n    protected get isFlat(): boolean {\n        const { style } = this;\n        return style === 'flat' || style === 'both';\n    }\n\n    protected get onPreferenceChangedEmitter(): Emitter<PreferenceChangeEvent<T>> {\n        if (!this._onPreferenceChangedEmitter) {\n            this._onPreferenceChangedEmitter = new Emitter();\n            this.subscribeToChangeEvents();\n            this.toDispose.push(this._onPreferenceChangedEmitter);\n        }\n        return this._onPreferenceChangedEmitter;\n    }\n\n    get onPreferenceChanged(): Event<PreferenceChangeEvent<T>> {\n        return this.onPreferenceChangedEmitter.event;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        const schema = this.promisedSchema();\n        if (schema instanceof Promise) {\n            schema.then(resolvedSchema => this.schema = resolvedSchema);\n        } else {\n            this.schema = schema;\n        }\n    }\n\n    get(target: unknown, property: string, receiver: unknown): unknown {\n        if (typeof property !== 'string') {\n            throw new Error(`Unexpected property: ${String(property)}`);\n        }\n        const preferenceName = this.prefix + property;\n        if (this.schema && (this.isFlat || !property.includes('.')) && this.schema.properties[preferenceName]) {\n            const { overrideIdentifier } = this;\n            const toGet = overrideIdentifier ? this.preferences.overridePreferenceName({ overrideIdentifier, preferenceName }) : preferenceName;\n            return this.getValue(toGet as keyof T & string, undefined!);\n        }\n        switch (property) {\n            case 'onPreferenceChanged':\n                return this.onPreferenceChanged;\n            case 'dispose':\n                return this.dispose.bind(this);\n            case 'ready':\n                return Promise.all([this.preferences.ready, this.promisedSchema]).then(() => undefined);\n            case 'get':\n                return this.getValue.bind(this);\n            case 'toJSON':\n                return this.toJSON.bind(this);\n            case 'ownKeys':\n                return this.ownKeys.bind(this);\n        }\n        if (this.schema && this.isDeep) {\n            const prefix = `${preferenceName}.`;\n            if (Object.keys(this.schema.properties).some(key => key.startsWith(prefix))) {\n                const { style, resourceUri, overrideIdentifier } = this;\n                return this.factory(this.schema, { prefix, resourceUri, style, overrideIdentifier });\n            }\n            let value: any; // eslint-disable-line @typescript-eslint/no-explicit-any\n            let parentSegment = preferenceName;\n            const segments = [];\n            do {\n                const index = parentSegment.lastIndexOf('.');\n                segments.push(parentSegment.substring(index + 1));\n                parentSegment = parentSegment.substring(0, index);\n                if (parentSegment in this.schema.properties) {\n                    value = this.get(target, parentSegment, receiver);\n                }\n            } while (parentSegment && value === undefined);\n\n            let segment;\n            while (isObject(value) && (segment = segments.pop())) {\n                value = value[segment];\n            }\n            return segments.length ? undefined : value;\n        }\n    }\n\n    set(target: unknown, property: string, value: unknown, receiver: unknown): boolean {\n        if (typeof property !== 'string') {\n            throw new Error(`Unexpected property: ${String(property)}`);\n        }\n        const { style, schema, prefix, resourceUri, overrideIdentifier } = this;\n        if (style === 'deep' && property.indexOf('.') !== -1) {\n            return false;\n        }\n        if (schema) {\n            const fullProperty = prefix ? prefix + property : property;\n            if (schema.properties[fullProperty]) {\n                this.preferences.set(fullProperty, value, PreferenceScope.Default);\n                return true;\n            }\n            const newPrefix = fullProperty + '.';\n            for (const p of Object.keys(schema.properties)) {\n                if (p.startsWith(newPrefix)) {\n                    const subProxy = this.factory<T>(schema, {\n                        prefix: newPrefix,\n                        resourceUri,\n                        overrideIdentifier,\n                        style\n                    }) as any; // eslint-disable-line @typescript-eslint/no-explicit-any\n                    const valueAsContainer = value as T;\n                    for (const k of Object.keys(valueAsContainer)) {\n                        subProxy[k as keyof T] = valueAsContainer[k as keyof T];\n                    }\n                }\n            }\n        }\n        return false;\n    }\n\n    ownKeys(): string[] {\n        const properties = [];\n        if (this.schema) {\n            const { isDeep, isFlat, prefix } = this;\n            for (const property of Object.keys(this.schema.properties)) {\n                if (property.startsWith(prefix)) {\n                    const idx = property.indexOf('.', prefix.length);\n                    if (idx !== -1 && isDeep) {\n                        const pre = property.substring(prefix.length, idx);\n                        if (properties.indexOf(pre) === -1) {\n                            properties.push(pre);\n                        }\n                    }\n                    const prop = property.substring(prefix.length);\n                    if (isFlat || prop.indexOf('.') === -1) {\n                        properties.push(prop);\n                    }\n                }\n            }\n        }\n        return properties;\n    }\n\n    getOwnPropertyDescriptor(target: unknown, property: string): PropertyDescriptor {\n        if (this.ownKeys().includes(property)) {\n            return {\n                enumerable: true,\n                configurable: true\n            };\n        }\n        return {};\n    }\n\n    deleteProperty(): never {\n        throw new Error('Unsupported operation');\n    }\n\n    defineProperty(): never {\n        throw new Error('Unsupported operation');\n    }\n\n    toJSON(): JSONValue {\n        const result: JSONValue = {};\n        for (const key of this.ownKeys()) {\n            result[key] = this.get(undefined, key, undefined) as JSONValue;\n        }\n        return result;\n    };\n\n    protected subscribeToChangeEvents(): void {\n        this.toDispose.push(this.preferences.onPreferencesChanged(changes => this.handlePreferenceChanges(changes)));\n    }\n\n    protected handlePreferenceChanges(changes: PreferenceChanges): void {\n        if (this.schema) {\n            for (const change of Object.values(changes)) {\n                const overrideInfo = this.preferences.overriddenPreferenceName(change.preferenceName);\n                if (this.isRelevantChange(change, overrideInfo)) {\n                    this.fireChangeEvent(this.buildNewChangeEvent(change, overrideInfo));\n                }\n            }\n        }\n    }\n\n    protected isRelevantChange(change: PreferenceChange, overrideInfo?: OverridePreferenceName): boolean {\n        const preferenceName = overrideInfo?.preferenceName ?? change.preferenceName;\n        return preferenceName.startsWith(this.prefix)\n            && (!this.overrideIdentifier || overrideInfo?.overrideIdentifier === this.overrideIdentifier)\n            && Boolean(this.schema?.properties[preferenceName]);\n    }\n\n    protected fireChangeEvent(change: PreferenceChangeEvent<T>): void {\n        this.onPreferenceChangedEmitter.fire(change);\n    }\n\n    protected buildNewChangeEvent(change: PreferenceProviderDataChange, overrideInfo?: OverridePreferenceName): PreferenceChangeEvent<T> {\n        const preferenceName = (overrideInfo?.preferenceName ?? change.preferenceName) as keyof T & string;\n        const { newValue, oldValue, scope, domain } = change;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return new PreferenceProxyChange({ newValue, oldValue, preferenceName, scope, domain }, overrideInfo?.overrideIdentifier) as any;\n    }\n\n    protected getValue<K extends keyof T & string>(\n        preferenceIdentifier: K | OverridePreferenceName & { preferenceName: K }, defaultValue: T[K], resourceUri = this.resourceUri\n    ): T[K] {\n        const preferenceName = OverridePreferenceName.is(preferenceIdentifier) ? this.preferences.overridePreferenceName(preferenceIdentifier) : preferenceIdentifier as string;\n        return this.preferences.get(preferenceName, defaultValue, resourceUri);\n    }\n\n    dispose(): void {\n        if (this.options.isDisposable) {\n            this.toDispose.dispose();\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, named, interfaces } from 'inversify';\nimport URI from '../../common/uri';\nimport { ContributionProvider, bindContributionProvider } from '../../common/contribution-provider';\n\nexport const PreferenceConfiguration = Symbol('PreferenceConfiguration');\nexport interface PreferenceConfiguration {\n    name: string;\n}\n\nexport function bindPreferenceConfigurations(bind: interfaces.Bind): void {\n    bindContributionProvider(bind, PreferenceConfiguration);\n    bind(PreferenceConfigurations).toSelf().inSingletonScope();\n}\n\n@injectable()\nexport class PreferenceConfigurations {\n\n    @inject(ContributionProvider) @named(PreferenceConfiguration)\n    protected readonly provider: ContributionProvider<PreferenceConfiguration>;\n\n    /* prefer Theia over VS Code by default */\n    getPaths(): string[] {\n        return ['.theia', '.vscode'];\n    }\n\n    getConfigName(): string {\n        return 'settings';\n    }\n\n    protected sectionNames: string[] | undefined;\n    getSectionNames(): string[] {\n        if (!this.sectionNames) {\n            this.sectionNames = this.provider.getContributions().map(p => p.name);\n        }\n        return this.sectionNames;\n    }\n\n    isSectionName(name: string): boolean {\n        return this.getSectionNames().indexOf(name) !== -1;\n    }\n\n    isAnyConfig(name: string): boolean {\n        return [...this.getSectionNames(), this.getConfigName()].includes(name);\n    }\n\n    isSectionUri(configUri: URI | undefined): boolean {\n        return !!configUri && this.isSectionName(this.getName(configUri));\n    }\n\n    isConfigUri(configUri: URI | undefined): boolean {\n        return !!configUri && this.getName(configUri) === this.getConfigName();\n    }\n\n    getName(configUri: URI): string {\n        return configUri.path.name;\n    }\n\n    getPath(configUri: URI): string {\n        return configUri.parent.path.base;\n    }\n\n    createUri(folder: URI, configPath: string = this.getPaths()[0], configName: string = this.getConfigName()): URI {\n        return folder.resolve(configPath).resolve(configName + '.json');\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as Ajv from 'ajv';\nimport { inject, injectable, interfaces, named, postConstruct } from 'inversify';\nimport { ContributionProvider, bindContributionProvider, Emitter, Event, Disposable } from '../../common';\nimport { PreferenceScope } from './preference-scope';\nimport { PreferenceProvider, PreferenceProviderDataChange } from './preference-provider';\nimport {\n    PreferenceSchema, PreferenceSchemaProperties, PreferenceDataSchema, PreferenceItem, PreferenceSchemaProperty, PreferenceDataProperty\n} from '../../common/preferences/preference-schema';\nimport { FrontendApplicationConfigProvider } from '../frontend-application-config-provider';\nimport { FrontendApplicationConfig } from '@theia/application-package/lib/application-props';\nimport { bindPreferenceConfigurations, PreferenceConfigurations } from './preference-configurations';\nexport { PreferenceSchema, PreferenceSchemaProperties, PreferenceDataSchema, PreferenceItem, PreferenceSchemaProperty, PreferenceDataProperty };\nimport { isObject, Mutable } from '../../common/types';\nimport { PreferenceLanguageOverrideService } from './preference-language-override-service';\nimport { JSONValue } from '@phosphor/coreutils';\n\n/* eslint-disable guard-for-in, @typescript-eslint/no-explicit-any */\n\nexport const PreferenceContribution = Symbol('PreferenceContribution');\n\nexport const DefaultOverridesPreferenceSchemaId = 'defaultOverrides';\n\n/**\n * A {@link PreferenceContribution} allows adding additional custom preferences.\n * For this, the {@link PreferenceContribution} has to provide a valid JSON Schema specifying which preferences\n * are available including their types and description.\n *\n * ### Example usage\n * ```typescript\n * const MyPreferencesSchema: PreferenceSchema = {\n *     'type': 'object',\n *     'properties': {\n *         'myext.decorations.enabled': {\n *             'type': 'boolean',\n *             'description': 'Show file status',\n *             'default': true\n *         },\n *         // [...]\n *     }\n * }\n * @injectable()\n * export class MyPreferenceContribution implements PreferenceContribution{\n *     schema= MyPreferencesSchema;\n * }\n * ```\n */\nexport interface PreferenceContribution {\n    readonly schema: PreferenceSchema;\n}\n\nexport function bindPreferenceSchemaProvider(bind: interfaces.Bind): void {\n    bindPreferenceConfigurations(bind);\n    bind(PreferenceSchemaProvider).toSelf().inSingletonScope();\n    bind(PreferenceLanguageOverrideService).toSelf().inSingletonScope();\n    bindContributionProvider(bind, PreferenceContribution);\n}\n\n/**\n * Specialized {@link FrontendApplicationConfig} to configure default\n * preference values for the {@link PreferenceSchemaProvider}.\n */\nexport interface FrontendApplicationPreferenceConfig extends FrontendApplicationConfig {\n    preferences: {\n        [preferenceName: string]: any\n    }\n}\nexport namespace FrontendApplicationPreferenceConfig {\n    export function is(config: FrontendApplicationConfig): config is FrontendApplicationPreferenceConfig {\n        return isObject(config.preferences);\n    }\n}\n\n/**\n * The {@link PreferenceSchemaProvider} collects all {@link PreferenceContribution}s and combines\n * the preference schema provided by these contributions into one collective schema. The preferences which\n * are provided by this {@link PreferenceProvider} are derived from this combined schema.\n */\n@injectable()\nexport class PreferenceSchemaProvider extends PreferenceProvider {\n\n    protected readonly preferences: { [name: string]: any } = {};\n    protected readonly combinedSchema: PreferenceDataSchema = { properties: {}, patternProperties: {}, allowComments: true, allowTrailingCommas: true, };\n    protected readonly workspaceSchema: PreferenceDataSchema = { properties: {}, patternProperties: {}, allowComments: true, allowTrailingCommas: true, };\n    protected readonly folderSchema: PreferenceDataSchema = { properties: {}, patternProperties: {}, allowComments: true, allowTrailingCommas: true, };\n\n    @inject(ContributionProvider) @named(PreferenceContribution)\n    protected readonly preferenceContributions: ContributionProvider<PreferenceContribution>;\n\n    @inject(PreferenceConfigurations)\n    protected readonly configurations: PreferenceConfigurations;\n\n    protected readonly onDidPreferenceSchemaChangedEmitter = new Emitter<void>();\n    readonly onDidPreferenceSchemaChanged: Event<void> = this.onDidPreferenceSchemaChangedEmitter.event;\n    protected fireDidPreferenceSchemaChanged(): void {\n        this.onDidPreferenceSchemaChangedEmitter.fire(undefined);\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.readConfiguredPreferences();\n        this.preferenceContributions.getContributions().forEach(contrib => {\n            this.doSetSchema(contrib.schema);\n        });\n        this.combinedSchema.additionalProperties = false;\n        this._ready.resolve();\n    }\n\n    /**\n     * Register a new overrideIdentifier. Existing identifiers are not replaced.\n     *\n     * Allows overriding existing values while keeping both values in store.\n     * For example to store different editor settings, e.g. \"[markdown].editor.autoIndent\",\n     * \"[json].editor.autoIndent\" and \"editor.autoIndent\"\n     * @param overrideIdentifier the new overrideIdentifier\n     */\n    registerOverrideIdentifier(overrideIdentifier: string): void {\n        if (this.preferenceOverrideService.addOverrideIdentifier(overrideIdentifier)) {\n            this.updateOverridePatternPropertiesKey();\n        }\n    }\n\n    protected readonly overridePatternProperties: Required<Pick<PreferenceDataProperty, 'properties' | 'additionalProperties'>> & PreferenceDataProperty = {\n        type: 'object',\n        description: 'Configure editor settings to be overridden for a language.',\n        errorMessage: 'Unknown Identifier. Use language identifiers',\n        properties: {},\n        additionalProperties: false\n    };\n    protected overridePatternPropertiesKey: string | undefined;\n    protected updateOverridePatternPropertiesKey(): void {\n        const oldKey = this.overridePatternPropertiesKey;\n        const newKey = this.preferenceOverrideService.computeOverridePatternPropertiesKey();\n        if (oldKey === newKey) {\n            return;\n        }\n        if (oldKey) {\n            delete this.combinedSchema.patternProperties[oldKey];\n        }\n        this.overridePatternPropertiesKey = newKey;\n        if (newKey) {\n            this.combinedSchema.patternProperties[newKey] = this.overridePatternProperties;\n        }\n        this.fireDidPreferenceSchemaChanged();\n    }\n\n    protected doUnsetSchema(changes: PreferenceProviderDataChange[]): PreferenceProviderDataChange[] {\n        const inverseChanges: PreferenceProviderDataChange[] = [];\n        for (const change of changes) {\n            const preferenceName = change.preferenceName;\n            const overridden = this.preferenceOverrideService.overriddenPreferenceName(preferenceName);\n            if (overridden) {\n                delete this.overridePatternProperties.properties[`[${overridden.overrideIdentifier}]`];\n                this.removePropFromSchemas(`[${overridden.overrideIdentifier}]`);\n            } else {\n                this.removePropFromSchemas(preferenceName);\n            }\n            const newValue = change.oldValue;\n            const oldValue = change.newValue;\n            const { scope, domain } = change;\n            const inverseChange: Mutable<PreferenceProviderDataChange> = { preferenceName, oldValue, scope, domain };\n            if (typeof newValue === undefined) {\n                delete this.preferences[preferenceName];\n            } else {\n                inverseChange.newValue = newValue;\n                this.preferences[preferenceName] = newValue;\n            }\n            inverseChanges.push(inverseChange);\n        }\n        return inverseChanges;\n    }\n\n    protected validateSchema(schema: PreferenceSchema): void {\n        const ajv = new Ajv();\n        const valid = ajv.validateSchema(schema);\n        if (!valid) {\n            const errors = !!ajv.errors ? ajv.errorsText(ajv.errors) : 'unknown validation error';\n            console.warn('A contributed preference schema has validation issues : ' + errors);\n        }\n    }\n\n    protected doSetSchema(schema: PreferenceSchema): PreferenceProviderDataChange[] {\n        if (FrontendApplicationConfigProvider.get().validatePreferencesSchema) {\n            this.validateSchema(schema);\n        }\n        const scope = PreferenceScope.Default;\n        const domain = this.getDomain();\n        const changes: PreferenceProviderDataChange[] = [];\n        const defaultScope = PreferenceSchema.getDefaultScope(schema);\n        const overridable = schema.overridable || false;\n        for (const [preferenceName, rawSchemaProps] of Object.entries(schema.properties)) {\n            if (this.combinedSchema.properties[preferenceName] && DefaultOverridesPreferenceSchemaId !== schema.id) {\n                console.error('Preference name collision detected in the schema for property: ' + preferenceName);\n            } else {\n                let schemaProps;\n                if (this.combinedSchema.properties[preferenceName] && DefaultOverridesPreferenceSchemaId === schema.id) {\n                    // update existing default value in schema\n                    schemaProps = PreferenceDataProperty.fromPreferenceSchemaProperty(rawSchemaProps, defaultScope);\n                    this.updateSchemaPropsDefault(preferenceName, schemaProps);\n                } else if (!rawSchemaProps.hasOwnProperty('included') || rawSchemaProps.included) {\n                    // add overrides for languages\n                    schemaProps = PreferenceDataProperty.fromPreferenceSchemaProperty(rawSchemaProps, defaultScope);\n                    if (typeof schemaProps.overridable !== 'boolean' && overridable) {\n                        schemaProps.overridable = true;\n                    }\n                    if (schemaProps.overridable) {\n                        this.overridePatternProperties.properties[preferenceName] = schemaProps;\n                    }\n                    this.updateSchemaProps(preferenceName, schemaProps);\n                }\n\n                if (schemaProps !== undefined) {\n                    const schemaDefault = this.getDefaultValue(schemaProps);\n                    const configuredDefault = this.getConfiguredDefault(preferenceName);\n                    if (this.preferenceOverrideService.testOverrideValue(preferenceName, schemaDefault)) {\n                        schemaProps.defaultValue = PreferenceSchemaProperties.is(configuredDefault)\n                            ? PreferenceProvider.merge(schemaDefault, configuredDefault)\n                            : schemaDefault;\n                        if (schemaProps.defaultValue && PreferenceSchemaProperties.is(schemaProps.defaultValue)) {\n                            for (const overriddenPreferenceName in schemaProps.defaultValue) {\n                                const overrideValue = schemaDefault[overriddenPreferenceName];\n                                const overridePreferenceName = `${preferenceName}.${overriddenPreferenceName}`;\n                                changes.push(this.doSetPreferenceValue(overridePreferenceName, overrideValue, { scope, domain }));\n                            }\n                        }\n                    } else {\n                        schemaProps.defaultValue = configuredDefault === undefined ? schemaDefault : configuredDefault;\n                        changes.push(this.doSetPreferenceValue(preferenceName, schemaProps.defaultValue, { scope, domain }));\n                    }\n                }\n            }\n        }\n        return changes;\n    }\n\n    protected doSetPreferenceValue(preferenceName: string, newValue: any, { scope, domain }: {\n        scope: PreferenceScope,\n        domain?: string[]\n    }): PreferenceProviderDataChange {\n        const oldValue = this.preferences[preferenceName];\n        this.preferences[preferenceName] = newValue;\n        return { preferenceName, oldValue, newValue, scope, domain };\n    }\n\n    getDefaultValue(property: PreferenceItem): JSONValue {\n        if (property.defaultValue !== undefined) {\n            return property.defaultValue;\n        }\n        if (property.default !== undefined) {\n            return property.default;\n        }\n        const type = Array.isArray(property.type) ? property.type[0] : property.type;\n        switch (type) {\n            case 'boolean':\n                return false;\n            case 'integer':\n            case 'number':\n                return 0;\n            case 'string':\n                return '';\n            case 'array':\n                return [];\n            case 'object':\n                return {};\n        }\n        // eslint-disable-next-line no-null/no-null\n        return null;\n    }\n\n    protected getConfiguredDefault(preferenceName: string): any {\n        const config = FrontendApplicationConfigProvider.get();\n        if (preferenceName && FrontendApplicationPreferenceConfig.is(config) && preferenceName in config.preferences) {\n            return config.preferences[preferenceName];\n        }\n    }\n\n    getCombinedSchema(): PreferenceDataSchema {\n        return this.combinedSchema;\n    }\n\n    getSchema(scope: PreferenceScope): PreferenceDataSchema {\n        switch (scope) {\n            case PreferenceScope.Default:\n            case PreferenceScope.User:\n                return this.combinedSchema;\n            case PreferenceScope.Workspace:\n                return this.workspaceSchema;\n            case PreferenceScope.Folder:\n                return this.folderSchema;\n        }\n    }\n\n    setSchema(schema: PreferenceSchema): Disposable {\n        const changes = this.doSetSchema(schema);\n        if (!changes.length) {\n            return Disposable.NULL;\n        }\n        this.fireDidPreferenceSchemaChanged();\n        this.emitPreferencesChangedEvent(changes);\n        return Disposable.create(() => {\n            const inverseChanges = this.doUnsetSchema(changes);\n            if (!inverseChanges.length) {\n                return;\n            }\n            this.fireDidPreferenceSchemaChanged();\n            this.emitPreferencesChangedEvent(inverseChanges);\n        });\n    }\n\n    getPreferences(): { [name: string]: any } {\n        return this.preferences;\n    }\n\n    async setPreference(): Promise<boolean> {\n        return false;\n    }\n\n    isValidInScope(preferenceName: string, scope: PreferenceScope): boolean {\n        let property;\n        const overridden = this.preferenceOverrideService.overriddenPreferenceName(preferenceName);\n        if (overridden) {\n            // try from overridden schema\n            property = this.overridePatternProperties[`[${overridden.overrideIdentifier}]`];\n            property = property && property[overridden.preferenceName];\n            if (!property) {\n                // try from overridden identifier\n                property = this.overridePatternProperties[overridden.preferenceName];\n            }\n            if (!property) {\n                // try from overridden value\n                property = this.combinedSchema.properties[overridden.preferenceName];\n            }\n        } else {\n            property = this.combinedSchema.properties[preferenceName];\n        }\n        return property && property.scope! >= scope;\n    }\n\n    *getPreferenceNames(): IterableIterator<string> {\n        for (const preferenceName in this.combinedSchema.properties) {\n            yield preferenceName;\n            for (const overridePreferenceName of this.getOverridePreferenceNames(preferenceName)) {\n                yield overridePreferenceName;\n            }\n        }\n    }\n\n    getOverridePreferenceNames(preferenceName: string): IterableIterator<string> {\n        const preference = this.combinedSchema.properties[preferenceName];\n        if (preference && preference.overridable) {\n            return this.preferenceOverrideService.getOverridePreferenceNames(preferenceName);\n        }\n        return [][Symbol.iterator]();\n    }\n\n    getSchemaProperty(key: string): PreferenceDataProperty | undefined {\n        return this.combinedSchema.properties[key];\n    }\n\n    /**\n     * {@link property} will be assigned to field {@link key} in the schema.\n     * Pass a new object to invalidate old schema.\n     */\n    updateSchemaProperty(key: string, property: PreferenceDataProperty): void {\n        this.updateSchemaProps(key, property);\n        this.fireDidPreferenceSchemaChanged();\n    }\n\n    protected updateSchemaProps(key: string, property: PreferenceDataProperty): void {\n        this.combinedSchema.properties[key] = property;\n\n        switch (property.scope) {\n            case PreferenceScope.Folder:\n                this.folderSchema.properties[key] = property;\n            // Fall through. isValidInScope implies that User  Workspace  Folder,\n            // so anything we add to folder should be added to workspace, but not vice versa.\n            case PreferenceScope.Workspace:\n                this.workspaceSchema.properties[key] = property;\n                break;\n        }\n    }\n\n    protected updateSchemaPropsDefault(key: string, property: PreferenceDataProperty): void {\n        this.combinedSchema.properties[key].default = property.default;\n        this.combinedSchema.properties[key].defaultValue = property.defaultValue;\n        if (this.workspaceSchema.properties[key]) {\n            this.workspaceSchema.properties[key].default = property.default;\n            this.workspaceSchema.properties[key].defaultValue = property.defaultValue;\n        }\n        if (this.folderSchema.properties[key]) {\n            this.folderSchema.properties[key].default = property.default;\n            this.folderSchema.properties[key].defaultValue = property.defaultValue;\n        }\n    }\n\n    protected removePropFromSchemas(key: string): void {\n        // If we remove a key from combined, it should also be removed from all narrower scopes.\n        delete this.combinedSchema.properties[key];\n        delete this.workspaceSchema.properties[key];\n        delete this.folderSchema.properties[key];\n    }\n\n    protected readConfiguredPreferences(): void {\n        const config = FrontendApplicationConfigProvider.get();\n        if (FrontendApplicationPreferenceConfig.is(config)) {\n            try {\n                const configuredDefaults = config.preferences;\n                const parsedDefaults = this.getParsedContent(configuredDefaults);\n                Object.assign(this.preferences, parsedDefaults);\n                const scope = PreferenceScope.Default;\n                const domain = this.getDomain();\n                const changes: PreferenceProviderDataChange[] = Object.keys(this.preferences)\n                    .map((key): PreferenceProviderDataChange => ({ preferenceName: key, oldValue: undefined, newValue: this.preferences[key], scope, domain }));\n                this.emitPreferencesChangedEvent(changes);\n            } catch (e) {\n                console.error('Failed to load preferences from frontend configuration.', e);\n            }\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { escapeRegExpCharacters, isObject } from '../../common';\nimport { PreferenceSchemaProperties } from '../../common/preferences/preference-schema';\n\nexport interface OverridePreferenceName {\n    preferenceName: string\n    overrideIdentifier: string\n}\nexport namespace OverridePreferenceName {\n    export function is(arg: unknown): arg is OverridePreferenceName {\n        return isObject(arg) && 'preferenceName' in arg && 'overrideIdentifier' in arg;\n    }\n}\n\nconst OVERRIDE_PROPERTY = '\\\\[(.*)\\\\]$';\nexport const OVERRIDE_PROPERTY_PATTERN = new RegExp(OVERRIDE_PROPERTY);\nexport const getOverridePattern = (identifier: string) => `\\\\[(${identifier})\\\\]$`;\n\n@injectable()\nexport class PreferenceLanguageOverrideService {\n    protected readonly overrideIdentifiers = new Set<string>();\n\n    testOverrideValue(name: string, value: unknown): value is PreferenceSchemaProperties {\n        return PreferenceSchemaProperties.is(value) && OVERRIDE_PROPERTY_PATTERN.test(name);\n    }\n\n    /**\n     * @param overrideIdentifier the language id associated for a language override, e.g. `typescript`\n     * @returns the form used to mark language overrides in preference files, e.g. `[typescript]`\n     */\n    markLanguageOverride(overrideIdentifier: string): string {\n        return `[${overrideIdentifier}]`;\n    }\n\n    /**\n     * @returns the flat JSON path to an overridden preference, e.g. [typescript].editor.tabSize.\n     */\n    overridePreferenceName({ preferenceName, overrideIdentifier }: OverridePreferenceName): string {\n        return `${this.markLanguageOverride(overrideIdentifier)}.${preferenceName}`;\n    }\n\n    /**\n     * @returns an OverridePreferenceName if the `name` contains a language override, e.g. [typescript].editor.tabSize.\n     */\n    overriddenPreferenceName(name: string): OverridePreferenceName | undefined {\n        const index = name.indexOf('.');\n        if (index === -1) {\n            return undefined;\n        }\n        const matches = name.substring(0, index).match(OVERRIDE_PROPERTY_PATTERN);\n        const overrideIdentifier = matches && matches[1];\n        if (!overrideIdentifier || !this.overrideIdentifiers.has(overrideIdentifier)) {\n            return undefined;\n        }\n        const preferenceName = name.substring(index + 1);\n        return { preferenceName, overrideIdentifier };\n    }\n\n    computeOverridePatternPropertiesKey(): string | undefined {\n        let param: string = '';\n        for (const overrideIdentifier of this.overrideIdentifiers) {\n            if (param.length) {\n                param += '|';\n            }\n            param += new RegExp(escapeRegExpCharacters(overrideIdentifier)).source;\n        }\n        return param.length ? getOverridePattern(param) : undefined;\n    }\n\n    *getOverridePreferenceNames(preferenceName: string): IterableIterator<string> {\n        for (const overrideIdentifier of this.overrideIdentifiers) {\n            yield this.overridePreferenceName({ preferenceName, overrideIdentifier });\n        }\n    }\n\n    /**\n     * @param overrideIdentifier\n     * @returns true if the addition caused a change, i.e. if the identifier was not already present in the set of identifiers, false otherwise.\n     */\n    addOverrideIdentifier(overrideIdentifier: string): boolean {\n        const alreadyPresent = this.overrideIdentifiers.has(overrideIdentifier);\n        if (!alreadyPresent) {\n            this.overrideIdentifiers.add(overrideIdentifier);\n        }\n        return !alreadyPresent;\n    }\n\n    /**\n     * @param overrideIdentifier\n     * @returns true if the deletion caused a change, i.e. if the identifier was present in the set, false otherwise.\n     */\n    removeOverrideIdentifier(overrideIdentifier: string): boolean {\n        return this.overrideIdentifiers.delete(overrideIdentifier);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport debounce = require('p-debounce');\nimport { injectable, inject } from 'inversify';\nimport { JSONExt, JSONValue } from '@phosphor/coreutils';\nimport URI from '../../common/uri';\nimport { Disposable, DisposableCollection, Emitter, Event, isObject } from '../../common';\nimport { Deferred } from '../../common/promise-util';\nimport { PreferenceScope } from './preference-scope';\nimport { PreferenceLanguageOverrideService } from './preference-language-override-service';\n\nexport interface PreferenceProviderDataChange {\n    /**\n     * The name of the changed preference.\n     */\n    readonly preferenceName: string;\n    /**\n     * The new value of the changed preference.\n     */\n    readonly newValue?: any;\n    /**\n     * The old value of the changed preference.\n     */\n    readonly oldValue?: any;\n    /**\n     * The {@link PreferenceScope} of the changed preference.\n     */\n    readonly scope: PreferenceScope;\n    /**\n     * URIs of the scopes in which this change applies.\n     */\n    readonly domain?: string[];\n}\n\nexport namespace PreferenceProviderDataChange {\n    export function affects(change: PreferenceProviderDataChange, resourceUri?: string): boolean {\n        const resourcePath = resourceUri && new URI(resourceUri).path;\n        const domain = change.domain;\n        return !resourcePath || !domain || domain.some(uri => new URI(uri).path.relativity(resourcePath) >= 0);\n    }\n}\n\nexport interface PreferenceProviderDataChanges {\n    [preferenceName: string]: PreferenceProviderDataChange;\n}\n\nexport interface PreferenceResolveResult<T> {\n    configUri?: URI\n    value?: T\n}\n/**\n * The {@link PreferenceProvider} is used to store and retrieve preference values. A {@link PreferenceProvider} does not operate in a global scope but is\n * configured for one or more {@link PreferenceScope}s. The (default implementation for the) {@link PreferenceService} aggregates all {@link PreferenceProvider}s and\n * serves as a common facade for manipulating preference values.\n */\n@injectable()\nexport abstract class PreferenceProvider implements Disposable {\n\n    @inject(PreferenceLanguageOverrideService) protected readonly preferenceOverrideService: PreferenceLanguageOverrideService;\n\n    protected readonly onDidPreferencesChangedEmitter = new Emitter<PreferenceProviderDataChanges>();\n    readonly onDidPreferencesChanged: Event<PreferenceProviderDataChanges> = this.onDidPreferencesChangedEmitter.event;\n\n    protected readonly toDispose = new DisposableCollection();\n\n    protected readonly _ready = new Deferred<void>();\n\n    constructor() {\n        this.toDispose.push(this.onDidPreferencesChangedEmitter);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    protected deferredChanges: PreferenceProviderDataChanges | undefined;\n\n    /**\n     * Informs the listeners that one or more preferences of this provider are changed.\n     * The listeners are able to find what was changed from the emitted event.\n     */\n    protected emitPreferencesChangedEvent(changes: PreferenceProviderDataChanges | PreferenceProviderDataChange[]): Promise<boolean> {\n        if (Array.isArray(changes)) {\n            for (const change of changes) {\n                this.mergePreferenceProviderDataChange(change);\n            }\n        } else {\n            for (const preferenceName of Object.keys(changes)) {\n                this.mergePreferenceProviderDataChange(changes[preferenceName]);\n            }\n        }\n        return this.fireDidPreferencesChanged();\n    }\n\n    protected mergePreferenceProviderDataChange(change: PreferenceProviderDataChange): void {\n        if (!this.deferredChanges) {\n            this.deferredChanges = {};\n        }\n        const current = this.deferredChanges[change.preferenceName];\n        const { newValue, scope, domain } = change;\n        if (!current) {\n            // new\n            this.deferredChanges[change.preferenceName] = change;\n        } else if (current.oldValue === newValue) {\n            // delete\n            delete this.deferredChanges[change.preferenceName];\n        } else {\n            // update\n            Object.assign(current, { newValue, scope, domain });\n        }\n    }\n\n    protected fireDidPreferencesChanged = debounce(() => {\n        const changes = this.deferredChanges;\n        this.deferredChanges = undefined;\n        if (changes && Object.keys(changes).length) {\n            this.onDidPreferencesChangedEmitter.fire(changes);\n            return true;\n        }\n        return false;\n    }, 0);\n\n    /**\n     * Retrieve the stored value for the given preference and resource URI.\n     *\n     * @param preferenceName the preference identifier.\n     * @param resourceUri the uri of the resource for which the preference is stored. This is used to retrieve\n     * a potentially different value for the same preference for different resources, for example `files.encoding`.\n     *\n     * @returns the value stored for the given preference and resourceUri if it exists, otherwise `undefined`.\n     */\n    get<T>(preferenceName: string, resourceUri?: string): T | undefined {\n        return this.resolve<T>(preferenceName, resourceUri).value;\n    }\n\n    /**\n     * Resolve the value for the given preference and resource URI.\n     *\n     * @param preferenceName the preference identifier.\n     * @param resourceUri the URI of the resource for which this provider should resolve the preference. This is used to retrieve\n     * a potentially different value for the same preference for different resources, for example `files.encoding`.\n     *\n     * @returns an object containing the value stored for the given preference and resourceUri if it exists,\n     * otherwise `undefined`.\n     */\n    resolve<T>(preferenceName: string, resourceUri?: string): PreferenceResolveResult<T> {\n        const value = this.getPreferences(resourceUri)[preferenceName];\n        if (value !== undefined) {\n            return {\n                value,\n                configUri: this.getConfigUri(resourceUri)\n            };\n        }\n        return {};\n    }\n\n    abstract getPreferences(resourceUri?: string): { [p: string]: any };\n\n    /**\n     * Stores a new value for the given preference key in the provider.\n     * @param key the preference key (typically the name).\n     * @param value the new preference value.\n     * @param resourceUri the URI of the resource for which the preference is stored.\n     *\n     * @returns a promise that only resolves if all changes were delivered.\n     * If changes were made then implementation must either\n     * await on `this.emitPreferencesChangedEvent(...)` or\n     * `this.pendingChanges` if changes are fired indirectly.\n     */\n    abstract setPreference(key: string, value: any, resourceUri?: string): Promise<boolean>;\n\n    /**\n     * Resolved when the preference provider is ready to provide preferences\n     * It should be resolved by subclasses.\n     */\n    get ready(): Promise<void> {\n        return this._ready.promise;\n    }\n\n    /**\n     * Retrieve the domain for this provider.\n     *\n     * @returns the domain or `undefined` if this provider is suitable for all domains.\n     */\n    getDomain(): string[] | undefined {\n        return undefined;\n    }\n\n    /**\n     * Retrieve the configuration URI for the given resource URI.\n     * @param resourceUri the uri of the resource or `undefined`.\n     * @param sectionName the section to return the URI for, e.g. `tasks` or `launch`. Defaults to settings.\n     *\n     * @returns the corresponding resource URI or `undefined` if there is no valid URI.\n     */\n    getConfigUri(resourceUri?: string, sectionName?: string): URI | undefined {\n        return undefined;\n    }\n\n    /**\n     * Retrieves the first valid configuration URI contained by the given resource.\n     * @param resourceUri the uri of the container resource or `undefined`.\n     *\n     * @returns the first valid configuration URI contained by the given resource `undefined`\n     * if there is no valid configuration URI at all.\n     */\n    getContainingConfigUri?(resourceUri?: string, sectionName?: string): URI | undefined;\n\n    static merge(source: JSONValue | undefined, target: JSONValue): JSONValue {\n        if (source === undefined || !JSONExt.isObject(source)) {\n            return JSONExt.deepCopy(target);\n        }\n        if (JSONExt.isPrimitive(target)) {\n            return {};\n        }\n        for (const key of Object.keys(target)) {\n            const value = (target as any)[key];\n            if (key in source) {\n                if (JSONExt.isObject(source[key]) && JSONExt.isObject(value)) {\n                    this.merge(source[key], value);\n                    continue;\n                } else if (JSONExt.isArray(source[key]) && JSONExt.isArray(value)) {\n                    source[key] = [...JSONExt.deepCopy(source[key] as any), ...JSONExt.deepCopy(value)];\n                    continue;\n                }\n            }\n            source[key] = JSONExt.deepCopy(value);\n        }\n        return source;\n    }\n\n    /**\n     * Handles deep equality with the possibility of `undefined`\n     */\n    static deepEqual(a: JSONValue | undefined, b: JSONValue | undefined): boolean {\n        if (a === b) { return true; }\n        if (a === undefined || b === undefined) { return false; }\n        return JSONExt.deepEqual(a, b);\n    }\n\n    protected getParsedContent(jsonData: any): { [key: string]: any } {\n        const preferences: { [key: string]: any } = {};\n        if (!isObject(jsonData)) {\n            return preferences;\n        }\n        for (const [preferenceName, preferenceValue] of Object.entries(jsonData)) {\n            if (this.preferenceOverrideService.testOverrideValue(preferenceName, preferenceValue)) {\n                for (const [overriddenPreferenceName, overriddenValue] of Object.entries(preferenceValue)) {\n                    preferences[`${preferenceName}.${overriddenPreferenceName}`] = overriddenValue;\n                }\n            } else {\n                preferences[preferenceName] = preferenceValue;\n            }\n        }\n        return preferences;\n    }\n\n    canHandleScope(scope: PreferenceScope): boolean {\n        return true;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { Disposable, Event, isObject, MaybePromise } from '../../common';\nimport { PreferenceService } from './preference-service';\nimport { PreferenceSchema } from './preference-contribution';\nimport { PreferenceScope } from './preference-scope';\nimport { OverridePreferenceName } from './preference-language-override-service';\n\n/**\n * It is worth explaining the type for `PreferenceChangeEvent`:\n *\n * // Given T:\n * type T = { a: string, b: number }\n *\n * // We construct a new type such as:\n * type U = {\n *     a: {\n *         preferenceName: 'a'\n *         newValue: string\n *         oldValue?: string\n *     }\n *     b: {\n *        preferenceName: 'b'\n *        newValue: number\n *        oldValue?: number\n *     }\n * }\n *\n * // Then we get the union of all values of U by selecting by `keyof T`:\n * type V = U[keyof T]\n *\n * // Implementation:\n * type PreferenceChangeEvent<T> = {\n *     // Create a mapping where each key is a key from T,\n *     // -? normalizes optional typings to avoid getting\n *     // `undefined` as part of the final union:\n *     [K in keyof T]-?: {\n *         // In this object, K will take the value of each\n *         // independent key from T:\n *         preferenceName: K\n *         newValue: T[K]\n *         oldValue?: T[K]\n *     // Finally we create the union by doing so:\n *     }[keyof T]\n * }\n */\n\n/**\n * Union of all possible key/value pairs for a type `T`\n */\nexport type PreferenceChangeEvent<T> = {\n    affects(resourceUri?: string, overrideIdentifier?: string): boolean;\n} & {\n    [K in keyof T]-?: {\n        readonly preferenceName: K;\n        readonly newValue: T[K];\n        /**\n         * Undefined if the preference is set for the first time.\n         */\n        // TODO: Use the default value instead of undefined?\n        readonly oldValue?: T[K];\n    }\n}[keyof T];\n\nexport interface PreferenceEventEmitter<T> {\n    readonly onPreferenceChanged: Event<PreferenceChangeEvent<T>>;\n    readonly ready: Promise<void>;\n}\n\n/**\n * Generic interface to declare a typesafe get function based on the given\n * configuration type.\n *\n * ### Illustration\n *\n * ```ts\n * interface PreferenceConfiguration {\n *  'myext.enabled': boolean,\n * }\n * const enabled : boolean = prefs.get('myext.enabled'); // valid\n * const debug : string = prefs.get('myext.enabled'); // invalid\n * prefs.get('foobar'); // invalid\n * ```\n */\nexport interface PreferenceRetrieval<T> {\n    get<K extends keyof T>(preferenceName: K | {\n        preferenceName: K,\n        overrideIdentifier?: string\n    }, defaultValue?: T[K], resourceUri?: string): T[K];\n}\n\n/**\n * Typesafe schema-based preferences utility based on the {@link PreferenceService}.\n * Can be used to get preferences as well as listen to preference changes.\n *\n * See {@link createPreferenceProxy} on how to instantiate preference proxies.\n *\n * ### Example usage\n *\n * ```ts\n * preferences.onPreferenceChanged(({ preferenceName, newValue }) => { ... });\n * const enabled = preferences['myext.enabled'];\n * ```\n */\nexport type PreferenceProxy<T> = Readonly<T> & Disposable & PreferenceEventEmitter<T> & PreferenceRetrieval<T>;\nexport const PreferenceProxyOptions = Symbol('PreferenceProxyOptions');\n/**\n * Proxy configuration parameters.\n */\nexport interface PreferenceProxyOptions {\n    /**\n     * Prefix which is transparently added to all preference identifiers.\n     */\n    prefix?: string;\n    /**\n     * The default resourceUri to use if none was specified when calling \"set\" or \"get\".\n     */\n    resourceUri?: string;\n    /**\n     * The overrideIdentifier to use with the underlying preferenceService.\n     * Useful to potentially override existing values while keeping both values in store.\n     *\n     * For example to store different editor settings, e.g. \"[markdown].editor.autoIndent\",\n     * \"[json].editor.autoIndent\" and \"editor.autoIndent\"\n     */\n    overrideIdentifier?: string;\n    /**\n     * Indicates whether '.' in schema properties shall be interpreted as regular names (flat),\n     * as declaring nested objects (deep) or both. Default is flat.\n     *\n     * When 'deep' or 'both' is given, nested preference proxies can be retrieved.\n     */\n    style?: 'flat' | 'deep' | 'both';\n    /**\n     * Indicates whether the proxy should be disposable. Proxies that are shared between multiple callers should not be disposable.\n     */\n    isDisposable?: boolean;\n}\n\n/**\n * Creates a preference proxy for typesafe preference handling.\n *\n * @param preferences the underlying preference service to use for preference handling.\n * @param promisedSchema the JSON Schema which describes which preferences are available including types and descriptions. Can be a promise.\n * @param options configuration options.\n *\n * @returns the created preference proxy.\n *\n * ### Usage\n *\n *  1. Create JSON Schema specifying your preferences\n *  2. Create Configuration type based on the JSON Schema\n *  3. Bind the return value of `createPreferenceProxy` to make your preferences available wherever needed.\n *\n * See {@link CorePreferences} for an example.\n *\n * Note that if `schema` is a Promise, most actions will be no-ops until the promise is resolved.\n *\n * @deprecated @since 1.23.0 use `PreferenceProxyFactory` instead.\n */\nexport function createPreferenceProxy<T>(preferences: PreferenceService, promisedSchema: MaybePromise<PreferenceSchema>, options?: PreferenceProxyOptions): PreferenceProxy<T> {\n    const opts = options || {};\n    const prefix = opts.prefix || '';\n    const style = opts.style || 'flat';\n    const isDeep = style === 'deep' || style === 'both';\n    const isFlat = style === 'both' || style === 'flat';\n    let schema: PreferenceSchema | undefined;\n    if (PreferenceSchema.is(promisedSchema)) {\n        schema = promisedSchema;\n    } else {\n        promisedSchema.then(s => schema = s);\n    }\n    const onPreferenceChanged = (listener: (e: PreferenceChangeEvent<T>) => any, thisArgs?: any, disposables?: Disposable[]) => preferences.onPreferencesChanged(changes => {\n        if (schema) {\n            for (const key of Object.keys(changes)) {\n                const e = changes[key];\n                const overridden = preferences.overriddenPreferenceName(e.preferenceName);\n                const preferenceName: any = overridden ? overridden.preferenceName : e.preferenceName;\n                if (preferenceName.startsWith(prefix) && (!opts.overrideIdentifier || overridden?.overrideIdentifier === opts.overrideIdentifier)) {\n                    if (schema.properties[preferenceName]) {\n                        const { newValue, oldValue } = e;\n                        listener({\n                            newValue, oldValue, preferenceName,\n                            affects: (resourceUri, overrideIdentifier) => {\n                                if (overrideIdentifier !== overridden?.overrideIdentifier) {\n                                    return false;\n                                }\n                                return e.affects(resourceUri);\n                            }\n                        });\n                    }\n                }\n            }\n        }\n    }, thisArgs, disposables);\n\n    const unsupportedOperation = (_: any, __: string) => {\n        throw new Error('Unsupported operation');\n    };\n\n    const getValue: PreferenceRetrieval<any>['get'] = (arg, defaultValue, resourceUri) => {\n        const preferenceName = OverridePreferenceName.is(arg) ?\n            preferences.overridePreferenceName(arg) :\n            <string>arg;\n        return preferences.get(preferenceName, defaultValue, resourceUri || opts.resourceUri);\n    };\n\n    const ownKeys: () => string[] = () => {\n        const properties = [];\n        if (schema) {\n            for (const p of Object.keys(schema.properties)) {\n                if (p.startsWith(prefix)) {\n                    const idx = p.indexOf('.', prefix.length);\n                    if (idx !== -1 && isDeep) {\n                        const pre = p.substring(prefix.length, idx);\n                        if (properties.indexOf(pre) === -1) {\n                            properties.push(pre);\n                        }\n                    }\n                    const prop = p.substring(prefix.length);\n                    if (isFlat || prop.indexOf('.') === -1) {\n                        properties.push(prop);\n                    }\n                }\n            }\n        }\n        return properties;\n    };\n\n    const set: (target: any, prop: string, value: any, receiver: any) => boolean = (_, property: string | symbol | number, value: any) => {\n        if (typeof property !== 'string') {\n            throw new Error(`unexpected property: ${String(property)}`);\n        }\n        if (style === 'deep' && property.indexOf('.') !== -1) {\n            return false;\n        }\n        if (schema) {\n            const fullProperty = prefix ? prefix + property : property;\n            if (schema.properties[fullProperty]) {\n                preferences.set(fullProperty, value, PreferenceScope.Default);\n                return true;\n            }\n            const newPrefix = fullProperty + '.';\n            for (const p of Object.keys(schema.properties)) {\n                if (p.startsWith(newPrefix)) {\n                    const subProxy: { [k: string]: any } = createPreferenceProxy(preferences, schema, {\n                        prefix: newPrefix,\n                        resourceUri: opts.resourceUri,\n                        overrideIdentifier: opts.overrideIdentifier,\n                        style\n                    });\n                    for (const k of Object.keys(value)) {\n                        subProxy[k] = value[k];\n                    }\n                }\n            }\n        }\n        return false;\n    };\n\n    const get: (target: any, prop: string) => any = (_, property: string | symbol | number) => {\n        if (typeof property !== 'string') {\n            throw new Error(`unexpected property: ${String(property)}`);\n        }\n        const fullProperty = prefix ? prefix + property : property;\n        if (schema) {\n            if (isFlat || property.indexOf('.') === -1) {\n                if (schema.properties[fullProperty]) {\n                    let value;\n                    if (opts.overrideIdentifier) {\n                        value = preferences.get(preferences.overridePreferenceName({\n                            overrideIdentifier: opts.overrideIdentifier,\n                            preferenceName: fullProperty\n                        }), undefined, opts.resourceUri);\n                    }\n                    if (value === undefined) {\n                        value = preferences.get(fullProperty, undefined, opts.resourceUri);\n                    }\n                    return value;\n                }\n            }\n        }\n        if (property === 'onPreferenceChanged') {\n            return onPreferenceChanged;\n        }\n        if (property === 'dispose') {\n            return () => { /* do nothing */ };\n        }\n        if (property === 'ready') {\n            return preferences.ready;\n        }\n        if (property === 'get') {\n            return getValue;\n        }\n        if (property === 'toJSON') {\n            return toJSON();\n        }\n        if (schema && isDeep) {\n            const newPrefix = fullProperty + '.';\n            for (const p of Object.keys(schema.properties)) {\n                if (p.startsWith(newPrefix)) {\n                    return createPreferenceProxy(preferences, schema, { prefix: newPrefix, resourceUri: opts.resourceUri, overrideIdentifier: opts.overrideIdentifier, style });\n                }\n            }\n\n            let value;\n            let parentSegment = fullProperty;\n            const segments = [];\n            do {\n                const index = parentSegment.lastIndexOf('.');\n                segments.push(parentSegment.substring(index + 1));\n                parentSegment = parentSegment.substring(0, index);\n                if (parentSegment in schema.properties) {\n                    value = get(_, parentSegment);\n                }\n            } while (parentSegment && value === undefined);\n\n            let segment;\n            while (isObject(value) && (segment = segments.pop())) {\n                value = value[segment];\n            }\n            return segments.length ? undefined : value;\n        }\n        return undefined;\n    };\n\n    const toJSON = () => {\n        const result: any = {};\n        for (const k of ownKeys()) {\n            result[k] = get(undefined, k);\n        }\n        return result;\n    };\n\n    return new Proxy({}, {\n        get,\n        ownKeys,\n        getOwnPropertyDescriptor: (_, property: string) => {\n            if (ownKeys().indexOf(property) !== -1) {\n                return {\n                    enumerable: true,\n                    configurable: true\n                };\n            }\n            return {};\n        },\n        set,\n        deleteProperty: unsupportedOperation,\n        defineProperty: unsupportedOperation\n    });\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { PreferenceScope } from '../../common/preferences/preference-scope';\nexport { PreferenceScope };\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { Event, Emitter, DisposableCollection, Disposable, deepFreeze, unreachable } from '../../common';\nimport { Deferred } from '../../common/promise-util';\nimport { PreferenceProvider, PreferenceProviderDataChange, PreferenceProviderDataChanges, PreferenceResolveResult } from './preference-provider';\nimport { PreferenceSchemaProvider } from './preference-contribution';\nimport URI from '../../common/uri';\nimport { PreferenceScope } from './preference-scope';\nimport { PreferenceConfigurations } from './preference-configurations';\nimport { JSONExt, JSONValue } from '@phosphor/coreutils/lib/json';\nimport { OverridePreferenceName, PreferenceLanguageOverrideService } from './preference-language-override-service';\n\nexport { PreferenceScope };\n\n/**\n * Representation of a preference change. A preference value can be set to `undefined` for a specific scope.\n * This means that the value from a more general scope will be used.\n */\nexport interface PreferenceChange extends PreferenceProviderDataChange {\n    /**\n     * Tests wether the given resource is affected by the preference change.\n     * @param resourceUri the uri of the resource to test.\n     */\n    affects(resourceUri?: string): boolean;\n}\n\nexport class PreferenceChangeImpl implements PreferenceChange {\n    protected readonly change: PreferenceProviderDataChange;\n    constructor(change: PreferenceProviderDataChange) {\n        this.change = deepFreeze(change);\n    }\n\n    get preferenceName(): string {\n        return this.change.preferenceName;\n    }\n    get newValue(): string {\n        return this.change.newValue;\n    }\n    get oldValue(): string {\n        return this.change.oldValue;\n    }\n    get scope(): PreferenceScope {\n        return this.change.scope;\n    }\n    get domain(): string[] | undefined {\n        return this.change.domain;\n    }\n\n    // TODO add tests\n    affects(resourceUri?: string): boolean {\n        const resourcePath = resourceUri && new URI(resourceUri).path;\n        const domain = this.change.domain;\n        return !resourcePath || !domain || domain.some(uri => new URI(uri).path.relativity(resourcePath) >= 0);\n    }\n}\n/**\n * A key-value storage for {@link PreferenceChange}s. Used to aggregate multiple simultaneous preference changes.\n */\nexport interface PreferenceChanges {\n    [preferenceName: string]: PreferenceChange\n}\n\nexport const PreferenceService = Symbol('PreferenceService');\n/**\n * Service to manage preferences including, among others, getting and setting preference values as well\n * as listening to preference changes.\n *\n * Depending on your use case you might also want to look at {@link createPreferenceProxy} with which\n * you can easily create a typesafe schema-based interface for your preferences. Internally the proxy\n * uses the PreferenceService so both approaches are compatible.\n */\nexport interface PreferenceService extends Disposable {\n    /**\n     * Promise indicating whether the service successfully initialized.\n     */\n    readonly ready: Promise<void>;\n    /**\n     * Indicates whether the service has successfully initialized. Will be `true` when {@link PreferenceService.ready the `ready` Promise} resolves.\n     */\n    readonly isReady: boolean;\n    /**\n     * Retrieve the stored value for the given preference.\n     *\n     * @param preferenceName the preference identifier.\n     *\n     * @returns the value stored for the given preference when it exists, `undefined` otherwise.\n     */\n    get<T>(preferenceName: string): T | undefined;\n    /**\n     * Retrieve the stored value for the given preference.\n     *\n     * @param preferenceName the preference identifier.\n     * @param defaultValue the value to return when no value for the given preference is stored.\n     *\n     * @returns the value stored for the given preference when it exists, otherwise the given default value.\n     */\n    get<T>(preferenceName: string, defaultValue: T): T;\n    /**\n     * Retrieve the stored value for the given preference and resourceUri.\n     *\n     * @param preferenceName the preference identifier.\n     * @param defaultValue the value to return when no value for the given preference is stored.\n     * @param resourceUri the uri of the resource for which the preference is stored. This used to retrieve\n     * a potentially different value for the same preference for different resources, for example `files.encoding`.\n     *\n     * @returns the value stored for the given preference and resourceUri when it exists, otherwise the given\n     * default value.\n     */\n    get<T>(preferenceName: string, defaultValue: T, resourceUri?: string): T;\n    /**\n     * Retrieve the stored value for the given preference and resourceUri.\n     *\n     * @param preferenceName the preference identifier.\n     * @param defaultValue the value to return when no value for the given preference is stored.\n     * @param resourceUri the uri of the resource for which the preference is stored. This used to retrieve\n     * a potentially different value for the same preference for different resources, for example `files.encoding`.\n     *\n     * @returns the value stored for the given preference and resourceUri when it exists, otherwise the given\n     * default value.\n     */\n    get<T>(preferenceName: string, defaultValue?: T, resourceUri?: string): T | undefined;\n    /**\n     * Sets the given preference to the given value.\n     *\n     * @param preferenceName the preference identifier.\n     * @param value the new value of the preference.\n     * @param scope the scope for which the value shall be set, i.e. user, workspace etc.\n     * When the folder scope is specified a resourceUri must be provided.\n     * @param resourceUri the uri of the resource for which the preference is stored. This used to store\n     * a potentially different value for the same preference for different resources, for example `files.encoding`.\n     *\n     * @returns a promise which resolves to `undefined` when setting the preference was successful. Otherwise it rejects\n     * with an error.\n     */\n    set(preferenceName: string, value: any, scope?: PreferenceScope, resourceUri?: string): Promise<void>;\n\n    /**\n     * Determines and applies the changes necessary to apply `value` to either the `resourceUri` supplied or the active session.\n     * If there is no setting for the `preferenceName`, the change will be applied in user scope.\n     * If there is a setting conflicting with the specified `value`, the change will be applied in the most specific scope with a conflicting value.\n     *\n     * @param preferenceName the identifier of the preference to modify.\n     * @param value the value to which to set the preference. `undefined` will reset the preference to its default value.\n     * @param resourceUri the uri of the resource to which the change is to apply. If none is provided, folder scope will be ignored.\n     */\n    updateValue(preferenceName: string, value: any, resourceUri?: string): Promise<void>\n\n    /**\n     * Registers a callback which will be called whenever a preference is changed.\n     */\n    onPreferenceChanged: Event<PreferenceChange>;\n    /**\n     * Registers a callback which will be called whenever one or more preferences are changed.\n     */\n    onPreferencesChanged: Event<PreferenceChanges>;\n    /**\n     * Retrieve the stored value for the given preference and resourceUri in all available scopes.\n     *\n     * @param preferenceName the preference identifier.\n     * @param resourceUri the uri of the resource for which the preference is stored.\n     * @param forceLanguageOverride if `true` and `preferenceName` is a language override, only values for the specified override will be returned.\n     * Otherwise, values for the override will be returned where defined, and values from the base preference will be returned otherwise.\n     *\n     * @return an object containing the value of the given preference for all scopes.\n     */\n    inspect<T extends JSONValue>(preferenceName: string, resourceUri?: string, forceLanguageOverride?: boolean): PreferenceInspection<T> | undefined;\n    /**\n     * For behavior, see {@link PreferenceService.inspect}.\n     *\n     * @returns the value in the scope specified.\n     */\n    inspectInScope<T extends JSONValue>(preferenceName: string, scope: PreferenceScope, resourceUri?: string, forceLanguageOverride?: boolean): T | undefined\n    /**\n     * Returns a new preference identifier based on the given OverridePreferenceName.\n     *\n     * @param options the override specification.\n     *\n     * @returns the calculated string based on the given OverridePreferenceName.\n     */\n    overridePreferenceName(options: OverridePreferenceName): string;\n    /**\n     * Tries to split the given preference identifier into the original OverridePreferenceName attributes\n     * with which this identifier was created. Returns `undefined` if this is not possible, for example\n     * when the given preference identifier was not generated by `overridePreferenceName`.\n     *\n     * This method is checked when resolving preferences. Therefore together with \"overridePreferenceName\"\n     * this can be used to handle specialized preferences, e.g. \"[markdown].editor.autoIndent\" and \"editor.autoIndent\".\n     *\n     * @param preferenceName the preferenceName which might have been created via {@link PreferenceService.overridePreferenceName}.\n     *\n     * @returns the OverridePreferenceName which was used to create the given `preferenceName` if this was the case,\n     * `undefined` otherwise.\n     */\n    overriddenPreferenceName(preferenceName: string): OverridePreferenceName | undefined;\n    /**\n     * Retrieve the stored value for the given preference and resourceUri.\n     *\n     * @param preferenceName the preference identifier.\n     * @param defaultValue the value to return when no value for the given preference is stored.\n     * @param resourceUri the uri of the resource for which the preference is stored. This used to retrieve\n     * a potentially different value for the same preference for different resources, for example `files.encoding`.\n     *\n     * @returns an object containing the value stored for the given preference and resourceUri when it exists,\n     * otherwise the given default value. If determinable the object will also contain the uri of the configuration\n     * resource in which the preference was stored.\n     */\n    resolve<T>(preferenceName: string, defaultValue?: T, resourceUri?: string): PreferenceResolveResult<T>;\n    /**\n     * Returns the uri of the configuration resource for the given scope and optional resource uri.\n     *\n     * @param scope the PreferenceScope to query for.\n     * @param resourceUri the optional uri of the resource-specific preference handling\n     * @param sectionName the optional preference section to query for.\n     *\n     * @returns the uri of the configuration resource for the given scope and optional resource uri it it exists,\n     * `undefined` otherwise.\n     */\n    getConfigUri(scope: PreferenceScope, resourceUri?: string, sectionName?: string): URI | undefined;\n}\n\n/**\n * Return type of the {@link PreferenceService.inspect} call.\n */\nexport interface PreferenceInspection<T = JSONValue> {\n    /**\n     * The preference identifier.\n     */\n    preferenceName: string,\n    /**\n     * Value in default scope.\n     */\n    defaultValue: T | undefined,\n    /**\n     * Value in user scope.\n     */\n    globalValue: T | undefined,\n    /**\n     * Value in workspace scope.\n     */\n    workspaceValue: T | undefined,\n    /**\n     * Value in folder scope.\n     */\n    workspaceFolderValue: T | undefined,\n    /**\n     * The value that is active, i.e. the value set in the lowest scope available.\n     */\n    value: T | undefined;\n}\n\nexport type PreferenceInspectionScope = keyof Omit<PreferenceInspection<unknown>, 'preferenceName'>;\n\n/**\n * We cannot load providers directly in the case if they depend on `PreferenceService` somehow.\n * It allows to load them lazily after DI is configured.\n */\nexport const PreferenceProviderProvider = Symbol('PreferenceProviderProvider');\nexport type PreferenceProviderProvider = (scope: PreferenceScope, uri?: URI) => PreferenceProvider;\n\n@injectable()\nexport class PreferenceServiceImpl implements PreferenceService {\n\n    protected readonly onPreferenceChangedEmitter = new Emitter<PreferenceChange>();\n    readonly onPreferenceChanged = this.onPreferenceChangedEmitter.event;\n\n    protected readonly onPreferencesChangedEmitter = new Emitter<PreferenceChanges>();\n    readonly onPreferencesChanged = this.onPreferencesChangedEmitter.event;\n\n    protected readonly toDispose = new DisposableCollection(this.onPreferenceChangedEmitter, this.onPreferencesChangedEmitter);\n\n    @inject(PreferenceSchemaProvider)\n    protected readonly schema: PreferenceSchemaProvider;\n\n    @inject(PreferenceProviderProvider)\n    protected readonly providerProvider: PreferenceProviderProvider;\n\n    @inject(PreferenceConfigurations)\n    protected readonly configurations: PreferenceConfigurations;\n\n    @inject(PreferenceLanguageOverrideService)\n    protected readonly preferenceOverrideService: PreferenceLanguageOverrideService;\n\n    protected readonly preferenceProviders = new Map<PreferenceScope, PreferenceProvider>();\n\n    protected async initializeProviders(): Promise<void> {\n        try {\n            for (const scope of PreferenceScope.getScopes()) {\n                const provider = this.providerProvider(scope);\n                this.preferenceProviders.set(scope, provider);\n                this.toDispose.push(provider.onDidPreferencesChanged(changes =>\n                    this.reconcilePreferences(changes)\n                ));\n                await provider.ready;\n            }\n            this._ready.resolve();\n            this._isReady = true;\n        } catch (e) {\n            this._ready.reject(e);\n        }\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.push(Disposable.create(() => this._ready.reject(new Error('preference service is disposed'))));\n        this.initializeProviders();\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    protected readonly _ready = new Deferred<void>();\n    get ready(): Promise<void> {\n        return this._ready.promise;\n    }\n\n    protected _isReady = false;\n    get isReady(): boolean {\n        return this._isReady;\n    }\n\n    protected reconcilePreferences(changes: PreferenceProviderDataChanges): void {\n        const changesToEmit: PreferenceChanges = {};\n        const acceptChange = (change: PreferenceProviderDataChange) =>\n            this.getAffectedPreferenceNames(change, preferenceName =>\n                changesToEmit[preferenceName] = new PreferenceChangeImpl({ ...change, preferenceName })\n            );\n\n        for (const preferenceName of Object.keys(changes)) {\n            let change = changes[preferenceName];\n            if (change.newValue === undefined) {\n                const overridden = this.overriddenPreferenceName(change.preferenceName);\n                if (overridden) {\n                    change = {\n                        ...change, newValue: this.doGet(overridden.preferenceName)\n                    };\n                }\n            }\n            if (this.schema.isValidInScope(preferenceName, PreferenceScope.Folder)) {\n                acceptChange(change);\n                continue;\n            }\n            for (const scope of PreferenceScope.getReversedScopes()) {\n                if (this.schema.isValidInScope(preferenceName, scope)) {\n                    const provider = this.getProvider(scope);\n                    if (provider) {\n                        const value = provider.get(preferenceName);\n                        if (scope > change.scope && value !== undefined) {\n                            // preference defined in a more specific scope\n                            break;\n                        } else if (scope === change.scope && change.newValue !== undefined) {\n                            // preference is changed into something other than `undefined`\n                            acceptChange(change);\n                        } else if (scope < change.scope && change.newValue === undefined && value !== undefined) {\n                            // preference is changed to `undefined`, use the value from a more general scope\n                            change = {\n                                ...change,\n                                newValue: value,\n                                scope\n                            };\n                            acceptChange(change);\n                        }\n                    }\n                } else if (change.newValue === undefined && change.scope === PreferenceScope.Default) {\n                    // preference is removed\n                    acceptChange(change);\n                    break;\n                }\n            }\n        }\n\n        // emit the changes\n        const changedPreferenceNames = Object.keys(changesToEmit);\n        if (changedPreferenceNames.length > 0) {\n            this.onPreferencesChangedEmitter.fire(changesToEmit);\n        }\n        changedPreferenceNames.forEach(preferenceName => this.onPreferenceChangedEmitter.fire(changesToEmit[preferenceName]));\n    }\n    protected getAffectedPreferenceNames(change: PreferenceProviderDataChange, accept: (affectedPreferenceName: string) => void): void {\n        accept(change.preferenceName);\n        for (const overridePreferenceName of this.schema.getOverridePreferenceNames(change.preferenceName)) {\n            if (!this.doHas(overridePreferenceName)) {\n                accept(overridePreferenceName);\n            }\n        }\n    }\n\n    protected getProvider(scope: PreferenceScope): PreferenceProvider | undefined {\n        return this.preferenceProviders.get(scope);\n    }\n\n    has(preferenceName: string, resourceUri?: string): boolean {\n        return this.get(preferenceName, undefined, resourceUri) !== undefined;\n    }\n\n    get<T>(preferenceName: string): T | undefined;\n    get<T>(preferenceName: string, defaultValue: T): T;\n    get<T>(preferenceName: string, defaultValue: T, resourceUri: string): T;\n    get<T>(preferenceName: string, defaultValue?: T, resourceUri?: string): T | undefined;\n    get<T>(preferenceName: string, defaultValue?: T, resourceUri?: string): T | undefined {\n        return this.resolve<T>(preferenceName, defaultValue, resourceUri).value;\n    }\n\n    resolve<T>(preferenceName: string, defaultValue?: T, resourceUri?: string): PreferenceResolveResult<T> {\n        const { value, configUri } = this.doResolve(preferenceName, defaultValue, resourceUri);\n        if (value === undefined) {\n            const overridden = this.overriddenPreferenceName(preferenceName);\n            if (overridden) {\n                return this.doResolve(overridden.preferenceName, defaultValue, resourceUri);\n            }\n        }\n        return { value, configUri };\n    }\n\n    async set(preferenceName: string, value: any, scope: PreferenceScope | undefined, resourceUri?: string): Promise<void> {\n        const resolvedScope = scope ?? (!resourceUri ? PreferenceScope.Workspace : PreferenceScope.Folder);\n        if (resolvedScope === PreferenceScope.Folder && !resourceUri) {\n            throw new Error('Unable to write to Folder Settings because no resource is provided.');\n        }\n        const provider = this.getProvider(resolvedScope);\n        if (provider && await provider.setPreference(preferenceName, value, resourceUri)) {\n            return;\n        }\n        throw new Error(`Unable to write to ${PreferenceScope[resolvedScope]} Settings.`);\n    }\n\n    getBoolean(preferenceName: string): boolean | undefined;\n    getBoolean(preferenceName: string, defaultValue: boolean): boolean;\n    getBoolean(preferenceName: string, defaultValue: boolean, resourceUri: string): boolean;\n    getBoolean(preferenceName: string, defaultValue?: boolean, resourceUri?: string): boolean | undefined {\n        const value = resourceUri ? this.get(preferenceName, defaultValue, resourceUri) : this.get(preferenceName, defaultValue);\n        // eslint-disable-next-line no-null/no-null\n        return value !== null && value !== undefined ? !!value : defaultValue;\n    }\n\n    getString(preferenceName: string): string | undefined;\n    getString(preferenceName: string, defaultValue: string): string;\n    getString(preferenceName: string, defaultValue: string, resourceUri: string): string;\n    getString(preferenceName: string, defaultValue?: string, resourceUri?: string): string | undefined {\n        const value = resourceUri ? this.get(preferenceName, defaultValue, resourceUri) : this.get(preferenceName, defaultValue);\n        // eslint-disable-next-line no-null/no-null\n        if (value === null || value === undefined) {\n            return defaultValue;\n        }\n        return value.toString();\n    }\n\n    getNumber(preferenceName: string): number | undefined;\n    getNumber(preferenceName: string, defaultValue: number): number;\n    getNumber(preferenceName: string, defaultValue: number, resourceUri: string): number;\n    getNumber(preferenceName: string, defaultValue?: number, resourceUri?: string): number | undefined {\n        const value = resourceUri ? this.get(preferenceName, defaultValue, resourceUri) : this.get(preferenceName, defaultValue);\n        // eslint-disable-next-line no-null/no-null\n        if (value === null || value === undefined) {\n            return defaultValue;\n        }\n        if (typeof value === 'number') {\n            return value;\n        }\n        return Number(value);\n    }\n\n    inspect<T extends JSONValue>(preferenceName: string, resourceUri?: string, forceLanguageOverride?: boolean): PreferenceInspection<T> | undefined {\n        const defaultValue = this.inspectInScope<T>(preferenceName, PreferenceScope.Default, resourceUri, forceLanguageOverride);\n        const globalValue = this.inspectInScope<T>(preferenceName, PreferenceScope.User, resourceUri, forceLanguageOverride);\n        const workspaceValue = this.inspectInScope<T>(preferenceName, PreferenceScope.Workspace, resourceUri, forceLanguageOverride);\n        const workspaceFolderValue = this.inspectInScope<T>(preferenceName, PreferenceScope.Folder, resourceUri, forceLanguageOverride);\n\n        const valueApplied = workspaceFolderValue ?? workspaceValue ?? globalValue ?? defaultValue;\n\n        return { preferenceName, defaultValue, globalValue, workspaceValue, workspaceFolderValue, value: valueApplied };\n    }\n\n    inspectInScope<T extends JSONValue>(preferenceName: string, scope: PreferenceScope, resourceUri?: string, forceLanguageOverride?: boolean): T | undefined {\n        const value = this.doInspectInScope<T>(preferenceName, scope, resourceUri);\n        if (value === undefined && !forceLanguageOverride) {\n            const overridden = this.overriddenPreferenceName(preferenceName);\n            if (overridden) {\n                return this.doInspectInScope(overridden.preferenceName, scope, resourceUri);\n            }\n        }\n        return value;\n    }\n\n    protected getScopedValueFromInspection<T>(inspection: PreferenceInspection<T>, scope: PreferenceScope): T | undefined {\n        switch (scope) {\n            case PreferenceScope.Default:\n                return inspection.defaultValue;\n            case PreferenceScope.User:\n                return inspection.globalValue;\n            case PreferenceScope.Workspace:\n                return inspection.workspaceValue;\n            case PreferenceScope.Folder:\n                return inspection.workspaceFolderValue;\n        }\n        unreachable(scope, 'Not all PreferenceScope enum variants handled.');\n    }\n\n    async updateValue(preferenceName: string, value: any, resourceUri?: string): Promise<void> {\n        const inspection = this.inspect<any>(preferenceName, resourceUri);\n        if (inspection) {\n            const scopesToChange = this.getScopesToChange(inspection, value);\n            const isDeletion = value === undefined\n                || (scopesToChange.length === 1 && scopesToChange[0] === PreferenceScope.User && JSONExt.deepEqual(value, inspection.defaultValue));\n            const effectiveValue = isDeletion ? undefined : value;\n            await Promise.all(scopesToChange.map(scope => this.set(preferenceName, effectiveValue, scope, resourceUri)));\n        }\n    }\n\n    protected getScopesToChange(inspection: PreferenceInspection<any>, intendedValue: any): PreferenceScope[] {\n        if (JSONExt.deepEqual(inspection.value, intendedValue)) {\n            return [];\n        }\n\n        // Scopes in ascending order of scope breadth.\n        const allScopes = PreferenceScope.getReversedScopes();\n        // Get rid of Default scope. We can't set anything there.\n        allScopes.pop();\n\n        const isScopeDefined = (scope: PreferenceScope) => this.getScopedValueFromInspection(inspection, scope) !== undefined;\n\n        if (intendedValue === undefined) {\n            return allScopes.filter(isScopeDefined);\n        }\n\n        return [allScopes.find(isScopeDefined) ?? PreferenceScope.User];\n    }\n\n    overridePreferenceName(options: OverridePreferenceName): string {\n        return this.preferenceOverrideService.overridePreferenceName(options);\n    }\n    overriddenPreferenceName(preferenceName: string): OverridePreferenceName | undefined {\n        return this.preferenceOverrideService.overriddenPreferenceName(preferenceName);\n    }\n\n    protected doHas(preferenceName: string, resourceUri?: string): boolean {\n        return this.doGet(preferenceName, undefined, resourceUri) !== undefined;\n    }\n    protected doInspectInScope<T>(preferenceName: string, scope: PreferenceScope, resourceUri?: string): T | undefined {\n        const provider = this.getProvider(scope);\n        return provider && provider.get<T>(preferenceName, resourceUri);\n    }\n    protected doGet<T>(preferenceName: string, defaultValue?: T, resourceUri?: string): T | undefined {\n        return this.doResolve(preferenceName, defaultValue, resourceUri).value;\n    }\n    protected doResolve<T>(preferenceName: string, defaultValue?: T, resourceUri?: string): PreferenceResolveResult<T> {\n        const result: PreferenceResolveResult<T> = {};\n        for (const scope of PreferenceScope.getScopes()) {\n            if (this.schema.isValidInScope(preferenceName, scope)) {\n                const provider = this.getProvider(scope);\n                if (provider?.canHandleScope(scope)) {\n                    const { configUri, value } = provider.resolve<T>(preferenceName, resourceUri);\n                    if (value !== undefined) {\n                        result.configUri = configUri;\n                        result.value = PreferenceProvider.merge(result.value as any, value as any) as any;\n                    }\n                }\n            }\n        }\n        return {\n            configUri: result.configUri,\n            value: result.value !== undefined ? deepFreeze(result.value) : defaultValue\n        };\n    }\n\n    getConfigUri(scope: PreferenceScope, resourceUri?: string, sectionName: string = this.configurations.getConfigName()): URI | undefined {\n        const provider = this.getProvider(scope);\n        if (!provider || !this.configurations.isAnyConfig(sectionName)) {\n            return undefined;\n        }\n        const configUri = provider.getConfigUri(resourceUri, sectionName);\n        if (configUri) {\n            return configUri;\n        }\n        return provider.getContainingConfigUri && provider.getContainingConfigUri(resourceUri, sectionName);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { PreferenceItem } from '../../common/preferences/preference-schema';\nimport { JSONObject, JSONValue } from '../../../shared/@phosphor/coreutils';\nimport { PreferenceSchemaProvider } from './preference-contribution';\nimport { PreferenceLanguageOverrideService } from './preference-language-override-service';\nimport { inject, injectable } from '../../../shared/inversify';\nimport { IJSONSchema, JsonType } from '../../common/json-schema';\nimport { deepClone, unreachable } from '../../common';\nimport { PreferenceProvider } from './preference-provider';\n\nexport interface PreferenceValidator<T> {\n    name: string;\n    validate(value: unknown): T;\n}\n\nexport interface ValidatablePreference extends IJSONSchema, Pick<PreferenceItem, 'defaultValue'> { }\nexport type ValueValidator = (value: JSONValue) => JSONValue;\n\nexport interface PreferenceValidationResult<T extends JSONValue> {\n    original: JSONValue | undefined;\n    valid: T;\n    messages: string[];\n}\n\ntype ValidatablePreferenceTuple = ValidatablePreference & ({ items: ValidatablePreference[] } | { prefixItems: ValidatablePreference[] });\n\n@injectable()\nexport class PreferenceValidationService {\n    @inject(PreferenceSchemaProvider) protected readonly schemaProvider: PreferenceSchemaProvider;\n    @inject(PreferenceLanguageOverrideService) protected readonly languageOverrideService: PreferenceLanguageOverrideService;\n\n    validateOptions(options: Record<string, JSONValue>): Record<string, JSONValue> {\n        const valid: Record<string, JSONValue> = {};\n        let problemsDetected = false;\n        for (const [preferenceName, value] of Object.entries(options)) {\n            const validValue = this.validateByName(preferenceName, value);\n            if (validValue !== value) {\n                problemsDetected = true;\n            }\n            valid[preferenceName] = validValue;\n        }\n        return problemsDetected ? valid : options;\n    }\n\n    validateByName(preferenceName: string, value: JSONValue): JSONValue {\n        const validValue = this.doValidateByName(preferenceName, value);\n        // If value is undefined, it means the preference wasn't set, not that a bad value was set.\n        if (validValue !== value && value !== undefined) {\n            console.warn(`While validating options, found impermissible value for ${preferenceName}. Using valid value`, validValue, 'instead of configured value', value);\n        }\n        return validValue;\n    }\n\n    protected doValidateByName(preferenceName: string, value: JSONValue): JSONValue {\n        const schema = this.getSchema(preferenceName);\n        return this.validateBySchema(preferenceName, value, schema);\n    }\n\n    validateBySchema(key: string, value: JSONValue, schema: ValidatablePreference | undefined): JSONValue {\n        try {\n            if (!schema) {\n                console.warn('Request to validate preference with no schema registered:', key);\n                return value;\n            }\n            if (schema.const !== undefined) {\n                return this.validateConst(key, value, schema as ValidatablePreference & { const: JSONValue });\n            }\n            if (Array.isArray(schema.enum)) {\n                return this.validateEnum(key, value, schema as ValidatablePreference & { enum: JSONValue[] });\n            }\n            if (Array.isArray(schema.anyOf)) {\n                return this.validateAnyOf(key, value, schema as ValidatablePreference & { anyOf: ValidatablePreference[] });\n            }\n            if (Array.isArray(schema.oneOf)) {\n                return this.validateOneOf(key, value, schema as ValidatablePreference & { oneOf: ValidatablePreference[] });\n            }\n            if (schema.type === undefined) {\n                console.warn('Request to validate preference with no type information:', key);\n                return value;\n            }\n            if (Array.isArray(schema.type)) {\n                return this.validateMultiple(key, value, schema as ValidatablePreference & { type: JsonType[] });\n            }\n            switch (schema.type) {\n                case 'array':\n                    return this.validateArray(key, value, schema);\n                case 'boolean':\n                    return this.validateBoolean(key, value, schema);\n                case 'integer':\n                    return this.validateInteger(key, value, schema);\n                case 'null':\n                    return null; // eslint-disable-line no-null/no-null\n                case 'number':\n                    return this.validateNumber(key, value, schema);\n                case 'object':\n                    return this.validateObject(key, value, schema);\n                case 'string':\n                    return this.validateString(key, value, schema);\n                default:\n                    unreachable(schema.type, `Request to validate preference with unknown type in schema: ${key}`);\n            }\n        } catch (e) {\n            console.error('Encountered an error while validating', key, 'with value', value, 'against schema', schema, e);\n            return value;\n        }\n    }\n\n    protected getSchema(name: string): ValidatablePreference | undefined {\n        const combinedSchema = this.schemaProvider.getCombinedSchema().properties;\n        if (combinedSchema[name]) {\n            return combinedSchema[name];\n        }\n        const baseName = this.languageOverrideService.overriddenPreferenceName(name)?.preferenceName;\n        return baseName !== undefined ? combinedSchema[baseName] : undefined;\n    }\n\n    protected validateMultiple(key: string, value: JSONValue, schema: ValidatablePreference & { type: JsonType[] }): JSONValue {\n        const validation: ValidatablePreference = deepClone(schema);\n        const candidate = this.mapValidators(key, value, (function* (this: PreferenceValidationService): Iterable<ValueValidator> {\n            for (const type of schema.type) {\n                validation.type = type as JsonType;\n                yield toValidate => this.validateBySchema(key, toValidate, validation);\n            }\n        }).bind(this)());\n        if (candidate !== value && (schema.default !== undefined || schema.defaultValue !== undefined)) {\n            const configuredDefault = this.getDefaultFromSchema(schema);\n            return this.validateMultiple(key, configuredDefault, { ...schema, default: undefined, defaultValue: undefined });\n        }\n        return candidate;\n    }\n\n    protected validateAnyOf(key: string, value: JSONValue, schema: ValidatablePreference & { anyOf: ValidatablePreference[] }): JSONValue {\n        const candidate = this.mapValidators(key, value, (function* (this: PreferenceValidationService): Iterable<ValueValidator> {\n            for (const option of schema.anyOf) {\n                yield toValidate => this.validateBySchema(key, toValidate, option);\n            }\n        }).bind(this)());\n        if (candidate !== value && (schema.default !== undefined || schema.defaultValue !== undefined)) {\n            const configuredDefault = this.getDefaultFromSchema(schema);\n            return this.validateAnyOf(key, configuredDefault, { ...schema, default: undefined, defaultValue: undefined });\n        }\n        return candidate;\n    }\n\n    protected validateOneOf(key: string, value: JSONValue, schema: ValidatablePreference & { oneOf: ValidatablePreference[] }): JSONValue {\n        let passed = false;\n        for (const subSchema of schema.oneOf) {\n            const validValue = this.validateBySchema(key, value, subSchema);\n            if (!passed && validValue === value) {\n                passed = true;\n            } else if (passed && validValue === value) {\n                passed = false;\n                break;\n            }\n        }\n        if (passed) {\n            return value;\n        }\n        if (schema.default !== undefined || schema.defaultValue !== undefined) {\n            const configuredDefault = this.getDefaultFromSchema(schema);\n            return this.validateOneOf(key, configuredDefault, { ...schema, default: undefined, defaultValue: undefined });\n        }\n        console.log(`While validating ${key}, failed to find a valid value or default value. Using configured value ${value}.`);\n        return value;\n    }\n\n    protected mapValidators(key: string, value: JSONValue, validators: Iterable<(value: JSONValue) => JSONValue>): JSONValue {\n        const candidates = [];\n        for (const validator of validators) {\n            const candidate = validator(value);\n            if (candidate === value) {\n                return candidate;\n            }\n            candidates.push(candidate);\n        }\n        return candidates[0];\n    }\n    protected validateArray(key: string, value: JSONValue, schema: ValidatablePreference): JSONValue[] {\n        const candidate = Array.isArray(value) ? value : this.getDefaultFromSchema(schema);\n        if (!Array.isArray(candidate)) {\n            return [];\n        }\n        if (!schema.items && !schema.prefixItems) {\n            console.warn('Requested validation of array without item specification:', key);\n            return candidate;\n        }\n        if (Array.isArray(schema.items) || Array.isArray(schema.prefixItems)) {\n            return this.validateTuple(key, value, schema as ValidatablePreferenceTuple);\n        }\n        const itemSchema = schema.items!;\n        const valid = candidate.filter(item => this.validateBySchema(key, item, itemSchema) === item);\n        return valid.length === candidate.length ? candidate : valid;\n    }\n\n    protected validateTuple(key: string, value: JSONValue, schema: ValidatablePreferenceTuple): JSONValue[] {\n        const defaultValue = this.getDefaultFromSchema(schema);\n        const maybeCandidate = Array.isArray(value) ? value : defaultValue;\n        // If we find that the provided value is not valid, we immediately bail and try the default value instead.\n        const shouldTryDefault = Array.isArray(schema.defaultValue ?? schema.default) && !PreferenceProvider.deepEqual(defaultValue, maybeCandidate);\n        const tryDefault = () => this.validateTuple(key, defaultValue, schema);\n        const candidate = Array.isArray(maybeCandidate) ? maybeCandidate : [];\n        // Only `prefixItems` is officially part of the JSON Schema spec, but `items` as array was part of a draft and was used by VSCode.\n        const tuple = (schema.prefixItems ?? schema.items) as Required<ValidatablePreference>['prefixItems'];\n        const lengthIsWrong = candidate.length < tuple.length || (candidate.length > tuple.length && !schema.additionalItems);\n        if (lengthIsWrong && shouldTryDefault) { return tryDefault(); }\n        let valid = true;\n        const validItems: JSONValue[] = [];\n        for (const [index, subschema] of tuple.entries()) {\n            const targetItem = candidate[index];\n            const validatedItem = targetItem === undefined ? this.getDefaultFromSchema(subschema) : this.validateBySchema(key, targetItem, subschema);\n            valid &&= validatedItem === targetItem;\n            if (!valid && shouldTryDefault) { return tryDefault(); }\n            validItems.push(validatedItem);\n        };\n        if (candidate.length > tuple.length) {\n            if (!schema.additionalItems) {\n                return validItems;\n            } else if (schema.additionalItems === true && !valid) {\n                validItems.push(...candidate.slice(tuple.length));\n                return validItems;\n            } else if (schema.additionalItems !== true) {\n                const applicableSchema = schema.additionalItems;\n                for (let i = tuple.length; i < candidate.length; i++) {\n                    const targetItem = candidate[i];\n                    const validatedItem = this.validateBySchema(key, targetItem, applicableSchema);\n                    if (validatedItem === targetItem) {\n                        validItems.push(targetItem);\n                    } else {\n                        valid = false;\n                        if (shouldTryDefault) { return tryDefault(); }\n                    }\n                }\n            }\n        }\n        return valid ? candidate : validItems;\n    }\n\n    protected validateConst(key: string, value: JSONValue, schema: ValidatablePreference & { const: JSONValue }): JSONValue {\n        if (PreferenceProvider.deepEqual(value, schema.const)) {\n            return value;\n        }\n        return schema.const;\n    }\n\n    protected validateEnum(key: string, value: JSONValue, schema: ValidatablePreference & { enum: JSONValue[] }): JSONValue {\n        const options = schema.enum;\n        if (options.some(option => PreferenceProvider.deepEqual(option, value))) {\n            return value;\n        }\n        const configuredDefault = this.getDefaultFromSchema(schema);\n        if (options.some(option => PreferenceProvider.deepEqual(option, configuredDefault))) {\n            return configuredDefault;\n        }\n        return options[0];\n    }\n\n    protected validateBoolean(key: string, value: JSONValue, schema: ValidatablePreference): boolean {\n        if (value === true || value === false) {\n            return value;\n        }\n        if (value === 'true') {\n            return true;\n        }\n        if (value === 'false') {\n            return false;\n        }\n        return Boolean(this.getDefaultFromSchema(schema));\n    }\n\n    protected validateInteger(key: string, value: JSONValue, schema: ValidatablePreference): number {\n        return Math.round(this.validateNumber(key, value, schema));\n    }\n\n    protected validateNumber(key: string, value: JSONValue, schema: ValidatablePreference): number {\n        let validated = Number(value);\n        if (isNaN(validated)) {\n            const configuredDefault = Number(this.getDefaultFromSchema(schema));\n            validated = isNaN(configuredDefault) ? 0 : configuredDefault;\n        }\n        if (schema.minimum !== undefined) {\n            validated = Math.max(validated, schema.minimum);\n        }\n        if (schema.maximum !== undefined) {\n            validated = Math.min(validated, schema.maximum);\n        }\n        return validated;\n    }\n\n    protected validateObject(key: string, value: JSONValue, schema: ValidatablePreference): JSONObject {\n        if (this.objectMatchesSchema(key, value, schema)) {\n            return value;\n        }\n        const configuredDefault = this.getDefaultFromSchema(schema);\n        if (this.objectMatchesSchema(key, configuredDefault, schema)) {\n            return configuredDefault;\n        }\n        return {};\n    }\n\n    // This evaluates most of the fields that commonly appear on PreferenceItem, but it could be improved to evaluate all possible JSON schema specifications.\n    protected objectMatchesSchema(key: string, value: JSONValue, schema: ValidatablePreference): value is JSONObject {\n        if (!value || typeof value !== 'object') {\n            return false;\n        }\n        if (schema.required && schema.required.some(requiredField => !(requiredField in value))) {\n            return false;\n        }\n        if (schema.additionalProperties === false && schema.properties && Object.keys(value).some(fieldKey => !(fieldKey in schema.properties!))) {\n            return false;\n        }\n        const additionalPropertyValidator = schema.additionalProperties !== true && !!schema.additionalProperties && schema.additionalProperties as IJSONSchema;\n        for (const [fieldKey, fieldValue] of Object.entries(value)) {\n            const fieldLabel = `${key}#${fieldKey}`;\n            if (schema.properties && fieldKey in schema.properties) {\n                const valid = this.validateBySchema(fieldLabel, fieldValue, schema.properties[fieldKey]);\n                if (valid !== fieldValue) {\n                    return false;\n                }\n            } else if (additionalPropertyValidator) {\n                const valid = this.validateBySchema(fieldLabel, fieldValue, additionalPropertyValidator);\n                if (valid !== fieldValue) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n\n    protected validateString(key: string, value: JSONValue, schema: ValidatablePreference): string {\n        if (typeof value === 'string') {\n            return value;\n        }\n        if (value instanceof String) {\n            return value.toString();\n        }\n        const configuredDefault = this.getDefaultFromSchema(schema);\n        return (configuredDefault ?? '').toString();\n    }\n\n    protected getDefaultFromSchema(schema: ValidatablePreference): JSONValue {\n        return this.schemaProvider.getDefaultValue(schema as PreferenceItem);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ProgressBar } from './progress-bar';\n\nexport const ProgressBarFactory = Symbol('ProgressBarFactory');\nexport interface ProgressBarFactory {\n    (options: ProgressBarOptions): ProgressBar;\n}\n\nexport const ProgressBarOptions = Symbol('ProgressBarOptions');\nexport interface ProgressBarOptions {\n    locationId: string;\n    container: HTMLElement;\n    insertMode: 'append' | 'prepend';\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nexport * from './quick-command-frontend-contribution';\nexport * from './quick-command-service';\nexport * from './quick-help-service';\nexport * from './quick-access';\nexport * from './quick-input-frontend-contribution';\nexport * from './quick-input-service';\nexport * from './quick-view-service';\nexport * from './quick-pick-service-impl';\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { CancellationToken, Disposable } from '../../common';\nimport { QuickPicks } from './quick-input-service';\n\nexport const QuickAccessContribution = Symbol('QuickAccessContribution');\n/**\n * Bind this contribution in order to register quick access providers with the\n * QuickAccessRegistry at startup\n */\nexport interface QuickAccessContribution {\n    registerQuickAccessProvider(): void;\n}\n\nexport interface QuickAccessProvider {\n    getPicks(filter: string, token: CancellationToken): QuickPicks | Promise<QuickPicks>;\n    reset?(): void;\n}\n\nexport interface QuickAccessProviderHelp {\n    prefix?: string;\n    description: string;\n    needsEditor: boolean;\n}\n\nexport interface QuickAccessProviderDescriptor {\n    /**\n     * return an instance of QuickAccessProvider. Implementers are free to return that same instance multiple times\n     */\n    readonly getInstance: () => QuickAccessProvider;\n    /**\n     * The prefix for quick access picker to use the provider for.\n     */\n    readonly prefix: string;\n    /**\n     * A placeholder to use for the input field when the provider is active.\n     * This will also be read out by screen readers and thus helps for\n     * accessibility.\n     */\n    readonly placeholder?: string;\n    /**\n     * Help entries for this quick access provider\n     */\n    readonly helpEntries: QuickAccessProviderHelp[];\n    /**\n     * A context key that will be set automatically when this quick access is being shown\n     */\n    readonly contextKey?: string;\n}\n\nexport const QuickAccessRegistry = Symbol('QuickAccessRegistry');\n\n/**\n * A registry for quick access providers.\n */\nexport interface QuickAccessRegistry {\n    registerQuickAccessProvider(provider: QuickAccessProviderDescriptor): Disposable;\n    getQuickAccessProviders(): QuickAccessProviderDescriptor[];\n    getQuickAccessProvider(prefix: string): QuickAccessProviderDescriptor | undefined;\n    clear(): void;\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nimport { injectable, inject, optional } from 'inversify';\nimport { CommandRegistry, CommandContribution, MenuContribution, MenuModelRegistry, nls } from '../../common';\nimport { KeybindingRegistry, KeybindingContribution } from '../keybinding';\nimport { CommonMenus } from '../common-frontend-contribution';\nimport { CLOSE_QUICK_OPEN, CLEAR_COMMAND_HISTORY, quickCommand, QuickCommandService } from './quick-command-service';\nimport { QuickInputService } from './quick-input-service';\nimport { ConfirmDialog, Dialog } from '../dialogs';\n\n@injectable()\nexport class QuickCommandFrontendContribution implements CommandContribution, KeybindingContribution, MenuContribution {\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    @inject(QuickCommandService) @optional()\n    protected readonly quickCommandService: QuickCommandService;\n\n    registerCommands(commands: CommandRegistry): void {\n        commands.registerCommand(quickCommand, {\n            execute: () => {\n                this.quickInputService?.open('>');\n            }\n        });\n        commands.registerCommand(CLEAR_COMMAND_HISTORY, {\n            execute: async () => {\n                const shouldClear = await new ConfirmDialog({\n                    title: nls.localizeByDefault('Clear Command History'),\n                    msg: nls.localizeByDefault('Do you want to clear the history of recently used commands?'),\n                    ok: nls.localizeByDefault('Clear'),\n                    cancel: Dialog.CANCEL,\n                }).open();\n                if (shouldClear) {\n                    commands.clearCommandHistory();\n                }\n            }\n        });\n        commands.registerCommand(CLOSE_QUICK_OPEN, {\n            execute: () => this.quickInputService?.hide()\n        });\n    }\n\n    registerMenus(menus: MenuModelRegistry): void {\n        menus.registerMenuAction(CommonMenus.VIEW_PRIMARY, {\n            commandId: quickCommand.id,\n            label: nls.localizeByDefault('Command Palette...')\n        });\n        menus.registerMenuAction(CommonMenus.MANAGE_GENERAL, {\n            commandId: quickCommand.id,\n            label: nls.localizeByDefault('Command Palette...'),\n            order: '0'\n        });\n    }\n\n    registerKeybindings(keybindings: KeybindingRegistry): void {\n        keybindings.registerKeybinding({\n            command: quickCommand.id,\n            keybinding: 'f1'\n        });\n        keybindings.registerKeybinding({\n            command: quickCommand.id,\n            keybinding: 'ctrlcmd+shift+p'\n        });\n        keybindings.registerKeybinding({\n            command: CLOSE_QUICK_OPEN.id,\n            keybinding: 'esc',\n            when: 'inQuickOpen'\n        });\n        keybindings.registerKeybinding({\n            command: CLOSE_QUICK_OPEN.id,\n            keybinding: 'shift+esc',\n            when: 'inQuickOpen'\n        });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from 'inversify';\nimport { KeybindingRegistry } from '../keybinding';\nimport { Disposable, Command, CommandRegistry, CancellationToken, nls } from '../../common';\nimport { ContextKeyService } from '../context-key-service';\nimport { CorePreferences } from '../core-preferences';\nimport { QuickAccessContribution, QuickAccessProvider, QuickAccessRegistry } from './quick-access';\nimport { filterItems, QuickPickItem, QuickPicks } from './quick-input-service';\nimport { KeySequence } from '../keys';\nimport { codiconArray } from '../widgets';\n\nexport const quickCommand: Command = {\n    id: 'workbench.action.showCommands'\n};\n\nexport const CLEAR_COMMAND_HISTORY = Command.toDefaultLocalizedCommand({\n    id: 'clear.command.history',\n    label: 'Clear Command History'\n});\n\nexport const CLOSE_QUICK_OPEN: Command = {\n    id: 'workbench.action.closeQuickOpen'\n};\n\n@injectable()\nexport class QuickCommandService implements QuickAccessContribution, QuickAccessProvider {\n    static PREFIX = '>';\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @inject(CommandRegistry)\n    protected readonly commandRegistry: CommandRegistry;\n\n    @inject(CorePreferences)\n    protected readonly corePreferences: CorePreferences;\n\n    @inject(QuickAccessRegistry)\n    protected readonly quickAccessRegistry: QuickAccessRegistry;\n\n    @inject(KeybindingRegistry)\n    protected readonly keybindingRegistry: KeybindingRegistry;\n\n    // The list of exempted commands not to be displayed in the recently used list.\n    readonly exemptedCommands: Command[] = [\n        CLEAR_COMMAND_HISTORY,\n    ];\n\n    private recentItems: QuickPickItem[] = [];\n    private otherItems: QuickPickItem[] = [];\n\n    registerQuickAccessProvider(): void {\n        this.quickAccessRegistry.registerQuickAccessProvider({\n            getInstance: () => this,\n            prefix: QuickCommandService.PREFIX,\n            placeholder: '',\n            helpEntries: [{ description: 'Quick Command', needsEditor: false }]\n        });\n    }\n\n    reset(): void {\n        const { recent, other } = this.getCommands();\n        this.recentItems = [];\n        this.otherItems = [];\n        this.recentItems.push(...recent.map(command => this.toItem(command)));\n        this.otherItems.push(...other.map(command => this.toItem(command)));\n    }\n\n    getPicks(filter: string, token: CancellationToken): QuickPicks {\n        const items: QuickPicks = [];\n\n        // Update the list of commands by fetching them from the registry.\n        this.reset();\n        const recentItems = filterItems(this.recentItems.slice(), filter);\n        const otherItems = filterItems(this.otherItems.slice(), filter);\n\n        if (recentItems.length > 0) {\n            items.push({ type: 'separator', label: nls.localizeByDefault('recently used') }, ...recentItems);\n        }\n\n        if (otherItems.length > 0) {\n            if (recentItems.length > 0) {\n                items.push({ type: 'separator', label: nls.localizeByDefault('other commands') });\n            }\n            items.push(...otherItems);\n        }\n        return items;\n    }\n\n    toItem(command: Command): QuickPickItem {\n        const label = (command.category) ? `${command.category}: ` + command.label! : command.label!;\n        const iconClasses = this.getItemIconClasses(command);\n        const activeElement = window.document.activeElement as HTMLElement;\n\n        const originalLabel = command.originalLabel || command.label!;\n        const originalCategory = command.originalCategory || command.category;\n        let detail: string | undefined = originalCategory ? `${originalCategory}: ${originalLabel}` : originalLabel;\n        if (label === detail) {\n            detail = undefined;\n        }\n\n        return {\n            label,\n            detail,\n            iconClasses,\n            alwaysShow: !!this.commandRegistry.getActiveHandler(command.id),\n            keySequence: this.getKeybinding(command),\n            execute: () => {\n                activeElement.focus({ preventScroll: true });\n                this.commandRegistry.executeCommand(command.id);\n                this.commandRegistry.addRecentCommand(command);\n            }\n        };\n    }\n\n    private getKeybinding(command: Command): KeySequence | undefined {\n        const keybindings = this.keybindingRegistry.getKeybindingsForCommand(command.id);\n        if (!keybindings || keybindings.length === 0) {\n            return undefined;\n        }\n\n        try {\n            return this.keybindingRegistry.resolveKeybinding(keybindings[0]);\n        } catch (error) {\n            return undefined;\n        }\n    }\n\n    private getItemIconClasses(command: Command): string[] | undefined {\n        const toggledHandler = this.commandRegistry.getToggledHandler(command.id);\n        if (toggledHandler) {\n            return codiconArray('check');\n        }\n        return undefined;\n    }\n\n    protected readonly contexts = new Map<string, string[]>();\n    pushCommandContext(commandId: string, when: string): Disposable {\n        const contexts = this.contexts.get(commandId) || [];\n        contexts.push(when);\n        this.contexts.set(commandId, contexts);\n        return Disposable.create(() => {\n            const index = contexts.indexOf(when);\n            if (index !== -1) {\n                contexts.splice(index, 1);\n            }\n        });\n    }\n\n    /**\n     * Get the list of valid commands.\n     *\n     * @param commands the list of raw commands.\n     * @returns the list of valid commands.\n     */\n    protected getValidCommands(raw: Command[]): Command[] {\n        const valid: Command[] = [];\n        raw.forEach(command => {\n            if (command.label) {\n                const contexts = this.contexts.get(command.id);\n                if (!contexts || contexts.some(when => this.contextKeyService.match(when))) {\n                    valid.push(command);\n                }\n            }\n        });\n        return valid;\n    }\n\n    /**\n     * Get the list of recently used and other commands.\n     *\n     * @returns the list of recently used commands and other commands.\n     */\n    getCommands(): { recent: Command[], other: Command[] } {\n\n        // Get the list of recent commands.\n        const recentCommands = this.commandRegistry.recent;\n\n        // Get the list of all valid commands.\n        const allCommands = this.getValidCommands(this.commandRegistry.commands);\n\n        // Get the max history limit.\n        const limit = this.corePreferences['workbench.commandPalette.history'];\n\n        // Build the list of recent commands.\n        let rCommands: Command[] = [];\n        if (limit > 0) {\n            rCommands.push(...recentCommands.filter(r =>\n                !this.exemptedCommands.some(c => Command.equals(r, c)) &&\n                allCommands.some(c => Command.equals(r, c)))\n            );\n            if (rCommands.length > limit) {\n                rCommands = rCommands.slice(0, limit);\n            }\n        }\n\n        // Build the list of other commands.\n        const oCommands = allCommands.filter(c => !rCommands.some(r => Command.equals(r, c)));\n\n        // Normalize the list of recent commands.\n        const recent = this.normalize(rCommands);\n\n        // Normalize, and sort the list of other commands.\n        const other = this.sort(\n            this.normalize(oCommands)\n        );\n\n        return { recent, other };\n    }\n\n    /**\n     * Normalizes a list of commands.\n     * Normalization includes obtaining commands that have labels, are visible, and are enabled.\n     *\n     * @param commands the list of commands.\n     * @returns the list of normalized commands.\n     */\n    private normalize(commands: Command[]): Command[] {\n        return commands.filter((a: Command) => a.label && (this.commandRegistry.isVisible(a.id) && this.commandRegistry.isEnabled(a.id)));\n    }\n\n    /**\n     * Sorts a list of commands alphabetically.\n     *\n     * @param commands the list of commands.\n     * @returns the list of sorted commands.\n     */\n    private sort(commands: Command[]): Command[] {\n        return commands.sort((a: Command, b: Command) => Command.compareCommands(a, b));\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from 'inversify';\nimport { CancellationToken } from '../../common';\nimport { QuickAccessContribution, QuickAccessProvider, QuickAccessRegistry } from './quick-access';\nimport { QuickInputService, QuickPickItem, QuickPickSeparator } from './quick-input-service';\n\n@injectable()\nexport class QuickHelpService implements QuickAccessProvider, QuickAccessContribution {\n    static PREFIX = '?';\n\n    @inject(QuickAccessRegistry)\n    protected quickAccessRegistry: QuickAccessRegistry;\n\n    @inject(QuickInputService)\n    protected quickInputService: QuickInputService;\n\n    getPicks(filter: string, token: CancellationToken): (QuickPickItem | QuickPickSeparator)[] {\n        const { editorProviders, globalProviders } = this.getQuickAccessProviders();\n        const result: (QuickPickItem | QuickPickSeparator)[] = editorProviders.length === 0 || globalProviders.length === 0 ?\n            // Without groups\n            [\n                ...(editorProviders.length === 0 ? globalProviders : editorProviders)\n            ] :\n\n            // With groups\n            [\n                { type: 'separator', label: 'global commands' },\n                ...globalProviders,\n                { type: 'separator', label: 'editor commands' },\n                ...editorProviders\n            ];\n        return result;\n    }\n\n    private getQuickAccessProviders(): { editorProviders: QuickPickItem[], globalProviders: QuickPickItem[] } {\n        const globalProviders: QuickPickItem[] = [];\n        const editorProviders: QuickPickItem[] = [];\n\n        const providers = this.quickAccessRegistry.getQuickAccessProviders();\n\n        for (const provider of providers.sort((providerA, providerB) => providerA.prefix.localeCompare(providerB.prefix))) {\n            if (provider.prefix === QuickHelpService.PREFIX) {\n                continue; // exclude help which is already active\n            }\n\n            for (const helpEntry of provider.helpEntries) {\n                const prefix = helpEntry.prefix || provider.prefix;\n                const label = prefix || '\\u2026' /* ... */;\n\n                (helpEntry.needsEditor ? editorProviders : globalProviders).push({\n                    label,\n                    ariaLabel: `${label}, ${helpEntry.description}`,\n                    description: helpEntry.description,\n                    execute: () => this.quickInputService.open(prefix)\n                });\n            }\n        }\n\n        return { editorProviders, globalProviders };\n    }\n\n    registerQuickAccessProvider(): void {\n        this.quickAccessRegistry.registerQuickAccessProvider(\n            {\n                getInstance: () => this,\n                prefix: QuickHelpService.PREFIX,\n                placeholder: 'Type \"?\" to get help on the actions you can take from here.',\n                helpEntries: [{ description: 'Show all Quick Access Providers', needsEditor: false }]\n            }\n        );\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, named } from 'inversify';\nimport { ContributionProvider } from '../../common';\nimport { FrontendApplicationContribution } from '../frontend-application-contribution';\nimport { QuickAccessContribution } from './quick-access';\n\n@injectable()\nexport class QuickInputFrontendContribution implements FrontendApplicationContribution {\n\n    @inject(ContributionProvider) @named(QuickAccessContribution)\n    protected readonly contributionProvider: ContributionProvider<QuickAccessContribution>;\n\n    onStart(): void {\n        this.contributionProvider.getContributions().forEach(contrib => {\n            contrib.registerQuickAccessProvider();\n        });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from '../../common/quick-pick-service';\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, optional } from 'inversify';\nimport { Emitter } from '../../common/event';\nimport { QuickPickSeparator, QuickPickService } from '../../common/quick-pick-service';\nimport { QuickInputService, QuickPickItem, QuickInputButtonHandle, QuickPick, QuickPickOptions } from './quick-input-service';\n\n@injectable()\nexport class QuickPickServiceImpl implements QuickPickService {\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    private readonly onDidHideEmitter = new Emitter<void>();\n    readonly onDidHide = this.onDidHideEmitter.event;\n\n    private readonly onDidChangeValueEmitter = new Emitter<{ quickPick: QuickPick<QuickPickItem>, filter: string }>();\n    readonly onDidChangeValue = this.onDidChangeValueEmitter.event;\n\n    private readonly onDidAcceptEmitter = new Emitter<void>();\n    readonly onDidAccept = this.onDidAcceptEmitter.event;\n\n    private readonly onDidChangeActiveEmitter = new Emitter<{ quickPick: QuickPick<QuickPickItem>, activeItems: Array<QuickPickItem> }>();\n    readonly onDidChangeActive = this.onDidChangeActiveEmitter.event;\n\n    private readonly onDidChangeSelectionEmitter = new Emitter<{ quickPick: QuickPick<QuickPickItem>, selectedItems: Array<QuickPickItem> }>();\n    readonly onDidChangeSelection = this.onDidChangeSelectionEmitter.event;\n\n    private readonly onDidTriggerButtonEmitter = new Emitter<QuickInputButtonHandle>();\n    readonly onDidTriggerButton = this.onDidTriggerButtonEmitter.event;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    private items: Array<any> = [];\n\n    async show<T extends QuickPickItem>(items: Array<T | QuickPickSeparator>, options?: QuickPickOptions<T>): Promise<T | undefined> {\n        this.items = items;\n        const opts = Object.assign({}, options, {\n            onDidAccept: () => this.onDidAcceptEmitter.fire(),\n            onDidChangeActive: (quickPick: QuickPick<T>, activeItems: Array<QuickPickItem>) => this.onDidChangeActiveEmitter.fire({ quickPick, activeItems }),\n            onDidChangeSelection: (quickPick: QuickPick<T>, selectedItems: Array<QuickPickItem>) => this.onDidChangeSelectionEmitter.fire({ quickPick, selectedItems }),\n            onDidChangeValue: (quickPick: QuickPick<T>, filter: string) => this.onDidChangeValueEmitter.fire({ quickPick, filter }),\n            onDidHide: () => this.onDidHideEmitter.fire(),\n            onDidTriggerButton: (btn: QuickInputButtonHandle) => this.onDidTriggerButtonEmitter.fire(btn),\n        });\n        return this.quickInputService?.showQuickPick<T>(this.items, opts);\n    }\n\n    hide(): void {\n        this.quickInputService?.hide();\n    }\n\n    setItems<T>(items: Array<QuickPickItem>): void {\n        this.items = items;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from 'inversify';\nimport { CancellationToken, Disposable } from '../../common';\nimport { ContextKeyService } from '../context-key-service';\nimport { QuickAccessContribution, QuickAccessProvider, QuickAccessRegistry } from './quick-access';\nimport { filterItems, QuickPickItem, QuickPicks } from './quick-input-service';\n\nexport interface QuickViewItem {\n    readonly label: string;\n    readonly when?: string;\n    readonly open: () => void;\n}\n\n@injectable()\nexport class QuickViewService implements QuickAccessContribution, QuickAccessProvider {\n    static PREFIX = 'view ';\n\n    protected readonly items: (QuickPickItem & { when?: string })[] = [];\n    private hiddenItemLabels = new Set<string | undefined>();\n\n    @inject(QuickAccessRegistry)\n    protected readonly quickAccessRegistry: QuickAccessRegistry;\n\n    @inject(ContextKeyService)\n    protected readonly contextKexService: ContextKeyService;\n\n    registerItem(item: QuickViewItem): Disposable {\n        const quickOpenItem = {\n            label: item.label,\n            execute: () => item.open(),\n            when: item.when\n        };\n        this.items.push(quickOpenItem);\n        this.items.sort((a, b) => a.label!.localeCompare(b.label!));\n\n        return Disposable.create(() => {\n            const index = this.items.indexOf(quickOpenItem);\n            if (index !== -1) {\n                this.items.splice(index, 1);\n            }\n        });\n    }\n\n    hideItem(label: string): void {\n        this.hiddenItemLabels.add(label);\n    }\n\n    showItem(label: string): void {\n        this.hiddenItemLabels.delete(label);\n    }\n\n    registerQuickAccessProvider(): void {\n        this.quickAccessRegistry.registerQuickAccessProvider({\n            getInstance: () => this,\n            prefix: QuickViewService.PREFIX,\n            placeholder: '',\n            helpEntries: [{ description: 'Open View', needsEditor: false }]\n        });\n    }\n\n    getPicks(filter: string, token: CancellationToken): QuickPicks {\n        const items = this.items.filter(item =>\n            (item.when === undefined || this.contextKexService.match(item.when)) &&\n            (!this.hiddenItemLabels.has(item.label))\n        );\n        return filterItems(items, filter);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport URI from '../common/uri';\nimport { ContextKeyService, ContextKey } from './context-key-service';\nimport { LanguageService } from './language-service';\n\n@injectable()\nexport class ResourceContextKey {\n\n    @inject(LanguageService)\n    protected readonly languages: LanguageService;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    protected resource: ContextKey<string>;\n    protected resourceSchemeKey: ContextKey<string>;\n    protected resourceFileName: ContextKey<string>;\n    protected resourceExtname: ContextKey<string>;\n    protected resourceLangId: ContextKey<string>;\n    protected resourceDirName: ContextKey<string>;\n    protected resourcePath: ContextKey<string>;\n    protected resourceSet: ContextKey<boolean>;\n\n    @postConstruct()\n    protected init(): void {\n        this.resource = this.contextKeyService.createKey<string>('resource', undefined);\n        this.resourceSchemeKey = this.contextKeyService.createKey<string>('resourceScheme', undefined);\n        this.resourceFileName = this.contextKeyService.createKey<string>('resourceFilename', undefined);\n        this.resourceExtname = this.contextKeyService.createKey<string>('resourceExtname', undefined);\n        this.resourceLangId = this.contextKeyService.createKey<string>('resourceLangId', undefined);\n        this.resourceDirName = this.contextKeyService.createKey<string>('resourceDirName', undefined);\n        this.resourcePath = this.contextKeyService.createKey<string>('resourcePath', undefined);\n        this.resourceSet = this.contextKeyService.createKey<boolean>('resourceSet', false);\n    }\n\n    get(): string | undefined {\n        return this.resource.get();\n    }\n\n    set(resourceUri: URI | undefined): void {\n        this.resource.set(resourceUri?.toString());\n        this.resourceSchemeKey.set(resourceUri?.scheme);\n        this.resourceFileName.set(resourceUri?.path.base);\n        this.resourceExtname.set(resourceUri?.path.ext);\n        this.resourceLangId.set(resourceUri && this.getLanguageId(resourceUri));\n        this.resourceDirName.set(resourceUri?.path.dir.fsPath());\n        this.resourcePath.set(resourceUri?.path.fsPath());\n        this.resourceSet.set(Boolean(resourceUri));\n    }\n\n    protected getLanguageId(uri: URI | undefined): string | undefined {\n        if (uri) {\n            for (const language of this.languages.languages) {\n                if (language.extensions.has(uri.path.ext)) {\n                    return language.id;\n                }\n            }\n        }\n        return undefined;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2022 Arm and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { inject, injectable } from 'inversify';\nimport { MessageService, UNTITLED_SCHEME, URI } from '../common';\nimport { Navigatable, NavigatableWidget } from './navigatable-types';\nimport { Saveable, SaveableSource, SaveOptions } from './saveable';\nimport { Widget } from './widgets';\n\n@injectable()\nexport class SaveResourceService {\n    @inject(MessageService) protected readonly messageService: MessageService;\n\n    /**\n     * Indicate if the document can be saved ('Save' command should be disable if not).\n     */\n    canSave(widget?: Widget): widget is Widget & (Saveable | SaveableSource) {\n        return Saveable.isDirty(widget) && (this.canSaveNotSaveAs(widget) || this.canSaveAs(widget));\n    }\n\n    canSaveNotSaveAs(widget?: Widget): widget is Widget & (Saveable | SaveableSource) {\n        // By default, we never allow a document to be saved if it is untitled.\n        return Boolean(widget && NavigatableWidget.getUri(widget)?.scheme !== UNTITLED_SCHEME);\n    }\n\n    /**\n     * Saves the document\n     *\n     * No op if the widget is not saveable.\n     */\n    async save(widget: Widget | undefined, options?: SaveOptions): Promise<URI | undefined> {\n        if (this.canSaveNotSaveAs(widget)) {\n            await Saveable.save(widget, options);\n            return NavigatableWidget.getUri(widget);\n        } else if (this.canSaveAs(widget)) {\n            return this.saveAs(widget, options);\n        }\n    }\n\n    canSaveAs(saveable?: Widget): saveable is Widget & SaveableSource & Navigatable {\n        return false;\n    }\n\n    saveAs(sourceWidget: Widget & SaveableSource & Navigatable, options?: SaveOptions): Promise<URI | undefined> {\n        return Promise.reject('Unsupported: The base SaveResourceService does not support saveAs action.');\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Widget } from '@phosphor/widgets';\nimport { Message } from '@phosphor/messaging';\nimport { Emitter, Event } from '../common/event';\nimport { MaybePromise } from '../common/types';\nimport { Key } from './keyboard/keys';\nimport { AbstractDialog } from './dialogs';\nimport { waitForClosed } from './widgets';\nimport { nls } from '../common/nls';\nimport { Disposable, isObject } from '../common';\n\nexport interface Saveable {\n    readonly dirty: boolean;\n    readonly onDirtyChanged: Event<void>;\n    readonly autoSave: 'off' | 'afterDelay' | 'onFocusChange' | 'onWindowChange';\n    /**\n     * Saves dirty changes.\n     */\n    save(options?: SaveOptions): MaybePromise<void>;\n    /**\n     * Reverts dirty changes.\n     */\n    revert?(options?: Saveable.RevertOptions): Promise<void>;\n    /**\n     * Creates a snapshot of the dirty state.\n     */\n    createSnapshot?(): Saveable.Snapshot;\n    /**\n     * Applies the given snapshot to the dirty state.\n     */\n    applySnapshot?(snapshot: object): void;\n}\n\nexport interface SaveableSource {\n    readonly saveable: Saveable;\n}\n\nexport class DelegatingSaveable implements Saveable {\n    dirty = false;\n    protected readonly onDirtyChangedEmitter = new Emitter<void>();\n\n    get onDirtyChanged(): Event<void> {\n        return this.onDirtyChangedEmitter.event;\n    }\n    autoSave: 'off' | 'afterDelay' | 'onFocusChange' | 'onWindowChange' = 'off';\n\n    async save(options?: SaveOptions): Promise<void> {\n        await this._delegate?.save(options);\n    }\n\n    revert?(options?: Saveable.RevertOptions): Promise<void>;\n    createSnapshot?(): Saveable.Snapshot;\n    applySnapshot?(snapshot: object): void;\n\n    protected _delegate?: Saveable;\n    protected toDispose?: Disposable;\n\n    set delegate(delegate: Saveable) {\n        this.toDispose?.dispose();\n        this._delegate = delegate;\n        this.toDispose = delegate.onDirtyChanged(() => {\n            this.dirty = delegate.dirty;\n            this.onDirtyChangedEmitter.fire();\n        });\n        this.autoSave = delegate.autoSave;\n        if (this.dirty !== delegate.dirty) {\n            this.dirty = delegate.dirty;\n            this.onDirtyChangedEmitter.fire();\n        }\n        this.revert = delegate.revert?.bind(delegate);\n        this.createSnapshot = delegate.createSnapshot?.bind(delegate);\n        this.applySnapshot = delegate.applySnapshot?.bind(delegate);\n    }\n\n}\n\nexport namespace Saveable {\n    export interface RevertOptions {\n        /**\n         * If soft then only dirty flag should be updated, otherwise\n         * the underlying data should be reverted as well.\n         */\n        soft?: boolean\n    }\n\n    export type Snapshot = { value: string } | { read(): string | null };\n    export function isSource(arg: unknown): arg is SaveableSource {\n        return isObject<SaveableSource>(arg) && is(arg.saveable);\n    }\n    export function is(arg: unknown): arg is Saveable {\n        return isObject(arg) && 'dirty' in arg && 'onDirtyChanged' in arg;\n    }\n    export function get(arg: unknown): Saveable | undefined {\n        if (is(arg)) {\n            return arg;\n        }\n        if (isSource(arg)) {\n            return arg.saveable;\n        }\n        return undefined;\n    }\n    export function getDirty(arg: unknown): Saveable | undefined {\n        const saveable = get(arg);\n        if (saveable && saveable.dirty) {\n            return saveable;\n        }\n        return undefined;\n    }\n    export function isDirty(arg: unknown): boolean {\n        return !!getDirty(arg);\n    }\n    export async function save(arg: unknown, options?: SaveOptions): Promise<void> {\n        const saveable = get(arg);\n        if (saveable) {\n            await saveable.save(options);\n        }\n    }\n\n    async function closeWithoutSaving(this: PostCreationSaveableWidget, doRevert: boolean = true): Promise<void> {\n        const saveable = get(this);\n        if (saveable && doRevert && saveable.dirty && saveable.revert) {\n            await saveable.revert();\n        }\n        this[close]();\n        return waitForClosed(this);\n    }\n\n    function createCloseWithSaving(\n        getOtherSaveables?: () => Array<Widget | SaveableWidget>,\n        doSave?: (widget: Widget, options?: SaveOptions) => Promise<void>\n    ): (this: SaveableWidget, options?: SaveableWidget.CloseOptions) => Promise<void> {\n        let closing = false;\n        return async function (this: SaveableWidget, options: SaveableWidget.CloseOptions): Promise<void> {\n            if (closing) { return; }\n            const saveable = get(this);\n            if (!saveable) { return; }\n            closing = true;\n            try {\n                const result = await shouldSave(saveable, () => {\n                    const notLastWithDocument = !closingWidgetWouldLoseSaveable(this, getOtherSaveables?.() ?? []);\n                    if (notLastWithDocument) {\n                        return this.closeWithoutSaving(false).then(() => undefined);\n                    }\n                    if (options && options.shouldSave) {\n                        return options.shouldSave();\n                    }\n                    return new ShouldSaveDialog(this).open();\n                });\n                if (typeof result === 'boolean') {\n                    if (result) {\n                        await (doSave?.(this) ?? Saveable.save(this));\n                        if (!isDirty(this)) {\n                            await this.closeWithoutSaving();\n                        }\n                    } else {\n                        await this.closeWithoutSaving();\n                    }\n                }\n            } finally {\n                closing = false;\n            }\n        };\n    }\n\n    export async function confirmSaveBeforeClose(toClose: Iterable<Widget>, others: Widget[]): Promise<boolean | undefined> {\n        for (const widget of toClose) {\n            const saveable = Saveable.get(widget);\n            if (saveable?.dirty) {\n                if (!closingWidgetWouldLoseSaveable(widget, others)) {\n                    continue;\n                }\n                const userWantsToSave = await new ShouldSaveDialog(widget).open();\n                if (userWantsToSave === undefined) { // User clicked cancel.\n                    return undefined;\n                } else if (userWantsToSave) {\n                    await saveable.save();\n                } else {\n                    await saveable.revert?.();\n                }\n            }\n        }\n        return true;\n    }\n\n    /**\n     * @param widget the widget that may be closed\n     * @param others widgets that will not be closed.\n     * @returns `true` if widget is saveable and no widget among the `others` refers to the same saveable. `false` otherwise.\n     */\n    function closingWidgetWouldLoseSaveable(widget: Widget, others: Widget[]): boolean {\n        const saveable = get(widget);\n        return !!saveable && !others.some(otherWidget => otherWidget !== widget && get(otherWidget) === saveable);\n    }\n\n    export function apply(\n        widget: Widget,\n        getOtherSaveables?: () => Array<Widget | SaveableWidget>,\n        doSave?: (widget: Widget, options?: SaveOptions) => Promise<void>,\n    ): SaveableWidget | undefined {\n        if (SaveableWidget.is(widget)) {\n            return widget;\n        }\n        const saveable = Saveable.get(widget);\n        if (!saveable) {\n            return undefined;\n        }\n        const saveableWidget = widget as SaveableWidget;\n        setDirty(saveableWidget, saveable.dirty);\n        saveable.onDirtyChanged(() => setDirty(saveableWidget, saveable.dirty));\n        const closeWithSaving = createCloseWithSaving(getOtherSaveables, doSave);\n        return Object.assign(saveableWidget, {\n            closeWithoutSaving,\n            closeWithSaving,\n            close: closeWithSaving,\n            [close]: saveableWidget.close,\n        });\n    }\n    export async function shouldSave(saveable: Saveable, cb: () => MaybePromise<boolean | undefined>): Promise<boolean | undefined> {\n        if (!saveable.dirty) {\n            return false;\n        }\n\n        if (saveable.autoSave !== 'off') {\n            return true;\n        }\n\n        return cb();\n    }\n}\n\nexport interface SaveableWidget extends Widget {\n    /**\n     * @param doRevert whether the saveable should be reverted before being saved. Defaults to `true`.\n     */\n    closeWithoutSaving(doRevert?: boolean): Promise<void>;\n    closeWithSaving(options?: SaveableWidget.CloseOptions): Promise<void>;\n}\n\nexport const close = Symbol('close');\n/**\n * An interface describing saveable widgets that are created by the `Saveable.apply` function.\n * The original `close` function is reassigned to a locally-defined `Symbol`\n */\nexport interface PostCreationSaveableWidget extends SaveableWidget {\n    /**\n     * The original `close` function of the widget\n     */\n    [close](): void;\n}\nexport namespace SaveableWidget {\n    export function is(widget: Widget | undefined): widget is SaveableWidget {\n        return !!widget && 'closeWithoutSaving' in widget;\n    }\n    export function getDirty<T extends Widget>(widgets: Iterable<T>): IterableIterator<SaveableWidget & T> {\n        return get<T>(widgets, Saveable.isDirty);\n    }\n    export function* get<T extends Widget>(\n        widgets: Iterable<T>,\n        filter: (widget: T) => boolean = () => true\n    ): IterableIterator<SaveableWidget & T> {\n        for (const widget of widgets) {\n            if (SaveableWidget.is(widget) && filter(widget)) {\n                yield widget;\n            }\n        }\n    }\n    export interface CloseOptions {\n        shouldSave?(): MaybePromise<boolean | undefined>\n    }\n}\n\n/**\n * Possible formatting types when saving.\n */\nexport const enum FormatType {\n    /**\n     * Formatting should occur (default).\n     */\n    ON = 1,\n    /**\n     * Formatting should not occur.\n     */\n    OFF,\n    /**\n     * Formatting should only occur if the resource is dirty.\n     */\n    DIRTY\n};\n\nexport interface SaveOptions {\n    /**\n     * Formatting type to apply when saving.\n     */\n    readonly formatType?: FormatType;\n}\n\n/**\n * The class name added to the dirty widget's title.\n */\nconst DIRTY_CLASS = 'theia-mod-dirty';\nexport function setDirty(widget: Widget, dirty: boolean): void {\n    const dirtyClass = ` ${DIRTY_CLASS}`;\n    widget.title.className = widget.title.className.replace(dirtyClass, '');\n    if (dirty) {\n        widget.title.className += dirtyClass;\n    }\n}\n\nexport class ShouldSaveDialog extends AbstractDialog<boolean> {\n\n    protected shouldSave = true;\n\n    protected readonly dontSaveButton: HTMLButtonElement;\n\n    constructor(widget: Widget) {\n        super({\n            title: nls.localizeByDefault('Do you want to save the changes you made to {0}?', widget.title.label || widget.title.caption)\n        }, {\n            node: widget.node.ownerDocument.createElement('div')\n        });\n\n        const messageNode = this.node.ownerDocument.createElement('div');\n        messageNode.textContent = nls.localizeByDefault(\"Your changes will be lost if you don't save them.\");\n        messageNode.setAttribute('style', 'flex: 1 100%; padding-bottom: calc(var(--theia-ui-padding)*3);');\n        this.contentNode.appendChild(messageNode);\n        this.appendCloseButton();\n        this.dontSaveButton = this.appendDontSaveButton();\n        this.appendAcceptButton(nls.localizeByDefault('Save'));\n    }\n\n    protected appendDontSaveButton(): HTMLButtonElement {\n        const button = this.createButton(nls.localizeByDefault(\"Don't Save\"));\n        this.controlPanel.appendChild(button);\n        button.classList.add('secondary');\n        return button;\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        this.addKeyListener(this.dontSaveButton, Key.ENTER, () => {\n            this.shouldSave = false;\n            this.accept();\n        }, 'click');\n    }\n\n    get value(): boolean {\n        return this.shouldSave;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 STMicroelectronics, Ericsson, ARM, EclipseSource and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport debounce = require('lodash.debounce');\nimport { inject, injectable } from 'inversify';\nimport { BoxLayout, BoxPanel, ExtractableWidget, Widget } from './widgets';\nimport { MessageService } from '../common/message-service';\nimport { ApplicationShell } from './shell/application-shell';\nimport { Emitter } from '../common/event';\nimport { SecondaryWindowService } from './window/secondary-window-service';\nimport { KeybindingRegistry } from './keybinding';\n\n/** Widget to be contained directly in a secondary window. */\nclass SecondaryWindowRootWidget extends Widget {\n\n    constructor() {\n        super();\n        this.layout = new BoxLayout();\n    }\n\n    addWidget(widget: Widget): void {\n        (this.layout as BoxLayout).addWidget(widget);\n        BoxPanel.setStretch(widget, 1);\n    }\n\n}\n\n/**\n * Offers functionality to move a widget out of the main window to a newly created window.\n * Widgets must explicitly implement the `ExtractableWidget` interface to support this.\n *\n * This handler manages the opened secondary windows and sets up messaging between them and the Theia main window.\n * In addition, it provides access to the extracted widgets and provides notifications when widgets are added to or removed from this handler.\n *\n */\n@injectable()\nexport class SecondaryWindowHandler {\n    /** List of widgets in secondary windows. */\n    protected readonly _widgets: ExtractableWidget[] = [];\n\n    protected applicationShell: ApplicationShell;\n\n    @inject(KeybindingRegistry)\n    protected keybindings: KeybindingRegistry;\n\n    protected readonly onWillAddWidgetEmitter = new Emitter<[Widget, Window]>();\n    /** Subscribe to get notified when a widget is added to this handler, i.e. the widget was moved to an secondary window . */\n    readonly onWillAddWidget = this.onWillAddWidgetEmitter.event;\n\n    protected readonly onDidAddWidgetEmitter = new Emitter<[Widget, Window]>();\n    /** Subscribe to get notified when a widget is added to this handler, i.e. the widget was moved to an secondary window . */\n    readonly onDidAddWidget = this.onDidAddWidgetEmitter.event;\n\n    protected readonly onWillRemoveWidgetEmitter = new Emitter<[Widget, Window]>();\n    /** Subscribe to get notified when a widget is removed from this handler, i.e. the widget's window was closed or the widget was disposed. */\n    readonly onWillRemoveWidget = this.onWillRemoveWidgetEmitter.event;\n\n    protected readonly onDidRemoveWidgetEmitter = new Emitter<[Widget, Window]>();\n    /** Subscribe to get notified when a widget is removed from this handler, i.e. the widget's window was closed or the widget was disposed. */\n    readonly onDidRemoveWidget = this.onDidRemoveWidgetEmitter.event;\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n\n    @inject(SecondaryWindowService)\n    protected readonly secondaryWindowService: SecondaryWindowService;\n\n    /** @returns List of widgets in secondary windows. */\n    get widgets(): ReadonlyArray<Widget> {\n        // Create new array in case the original changes while this is used.\n        return [...this._widgets];\n    }\n\n    /**\n     * Sets up message forwarding from the main window to secondary windows.\n     * Does nothing if this service has already been initialized.\n     *\n     * @param shell The `ApplicationShell` that widgets will be moved out from.\n     */\n    init(shell: ApplicationShell): void {\n        if (this.applicationShell) {\n            // Already initialized\n            return;\n        }\n        this.applicationShell = shell;\n    }\n\n    /**\n     *  Moves the given widget to a new window.\n     *\n     * @param widget the widget to extract\n     */\n    moveWidgetToSecondaryWindow(widget: ExtractableWidget): void {\n        if (!this.applicationShell) {\n            console.error('Widget cannot be extracted because the WidgetExtractionHandler has not been initialized.');\n            return;\n        }\n        if (!widget.isExtractable) {\n            console.error('Widget is not extractable.', widget.id);\n            return;\n        }\n\n        const newWindow = this.secondaryWindowService.createSecondaryWindow(widget, this.applicationShell);\n\n        if (!newWindow) {\n            this.messageService.error('The widget could not be moved to a secondary window because the window creation failed. Please make sure to allow popups.');\n            return;\n        }\n\n        const mainWindowTitle = document.title;\n\n        newWindow.addEventListener('load', () => {\n            this.keybindings.registerEventListeners(newWindow);\n            // Use the widget's title as the window title\n            // Even if the widget's label were malicious, this should be safe against XSS because the HTML standard defines this is inserted via a text node.\n            // See https://html.spec.whatwg.org/multipage/dom.html#document.title\n            newWindow.document.title = `${widget.title.label}  ${mainWindowTitle}`;\n\n            const element = newWindow.document.getElementById('widget-host');\n            if (!element) {\n                console.error('Could not find dom element to attach to in secondary window');\n                return;\n            }\n\n            this.onWillAddWidgetEmitter.fire([widget, newWindow]);\n\n            widget.secondaryWindow = newWindow;\n            const rootWidget = new SecondaryWindowRootWidget();\n            rootWidget.addClass('secondary-widget-root');\n            Widget.attach(rootWidget, element);\n            rootWidget.addWidget(widget);\n            widget.show();\n            widget.update();\n\n            this.addWidget(widget, newWindow);\n\n            // Close the window if the widget is disposed, e.g. by a command closing all widgets.\n            widget.disposed.connect(() => {\n                this.onWillRemoveWidgetEmitter.fire([widget, newWindow]);\n                this.removeWidget(widget, newWindow);\n                if (!newWindow.closed) {\n                    newWindow.close();\n                }\n            });\n\n            // debounce to avoid rapid updates while resizing the secondary window\n            const updateWidget = debounce(() => {\n                rootWidget.update();\n            }, 100);\n            newWindow.addEventListener('resize', () => {\n                updateWidget();\n            });\n            widget.activate();\n        });\n    }\n\n    /**\n     * If the given widget is tracked by this handler, activate it and focus its secondary window.\n     *\n     * @param widgetId The widget to activate specified by its id\n     * @returns The activated `ExtractableWidget` or `undefined` if the given widget id is unknown to this handler.\n     */\n    activateWidget(widgetId: string): ExtractableWidget | undefined {\n        const trackedWidget = this.revealWidget(widgetId);\n        trackedWidget?.activate();\n        return trackedWidget;\n    }\n\n    /**\n     * If the given widget is tracked by this handler, reveal it by focussing its secondary window.\n     *\n     * @param widgetId The widget to reveal specified by its id\n     * @returns The revealed `ExtractableWidget` or `undefined` if the given widget id is unknown to this handler.\n     */\n    revealWidget(widgetId: string): ExtractableWidget | undefined {\n        const trackedWidget = this._widgets.find(w => w.id === widgetId);\n        if (trackedWidget) {\n            this.secondaryWindowService.focus(trackedWidget.secondaryWindow!);\n            return trackedWidget;\n        }\n        return undefined;\n    }\n\n    protected addWidget(widget: ExtractableWidget, win: Window): void {\n        if (!this._widgets.includes(widget)) {\n            this._widgets.push(widget);\n            this.onDidAddWidgetEmitter.fire([widget, win]);\n        }\n    }\n\n    protected removeWidget(widget: ExtractableWidget, win: Window): void {\n        const index = this._widgets.indexOf(widget);\n        if (index > -1) {\n            this._widgets.splice(index, 1);\n            this.onDidRemoveWidgetEmitter.fire([widget, win]);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from '../../../shared/inversify';\nimport { Command, CommandRegistry, Disposable, MenuModelRegistry, MenuPath, nls } from '../../common';\nimport { Title, Widget, codicon } from '../widgets';\nimport { SidebarMenuWidget } from './sidebar-menu-widget';\nimport { SideTabBar } from './tab-bars';\n\nexport const AdditionalViewsMenuWidgetFactory = Symbol('AdditionalViewsMenuWidgetFactory');\nexport type AdditionalViewsMenuWidgetFactory = (side: 'left' | 'right') => AdditionalViewsMenuWidget;\n\nexport const ADDITIONAL_VIEWS_MENU_PATH: MenuPath = ['additional_views_menu'];\n\n@injectable()\nexport class AdditionalViewsMenuWidget extends SidebarMenuWidget {\n    static readonly ID = 'sidebar.additional.views';\n\n    side: 'left' | 'right';\n\n    @inject(CommandRegistry)\n    protected readonly commandRegistry: CommandRegistry;\n\n    @inject(MenuModelRegistry)\n    protected readonly menuModelRegistry: MenuModelRegistry;\n\n    protected menuDisposables: Disposable[] = [];\n\n    updateAdditionalViews(sender: SideTabBar, event: { titles: Title<Widget>[], startIndex: number }): void {\n        if (event.startIndex === -1) {\n            this.removeMenu(AdditionalViewsMenuWidget.ID);\n        } else {\n            this.addMenu({\n                title: nls.localizeByDefault('Additional Views'),\n                iconClass: codicon('ellipsis'),\n                id: AdditionalViewsMenuWidget.ID,\n                menuPath: ADDITIONAL_VIEWS_MENU_PATH,\n                order: 0\n            });\n        }\n\n        this.menuDisposables.forEach(disposable => disposable.dispose());\n        this.menuDisposables = [];\n        event.titles.forEach((title, i) => this.registerMenuAction(sender, title, i));\n    }\n\n    protected registerMenuAction(sender: SideTabBar, title: Title<Widget>, index: number): void {\n        const command: Command = { id: `reveal.${title.label}.${index}`, label: title.label };\n        this.menuDisposables.push(this.commandRegistry.registerCommand(command, {\n            execute: () => {\n                window.requestAnimationFrame(() => {\n                    sender.currentIndex = sender.titles.indexOf(title);\n                });\n            }\n        }));\n        this.menuDisposables.push(this.menuModelRegistry.registerMenuAction(ADDITIONAL_VIEWS_MENU_PATH, { commandId: command.id, order: index.toString() }));\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, optional, postConstruct } from 'inversify';\nimport { ArrayExt, find, toArray, each } from '@phosphor/algorithm';\nimport {\n    BoxLayout, BoxPanel, DockLayout, DockPanel, FocusTracker, Layout, Panel, SplitLayout,\n    SplitPanel, TabBar, Widget, Title\n} from '@phosphor/widgets';\nimport { Message } from '@phosphor/messaging';\nimport { IDragEvent } from '@phosphor/dragdrop';\nimport { RecursivePartial, Event as CommonEvent, DisposableCollection, Disposable, environment, isObject } from '../../common';\nimport { animationFrame } from '../browser';\nimport { Saveable, SaveableWidget, SaveOptions, SaveableSource } from '../saveable';\nimport { StatusBarImpl, StatusBarEntry, StatusBarAlignment } from '../status-bar/status-bar';\nimport { TheiaDockPanel, BOTTOM_AREA_ID, MAIN_AREA_ID } from './theia-dock-panel';\nimport { SidePanelHandler, SidePanel, SidePanelHandlerFactory } from './side-panel-handler';\nimport { TabBarRendererFactory, SHELL_TABBAR_CONTEXT_MENU, ScrollableTabBar, ToolbarAwareTabBar } from './tab-bars';\nimport { SplitPositionHandler, SplitPositionOptions } from './split-panels';\nimport { FrontendApplicationStateService } from '../frontend-application-state';\nimport { TabBarToolbarRegistry, TabBarToolbarFactory } from './tab-bar-toolbar';\nimport { ContextKeyService } from '../context-key-service';\nimport { Emitter } from '../../common/event';\nimport { waitForRevealed, waitForClosed, PINNED_CLASS } from '../widgets';\nimport { CorePreferences } from '../core-preferences';\nimport { BreadcrumbsRendererFactory } from '../breadcrumbs/breadcrumbs-renderer';\nimport { Deferred } from '../../common/promise-util';\nimport { SaveResourceService } from '../save-resource-service';\nimport { nls } from '../../common/nls';\nimport { SecondaryWindowHandler } from '../secondary-window-handler';\nimport URI from '../../common/uri';\nimport { OpenerService } from '../opener-service';\nimport { PreviewableWidget } from '../widgets/previewable-widget';\nimport { WindowService } from '../window/window-service';\n\n/** The class name added to ApplicationShell instances. */\nconst APPLICATION_SHELL_CLASS = 'theia-ApplicationShell';\n/** The class name added to the main and bottom area panels. */\nconst MAIN_BOTTOM_AREA_CLASS = 'theia-app-centers';\n/** Status bar entry identifier for the bottom panel toggle button. */\nconst BOTTOM_PANEL_TOGGLE_ID = 'bottom-panel-toggle';\n/** The class name added to the main area panel. */\nconst MAIN_AREA_CLASS = 'theia-app-main';\n/** The class name added to the bottom area panel. */\nconst BOTTOM_AREA_CLASS = 'theia-app-bottom';\n\nexport type ApplicationShellLayoutVersion =\n    /** layout versioning is introduced, unversioned layout are not compatible */\n    2.0 |\n    /** view containers are introduced, backward compatible to 2.0 */\n    3.0 |\n    /** git history view is replaced by a more generic scm history view, backward compatible to 3.0 */\n    4.0 |\n    /** Replace custom/font-awesome icons with codicons */\n    5.0 |\n    /** added the ability to drag and drop view parts between view containers */\n    6.0;\n\n/**\n * When a version is increased, make sure to introduce a migration (ApplicationShellLayoutMigration) to this version.\n */\nexport const applicationShellLayoutVersion: ApplicationShellLayoutVersion = 5.0;\n\nexport const ApplicationShellOptions = Symbol('ApplicationShellOptions');\nexport const DockPanelRendererFactory = Symbol('DockPanelRendererFactory');\nexport interface DockPanelRendererFactory {\n    (): DockPanelRenderer\n}\n\n/**\n * A renderer for dock panels that supports context menus on tabs.\n */\n@injectable()\nexport class DockPanelRenderer implements DockLayout.IRenderer {\n\n    @inject(TheiaDockPanel.Factory)\n    protected readonly dockPanelFactory: TheiaDockPanel.Factory;\n\n    readonly tabBarClasses: string[] = [];\n\n    private readonly onDidCreateTabBarEmitter = new Emitter<TabBar<Widget>>();\n\n    constructor(\n        @inject(TabBarRendererFactory) protected readonly tabBarRendererFactory: TabBarRendererFactory,\n        @inject(TabBarToolbarRegistry) protected readonly tabBarToolbarRegistry: TabBarToolbarRegistry,\n        @inject(TabBarToolbarFactory) protected readonly tabBarToolbarFactory: TabBarToolbarFactory,\n        @inject(BreadcrumbsRendererFactory) protected readonly breadcrumbsRendererFactory: BreadcrumbsRendererFactory,\n        @inject(CorePreferences) protected readonly corePreferences: CorePreferences\n    ) { }\n\n    get onDidCreateTabBar(): CommonEvent<TabBar<Widget>> {\n        return this.onDidCreateTabBarEmitter.event;\n    }\n\n    createTabBar(): TabBar<Widget> {\n        const getDynamicTabOptions: () => ScrollableTabBar.Options | undefined = () => {\n            if (this.corePreferences.get('workbench.tab.shrinkToFit.enabled')) {\n                return {\n                    minimumTabSize: this.corePreferences.get('workbench.tab.shrinkToFit.minimumSize'),\n                    defaultTabSize: this.corePreferences.get('workbench.tab.shrinkToFit.defaultSize')\n                };\n            } else {\n                return undefined;\n            }\n        };\n\n        const renderer = this.tabBarRendererFactory();\n        const tabBar = new ToolbarAwareTabBar(\n            this.tabBarToolbarRegistry,\n            this.tabBarToolbarFactory,\n            this.breadcrumbsRendererFactory,\n            {\n                renderer,\n                // Scroll bar options\n                handlers: ['drag-thumb', 'keyboard', 'wheel', 'touch'],\n                useBothWheelAxes: true,\n                scrollXMarginOffset: 4,\n                suppressScrollY: true\n            },\n            getDynamicTabOptions());\n        this.tabBarClasses.forEach(c => tabBar.addClass(c));\n        renderer.tabBar = tabBar;\n        renderer.contextMenuPath = SHELL_TABBAR_CONTEXT_MENU;\n        tabBar.currentChanged.connect(this.onCurrentTabChanged, this);\n        const prefChangeDisposable = this.corePreferences.onPreferenceChanged(change => {\n            if (change.preferenceName === 'workbench.tab.shrinkToFit.enabled' ||\n                change.preferenceName === 'workbench.tab.shrinkToFit.minimumSize' ||\n                change.preferenceName === 'workbench.tab.shrinkToFit.defaultSize') {\n                tabBar.dynamicTabOptions = getDynamicTabOptions();\n            }\n        });\n        tabBar.disposed.connect(() => {\n            prefChangeDisposable.dispose();\n            renderer.dispose();\n        });\n        this.onDidCreateTabBarEmitter.fire(tabBar);\n        return tabBar;\n    }\n\n    createHandle(): HTMLDivElement {\n        return DockPanel.defaultRenderer.createHandle();\n    }\n\n    protected onCurrentTabChanged(sender: ToolbarAwareTabBar, { currentIndex }: TabBar.ICurrentChangedArgs<Widget>): void {\n        if (currentIndex >= 0) {\n            sender.revealTab(currentIndex);\n        }\n    }\n}\n\n/**\n * Data stored while dragging widgets in the shell.\n */\ninterface WidgetDragState {\n    startTime: number;\n    leftExpanded: boolean;\n    rightExpanded: boolean;\n    bottomExpanded: boolean;\n    lastDragOver?: IDragEvent;\n    leaveTimeout?: number;\n}\n\n/**\n * The application shell manages the top-level widgets of the application. Use this class to\n * add, remove, or activate a widget.\n */\n@injectable()\nexport class ApplicationShell extends Widget {\n\n    /**\n     * The dock panel in the main shell area. This is where editors usually go to.\n     */\n    mainPanel: TheiaDockPanel;\n\n    /**\n     * The dock panel in the bottom shell area. In contrast to the main panel, the bottom panel\n     * can be collapsed and expanded.\n     */\n    bottomPanel: TheiaDockPanel;\n\n    /**\n     * Handler for the left side panel. The primary application views go here, such as the\n     * file explorer and the git view.\n     */\n    leftPanelHandler: SidePanelHandler;\n\n    /**\n     * Handler for the right side panel. The secondary application views go here, such as the\n     * outline view.\n     */\n    rightPanelHandler: SidePanelHandler;\n\n    /**\n     * General options for the application shell.\n     */\n    protected options: ApplicationShell.Options;\n\n    /**\n     * The fixed-size panel shown on top. This one usually holds the main menu.\n     */\n    topPanel: Panel;\n\n    /**\n     * The current state of the bottom panel.\n     */\n    protected readonly bottomPanelState: SidePanel.State = {\n        empty: true,\n        expansion: SidePanel.ExpansionState.collapsed,\n        pendingUpdate: Promise.resolve()\n    };\n\n    private readonly tracker = new FocusTracker<Widget>();\n    private dragState?: WidgetDragState;\n    additionalDraggedUris: URI[] | undefined;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    protected readonly onDidAddWidgetEmitter = new Emitter<Widget>();\n    readonly onDidAddWidget = this.onDidAddWidgetEmitter.event;\n    protected fireDidAddWidget(widget: Widget): void {\n        this.onDidAddWidgetEmitter.fire(widget);\n    }\n\n    protected readonly onDidRemoveWidgetEmitter = new Emitter<Widget>();\n    readonly onDidRemoveWidget = this.onDidRemoveWidgetEmitter.event;\n    protected fireDidRemoveWidget(widget: Widget): void {\n        this.onDidRemoveWidgetEmitter.fire(widget);\n    }\n\n    protected readonly onDidChangeActiveWidgetEmitter = new Emitter<FocusTracker.IChangedArgs<Widget>>();\n    readonly onDidChangeActiveWidget = this.onDidChangeActiveWidgetEmitter.event;\n\n    protected readonly onDidChangeCurrentWidgetEmitter = new Emitter<FocusTracker.IChangedArgs<Widget>>();\n    readonly onDidChangeCurrentWidget = this.onDidChangeCurrentWidgetEmitter.event;\n\n    protected readonly onDidDoubleClickMainAreaEmitter = new Emitter<void>();\n    readonly onDidDoubleClickMainArea = this.onDidDoubleClickMainAreaEmitter.event;\n\n    @inject(TheiaDockPanel.Factory)\n    protected readonly dockPanelFactory: TheiaDockPanel.Factory;\n\n    private _mainPanelRenderer: DockPanelRenderer;\n    get mainPanelRenderer(): DockPanelRenderer {\n        return this._mainPanelRenderer;\n    }\n\n    /**\n     * Construct a new application shell.\n     */\n    constructor(\n        @inject(DockPanelRendererFactory) protected dockPanelRendererFactory: () => DockPanelRenderer,\n        @inject(StatusBarImpl) protected readonly statusBar: StatusBarImpl,\n        @inject(SidePanelHandlerFactory) protected readonly sidePanelHandlerFactory: () => SidePanelHandler,\n        @inject(SplitPositionHandler) protected splitPositionHandler: SplitPositionHandler,\n        @inject(FrontendApplicationStateService) protected readonly applicationStateService: FrontendApplicationStateService,\n        @inject(ApplicationShellOptions) @optional() options: RecursivePartial<ApplicationShell.Options> = {},\n        @inject(CorePreferences) protected readonly corePreferences: CorePreferences,\n        @inject(SaveResourceService) protected readonly saveResourceService: SaveResourceService,\n        @inject(SecondaryWindowHandler) protected readonly secondaryWindowHandler: SecondaryWindowHandler,\n        @inject(WindowService) protected readonly windowService: WindowService\n    ) {\n        super(options as Widget.IOptions);\n\n        // Merge the user-defined application options with the default options\n        this.options = {\n            bottomPanel: {\n                ...ApplicationShell.DEFAULT_OPTIONS.bottomPanel,\n                ...options?.bottomPanel || {}\n            },\n            leftPanel: {\n                ...ApplicationShell.DEFAULT_OPTIONS.leftPanel,\n                ...options?.leftPanel || {}\n            },\n            rightPanel: {\n                ...ApplicationShell.DEFAULT_OPTIONS.rightPanel,\n                ...options?.rightPanel || {}\n            }\n        };\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.initializeShell();\n        this.initSidebarVisibleKeyContext();\n        this.initFocusKeyContexts();\n\n        if (!environment.electron.is()) {\n            this.corePreferences.ready.then(() => {\n                this.setTopPanelVisibility(this.corePreferences['window.menuBarVisibility']);\n            });\n            this.corePreferences.onPreferenceChanged(preference => {\n                if (preference.preferenceName === 'window.menuBarVisibility') {\n                    this.setTopPanelVisibility(preference.newValue);\n                }\n            });\n        }\n\n        this.corePreferences.onPreferenceChanged(preference => {\n            if (preference.preferenceName === 'window.tabbar.enhancedPreview') {\n                this.allTabBars.forEach(tabBar => {\n                    tabBar.update();\n                });\n            }\n        });\n    }\n\n    protected initializeShell(): void {\n        this.addClass(APPLICATION_SHELL_CLASS);\n        this.id = 'theia-app-shell';\n\n        this.mainPanel = this.createMainPanel();\n        this.topPanel = this.createTopPanel();\n        this.bottomPanel = this.createBottomPanel();\n\n        this.leftPanelHandler = this.sidePanelHandlerFactory();\n        this.leftPanelHandler.create('left', this.options.leftPanel);\n        this.leftPanelHandler.dockPanel.widgetAdded.connect((_, widget) => this.fireDidAddWidget(widget));\n        this.leftPanelHandler.dockPanel.widgetRemoved.connect((_, widget) => this.fireDidRemoveWidget(widget));\n\n        this.rightPanelHandler = this.sidePanelHandlerFactory();\n        this.rightPanelHandler.create('right', this.options.rightPanel);\n        this.rightPanelHandler.dockPanel.widgetAdded.connect((_, widget) => this.fireDidAddWidget(widget));\n        this.rightPanelHandler.dockPanel.widgetRemoved.connect((_, widget) => this.fireDidRemoveWidget(widget));\n\n        this.secondaryWindowHandler.init(this);\n        this.secondaryWindowHandler.onDidAddWidget(([widget, window]) => this.fireDidAddWidget(widget));\n        this.secondaryWindowHandler.onDidRemoveWidget(([widget, window]) => this.fireDidRemoveWidget(widget));\n\n        this.layout = this.createLayout();\n\n        this.tracker.currentChanged.connect(this.onCurrentChanged, this);\n        this.tracker.activeChanged.connect(this.onActiveChanged, this);\n    }\n\n    protected initSidebarVisibleKeyContext(): void {\n        const leftSideBarPanel = this.leftPanelHandler.dockPanel;\n        const sidebarVisibleKey = this.contextKeyService.createKey('sidebarVisible', leftSideBarPanel.isVisible);\n        const onAfterShow = leftSideBarPanel['onAfterShow'].bind(leftSideBarPanel);\n        leftSideBarPanel['onAfterShow'] = (msg: Message) => {\n            onAfterShow(msg);\n            sidebarVisibleKey.set(true);\n        };\n        const onAfterHide = leftSideBarPanel['onAfterHide'].bind(leftSideBarPanel);\n        leftSideBarPanel['onAfterHide'] = (msg: Message) => {\n            onAfterHide(msg);\n            sidebarVisibleKey.set(false);\n        };\n    }\n\n    protected initFocusKeyContexts(): void {\n        const sideBarFocus = this.contextKeyService.createKey<boolean>('sideBarFocus', false);\n        const panelFocus = this.contextKeyService.createKey<boolean>('panelFocus', false);\n        const updateFocusContextKeys = () => {\n            const area = this.activeWidget && this.getAreaFor(this.activeWidget);\n            sideBarFocus.set(area === 'left');\n            panelFocus.set(area === 'main');\n        };\n        updateFocusContextKeys();\n        this.onDidChangeActiveWidget(updateFocusContextKeys);\n    }\n\n    protected setTopPanelVisibility(preference: string): void {\n        const hiddenPreferences = ['compact', 'hidden'];\n        this.topPanel.setHidden(hiddenPreferences.includes(preference));\n    }\n\n    protected override onBeforeAttach(msg: Message): void {\n        document.addEventListener('p-dragenter', this, true);\n        document.addEventListener('p-dragover', this, true);\n        document.addEventListener('p-dragleave', this, true);\n        document.addEventListener('p-drop', this, true);\n    }\n\n    protected override onAfterDetach(msg: Message): void {\n        document.removeEventListener('p-dragenter', this, true);\n        document.removeEventListener('p-dragover', this, true);\n        document.removeEventListener('p-dragleave', this, true);\n        document.removeEventListener('p-drop', this, true);\n    }\n\n    handleEvent(event: Event): void {\n        switch (event.type) {\n            case 'p-dragenter':\n                this.onDragEnter(event as IDragEvent);\n                break;\n            case 'p-dragover':\n                this.onDragOver(event as IDragEvent);\n                break;\n            case 'p-drop':\n                this.onDrop(event as IDragEvent);\n                break;\n            case 'p-dragleave':\n                this.onDragLeave(event as IDragEvent);\n                break;\n        }\n    }\n\n    protected onDragEnter({ mimeData }: IDragEvent): void {\n        if (!this.dragState) {\n            if (mimeData && mimeData.hasData('application/vnd.phosphor.widget-factory')) {\n                // The drag contains a widget, so we'll track it and expand side panels as needed\n                this.dragState = {\n                    startTime: performance.now(),\n                    leftExpanded: false,\n                    rightExpanded: false,\n                    bottomExpanded: false\n                };\n            }\n        }\n    }\n\n    protected onDragOver(event: IDragEvent): void {\n        const state = this.dragState;\n        if (state) {\n            state.lastDragOver = event;\n            if (state.leaveTimeout) {\n                window.clearTimeout(state.leaveTimeout);\n                state.leaveTimeout = undefined;\n            }\n            const { clientX, clientY } = event;\n            const { offsetLeft, offsetTop, clientWidth, clientHeight } = this.node;\n\n            // Don't expand any side panels right after the drag has started\n            const allowExpansion = performance.now() - state.startTime >= 500;\n            const expLeft = allowExpansion && clientX >= offsetLeft\n                && clientX <= offsetLeft + this.options.leftPanel.expandThreshold;\n            const expRight = allowExpansion && clientX <= offsetLeft + clientWidth\n                && clientX >= offsetLeft + clientWidth - this.options.rightPanel.expandThreshold;\n            const expBottom = allowExpansion && !expLeft && !expRight && clientY <= offsetTop + clientHeight\n                && clientY >= offsetTop + clientHeight - this.options.bottomPanel.expandThreshold;\n            // eslint-disable-next-line no-null/no-null\n            if (expLeft && !state.leftExpanded && this.leftPanelHandler.tabBar.currentTitle === null) {\n                // The mouse cursor is moved close to the left border\n                this.leftPanelHandler.expand();\n                this.leftPanelHandler.state.pendingUpdate.then(() => this.dispatchMouseMove());\n                state.leftExpanded = true;\n            } else if (!expLeft && state.leftExpanded) {\n                // The mouse cursor is moved away from the left border\n                this.leftPanelHandler.collapse();\n                state.leftExpanded = false;\n            }\n            // eslint-disable-next-line no-null/no-null\n            if (expRight && !state.rightExpanded && this.rightPanelHandler.tabBar.currentTitle === null) {\n                // The mouse cursor is moved close to the right border\n                this.rightPanelHandler.expand();\n                this.rightPanelHandler.state.pendingUpdate.then(() => this.dispatchMouseMove());\n                state.rightExpanded = true;\n            } else if (!expRight && state.rightExpanded) {\n                // The mouse cursor is moved away from the right border\n                this.rightPanelHandler.collapse();\n                state.rightExpanded = false;\n            }\n            if (expBottom && !state.bottomExpanded && this.bottomPanel.isHidden) {\n                // The mouse cursor is moved close to the bottom border\n                this.expandBottomPanel();\n                this.bottomPanelState.pendingUpdate.then(() => this.dispatchMouseMove());\n                state.bottomExpanded = true;\n            } else if (!expBottom && state.bottomExpanded) {\n                // The mouse cursor is moved away from the bottom border\n                this.collapseBottomPanel();\n                state.bottomExpanded = false;\n            }\n        }\n    }\n\n    /**\n     * This method is called after a side panel has been expanded while dragging a widget. It fires\n     * a `mousemove` event so that the drag overlay markers are updated correctly in all dock panels.\n     */\n    private dispatchMouseMove(): void {\n        if (this.dragState && this.dragState.lastDragOver) {\n            const { clientX, clientY } = this.dragState.lastDragOver;\n            const event = document.createEvent('MouseEvent');\n            event.initMouseEvent('mousemove', true, true, window, 0, 0, 0,\n                // eslint-disable-next-line no-null/no-null\n                clientX, clientY, false, false, false, false, 0, null);\n            document.dispatchEvent(event);\n        }\n    }\n\n    protected onDrop(event: IDragEvent): void {\n        const state = this.dragState;\n        if (state) {\n            if (state.leaveTimeout) {\n                window.clearTimeout(state.leaveTimeout);\n            }\n            this.dragState = undefined;\n            window.requestAnimationFrame(() => {\n                // Clean up the side panel state in the next frame\n                if (this.leftPanelHandler.dockPanel.isEmpty) {\n                    this.leftPanelHandler.collapse();\n                }\n                if (this.rightPanelHandler.dockPanel.isEmpty) {\n                    this.rightPanelHandler.collapse();\n                }\n                if (this.bottomPanel.isEmpty) {\n                    this.collapseBottomPanel();\n                }\n            });\n        }\n    }\n\n    protected onDragLeave(event: IDragEvent): void {\n        const state = this.dragState;\n        if (state) {\n            state.lastDragOver = undefined;\n            if (state.leaveTimeout) {\n                window.clearTimeout(state.leaveTimeout);\n            }\n            state.leaveTimeout = window.setTimeout(() => {\n                this.dragState = undefined;\n                if (state.leftExpanded || this.leftPanelHandler.dockPanel.isEmpty) {\n                    this.leftPanelHandler.collapse();\n                }\n                if (state.rightExpanded || this.rightPanelHandler.dockPanel.isEmpty) {\n                    this.rightPanelHandler.collapse();\n                }\n                if (state.bottomExpanded || this.bottomPanel.isEmpty) {\n                    this.collapseBottomPanel();\n                }\n            }, 100);\n        }\n    }\n\n    /**\n     * Create the dock panel in the main shell area.\n     */\n    protected createMainPanel(): TheiaDockPanel {\n        const renderer = this.dockPanelRendererFactory();\n        renderer.tabBarClasses.push(MAIN_BOTTOM_AREA_CLASS);\n        renderer.tabBarClasses.push(MAIN_AREA_CLASS);\n        this._mainPanelRenderer = renderer;\n        const dockPanel = this.dockPanelFactory({\n            mode: 'multiple-document',\n            renderer,\n            spacing: 0\n        });\n        dockPanel.id = MAIN_AREA_ID;\n        dockPanel.widgetAdded.connect((_, widget) => this.fireDidAddWidget(widget));\n        dockPanel.widgetRemoved.connect((_, widget) => this.fireDidRemoveWidget(widget));\n\n        const openUri = async (fileUri: URI) => {\n            try {\n                const opener = await this.openerService.getOpener(fileUri);\n                opener.open(fileUri);\n            } catch (e) {\n                console.info(`no opener found for '${fileUri}'`);\n            }\n        };\n\n        dockPanel.node.addEventListener('drop', event => {\n            if (event.dataTransfer) {\n                const uris = this.additionalDraggedUris || ApplicationShell.getDraggedEditorUris(event.dataTransfer);\n                if (uris.length > 0) {\n                    uris.forEach(openUri);\n                } else if (event.dataTransfer.files?.length > 0) {\n                    // the files were dragged from the outside the workspace\n                    Array.from(event.dataTransfer.files).forEach(file => {\n                        if (file.path) {\n                            const fileUri = URI.fromComponents({\n                                scheme: 'file',\n                                path: file.path,\n                                authority: '',\n                                query: '',\n                                fragment: ''\n                            });\n                            openUri(fileUri);\n                        }\n                    });\n                }\n            }\n        });\n\n        dockPanel.node.addEventListener('dblclick', event => {\n            const el = event.target as Element;\n            if (el.id === MAIN_AREA_ID || el.classList.contains('p-TabBar-content')) {\n                this.onDidDoubleClickMainAreaEmitter.fire();\n            }\n        });\n\n        const handler = (e: DragEvent) => {\n            if (e.dataTransfer) {\n                e.dataTransfer.dropEffect = 'link';\n                e.preventDefault();\n                e.stopPropagation();\n            }\n        };\n        dockPanel.node.addEventListener('dragover', handler);\n        dockPanel.node.addEventListener('dragenter', handler);\n\n        return dockPanel;\n    }\n\n    addAdditionalDraggedEditorUris(uris: URI[]): void {\n        this.additionalDraggedUris = uris;\n    }\n\n    clearAdditionalDraggedEditorUris(): void {\n        this.additionalDraggedUris = undefined;\n    }\n\n    protected static getDraggedEditorUris(dataTransfer: DataTransfer): URI[] {\n        const data = dataTransfer.getData('theia-editor-dnd');\n        return data ? data.split('\\n').map(entry => new URI(entry)) : [];\n    }\n\n    static setDraggedEditorUris(dataTransfer: DataTransfer, uris: URI[]): void {\n        dataTransfer.setData('theia-editor-dnd', uris.map(uri => uri.toString()).join('\\n'));\n    }\n\n    /**\n     * Create the dock panel in the bottom shell area.\n     */\n    protected createBottomPanel(): TheiaDockPanel {\n        const renderer = this.dockPanelRendererFactory();\n        renderer.tabBarClasses.push(MAIN_BOTTOM_AREA_CLASS);\n        renderer.tabBarClasses.push(BOTTOM_AREA_CLASS);\n        const dockPanel = this.dockPanelFactory({\n            mode: 'multiple-document',\n            renderer,\n            spacing: 0\n        });\n        dockPanel.id = BOTTOM_AREA_ID;\n        dockPanel.widgetAdded.connect((sender, widget) => {\n            this.refreshBottomPanelToggleButton();\n        });\n        dockPanel.widgetRemoved.connect((sender, widget) => {\n            if (sender.isEmpty) {\n                this.collapseBottomPanel();\n            }\n            this.refreshBottomPanelToggleButton();\n        }, this);\n        dockPanel.node.addEventListener('p-dragenter', event => {\n            // Make sure that the main panel hides its overlay when the bottom panel is expanded\n            this.mainPanel.overlay.hide(0);\n        });\n        dockPanel.hide();\n        dockPanel.widgetAdded.connect((_, widget) => this.fireDidAddWidget(widget));\n        dockPanel.widgetRemoved.connect((_, widget) => this.fireDidRemoveWidget(widget));\n        return dockPanel;\n    }\n\n    /**\n     * Create the top panel, which is used to hold the main menu.\n     */\n    protected createTopPanel(): Panel {\n        const topPanel = new Panel();\n        topPanel.id = 'theia-top-panel';\n        topPanel.hide();\n        return topPanel;\n    }\n\n    /**\n     * Create a box layout to assemble the application shell layout.\n     */\n    protected createBoxLayout(widgets: Widget[], stretch?: number[], options?: BoxPanel.IOptions): BoxLayout {\n        const boxLayout = new BoxLayout(options);\n        for (let i = 0; i < widgets.length; i++) {\n            if (stretch !== undefined && i < stretch.length) {\n                BoxPanel.setStretch(widgets[i], stretch[i]);\n            }\n            boxLayout.addWidget(widgets[i]);\n        }\n        return boxLayout;\n    }\n\n    /**\n     * Create a split layout to assemble the application shell layout.\n     */\n    protected createSplitLayout(widgets: Widget[], stretch?: number[], options?: Partial<SplitLayout.IOptions>): SplitLayout {\n        let optParam: SplitLayout.IOptions = { renderer: SplitPanel.defaultRenderer, };\n        if (options) {\n            optParam = { ...optParam, ...options };\n        }\n        const splitLayout = new SplitLayout(optParam);\n        for (let i = 0; i < widgets.length; i++) {\n            if (stretch !== undefined && i < stretch.length) {\n                SplitPanel.setStretch(widgets[i], stretch[i]);\n            }\n            splitLayout.addWidget(widgets[i]);\n        }\n        return splitLayout;\n    }\n\n    /**\n     * Assemble the application shell layout. Override this method in order to change the arrangement\n     * of the main area and the side panels.\n     */\n    protected createLayout(): Layout {\n        const bottomSplitLayout = this.createSplitLayout(\n            [this.mainPanel, this.bottomPanel],\n            [1, 0],\n            { orientation: 'vertical', spacing: 0 }\n        );\n        const panelForBottomArea = new SplitPanel({ layout: bottomSplitLayout });\n        panelForBottomArea.id = 'theia-bottom-split-panel';\n\n        const leftRightSplitLayout = this.createSplitLayout(\n            [this.leftPanelHandler.container, panelForBottomArea, this.rightPanelHandler.container],\n            [0, 1, 0],\n            { orientation: 'horizontal', spacing: 0 }\n        );\n        const panelForSideAreas = new SplitPanel({ layout: leftRightSplitLayout });\n        panelForSideAreas.id = 'theia-left-right-split-panel';\n\n        return this.createBoxLayout(\n            [this.topPanel, panelForSideAreas, this.statusBar],\n            [0, 1, 0],\n            { direction: 'top-to-bottom', spacing: 0 }\n        );\n    }\n\n    /**\n     * Create an object that describes the current shell layout. This object may contain references\n     * to widgets; these need to be transformed before the layout can be serialized.\n     */\n    getLayoutData(): ApplicationShell.LayoutData {\n        return {\n            version: applicationShellLayoutVersion,\n            mainPanel: this.mainPanel.saveLayout(),\n            mainPanelPinned: this.getPinnedMainWidgets(),\n            bottomPanel: {\n                config: this.bottomPanel.saveLayout(),\n                pinned: this.getPinnedBottomWidgets(),\n                size: this.bottomPanel.isVisible ? this.getBottomPanelSize() : this.bottomPanelState.lastPanelSize,\n                expanded: this.isExpanded('bottom')\n            },\n            leftPanel: this.leftPanelHandler.getLayoutData(),\n            rightPanel: this.rightPanelHandler.getLayoutData(),\n            activeWidgetId: this.activeWidget ? this.activeWidget.id : undefined\n        };\n    }\n\n    // Get an array corresponding to main panel widgets' pinned state.\n    getPinnedMainWidgets(): boolean[] {\n        const pinned: boolean[] = [];\n\n        toArray(this.mainPanel.widgets()).forEach((a, i) => {\n            pinned[i] = a.title.className.includes(PINNED_CLASS);\n        });\n\n        return pinned;\n    }\n\n    // Get an array corresponding to bottom panel widgets' pinned state.\n    getPinnedBottomWidgets(): boolean[] {\n        const pinned: boolean[] = [];\n\n        toArray(this.bottomPanel.widgets()).forEach((a, i) => {\n            pinned[i] = a.title.className.includes(PINNED_CLASS);\n        });\n\n        return pinned;\n    }\n\n    /**\n     * Compute the current height of the bottom panel. This implementation assumes that the container\n     * of the bottom panel is a `SplitPanel`.\n     */\n    protected getBottomPanelSize(): number | undefined {\n        const parent = this.bottomPanel.parent;\n        if (parent instanceof SplitPanel && parent.isVisible) {\n            const index = parent.widgets.indexOf(this.bottomPanel) - 1;\n            if (index >= 0) {\n                const handle = parent.handles[index];\n                if (!handle.classList.contains('p-mod-hidden')) {\n                    const parentHeight = parent.node.clientHeight;\n                    return parentHeight - handle.offsetTop;\n                }\n            }\n        }\n    }\n\n    /**\n     * Determine the default size to apply when the bottom panel is expanded for the first time.\n     */\n    protected getDefaultBottomPanelSize(): number | undefined {\n        const parent = this.bottomPanel.parent;\n        if (parent && parent.isVisible) {\n            return parent.node.clientHeight * this.options.bottomPanel.initialSizeRatio;\n        }\n    }\n\n    /**\n     * Apply a shell layout that has been previously created with `getLayoutData`.\n     */\n    async setLayoutData(layoutData: ApplicationShell.LayoutData): Promise<void> {\n        const { mainPanel, mainPanelPinned, bottomPanel, leftPanel, rightPanel, activeWidgetId } = layoutData;\n        if (leftPanel) {\n            this.leftPanelHandler.setLayoutData(leftPanel);\n            this.registerWithFocusTracker(leftPanel);\n        }\n        if (rightPanel) {\n            this.rightPanelHandler.setLayoutData(rightPanel);\n            this.registerWithFocusTracker(rightPanel);\n        }\n        // Proceed with the bottom panel once the side panels are set up\n        await Promise.all([this.leftPanelHandler.state.pendingUpdate, this.rightPanelHandler.state.pendingUpdate]);\n        if (bottomPanel) {\n            if (bottomPanel.config) {\n                this.bottomPanel.restoreLayout(bottomPanel.config);\n                this.registerWithFocusTracker(bottomPanel.config.main);\n            }\n            if (bottomPanel.size) {\n                this.bottomPanelState.lastPanelSize = bottomPanel.size;\n            }\n            if (bottomPanel.expanded) {\n                this.expandBottomPanel();\n            } else {\n                this.collapseBottomPanel();\n            }\n            const widgets = toArray(this.bottomPanel.widgets());\n            this.bottomPanel.markActiveTabBar(widgets[0]?.title);\n            if (bottomPanel.pinned && bottomPanel.pinned.length === widgets.length) {\n                widgets.forEach((a, i) => {\n                    if (bottomPanel.pinned![i]) {\n                        a.title.className += ` ${PINNED_CLASS}`;\n                        a.title.closable = false;\n                    }\n                });\n            }\n            this.refreshBottomPanelToggleButton();\n        }\n        // Proceed with the main panel once all others are set up\n        await this.bottomPanelState.pendingUpdate;\n        if (mainPanel) {\n            this.mainPanel.restoreLayout(mainPanel);\n            this.registerWithFocusTracker(mainPanel.main);\n            const widgets = toArray(this.mainPanel.widgets());\n            // We don't store information about the last active tabbar\n            // So we simply mark the first as being active\n            this.mainPanel.markActiveTabBar(widgets[0]?.title);\n            if (mainPanelPinned && mainPanelPinned.length === widgets.length) {\n                widgets.forEach((a, i) => {\n                    if (mainPanelPinned[i]) {\n                        a.title.className += ` ${PINNED_CLASS}`;\n                        a.title.closable = false;\n                    }\n                });\n            }\n        }\n        if (activeWidgetId) {\n            this.activateWidget(activeWidgetId);\n        }\n    }\n\n    /**\n     * Modify the height of the bottom panel. This implementation assumes that the container of the\n     * bottom panel is a `SplitPanel`.\n     */\n    protected setBottomPanelSize(size: number): Promise<void> {\n        const enableAnimation = this.applicationStateService.state === 'ready';\n        const options: SplitPositionOptions = {\n            side: 'bottom',\n            duration: enableAnimation ? this.options.bottomPanel.expandDuration : 0,\n            referenceWidget: this.bottomPanel\n        };\n        const promise = this.splitPositionHandler.setSidePanelSize(this.bottomPanel, size, options);\n        const result = new Promise<void>(resolve => {\n            // Resolve the resulting promise in any case, regardless of whether resizing was successful\n            promise.then(() => resolve(), () => resolve());\n        });\n        this.bottomPanelState.pendingUpdate = this.bottomPanelState.pendingUpdate.then(() => result);\n        return result;\n    }\n\n    /**\n     * A promise that is resolved when all currently pending updates are done.\n     */\n    get pendingUpdates(): Promise<void> {\n        return Promise.all([\n            this.bottomPanelState.pendingUpdate,\n            this.leftPanelHandler.state.pendingUpdate,\n            this.rightPanelHandler.state.pendingUpdate\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        ]) as Promise<any>;\n    }\n\n    /**\n     * Track all widgets that are referenced by the given layout data.\n     */\n    protected registerWithFocusTracker(data: DockLayout.ITabAreaConfig | DockLayout.ISplitAreaConfig | SidePanel.LayoutData | null): void {\n        if (data) {\n            if (data.type === 'tab-area') {\n                for (const widget of data.widgets) {\n                    if (widget) {\n                        this.track(widget);\n                    }\n                }\n            } else if (data.type === 'split-area') {\n                for (const child of data.children) {\n                    this.registerWithFocusTracker(child);\n                }\n            } else if (data.type === 'sidepanel' && data.items) {\n                for (const item of data.items) {\n                    if (item.widget) {\n                        this.track(item.widget);\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Add a widget to the application shell. The given widget must have a unique `id` property,\n     * which will be used as the DOM id.\n     *\n     * Widgets are removed from the shell by calling their `close` or `dispose` methods.\n     *\n     * Widgets added to the top area are not tracked regarding the _current_ and _active_ states.\n     */\n    async addWidget(widget: Widget, options?: Readonly<ApplicationShell.WidgetOptions>): Promise<void> {\n        if (!widget.id) {\n            console.error('Widgets added to the application shell must have a unique id property.');\n            return;\n        }\n        const { area, addOptions } = this.getInsertionOptions(options);\n        const sidePanelOptions: SidePanel.WidgetOptions = { rank: options?.rank };\n        switch (area) {\n            case 'main':\n                this.mainPanel.addWidget(widget, addOptions);\n                break;\n            case 'top':\n                this.topPanel.addWidget(widget);\n                break;\n            case 'bottom':\n                this.bottomPanel.addWidget(widget, addOptions);\n                break;\n            case 'left':\n                this.leftPanelHandler.addWidget(widget, sidePanelOptions);\n                break;\n            case 'right':\n                this.rightPanelHandler.addWidget(widget, sidePanelOptions);\n                break;\n            case 'secondaryWindow':\n                /** At the moment, widgets are only moved to this area (i.e. a secondary window) by moving them from one of the other areas. */\n                throw new Error('Widgets cannot be added directly to a secondary window');\n            default:\n                throw new Error('Unexpected area: ' + options?.area);\n        }\n        if (area !== 'top') {\n            this.track(widget);\n        }\n    }\n\n    getInsertionOptions(options?: Readonly<ApplicationShell.WidgetOptions>): { area: string; addOptions: DockLayout.IAddOptions; } {\n        let ref: Widget | undefined = options?.ref;\n        let area: ApplicationShell.Area = options?.area || 'main';\n        if (!ref && (area === 'main' || area === 'bottom')) {\n            const tabBar = this.getTabBarFor(area);\n            ref = tabBar && tabBar.currentTitle && tabBar.currentTitle.owner || undefined;\n        }\n        // make sure that ref belongs to area\n        area = ref && this.getAreaFor(ref) || area;\n        const addOptions: DockPanel.IAddOptions = {};\n        if (ApplicationShell.isOpenToSideMode(options?.mode)) {\n            const areaPanel = area === 'main' ? this.mainPanel : area === 'bottom' ? this.bottomPanel : undefined;\n            const sideRef = areaPanel && ref && (options?.mode === 'open-to-left' ?\n                areaPanel.previousTabBarWidget(ref) :\n                areaPanel.nextTabBarWidget(ref));\n            if (sideRef) {\n                addOptions.ref = sideRef;\n            } else {\n                addOptions.ref = ref;\n                addOptions.mode = options?.mode === 'open-to-left' ? 'split-left' : 'split-right';\n            }\n        } else {\n            addOptions.ref = ref;\n            addOptions.mode = options?.mode;\n        }\n        return { area, addOptions };\n    }\n\n    /**\n     * The widgets contained in the given shell area.\n     */\n    getWidgets(area: ApplicationShell.Area): Widget[] {\n        switch (area) {\n            case 'main':\n                return toArray(this.mainPanel.widgets());\n            case 'top':\n                return toArray(this.topPanel.widgets);\n            case 'bottom':\n                return toArray(this.bottomPanel.widgets());\n            case 'left':\n                return toArray(this.leftPanelHandler.dockPanel.widgets());\n            case 'right':\n                return toArray(this.rightPanelHandler.dockPanel.widgets());\n            case 'secondaryWindow':\n                return toArray(this.secondaryWindowHandler.widgets);\n            default:\n                throw new Error('Illegal argument: ' + area);\n        }\n    }\n\n    /**\n     * Find the widget that contains the given HTML element. The returned widget may be one\n     * that is managed by the application shell, or one that is embedded in another widget and\n     * not directly managed by the shell, or a tab bar.\n     */\n    findWidgetForElement(element: HTMLElement): Widget | undefined {\n        let widgetNode: HTMLElement | null = element;\n        while (widgetNode && !widgetNode.classList.contains('p-Widget')) {\n            widgetNode = widgetNode.parentElement;\n        }\n        if (widgetNode) {\n            return this.findWidgetForNode(widgetNode, this);\n        }\n        return undefined;\n    }\n\n    private findWidgetForNode(widgetNode: HTMLElement, widget: Widget): Widget | undefined {\n        if (widget.node === widgetNode) {\n            return widget;\n        }\n        let result: Widget | undefined;\n        each(widget.children(), child => {\n            result = this.findWidgetForNode(widgetNode, child);\n            return !result;\n        });\n        return result;\n    }\n\n    /**\n     * Finds the title widget from the tab-bar.\n     * @param tabBar used for providing an array of titles.\n     * @returns the selected title widget, else returns the currentTitle or undefined.\n     */\n    findTitle(tabBar: TabBar<Widget>, event?: Event): Title<Widget> | undefined {\n        if (event?.target instanceof HTMLElement) {\n            const tabNode = event.target;\n\n            const titleIndex = Array.from(tabBar.contentNode.getElementsByClassName('p-TabBar-tab'))\n                .findIndex(node => node.contains(tabNode));\n\n            if (titleIndex !== -1) {\n                return tabBar.titles[titleIndex];\n            }\n\n        }\n        return tabBar.currentTitle || undefined;\n    }\n\n    /**\n     * Finds the tab-bar widget.\n     * @returns the selected tab-bar, else returns the currentTabBar.\n     */\n    findTabBar(event?: Event): TabBar<Widget> | undefined {\n        if (event?.target instanceof HTMLElement) {\n            const tabBar = this.findWidgetForElement(event.target);\n            if (tabBar instanceof TabBar) {\n                return tabBar;\n            }\n        }\n        return this.currentTabBar;\n    }\n\n    /**\n     *  @returns the widget whose title has been targeted by a DOM event on a tabbar, or undefined if none can be found.\n     */\n    findTargetedWidget(event?: Event): Widget | undefined {\n        if (event) {\n            const tab = this.findTabBar(event);\n            const title = tab && this.findTitle(tab, event);\n            return title && title.owner;\n        }\n    }\n\n    /**\n     * The current widget in the application shell. The current widget is the last widget that\n     * was active and not yet closed. See the remarks to `activeWidget` on what _active_ means.\n     */\n    get currentWidget(): Widget | undefined {\n        return this.tracker.currentWidget || undefined;\n    }\n\n    /**\n     * The active widget in the application shell. The active widget is the one that has focus\n     * (either the widget itself or any of its contents).\n     *\n     * _Note:_ Focus is taken by a widget through the `onActivateRequest` method. It is up to the\n     * widget implementation which DOM element will get the focus. The default implementation\n     * does not take any focus; in that case the widget is never returned by this property.\n     */\n    get activeWidget(): Widget | undefined {\n        return this.tracker.activeWidget || undefined;\n    }\n\n    /**\n     * Returns the last active widget in the given shell area.\n     */\n    getCurrentWidget(area: ApplicationShell.Area): Widget | undefined {\n        let title: Title<Widget> | null | undefined;\n        switch (area) {\n            case 'main':\n                title = this.mainPanel.currentTitle;\n                break;\n            case 'bottom':\n                title = this.bottomPanel.currentTitle;\n                break;\n            case 'left':\n                title = this.leftPanelHandler.tabBar.currentTitle;\n                break;\n            case 'right':\n                title = this.rightPanelHandler.tabBar.currentTitle;\n                break;\n            case 'secondaryWindow':\n                // The current widget in a secondary window is not tracked.\n                return undefined;\n            default:\n                throw new Error('Illegal argument: ' + area);\n        }\n        return title ? title.owner : undefined;\n    }\n\n    /**\n     * Handle a change to the current widget.\n     */\n    private onCurrentChanged(sender: FocusTracker<Widget>, args: FocusTracker.IChangedArgs<Widget>): void {\n        this.onDidChangeCurrentWidgetEmitter.fire(args);\n    }\n\n    protected readonly toDisposeOnActiveChanged = new DisposableCollection();\n\n    /**\n     * Handle a change to the active widget.\n     */\n    private onActiveChanged(sender: FocusTracker<Widget>, args: FocusTracker.IChangedArgs<Widget>): void {\n        this.toDisposeOnActiveChanged.dispose();\n        const { newValue, oldValue } = args;\n        if (oldValue) {\n            let w: Widget | null = oldValue;\n            while (w) {\n                // Remove the mark of the previously active widget\n                w.title.className = w.title.className.replace(' theia-mod-active', '');\n                w = w.parent;\n            }\n            // Reset the z-index to the default\n            // eslint-disable-next-line no-null/no-null\n            this.setZIndex(oldValue.node, null);\n        }\n        if (newValue) {\n            let w: Widget | null = newValue;\n            while (w) {\n                // Mark the tab of the active widget\n                w.title.className += ' theia-mod-active';\n                w = w.parent;\n            }\n            // Reveal the title of the active widget in its tab bar\n            const tabBar = this.getTabBarFor(newValue);\n            if (tabBar instanceof ScrollableTabBar) {\n                const index = tabBar.titles.indexOf(newValue.title);\n                if (index >= 0) {\n                    tabBar.revealTab(index);\n                }\n            }\n            const widget = this.toTrackedStack(newValue.id).pop();\n            const panel = this.findPanel(widget);\n            if (panel) {\n                // if widget was undefined, we wouldn't have gotten a panel back before\n                panel.markAsCurrent(widget!.title);\n            }\n            // Add checks to ensure that the 'sash' for left panel is displayed correctly\n            if (newValue.node.className === 'p-Widget theia-view-container p-DockPanel-widget') {\n                // Set the z-index so elements with `position: fixed` contained in the active widget are displayed correctly\n                this.setZIndex(newValue.node, '1');\n            }\n\n            // activate another widget if an active widget will be closed\n            const onCloseRequest = newValue['onCloseRequest'];\n            newValue['onCloseRequest'] = msg => {\n                const currentTabBar = this.currentTabBar;\n                if (currentTabBar) {\n                    const recentlyUsedInTabBar = currentTabBar['_previousTitle'] as TabBar<Widget>['currentTitle'];\n                    if (recentlyUsedInTabBar && recentlyUsedInTabBar.owner !== newValue) {\n                        currentTabBar.currentIndex = ArrayExt.firstIndexOf(currentTabBar.titles, recentlyUsedInTabBar);\n                        if (currentTabBar.currentTitle) {\n                            this.activateWidget(currentTabBar.currentTitle.owner.id);\n                        }\n                    } else if (!this.activateNextTabInTabBar(currentTabBar)) {\n                        if (!this.activatePreviousTabBar(currentTabBar)) {\n                            this.activateNextTabBar(currentTabBar);\n                        }\n                    }\n                }\n                newValue['onCloseRequest'] = onCloseRequest;\n                newValue['onCloseRequest'](msg);\n            };\n            this.toDisposeOnActiveChanged.push(Disposable.create(() => newValue['onCloseRequest'] = onCloseRequest));\n            if (PreviewableWidget.is(newValue)) {\n                newValue.loaded = true;\n            }\n        }\n        this.onDidChangeActiveWidgetEmitter.fire(args);\n    }\n\n    /**\n     * Set the z-index of the given element and its ancestors to the value `z`.\n     */\n    private setZIndex(element: HTMLElement, z: string | null): void {\n        element.style.zIndex = z || '';\n        const parent = element.parentElement;\n        if (parent && parent !== this.node) {\n            this.setZIndex(parent, z);\n        }\n    }\n\n    /**\n     * Track the given widget so it is considered in the `current` and `active` state of the shell.\n     */\n    protected track(widget: Widget): void {\n        if (this.tracker.widgets.indexOf(widget) !== -1) {\n            return;\n        }\n        this.tracker.add(widget);\n        this.checkActivation(widget);\n        Saveable.apply(\n            widget,\n            () => this.widgets.filter((maybeSaveable): maybeSaveable is Widget & SaveableSource => !!Saveable.get(maybeSaveable)),\n            async (toSave, options) => {\n                await this.saveResourceService.save(toSave, options);\n            },\n        );\n        if (ApplicationShell.TrackableWidgetProvider.is(widget)) {\n            for (const toTrack of widget.getTrackableWidgets()) {\n                this.track(toTrack);\n            }\n            if (widget.onDidChangeTrackableWidgets) {\n                widget.onDidChangeTrackableWidgets(widgets => widgets.forEach(w => this.track(w)));\n            }\n        }\n    }\n\n    /**\n     * @returns an array of Widgets, all of which are tracked by the focus tracker\n     * The first member of the array is the widget whose id is passed in, and the other widgets\n     * are its tracked parents in ascending order\n     */\n    protected toTrackedStack(id: string): Widget[] {\n        const tracked = new Map<string, Widget>(this.tracker.widgets.map(w => [w.id, w] as [string, Widget]));\n        let current = tracked.get(id);\n        const stack: Widget[] = [];\n        while (current) {\n            if (tracked.has(current.id)) {\n                stack.push(current);\n            }\n            current = current.parent || undefined;\n        }\n        return stack;\n    }\n\n    /**\n     * Activate a widget in the application shell. This makes the widget visible and usually\n     * also assigns focus to it.\n     *\n     * _Note:_ Focus is taken by a widget through the `onActivateRequest` method. It is up to the\n     * widget implementation which DOM element will get the focus. The default implementation\n     * does not take any focus.\n     *\n     * @returns the activated widget if it was found\n     */\n    async activateWidget(id: string): Promise<Widget | undefined> {\n        const stack = this.toTrackedStack(id);\n        let current = stack.pop();\n        if (current && !this.doActivateWidget(current.id)) {\n            return undefined;\n        }\n        while (current && stack.length) {\n            const child = stack.pop()!;\n            if (ApplicationShell.TrackableWidgetProvider.is(current) && current.activateWidget) {\n                current = current.activateWidget(child.id);\n            } else {\n                child.activate();\n                current = child;\n            }\n        }\n        if (!current) {\n            return undefined;\n        }\n        return Promise.all([\n            this.waitForActivation(current.id),\n            waitForRevealed(current),\n            this.pendingUpdates\n        ]).then(() => current, () => undefined);\n    }\n\n    waitForActivation(id: string): Promise<void> {\n        if (this.activeWidget && this.activeWidget.id === id) {\n            return Promise.resolve();\n        }\n        const activation = new Deferred();\n        const success = this.onDidChangeActiveWidget(() => {\n            if (this.activeWidget && this.activeWidget.id === id) {\n                activation.resolve();\n            }\n        });\n        const failure = setTimeout(() => activation.reject(new Error(`Widget with id '${id}' failed to activate.`)), this.activationTimeout + 250);\n        return activation.promise.finally(() => {\n            success.dispose();\n            clearTimeout(failure);\n        });\n    }\n\n    /**\n     * Activate top-level area widget.\n     */\n    protected doActivateWidget(id: string): Widget | undefined {\n        let widget = find(this.mainPanel.widgets(), w => w.id === id);\n        if (widget) {\n            this.mainPanel.activateWidget(widget);\n        }\n        if (!widget) {\n            widget = find(this.bottomPanel.widgets(), w => w.id === id);\n            if (widget) {\n                this.expandBottomPanel();\n                this.bottomPanel.activateWidget(widget);\n            }\n        }\n        if (!widget) {\n            widget = this.leftPanelHandler.activate(id);\n        }\n\n        if (!widget) {\n            widget = this.rightPanelHandler.activate(id);\n        }\n        if (widget) {\n            this.windowService.focus();\n            return widget;\n        }\n        return this.secondaryWindowHandler.activateWidget(id);\n    }\n\n    /**\n     * Focus is taken by a widget through the `onActivateRequest` method. It is up to the\n     * widget implementation which DOM element will get the focus. The default implementation\n     * of Widget does not take any focus. This method can help finding such problems by logging\n     * a warning in case a widget was explicitly activated, but did not trigger a change of the\n     * `activeWidget` property.\n     */\n    private checkActivation(widget: Widget): Widget {\n        const onActivateRequest = widget['onActivateRequest'].bind(widget);\n        widget['onActivateRequest'] = (msg: Message) => {\n            onActivateRequest(msg);\n            this.assertActivated(widget);\n        };\n        return widget;\n    }\n\n    private readonly activationTimeout = 2000;\n    private readonly toDisposeOnActivationCheck = new DisposableCollection();\n    private assertActivated(widget: Widget): void {\n        this.toDisposeOnActivationCheck.dispose();\n\n        const onDispose = () => this.toDisposeOnActivationCheck.dispose();\n        widget.disposed.connect(onDispose);\n        this.toDisposeOnActivationCheck.push(Disposable.create(() => widget.disposed.disconnect(onDispose)));\n\n        let start = 0;\n        const step: FrameRequestCallback = timestamp => {\n            const activeElement = widget.node.ownerDocument.activeElement;\n            if (activeElement && widget.node.contains(activeElement)) {\n                return;\n            }\n            if (!start) {\n                start = timestamp;\n            }\n            const delta = timestamp - start;\n            if (delta < this.activationTimeout) {\n                request = window.requestAnimationFrame(step);\n            } else {\n                console.warn(`Widget was activated, but did not accept focus after ${this.activationTimeout}ms: ${widget.id}`);\n            }\n        };\n        let request = window.requestAnimationFrame(step);\n        this.toDisposeOnActivationCheck.push(Disposable.create(() => window.cancelAnimationFrame(request)));\n    }\n\n    /**\n     * Reveal a widget in the application shell. This makes the widget visible,\n     * but does not activate it.\n     *\n     * @returns the revealed widget if it was found\n     */\n    async revealWidget(id: string): Promise<Widget | undefined> {\n        const stack = this.toTrackedStack(id);\n        let current = stack.pop();\n        if (current && !this.doRevealWidget(current.id)) {\n            return undefined;\n        }\n        while (current && stack.length) {\n            const child = stack.pop()!;\n            if (ApplicationShell.TrackableWidgetProvider.is(current) && current.revealWidget) {\n                current = current.revealWidget(child.id);\n            } else {\n                current = child;\n            }\n        }\n        if (!current) {\n            return undefined;\n        }\n        await Promise.all([\n            waitForRevealed(current),\n            this.pendingUpdates\n        ]);\n        return current;\n    }\n\n    /**\n     * Reveal top-level area widget.\n     */\n    protected doRevealWidget(id: string): Widget | undefined {\n        let widget = find(this.mainPanel.widgets(), w => w.id === id);\n        if (!widget) {\n            widget = find(this.bottomPanel.widgets(), w => w.id === id);\n            if (widget) {\n                this.expandBottomPanel();\n            }\n        }\n        if (widget) {\n            const tabBar = this.getTabBarFor(widget);\n            if (tabBar) {\n                tabBar.currentTitle = widget.title;\n            }\n        }\n        if (!widget) {\n            widget = this.leftPanelHandler.expand(id);\n        }\n        if (!widget) {\n            widget = this.rightPanelHandler.expand(id);\n        }\n        if (widget) {\n            this.windowService.focus();\n            return widget;\n        } else {\n            return this.secondaryWindowHandler.revealWidget(id);\n        }\n    }\n\n    /**\n     * Expand the named side panel area. This makes sure that the panel is visible, even if there\n     * are no widgets in it. If the panel is already visible, nothing happens. If the panel is currently\n     * collapsed (see `collapsePanel`) and it contains widgets, the widgets are revealed that were\n     * visible before it was collapsed.\n     */\n    expandPanel(area: ApplicationShell.Area): void {\n        switch (area) {\n            case 'bottom':\n                this.expandBottomPanel();\n                break;\n            case 'left':\n                this.leftPanelHandler.expand();\n                break;\n            case 'right':\n                this.rightPanelHandler.expand();\n                break;\n            default:\n                throw new Error('Area cannot be expanded: ' + area);\n        }\n    }\n\n    /**\n     * Adjusts the size of the given area in the application shell.\n     *\n     * @param size the desired size of the panel in pixels.\n     * @param area the area to resize.\n     */\n    resize(size: number, area: ApplicationShell.Area): void {\n        switch (area) {\n            case 'bottom':\n                if (this.bottomPanel.isHidden) {\n                    this.bottomPanelState.lastPanelSize = size;\n                } else {\n                    this.setBottomPanelSize(size);\n                }\n                break;\n            case 'left':\n                this.leftPanelHandler.resize(size);\n                break;\n            case 'right':\n                this.rightPanelHandler.resize(size);\n                break;\n            default:\n                throw new Error('Area cannot be resized: ' + area);\n        }\n    }\n\n    /**\n     * Expand the bottom panel. See `expandPanel` regarding the exact behavior.\n     */\n    protected expandBottomPanel(): void {\n        const bottomPanel = this.bottomPanel;\n        if (bottomPanel.isHidden) {\n            let relativeSizes: number[] | undefined;\n            const parent = bottomPanel.parent;\n            if (parent instanceof SplitPanel) {\n                relativeSizes = parent.relativeSizes();\n            }\n            bottomPanel.show();\n            if (relativeSizes && parent instanceof SplitPanel) {\n                // Make sure that the expansion animation starts at the smallest possible size\n                parent.setRelativeSizes(relativeSizes);\n            }\n\n            let size: number | undefined;\n            if (bottomPanel.isEmpty) {\n                bottomPanel.node.style.minHeight = '0';\n                size = this.options.bottomPanel.emptySize;\n            } else if (this.bottomPanelState.lastPanelSize) {\n                size = this.bottomPanelState.lastPanelSize;\n            } else {\n                size = this.getDefaultBottomPanelSize();\n            }\n            if (size) {\n                this.bottomPanelState.expansion = SidePanel.ExpansionState.expanding;\n                this.setBottomPanelSize(size).then(() => {\n                    if (this.bottomPanelState.expansion === SidePanel.ExpansionState.expanding) {\n                        this.bottomPanelState.expansion = SidePanel.ExpansionState.expanded;\n                    }\n                });\n            } else {\n                this.bottomPanelState.expansion = SidePanel.ExpansionState.expanded;\n            }\n        }\n    }\n\n    /**\n     * Collapse the named side panel area. This makes sure that the panel is hidden,\n     * increasing the space that is available for other shell areas.\n     */\n    collapsePanel(area: ApplicationShell.Area): Promise<void> {\n        switch (area) {\n            case 'bottom':\n                return this.collapseBottomPanel();\n            case 'left':\n                return this.leftPanelHandler.collapse();\n            case 'right':\n                return this.rightPanelHandler.collapse();\n            default:\n                throw new Error('Area cannot be collapsed: ' + area);\n        }\n    }\n\n    /**\n     * Collapse the bottom panel. All contained widgets are hidden, but not closed.\n     * They can be restored by calling `expandBottomPanel`.\n     */\n    protected collapseBottomPanel(): Promise<void> {\n        const bottomPanel = this.bottomPanel;\n        if (bottomPanel.isHidden) {\n            return Promise.resolve();\n        }\n        if (this.bottomPanelState.expansion === SidePanel.ExpansionState.expanded) {\n            const size = this.getBottomPanelSize();\n            if (size) {\n                this.bottomPanelState.lastPanelSize = size;\n            }\n        }\n        this.bottomPanelState.expansion = SidePanel.ExpansionState.collapsed;\n        bottomPanel.hide();\n        return animationFrame();\n    }\n\n    /**\n     * Refresh the toggle button for the bottom panel. This implementation creates a status bar entry\n     * and refers to the command `core.toggle.bottom.panel`.\n     */\n    protected refreshBottomPanelToggleButton(): void {\n        if (this.bottomPanel.isEmpty) {\n            this.statusBar.removeElement(BOTTOM_PANEL_TOGGLE_ID);\n        } else {\n            const label = nls.localize('theia/core/common/collapseBottomPanel', 'Toggle Bottom Panel');\n            const element: StatusBarEntry = {\n                name: label,\n                text: '$(codicon-window)',\n                alignment: StatusBarAlignment.RIGHT,\n                tooltip: label,\n                command: 'core.toggle.bottom.panel',\n                accessibilityInformation: {\n                    label: label,\n                    role: 'button'\n                },\n                priority: -1000\n            };\n            this.statusBar.setElement(BOTTOM_PANEL_TOGGLE_ID, element);\n        }\n    }\n\n    /**\n     * Check whether the named side panel area is expanded (returns `true`) or collapsed (returns `false`).\n     */\n    isExpanded(area: ApplicationShell.Area): boolean {\n        switch (area) {\n            case 'bottom':\n                return this.bottomPanelState.expansion === SidePanel.ExpansionState.expanded;\n            case 'left':\n                return this.leftPanelHandler.state.expansion === SidePanel.ExpansionState.expanded;\n            case 'right':\n                return this.rightPanelHandler.state.expansion === SidePanel.ExpansionState.expanded;\n            default:\n                return true;\n        }\n    }\n\n    /**\n     * Close all tabs or a selection of tabs in a specific part of the application shell.\n     *\n     * @param tabBarOrArea\n     *      Either the name of a shell area or a `TabBar` that is contained in such an area.\n     * @param filter\n     *      If undefined, all tabs are closed; otherwise only those tabs that match the filter are closed.\n     */\n    async closeTabs(tabBarOrArea: TabBar<Widget> | ApplicationShell.Area,\n        filter?: (title: Title<Widget>, index: number) => boolean): Promise<void> {\n        const titles: Array<Title<Widget>> = this.getWidgetTitles(tabBarOrArea, filter);\n        if (titles.length) {\n            await this.closeMany(titles.map(title => title.owner));\n        }\n    }\n\n    saveTabs(tabBarOrArea: TabBar<Widget> | ApplicationShell.Area,\n        filter?: (title: Title<Widget>, index: number) => boolean): void {\n\n        const titles = this.getWidgetTitles(tabBarOrArea, filter);\n        for (let i = 0; i < titles.length; i++) {\n            const widget = titles[i].owner;\n            const saveable = Saveable.get(widget);\n            saveable?.save();\n        }\n    }\n\n    /**\n     * Collects all widget titles for the given tab bar or area and optionally filters them.\n     *\n     * @param tabBarOrArea The tab bar or area to retrieve the widget titles for\n     * @param filter The filter to apply to the result\n     * @returns The filtered array of widget titles or an empty array\n     */\n    protected getWidgetTitles(tabBarOrArea: TabBar<Widget> | ApplicationShell.Area,\n        filter?: (title: Title<Widget>, index: number) => boolean): Title<Widget>[] {\n\n        const titles: Title<Widget>[] = [];\n        if (tabBarOrArea === 'main') {\n            this.mainAreaTabBars.forEach(tabbar => titles.push(...toArray(tabbar.titles)));\n        } else if (tabBarOrArea === 'bottom') {\n            this.bottomAreaTabBars.forEach(tabbar => titles.push(...toArray(tabbar.titles)));\n        } else if (tabBarOrArea === 'secondaryWindow') {\n            titles.push(...this.secondaryWindowHandler.widgets.map(w => w.title));\n        } else if (typeof tabBarOrArea === 'string') {\n            const tabbar = this.getTabBarFor(tabBarOrArea);\n            if (tabbar) {\n                titles.push(...toArray(tabbar.titles));\n            }\n        } else if (tabBarOrArea) {\n            titles.push(...toArray(tabBarOrArea.titles));\n        }\n\n        return filter ? titles.filter(filter) : titles;\n    }\n\n    /**\n     * @param targets the widgets to be closed\n     * @return an array of all the widgets that were actually closed.\n     */\n    async closeMany(targets: Widget[], options?: ApplicationShell.CloseOptions): Promise<Widget[]> {\n        if (options?.save === false || await Saveable.confirmSaveBeforeClose(targets, this.widgets.filter(widget => !targets.includes(widget)))) {\n            return (await Promise.all(targets.map(target => this.closeWidget(target.id, options)))).filter((widget): widget is Widget => widget !== undefined);\n        }\n        return [];\n    }\n\n    /**\n     * @returns the widget that was closed, if any, `undefined` otherwise.\n     *\n     * If your use case requires closing multiple widgets, use {@link ApplicationShell#closeMany} instead. That method handles closing saveable widgets more reliably.\n     */\n    async closeWidget(id: string, options?: ApplicationShell.CloseOptions): Promise<Widget | undefined> {\n        // TODO handle save for composite widgets, i.e. the preference widget has 2 editors\n        const stack = this.toTrackedStack(id);\n        const current = stack.pop();\n        if (!current) {\n            return undefined;\n        }\n        const saveableOptions = options && { shouldSave: () => options.save };\n        const pendingClose = SaveableWidget.is(current)\n            ? current.closeWithSaving(saveableOptions)\n            : (current.close(), waitForClosed(current));\n        await Promise.all([\n            pendingClose,\n            this.pendingUpdates\n        ]);\n        return stack[0] || current;\n    }\n\n    /**\n     * The shell area name of the currently active tab, or undefined.\n     */\n    get currentTabArea(): ApplicationShell.Area | undefined {\n        const currentWidget = this.currentWidget;\n        if (currentWidget) {\n            return this.getAreaFor(currentWidget);\n        }\n    }\n\n    /**\n     * Determine the name of the shell area where the given widget resides. The result is\n     * undefined if the widget does not reside directly in the shell.\n     */\n    getAreaFor(input: TabBar<Widget> | Widget): ApplicationShell.Area | undefined {\n        if (input instanceof TabBar) {\n            if (find(this.mainPanel.tabBars(), tb => tb === input)) {\n                return 'main';\n            }\n            if (find(this.bottomPanel.tabBars(), tb => tb === input)) {\n                return 'bottom';\n            }\n            if (this.leftPanelHandler.tabBar === input) {\n                return 'left';\n            }\n            if (this.rightPanelHandler.tabBar === input) {\n                return 'right';\n            }\n        }\n        const widget = this.toTrackedStack(input.id).pop();\n        if (!widget) {\n            return undefined;\n        }\n        const title = widget.title;\n        const mainPanelTabBar = this.mainPanel.findTabBar(title);\n        if (mainPanelTabBar) {\n            return 'main';\n        }\n        const bottomPanelTabBar = this.bottomPanel.findTabBar(title);\n        if (bottomPanelTabBar) {\n            return 'bottom';\n        }\n        if (ArrayExt.firstIndexOf(this.leftPanelHandler.tabBar.titles, title) > -1) {\n            return 'left';\n        }\n        if (ArrayExt.firstIndexOf(this.rightPanelHandler.tabBar.titles, title) > -1) {\n            return 'right';\n        }\n        if (this.secondaryWindowHandler.widgets.includes(widget)) {\n            return 'secondaryWindow';\n        }\n        return undefined;\n    }\n\n    protected getAreaPanelFor(input: Widget): DockPanel | undefined {\n        const widget = this.toTrackedStack(input.id).pop();\n        if (!widget) {\n            return undefined;\n        }\n        return this.findPanel(widget);\n    }\n\n    /**\n     * Find the shell panel this top-level widget is part of\n     */\n    protected findPanel(widget: Widget | undefined): TheiaDockPanel | undefined {\n        if (!widget) {\n            return undefined;\n        }\n        const title = widget.title;\n        const mainPanelTabBar = this.mainPanel.findTabBar(title);\n        if (mainPanelTabBar) {\n            return this.mainPanel;\n        }\n        const bottomPanelTabBar = this.bottomPanel.findTabBar(title);\n        if (bottomPanelTabBar) {\n            return this.bottomPanel;\n        }\n        if (ArrayExt.firstIndexOf(this.leftPanelHandler.tabBar.titles, title) > -1) {\n            return this.leftPanelHandler.dockPanel;\n        }\n        if (ArrayExt.firstIndexOf(this.rightPanelHandler.tabBar.titles, title) > -1) {\n            return this.rightPanelHandler.dockPanel;\n        }\n        return undefined;\n    }\n\n    /**\n     * Return the tab bar that has the currently active widget, or undefined.\n     */\n    get currentTabBar(): TabBar<Widget> | undefined {\n        const currentWidget = this.currentWidget;\n        if (currentWidget) {\n            return this.getTabBarFor(currentWidget);\n        }\n    }\n\n    /**\n     * Return the tab bar in the given shell area, or the tab bar that has the given widget, or undefined.\n     */\n    getTabBarFor(widgetOrArea: Widget | ApplicationShell.Area): TabBar<Widget> | undefined {\n        if (typeof widgetOrArea === 'string') {\n            switch (widgetOrArea) {\n                case 'main':\n                    return this.mainPanel.currentTabBar;\n                case 'bottom':\n                    return this.bottomPanel.currentTabBar;\n                case 'left':\n                    return this.leftPanelHandler.tabBar;\n                case 'right':\n                    return this.rightPanelHandler.tabBar;\n                case 'secondaryWindow':\n                    // Secondary windows don't have a tab bar\n                    return undefined;\n                default:\n                    throw new Error('Illegal argument: ' + widgetOrArea);\n            }\n        }\n        const widget = this.toTrackedStack(widgetOrArea.id).pop();\n        if (!widget) {\n            return undefined;\n        }\n        const widgetTitle = widget.title;\n        const mainPanelTabBar = this.mainPanel.findTabBar(widgetTitle);\n        if (mainPanelTabBar) {\n            return mainPanelTabBar;\n        }\n        const bottomPanelTabBar = this.bottomPanel.findTabBar(widgetTitle);\n        if (bottomPanelTabBar) {\n            return bottomPanelTabBar;\n        }\n        const leftPanelTabBar = this.leftPanelHandler.tabBar;\n        if (ArrayExt.firstIndexOf(leftPanelTabBar.titles, widgetTitle) > -1) {\n            return leftPanelTabBar;\n        }\n        const rightPanelTabBar = this.rightPanelHandler.tabBar;\n        if (ArrayExt.firstIndexOf(rightPanelTabBar.titles, widgetTitle) > -1) {\n            return rightPanelTabBar;\n        }\n        return undefined;\n    }\n\n    /**\n     * The tab bars contained in the main shell area. If there is no widget in the main area, the\n     * returned array is empty.\n     */\n    get mainAreaTabBars(): TabBar<Widget>[] {\n        return toArray(this.mainPanel.tabBars());\n    }\n\n    /**\n     * The tab bars contained in the bottom shell area. If there is no widget in the bottom area,\n     * the returned array is empty.\n     */\n    get bottomAreaTabBars(): TabBar<Widget>[] {\n        return toArray(this.bottomPanel.tabBars());\n    }\n\n    /**\n     * The tab bars contained in all shell areas.\n     */\n    get allTabBars(): TabBar<Widget>[] {\n        return [...this.mainAreaTabBars, ...this.bottomAreaTabBars, this.leftPanelHandler.tabBar, this.rightPanelHandler.tabBar];\n    }\n\n    /*\n     * Activate the next tab in the current tab bar.\n     */\n    activateNextTabInTabBar(current: TabBar<Widget> | undefined = this.currentTabBar): boolean {\n        const index = this.nextTabIndexInTabBar(current);\n        if (!current || index === -1) {\n            return false;\n        }\n        current.currentIndex = index;\n        if (current.currentTitle) {\n            this.activateWidget(current.currentTitle.owner.id);\n        }\n        return true;\n    }\n\n    nextTabIndexInTabBar(current: TabBar<Widget> | undefined = this.currentTabBar): number {\n        if (!current || current.titles.length <= 1) {\n            return -1;\n        }\n        const index = current.currentIndex;\n        if (index === -1) {\n            return -1;\n        }\n        if (index < current.titles.length - 1) {\n            return index + 1;\n        }\n        return 0;\n    }\n\n    activateNextTab(): boolean {\n        const current = this.currentTabBar;\n        if (current) {\n            const ci = current.currentIndex;\n            if (ci !== -1) {\n                if (ci < current.titles.length - 1) {\n                    current.currentIndex += 1;\n                    if (current.currentTitle) {\n                        this.activateWidget(current.currentTitle.owner.id);\n                    }\n                    return true;\n                } else if (ci === current.titles.length - 1) {\n                    return this.activateNextTabBar(current);\n                }\n            }\n        }\n        return false;\n    }\n\n    activateNextTabBar(current: TabBar<Widget> | undefined = this.currentTabBar): boolean {\n        const nextBar = this.nextTabBar(current);\n        if (nextBar) {\n            nextBar.currentIndex = 0;\n            if (nextBar.currentTitle) {\n                this.activateWidget(nextBar.currentTitle.owner.id);\n            }\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Return the tab bar next to the given tab bar; return the given tab bar if there is no adjacent one.\n     */\n    nextTabBar(current: TabBar<Widget> | undefined = this.currentTabBar): TabBar<Widget> | undefined {\n        let bars = toArray(this.bottomPanel.tabBars());\n        let len = bars.length;\n        let ci = ArrayExt.firstIndexOf(bars, current);\n        if (ci < 0) {\n            bars = toArray(this.mainPanel.tabBars());\n            len = bars.length;\n            ci = ArrayExt.firstIndexOf(bars, current);\n        }\n        if (ci >= 0 && ci < len - 1) {\n            return bars[ci + 1];\n        } else if (ci >= 0 && ci === len - 1) {\n            return bars[0];\n        } else {\n            return current;\n        }\n    }\n\n    /*\n     * Activate the previous tab in the current tab bar.\n     */\n    activatePreviousTabInTabBar(current: TabBar<Widget> | undefined = this.currentTabBar): boolean {\n        const index = this.previousTabIndexInTabBar(current);\n        if (!current || index === -1) {\n            return false;\n        }\n        current.currentIndex = index;\n        if (current.currentTitle) {\n            this.activateWidget(current.currentTitle.owner.id);\n        }\n        return true;\n    }\n\n    previousTabIndexInTabBar(current: TabBar<Widget> | undefined = this.currentTabBar): number {\n        if (!current || current.titles.length <= 1) {\n            return -1;\n        }\n        const index = current.currentIndex;\n        if (index === -1) {\n            return -1;\n        }\n        if (index > 0) {\n            return index - 1;\n        }\n        return current.titles.length - 1;\n    }\n\n    activatePreviousTab(): boolean {\n        const current = this.currentTabBar;\n        if (current) {\n            const ci = current.currentIndex;\n            if (ci !== -1) {\n                if (ci > 0) {\n                    current.currentIndex -= 1;\n                    if (current.currentTitle) {\n                        this.activateWidget(current.currentTitle.owner.id);\n                    }\n                    return true;\n                } else if (ci === 0) {\n                    if (current && current.titles.length > 0) {\n                        current.currentIndex = current.titles.length - 1;\n                        if (current.currentTitle) {\n                            this.activateWidget(current.currentTitle.owner.id);\n                        }\n                        return true;\n                    }\n                    return this.activatePreviousTabBar(current);\n                }\n            }\n        }\n        return false;\n    }\n\n    activatePreviousTabBar(current: TabBar<Widget> | undefined = this.currentTabBar): boolean {\n        const prevBar = this.previousTabBar(current);\n        if (!prevBar) {\n            return false;\n        }\n        if (!prevBar.currentTitle) {\n            prevBar.currentIndex = prevBar.titles.length - 1;\n        }\n        if (prevBar.currentTitle) {\n            this.activateWidget(prevBar.currentTitle.owner.id);\n        }\n        return true;\n    }\n\n    /**\n     * Return the tab bar previous to the given tab bar; return the given tab bar if there is no adjacent one.\n     */\n    previousTabBar(current: TabBar<Widget> | undefined = this.currentTabBar): TabBar<Widget> | undefined {\n        const bars = toArray(this.mainPanel.tabBars());\n        const len = bars.length;\n        const ci = ArrayExt.firstIndexOf(bars, current);\n        if (ci > 0) {\n            return bars[ci - 1];\n        } else if (ci === 0) {\n            return bars[len - 1];\n        } else {\n            return current;\n        }\n    }\n\n    /**\n     * Test whether the current widget is dirty.\n     */\n    canSave(): boolean {\n        return this.saveResourceService.canSave(this.currentWidget);\n    }\n\n    /**\n     * Save the current widget if it is dirty.\n     */\n    async save(options?: SaveOptions): Promise<void> {\n        await this.saveResourceService.save(this.currentWidget, options);\n    }\n\n    /**\n     * Test whether there is a dirty widget.\n     */\n    canSaveAll(): boolean {\n        return this.tracker.widgets.some(widget => this.saveResourceService.canSave(widget));\n    }\n\n    /**\n     * Save all dirty widgets.\n     */\n    async saveAll(options?: SaveOptions): Promise<void> {\n        for (const widget of this.widgets) {\n            if (this.saveResourceService.canSaveNotSaveAs(widget)) {\n                await this.saveResourceService.save(widget, options);\n            }\n        }\n    }\n\n    /**\n     * Returns a snapshot of all tracked widgets to allow async modifications.\n     */\n    get widgets(): ReadonlyArray<Widget> {\n        return [...this.tracker.widgets];\n    }\n\n    getWidgetById(id: string): Widget | undefined {\n        for (const widget of this.tracker.widgets) {\n            if (widget.id === id) {\n                return widget;\n            }\n        }\n        return undefined;\n    }\n\n    canToggleMaximized(widget: Widget | undefined = this.currentWidget): boolean {\n        const area = widget && this.getAreaFor(widget);\n        return area === 'main' || area === 'bottom';\n    }\n\n    toggleMaximized(widget: Widget | undefined = this.currentWidget): void {\n        const area = widget && this.getAreaPanelFor(widget);\n        if (area instanceof TheiaDockPanel && (area === this.mainPanel || area === this.bottomPanel)) {\n            area.toggleMaximized();\n            this.revealWidget(widget!.id);\n        }\n    }\n\n}\n\n/**\n * The namespace for `ApplicationShell` class statics.\n */\nexport namespace ApplicationShell {\n    /**\n     * The areas of the application shell where widgets can reside.\n     */\n    export type Area = 'main' | 'top' | 'left' | 'right' | 'bottom' | 'secondaryWindow';\n\n    export const areaLabels: Record<Area, string> = {\n        main: nls.localizeByDefault('Main'),\n        top: nls.localizeByDefault('Top'),\n        left: nls.localizeByDefault('Left'),\n        right: nls.localizeByDefault('Right'),\n        bottom: nls.localizeByDefault('Bottom'),\n        secondaryWindow: nls.localize('theia/shell-area/secondary', 'Secondary Window'),\n    };\n\n    /**\n     * The _side areas_ are those shell areas that can be collapsed and expanded,\n     * i.e. `left`, `right`, and `bottom`.\n     */\n    export function isSideArea(area?: string): area is 'left' | 'right' | 'bottom' {\n        return area === 'left' || area === 'right' || area === 'bottom';\n    }\n\n    export function isValidArea(area?: unknown): area is ApplicationShell.Area {\n        const areas = ['main', 'top', 'left', 'right', 'bottom', 'secondaryWindow'];\n        return typeof area === 'string' && areas.includes(area);\n    }\n\n    /**\n     * General options for the application shell. These are passed on construction and can be modified\n     * through dependency injection (`ApplicationShellOptions` symbol).\n     */\n    export interface Options extends Widget.IOptions {\n        bottomPanel: BottomPanelOptions;\n        leftPanel: SidePanel.Options;\n        rightPanel: SidePanel.Options;\n    }\n\n    export interface BottomPanelOptions extends SidePanel.Options {\n    }\n\n    /**\n     * The default values for application shell options.\n     */\n    export const DEFAULT_OPTIONS = Object.freeze(<Options>{\n        bottomPanel: Object.freeze(<BottomPanelOptions>{\n            emptySize: 140,\n            expandThreshold: 160,\n            expandDuration: 0,\n            initialSizeRatio: 0.382\n        }),\n        leftPanel: Object.freeze(<SidePanel.Options>{\n            emptySize: 140,\n            expandThreshold: 140,\n            expandDuration: 0,\n            initialSizeRatio: 0.191\n        }),\n        rightPanel: Object.freeze(<SidePanel.Options>{\n            emptySize: 140,\n            expandThreshold: 140,\n            expandDuration: 0,\n            initialSizeRatio: 0.191\n        })\n    });\n\n    /**\n     * Whether a widget should be opened to the side tab bar relatively to the reference widget.\n     */\n    export type OpenToSideMode = 'open-to-left' | 'open-to-right';\n\n    export function isOpenToSideMode(mode: unknown): mode is OpenToSideMode {\n        return mode === 'open-to-left' || mode === 'open-to-right';\n    }\n\n    /**\n     * Options for adding a widget to the application shell.\n     */\n    export interface WidgetOptions extends SidePanel.WidgetOptions {\n        /**\n         * The area of the application shell where the widget will reside.\n         */\n        area?: Area;\n        /**\n         * The insertion mode for adding the widget.\n         *\n         * The default is `'tab-after'`.\n         */\n        mode?: DockLayout.InsertMode | OpenToSideMode\n        /**\n         * The reference widget for the insert location.\n         *\n         * The default is `undefined`.\n         */\n        ref?: Widget;\n    }\n\n    export interface CloseOptions {\n        /**\n         * if optional then a user will be prompted\n         * if undefined then close will be canceled\n         * if true then will be saved on close\n         * if false then won't be saved on close\n         */\n        save?: boolean | undefined\n    }\n\n    /**\n     * Data to save and load the application shell layout.\n     */\n    export interface LayoutData {\n        version?: string | ApplicationShellLayoutVersion,\n        mainPanel?: DockPanel.ILayoutConfig;\n        mainPanelPinned?: boolean[];\n        bottomPanel?: BottomPanelLayoutData;\n        leftPanel?: SidePanel.LayoutData;\n        rightPanel?: SidePanel.LayoutData;\n        activeWidgetId?: string;\n    }\n\n    /**\n     * Data to save and load the bottom panel layout.\n     */\n    export interface BottomPanelLayoutData {\n        config?: DockPanel.ILayoutConfig;\n        size?: number;\n        expanded?: boolean;\n        pinned?: boolean[];\n    }\n\n    /**\n     * Exposes widgets which activation state should be tracked by shell.\n     */\n    export interface TrackableWidgetProvider {\n        getTrackableWidgets(): Widget[]\n        readonly onDidChangeTrackableWidgets?: CommonEvent<Widget[]>\n        /**\n         * Make visible and focus a trackable widget for the given id.\n         * If not implemented then `activate` request will be sent to a child widget directly.\n         */\n        activateWidget?(id: string): Widget | undefined;\n        /**\n         * Make visible a trackable widget for the given id.\n         * If not implemented then a widget should be always visible when an owner is visible.\n         */\n        revealWidget?(id: string): Widget | undefined;\n    }\n\n    export namespace TrackableWidgetProvider {\n        export function is(widget: unknown): widget is TrackableWidgetProvider {\n            return isObject(widget) && 'getTrackableWidgets' in widget;\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { CommandHandler } from '../../common';\nimport { TabBar, Title, Widget } from '../widgets';\nimport { ApplicationShell } from './application-shell';\n\ntype CurrentWidgetCommandAdapterBooleanCheck = (event: Event) => boolean;\ntype CurrentWidgetCommandHandlerBooleanCheck = (title: Title<Widget> | undefined, tabbar: TabBar<Widget> | undefined, event: Event) => boolean;\n\nexport interface TabBarContextMenuCommandHandler extends CommandHandler {\n    execute(title: Title<Widget> | undefined, tabbar: TabBar<Widget> | undefined, event: Event): unknown;\n    isEnabled?: CurrentWidgetCommandHandlerBooleanCheck;\n    isVisible?: CurrentWidgetCommandHandlerBooleanCheck;\n    isToggled?: CurrentWidgetCommandHandlerBooleanCheck;\n}\n\n/**\n * Creates a command handler that acts on either the widget targeted by a DOM event or the current widget.\n */\nexport class CurrentWidgetCommandAdapter implements CommandHandler {\n    execute: (event: Event) => unknown;\n    isEnabled?: CurrentWidgetCommandAdapterBooleanCheck;\n    isVisible?: CurrentWidgetCommandAdapterBooleanCheck;\n    isToggled?: CurrentWidgetCommandAdapterBooleanCheck;\n    constructor(shell: ApplicationShell, handler: TabBarContextMenuCommandHandler) {\n        this.execute = (event: Event) => handler.execute(...this.transformArguments(shell, event));\n        if (handler.isEnabled) {\n            this.isEnabled = (event: Event) => !!handler.isEnabled?.(...this.transformArguments(shell, event));\n        }\n        if (handler.isVisible) {\n            this.isVisible = (event: Event) => !!handler.isVisible?.(...this.transformArguments(shell, event));\n        }\n        if (handler.isToggled) {\n            this.isToggled = (event: Event) => !!handler.isToggled?.(...this.transformArguments(shell, event));\n        }\n    }\n\n    protected transformArguments(shell: ApplicationShell, event: Event): [Title<Widget> | undefined, TabBar<Widget> | undefined, Event] {\n        const tabBar = shell.findTabBar(event);\n        const title = tabBar && shell.findTitle(tabBar, event);\n        return [title, tabBar, event];\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './application-shell';\nexport * from './shell-layout-restorer';\nexport * from './side-panel-handler';\nexport * from './sidebar-menu-widget';\nexport * from './split-panels';\nexport * from './tab-bars';\nexport * from './view-contribution';\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, named } from 'inversify';\nimport { Widget } from '@phosphor/widgets';\nimport { FrontendApplication } from '../frontend-application';\nimport { WidgetManager, WidgetConstructionOptions } from '../widget-manager';\nimport { StorageService } from '../storage-service';\nimport { ILogger } from '../../common/logger';\nimport { CommandContribution, CommandRegistry, Command } from '../../common/command';\nimport { ThemeService } from '../theming';\nimport { ContributionProvider } from '../../common/contribution-provider';\nimport { ApplicationShell, applicationShellLayoutVersion, ApplicationShellLayoutVersion } from './application-shell';\nimport { CommonCommands } from '../common-frontend-contribution';\nimport { WindowService } from '../window/window-service';\nimport { StopReason } from '../../common/frontend-application-state';\nimport { isFunction, isObject, MaybePromise } from '../../common';\n\n/**\n * A contract for widgets that want to store and restore their inner state, between sessions.\n */\nexport interface StatefulWidget {\n\n    /**\n     * Called on unload to store the inner state. Returns 'undefined' if the widget cannot be stored.\n     */\n    storeState(): object | undefined;\n\n    /**\n     * Called when the widget got created by the storage service\n     */\n    restoreState(oldState: object): void;\n}\n\nexport namespace StatefulWidget {\n    export function is(arg: unknown): arg is StatefulWidget {\n        return isObject<StatefulWidget>(arg) && isFunction(arg.storeState) && isFunction(arg.restoreState);\n    }\n}\n\nexport interface WidgetDescription {\n    constructionOptions: WidgetConstructionOptions,\n    innerWidgetState?: string | object\n}\n\nexport interface ApplicationShellLayoutMigrationContext {\n    /**\n     * A resolved version of a current layout.\n     */\n    layoutVersion: number\n    /**\n     * A layout to be inflated.\n     */\n    layout: ApplicationShell.LayoutData\n    /**\n     * A parent widget is to be inflated. `undefined` if the application shell\n     */\n    parent?: Widget\n}\n\nexport interface ApplicationShellLayoutMigrationError extends Error {\n    code: 'ApplicationShellLayoutMigrationError'\n}\nexport namespace ApplicationShellLayoutMigrationError {\n    const code: ApplicationShellLayoutMigrationError['code'] = 'ApplicationShellLayoutMigrationError';\n    export function create(message?: string): ApplicationShellLayoutMigrationError {\n        return Object.assign(new Error(\n            `Could not migrate layout to version ${applicationShellLayoutVersion}.` + (message ? '\\n' + message : '')\n        ), { code });\n    }\n    export function is(error: Error | undefined): error is ApplicationShellLayoutMigrationError {\n        return !!error && 'code' in error && error['code'] === code;\n    }\n}\n\nexport const ApplicationShellLayoutMigration = Symbol('ApplicationShellLayoutMigration');\nexport interface ApplicationShellLayoutMigration {\n    /**\n     * A target migration version.\n     */\n    readonly layoutVersion: ApplicationShellLayoutVersion;\n\n    /**\n     * A migration can transform layout before it will be inflated.\n     *\n     * @throws `ApplicationShellLayoutMigrationError` if a layout cannot be migrated,\n     * in this case the default layout will be initialized.\n     */\n    onWillInflateLayout?(context: ApplicationShellLayoutMigrationContext): MaybePromise<void>;\n\n    /**\n     * A migration can transform the given description before it will be inflated.\n     *\n     * @returns a migrated widget description, or `undefined`\n     * @throws `ApplicationShellLayoutMigrationError` if a widget description cannot be migrated,\n     * in this case the default layout will be initialized.\n     */\n    onWillInflateWidget?(desc: WidgetDescription, context: ApplicationShellLayoutMigrationContext): MaybePromise<WidgetDescription | undefined>;\n}\n\nexport const RESET_LAYOUT = Command.toLocalizedCommand({\n    id: 'reset.layout',\n    category: CommonCommands.VIEW_CATEGORY,\n    label: 'Reset Workbench Layout'\n}, 'theia/core/resetWorkbenchLayout', CommonCommands.VIEW_CATEGORY_KEY);\n\n@injectable()\nexport class ShellLayoutRestorer implements CommandContribution {\n\n    protected storageKey = 'layout';\n    protected shouldStoreLayout: boolean = true;\n\n    @inject(ContributionProvider) @named(ApplicationShellLayoutMigration) protected readonly migrations: ContributionProvider<ApplicationShellLayoutMigration>;\n    @inject(WindowService) protected readonly windowService: WindowService;\n    @inject(ThemeService) protected readonly themeService: ThemeService;\n\n    constructor(\n        @inject(WidgetManager) protected widgetManager: WidgetManager,\n        @inject(ILogger) protected logger: ILogger,\n        @inject(StorageService) protected storageService: StorageService) { }\n\n    registerCommands(commands: CommandRegistry): void {\n        commands.registerCommand(RESET_LAYOUT, {\n            execute: async () => this.resetLayout()\n        });\n    }\n\n    protected async resetLayout(): Promise<void> {\n        if (await this.windowService.isSafeToShutDown(StopReason.Reload)) {\n            this.logger.info('>>> Resetting layout...');\n            this.shouldStoreLayout = false;\n            this.storageService.setData(this.storageKey, undefined);\n            this.themeService.reset();\n            this.logger.info('<<< The layout has been successfully reset.');\n            this.windowService.reload();\n        }\n    }\n\n    storeLayout(app: FrontendApplication): void {\n        if (this.shouldStoreLayout) {\n            try {\n                this.logger.info('>>> Storing the layout...');\n                const layoutData = app.shell.getLayoutData();\n                const serializedLayoutData = this.deflate(layoutData);\n                this.storageService.setData(this.storageKey, serializedLayoutData);\n                this.logger.info('<<< The layout has been successfully stored.');\n            } catch (error) {\n                this.storageService.setData(this.storageKey, undefined);\n                this.logger.error('Error during serialization of layout data', error);\n            }\n        }\n    }\n\n    async restoreLayout(app: FrontendApplication): Promise<boolean> {\n        this.logger.info('>>> Restoring the layout state...');\n        const serializedLayoutData = await this.storageService.getData<string>(this.storageKey);\n        if (serializedLayoutData === undefined) {\n            this.logger.info('<<< Nothing to restore.');\n            return false;\n        }\n        const layoutData = await this.inflate(serializedLayoutData);\n        await app.shell.setLayoutData(layoutData);\n        this.logger.info('<<< The layout has been successfully restored.');\n        return true;\n    }\n\n    protected isWidgetProperty(propertyName: string): boolean {\n        return propertyName === 'widget';\n    }\n\n    protected isWidgetsProperty(propertyName: string): boolean {\n        return propertyName === 'widgets';\n    }\n\n    /**\n     * Turns the layout data to a string representation.\n     */\n    protected deflate(data: object): string {\n        return JSON.stringify(data, (property: string, value) => {\n            if (this.isWidgetProperty(property)) {\n                const description = this.convertToDescription(value as Widget);\n                return description;\n            } else if (this.isWidgetsProperty(property)) {\n                const descriptions: WidgetDescription[] = [];\n                for (const widget of (value as Widget[])) {\n                    const description = this.convertToDescription(widget);\n                    if (description) {\n                        descriptions.push(description);\n                    }\n                }\n                return descriptions;\n            }\n            return value;\n        });\n    }\n\n    private convertToDescription(widget: Widget): WidgetDescription | undefined {\n        const desc = this.widgetManager.getDescription(widget);\n        if (desc) {\n            if (StatefulWidget.is(widget)) {\n                const innerState = widget.storeState();\n                return innerState ? {\n                    constructionOptions: desc,\n                    innerWidgetState: this.deflate(innerState)\n                } : undefined;\n            } else {\n                return {\n                    constructionOptions: desc,\n                    innerWidgetState: undefined\n                };\n            }\n        }\n    }\n\n    /**\n     * Creates the layout data from its string representation.\n     */\n    protected async inflate(layoutData: string): Promise<ApplicationShell.LayoutData> {\n        const parseContext = new ShellLayoutRestorer.ParseContext();\n        const layout = this.parse<ApplicationShell.LayoutData>(layoutData, parseContext);\n\n        const layoutVersion = Number(layout.version);\n        if (typeof layoutVersion !== 'number' || Number.isNaN(layoutVersion)) {\n            throw new Error('could not resolve a layout version');\n        }\n        if (layoutVersion !== applicationShellLayoutVersion) {\n            if (layoutVersion < applicationShellLayoutVersion) {\n                console.warn(`Layout version ${layoutVersion} is behind current layout version ${applicationShellLayoutVersion}, trying to migrate...`);\n            } else {\n                console.warn(`Layout version ${layoutVersion} is ahead current layout version ${applicationShellLayoutVersion}, trying to load anyway...`);\n            }\n            console.info(`Please use '${RESET_LAYOUT.label}' command if the layout looks bogus.`);\n        }\n\n        const migrations = this.migrations.getContributions()\n            .filter(m => m.layoutVersion > layoutVersion && m.layoutVersion <= applicationShellLayoutVersion)\n            .sort((m, m2) => m.layoutVersion - m2.layoutVersion);\n        if (migrations.length) {\n            console.info(`Found ${migrations.length} migrations from layout version ${layoutVersion} to version ${applicationShellLayoutVersion}, migrating...`);\n        }\n\n        const context = { layout, layoutVersion, migrations };\n        await this.fireWillInflateLayout(context);\n        await parseContext.inflate(context);\n        return layout;\n    }\n\n    protected async fireWillInflateLayout(context: ShellLayoutRestorer.InflateContext): Promise<void> {\n        for (const migration of context.migrations) {\n            if (migration.onWillInflateLayout) {\n                // don't catch exceptions, if one migration fails all should fail.\n                await migration.onWillInflateLayout(context);\n            }\n        }\n    }\n\n    protected parse<T>(layoutData: string, parseContext: ShellLayoutRestorer.ParseContext): T {\n        return JSON.parse(layoutData, (property: string, value) => {\n            if (this.isWidgetsProperty(property)) {\n                const widgets = parseContext.filteredArray();\n                const descs = (value as WidgetDescription[]);\n                for (let i = 0; i < descs.length; i++) {\n                    parseContext.push(async context => {\n                        widgets[i] = await this.convertToWidget(descs[i], context);\n                    });\n                }\n                return widgets;\n            } else if (isObject(value) && !Array.isArray(value)) {\n                const copy: Record<string, unknown> = {};\n                for (const p in value) {\n                    if (this.isWidgetProperty(p)) {\n                        parseContext.push(async context => {\n                            copy[p] = await this.convertToWidget(value[p] as WidgetDescription, context);\n                        });\n                    } else {\n                        copy[p] = value[p];\n                    }\n                }\n                return copy;\n            }\n            return value;\n        });\n    }\n\n    protected async fireWillInflateWidget(desc: WidgetDescription, context: ShellLayoutRestorer.InflateContext): Promise<WidgetDescription> {\n        for (const migration of context.migrations) {\n            if (migration.onWillInflateWidget) {\n                // don't catch exceptions, if one migration fails all should fail.\n                const migrated = await migration.onWillInflateWidget(desc, context);\n                if (migrated) {\n                    if (isObject(migrated.innerWidgetState)) {\n                        // in order to inflate nested widgets\n                        migrated.innerWidgetState = JSON.stringify(migrated.innerWidgetState);\n                    }\n                    desc = migrated;\n                }\n            }\n        }\n        return desc;\n    }\n\n    protected async convertToWidget(desc: WidgetDescription, context: ShellLayoutRestorer.InflateContext): Promise<Widget | undefined> {\n        if (!desc.constructionOptions) {\n            return undefined;\n        }\n        try {\n            desc = await this.fireWillInflateWidget(desc, context);\n            const widget = await this.widgetManager.getOrCreateWidget(desc.constructionOptions.factoryId, desc.constructionOptions.options);\n            if (StatefulWidget.is(widget) && desc.innerWidgetState !== undefined) {\n                try {\n                    let oldState: object;\n                    if (typeof desc.innerWidgetState === 'string') {\n                        const parseContext = new ShellLayoutRestorer.ParseContext();\n                        oldState = this.parse(desc.innerWidgetState, parseContext);\n                        await parseContext.inflate({ ...context, parent: widget });\n                    } else {\n                        oldState = desc.innerWidgetState;\n                    }\n                    widget.restoreState(oldState);\n                } catch (e) {\n                    if (ApplicationShellLayoutMigrationError.is(e)) {\n                        throw e;\n                    }\n                    this.logger.warn(`Couldn't restore widget state for ${widget.id}. Error: ${e} `);\n                }\n            }\n            if (widget.isDisposed) {\n                return undefined;\n            }\n            return widget;\n        } catch (e) {\n            if (ApplicationShellLayoutMigrationError.is(e)) {\n                throw e;\n            }\n            this.logger.warn(`Couldn't restore widget for ${desc.constructionOptions.factoryId}. Error: ${e} `);\n            return undefined;\n        }\n    }\n\n}\n\nexport namespace ShellLayoutRestorer {\n\n    export class ParseContext {\n        protected readonly toInflate: Inflate[] = [];\n        protected readonly toFilter: Widgets[] = [];\n\n        /**\n         * Returns an array, which will be filtered from undefined elements\n         * after resolving promises, that create widgets.\n         */\n        filteredArray(): Widgets {\n            const array: Widgets = [];\n            this.toFilter.push(array);\n            return array;\n        }\n\n        push(toInflate: Inflate): void {\n            this.toInflate.push(toInflate);\n        }\n\n        async inflate(context: InflateContext): Promise<void> {\n            const pending: Promise<void>[] = [];\n            while (this.toInflate.length) {\n                pending.push(this.toInflate.pop()!(context));\n            }\n            await Promise.all(pending);\n\n            if (this.toFilter.length) {\n                this.toFilter.forEach(array => {\n                    for (let i = 0; i < array.length; i++) {\n                        if (array[i] === undefined) {\n                            array.splice(i--, 1);\n                        }\n                    }\n                });\n            }\n        }\n    }\n\n    export type Widgets = (Widget | undefined)[];\n    export type Inflate = (context: InflateContext) => Promise<void>;\n    export interface InflateContext extends ApplicationShellLayoutMigrationContext {\n        readonly migrations: ApplicationShellLayoutMigration[];\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from 'inversify';\nimport { find, map, toArray, some } from '@phosphor/algorithm';\nimport { TabBar, Widget, DockPanel, Title, Panel, BoxPanel, BoxLayout, SplitPanel, PanelLayout } from '@phosphor/widgets';\nimport { MimeData } from '@phosphor/coreutils';\nimport { Drag } from '@phosphor/dragdrop';\nimport { AttachedProperty } from '@phosphor/properties';\nimport { TabBarRendererFactory, TabBarRenderer, SHELL_TABBAR_CONTEXT_MENU, SideTabBar } from './tab-bars';\nimport { SidebarMenuWidget, SidebarMenu, SidebarBottomMenuWidgetFactory, SidebarTopMenuWidgetFactory } from './sidebar-menu-widget';\nimport { SplitPositionHandler, SplitPositionOptions } from './split-panels';\nimport { animationFrame } from '../browser';\nimport { FrontendApplicationStateService } from '../frontend-application-state';\nimport { TheiaDockPanel } from './theia-dock-panel';\nimport { SidePanelToolbar } from './side-panel-toolbar';\nimport { TabBarToolbarRegistry, TabBarToolbarFactory, TabBarToolbar } from './tab-bar-toolbar';\nimport { DisposableCollection, Disposable } from '../../common/disposable';\nimport { ContextMenuRenderer } from '../context-menu-renderer';\nimport { MenuPath } from '../../common/menu';\nimport { SidebarBottomMenuWidget } from './sidebar-bottom-menu-widget';\nimport { SidebarTopMenuWidget } from './sidebar-top-menu-widget';\nimport { PINNED_CLASS } from '../widgets';\nimport { AdditionalViewsMenuWidget, AdditionalViewsMenuWidgetFactory } from './additional-views-menu-widget';\n\n/** The class name added to the left and right area panels. */\nexport const LEFT_RIGHT_AREA_CLASS = 'theia-app-sides';\n\n/** The class name added to collapsed side panels. */\nconst COLLAPSED_CLASS = 'theia-mod-collapsed';\n\nexport const SidePanelHandlerFactory = Symbol('SidePanelHandlerFactory');\n\nexport const SIDE_PANEL_TOOLBAR_CONTEXT_MENU: MenuPath = ['SIDE_PANEL_TOOLBAR_CONTEXT_MENU'];\n\n/**\n * A class which manages a dock panel and a related side bar. This is used for the left and right\n * panel of the application shell.\n */\n@injectable()\nexport class SidePanelHandler {\n\n    /**\n     * A property that can be attached to widgets in order to determine the insertion index\n     * of their title in the tab bar.\n     */\n    protected static readonly rankProperty = new AttachedProperty<Widget, number | undefined>({\n        name: 'sidePanelRank',\n        create: () => undefined\n    });\n\n    /**\n     * The tab bar displays the titles of the widgets in the side panel. Visibility of the widgets\n     * is controlled entirely through tab selection: a widget is revealed by setting the `currentTitle`\n     * accordingly in the tab bar, and the panel is hidden by setting that property to `null`. The\n     * tab bar itself remains visible as long as there is at least one widget.\n     */\n    tabBar: SideTabBar;\n    /**\n     * Conditional menu placed below the tabBar. Manages overflowing/hidden tabs.\n     * Is only visible if there are overflowing tabs.\n     */\n    additionalViewsMenu: AdditionalViewsMenuWidget;\n    /**\n     * The menu placed on the sidebar top.\n     * Displayed as icons.\n     * Open menus when on clicks.\n     */\n    topMenu: SidebarMenuWidget;\n    /**\n     * The menu placed on the sidebar bottom.\n     * Displayed as icons.\n     * Open menus when on clicks.\n     */\n    bottomMenu: SidebarMenuWidget;\n    /**\n     * A tool bar, which displays a title and widget specific command buttons.\n     */\n    toolBar: SidePanelToolbar;\n    /**\n     * The widget container is a dock panel in `single-document` mode, which means that the panel\n     * cannot be split.\n     */\n    dockPanel: TheiaDockPanel;\n    /**\n     * The panel that contains the tab bar and the dock panel. This one is hidden whenever the dock\n     * panel is empty.\n     */\n    container: Panel;\n    /**\n     * The current state of the side panel.\n     */\n    readonly state: SidePanel.State = {\n        empty: true,\n        expansion: SidePanel.ExpansionState.collapsed,\n        pendingUpdate: Promise.resolve()\n    };\n\n    /**\n     * The shell area where the panel is placed. This property should not be modified directly, but\n     * only by calling `create`.\n     */\n    protected side: 'left' | 'right';\n    /**\n     * Options that control the behavior of the side panel.\n     */\n    protected options: SidePanel.Options;\n\n    @inject(TabBarToolbarRegistry) protected tabBarToolBarRegistry: TabBarToolbarRegistry;\n    @inject(TabBarToolbarFactory) protected tabBarToolBarFactory: () => TabBarToolbar;\n    @inject(TabBarRendererFactory) protected tabBarRendererFactory: () => TabBarRenderer;\n    @inject(SidebarTopMenuWidgetFactory) protected sidebarTopWidgetFactory: () => SidebarTopMenuWidget;\n    @inject(SidebarBottomMenuWidgetFactory) protected sidebarBottomWidgetFactory: () => SidebarBottomMenuWidget;\n    @inject(AdditionalViewsMenuWidgetFactory) protected additionalViewsMenuFactory: AdditionalViewsMenuWidgetFactory;\n    @inject(SplitPositionHandler) protected splitPositionHandler: SplitPositionHandler;\n    @inject(FrontendApplicationStateService) protected readonly applicationStateService: FrontendApplicationStateService;\n    @inject(TheiaDockPanel.Factory) protected readonly dockPanelFactory: TheiaDockPanel.Factory;\n\n    @inject(ContextMenuRenderer)\n    protected readonly contextMenuRenderer: ContextMenuRenderer;\n\n    /**\n     * Create the side bar and dock panel widgets.\n     */\n    create(side: 'left' | 'right', options: SidePanel.Options): void {\n        this.side = side;\n        this.options = options;\n        this.topMenu = this.createSidebarTopMenu();\n        this.tabBar = this.createSideBar();\n        this.additionalViewsMenu = this.createAdditionalViewsWidget();\n        this.bottomMenu = this.createSidebarBottomMenu();\n        this.toolBar = this.createToolbar();\n        this.dockPanel = this.createSidePanel();\n        this.container = this.createContainer();\n\n        this.refresh();\n    }\n\n    protected createSideBar(): SideTabBar {\n        const side = this.side;\n        const tabBarRenderer = this.tabBarRendererFactory();\n        const sideBar = new SideTabBar({\n            // Tab bar options\n            orientation: side === 'left' || side === 'right' ? 'vertical' : 'horizontal',\n            insertBehavior: 'none',\n            removeBehavior: 'select-previous-tab',\n            allowDeselect: false,\n            tabsMovable: true,\n            renderer: tabBarRenderer,\n            // Scroll bar options\n            handlers: ['drag-thumb', 'keyboard', 'wheel', 'touch'],\n            useBothWheelAxes: true,\n            scrollYMarginOffset: 8,\n            suppressScrollX: true\n        });\n        tabBarRenderer.tabBar = sideBar;\n        sideBar.disposed.connect(() => tabBarRenderer.dispose());\n        tabBarRenderer.contextMenuPath = SHELL_TABBAR_CONTEXT_MENU;\n        sideBar.addClass('theia-app-' + side);\n        sideBar.addClass(LEFT_RIGHT_AREA_CLASS);\n\n        sideBar.tabAdded.connect((sender, { title }) => {\n            const widget = title.owner;\n            if (!some(this.dockPanel.widgets(), w => w === widget)) {\n                this.dockPanel.addWidget(widget);\n            }\n        }, this);\n        sideBar.tabActivateRequested.connect((sender, { title }) => title.owner.activate());\n        sideBar.tabCloseRequested.connect((sender, { title }) => title.owner.close());\n        sideBar.collapseRequested.connect(() => this.collapse(), this);\n        sideBar.currentChanged.connect(this.onCurrentTabChanged, this);\n        sideBar.tabDetachRequested.connect(this.onTabDetachRequested, this);\n        sideBar.tabsOverflowChanged.connect(this.onTabsOverflowChanged, this);\n        return sideBar;\n    }\n\n    protected createSidePanel(): TheiaDockPanel {\n        const sidePanel = this.dockPanelFactory({\n            mode: 'single-document'\n        });\n        sidePanel.id = 'theia-' + this.side + '-side-panel';\n        sidePanel.addClass('theia-side-panel');\n\n        sidePanel.widgetActivated.connect((sender, widget) => {\n            this.tabBar.currentTitle = widget.title;\n        }, this);\n        sidePanel.widgetAdded.connect(this.onWidgetAdded, this);\n        sidePanel.widgetRemoved.connect(this.onWidgetRemoved, this);\n        return sidePanel;\n    }\n\n    protected createToolbar(): SidePanelToolbar {\n        const toolbar = new SidePanelToolbar(this.tabBarToolBarRegistry, this.tabBarToolBarFactory, this.side);\n        toolbar.onContextMenu(e => this.showContextMenu(e));\n        return toolbar;\n    }\n\n    protected createAdditionalViewsWidget(): AdditionalViewsMenuWidget {\n        const widget = this.additionalViewsMenuFactory(this.side);\n        widget.addClass('theia-sidebar-menu');\n        return widget;\n    }\n\n    protected createSidebarTopMenu(): SidebarTopMenuWidget {\n        return this.createSidebarMenu(this.sidebarTopWidgetFactory);\n    }\n\n    protected createSidebarBottomMenu(): SidebarBottomMenuWidget {\n        return this.createSidebarMenu(this.sidebarBottomWidgetFactory);\n    }\n\n    protected createSidebarMenu<T extends SidebarMenuWidget>(factory: () => T): T {\n        const menu = factory();\n        menu.addClass('theia-sidebar-menu');\n        return menu;\n    }\n\n    protected showContextMenu(e: MouseEvent): void {\n        const title = this.tabBar.currentTitle;\n        if (!title) {\n            return;\n        }\n        e.stopPropagation();\n        e.preventDefault();\n\n        this.contextMenuRenderer.render({\n            args: [title.owner],\n            menuPath: SIDE_PANEL_TOOLBAR_CONTEXT_MENU,\n            anchor: e\n        });\n    }\n\n    protected createContainer(): Panel {\n        const contentBox = new BoxLayout({ direction: 'top-to-bottom', spacing: 0 });\n        BoxPanel.setStretch(this.toolBar, 0);\n        contentBox.addWidget(this.toolBar);\n        BoxPanel.setStretch(this.dockPanel, 1);\n        contentBox.addWidget(this.dockPanel);\n        const contentPanel = new BoxPanel({ layout: contentBox });\n\n        const side = this.side;\n        let direction: BoxLayout.Direction;\n        switch (side) {\n            case 'left':\n                direction = 'left-to-right';\n                break;\n            case 'right':\n                direction = 'right-to-left';\n                break;\n            default:\n                throw new Error('Illegal argument: ' + side);\n        }\n        const containerLayout = new BoxLayout({ direction, spacing: 0 });\n        const sidebarContainerLayout = new PanelLayout();\n        const sidebarContainer = new Panel({ layout: sidebarContainerLayout });\n        sidebarContainer.addClass('theia-app-sidebar-container');\n        sidebarContainerLayout.addWidget(this.topMenu);\n        sidebarContainerLayout.addWidget(this.tabBar);\n        sidebarContainerLayout.addWidget(this.additionalViewsMenu);\n        sidebarContainerLayout.addWidget(this.bottomMenu);\n\n        BoxPanel.setStretch(sidebarContainer, 0);\n        BoxPanel.setStretch(contentPanel, 1);\n        containerLayout.addWidget(sidebarContainer);\n        containerLayout.addWidget(contentPanel);\n        const boxPanel = new BoxPanel({ layout: containerLayout });\n        boxPanel.id = 'theia-' + side + '-content-panel';\n        return boxPanel;\n    }\n\n    /**\n     * Create an object that describes the current side panel layout. This object may contain references\n     * to widgets; these need to be transformed before the layout can be serialized.\n     */\n    getLayoutData(): SidePanel.LayoutData {\n        const currentTitle = this.tabBar.currentTitle;\n        const items = toArray(map(this.tabBar.titles, title => <SidePanel.WidgetItem>{\n            widget: title.owner,\n            rank: SidePanelHandler.rankProperty.get(title.owner),\n            expanded: title === currentTitle,\n            pinned: title.className.includes(PINNED_CLASS)\n        }));\n        // eslint-disable-next-line no-null/no-null\n        const size = currentTitle !== null ? this.getPanelSize() : this.state.lastPanelSize;\n        return { type: 'sidepanel', items, size };\n    }\n\n    /**\n     * Apply a side panel layout that has been previously created with `getLayoutData`.\n     */\n    setLayoutData(layoutData: SidePanel.LayoutData): void {\n        // eslint-disable-next-line no-null/no-null\n        this.tabBar.currentTitle = null;\n\n        let currentTitle: Title<Widget> | undefined;\n        if (layoutData.items) {\n            for (const { widget, rank, expanded, pinned } of layoutData.items) {\n                if (widget) {\n                    if (rank) {\n                        SidePanelHandler.rankProperty.set(widget, rank);\n                    }\n                    if (expanded) {\n                        currentTitle = widget.title;\n                    }\n                    if (pinned) {\n                        widget.title.className += ` ${PINNED_CLASS}`;\n                        widget.title.closable = false;\n                    }\n                    // Add the widgets directly to the tab bar in the same order as they are stored\n                    this.tabBar.addTab(widget.title);\n                }\n            }\n        }\n        if (layoutData.size) {\n            this.state.lastPanelSize = layoutData.size;\n        }\n\n        // If the layout data contains an expanded item, update the currentTitle property\n        // This implies a refresh through the `currentChanged` signal\n        if (currentTitle) {\n            this.tabBar.currentTitle = currentTitle;\n        } else {\n            this.refresh();\n        }\n    }\n\n    /**\n     * Activate a widget residing in the side panel by ID.\n     *\n     * @returns the activated widget if it was found\n     */\n    activate(id: string): Widget | undefined {\n        const widget = this.expand(id);\n        if (widget) {\n            widget.activate();\n        }\n        return widget;\n    }\n\n    /**\n     * Expand a widget residing in the side panel by ID. If no ID is given and the panel is\n     * currently collapsed, the last active tab of this side panel is expanded. If no tab\n     * was expanded previously, the first one is taken.\n     *\n     * @returns the expanded widget if it was found\n     */\n    expand(id?: string): Widget | undefined {\n        if (id) {\n            const widget = find(this.dockPanel.widgets(), w => w.id === id);\n            if (widget) {\n                this.tabBar.currentTitle = widget.title;\n            }\n            return widget;\n        } else if (this.tabBar.currentTitle) {\n            return this.tabBar.currentTitle.owner;\n        } else if (this.tabBar.titles.length > 0) {\n            let index = this.state.lastActiveTabIndex;\n            if (!index) {\n                index = 0;\n            } else if (index >= this.tabBar.titles.length) {\n                index = this.tabBar.titles.length - 1;\n            }\n            const title = this.tabBar.titles[index];\n            this.tabBar.currentTitle = title;\n            return title.owner;\n        } else {\n            // Reveal the tab bar and dock panel even if there is no widget\n            // The next call to `refreshVisibility` will collapse them again\n            this.state.expansion = SidePanel.ExpansionState.expanding;\n            let relativeSizes: number[] | undefined;\n            const parent = this.container.parent;\n            if (parent instanceof SplitPanel) {\n                relativeSizes = parent.relativeSizes();\n            }\n            this.container.removeClass(COLLAPSED_CLASS);\n            this.container.show();\n            this.tabBar.show();\n            this.dockPanel.node.style.minWidth = '0';\n            this.dockPanel.show();\n            if (relativeSizes && parent instanceof SplitPanel) {\n                // Make sure that the expansion animation starts at zero size\n                parent.setRelativeSizes(relativeSizes);\n            }\n            this.setPanelSize(this.options.emptySize).then(() => {\n                if (this.state.expansion === SidePanel.ExpansionState.expanding) {\n                    this.state.expansion = SidePanel.ExpansionState.expanded;\n                }\n            });\n        }\n    }\n\n    /**\n     * Collapse the sidebar so no items are expanded.\n     */\n    collapse(): Promise<void> {\n        if (this.tabBar.currentTitle) {\n            // eslint-disable-next-line no-null/no-null\n            this.tabBar.currentTitle = null;\n        } else {\n            this.refresh();\n        }\n        return animationFrame();\n    }\n\n    /**\n     * Add a widget and its title to the dock panel and side bar.\n     *\n     * If the widget is already added, it will be moved.\n     */\n    addWidget(widget: Widget, options: SidePanel.WidgetOptions): void {\n        if (options.rank) {\n            SidePanelHandler.rankProperty.set(widget, options.rank);\n        }\n        this.dockPanel.addWidget(widget);\n    }\n\n    /**\n     * Add a menu to the sidebar top.\n     *\n     * If the menu is already added, it will be ignored.\n     */\n    addTopMenu(menu: SidebarMenu): void {\n        this.topMenu.addMenu(menu);\n    }\n\n    /**\n     * Remove a menu from the sidebar top.\n     *\n     * @param menuId id of the menu to remove\n     */\n    removeTopMenu(menuId: string): void {\n        this.topMenu.removeMenu(menuId);\n    }\n\n    /**\n     * Add a menu to the sidebar bottom.\n     *\n     * If the menu is already added, it will be ignored.\n     */\n    addBottomMenu(menu: SidebarMenu): void {\n        this.bottomMenu.addMenu(menu);\n    }\n\n    /**\n     * Remove a menu from the sidebar bottom.\n     *\n     * @param menuId id of the menu to remove\n     */\n    removeBottomMenu(menuId: string): void {\n        this.bottomMenu.removeMenu(menuId);\n    }\n\n    // should be a property to preserve fn identity\n    protected updateToolbarTitle = (): void => {\n        const currentTitle = this.tabBar && this.tabBar.currentTitle;\n        this.toolBar.toolbarTitle = currentTitle || undefined;\n    };\n\n    /**\n     * Refresh the visibility of the side bar and dock panel.\n     */\n    refresh(): void {\n        const container = this.container;\n        const parent = container.parent;\n        const tabBar = this.tabBar;\n        const dockPanel = this.dockPanel;\n        const isEmpty = tabBar.titles.length === 0;\n        const currentTitle = tabBar.currentTitle;\n        // eslint-disable-next-line no-null/no-null\n        const hideDockPanel = currentTitle === null;\n        this.updateSashState(this.container, hideDockPanel);\n        let relativeSizes: number[] | undefined;\n\n        if (hideDockPanel) {\n            container.addClass(COLLAPSED_CLASS);\n            if (this.state.expansion === SidePanel.ExpansionState.expanded && !this.state.empty) {\n                // Update the lastPanelSize property\n                const size = this.getPanelSize();\n                if (size) {\n                    this.state.lastPanelSize = size;\n                }\n            }\n            this.state.expansion = SidePanel.ExpansionState.collapsed;\n        } else {\n            container.removeClass(COLLAPSED_CLASS);\n            let size: number | undefined;\n            if (this.state.expansion !== SidePanel.ExpansionState.expanded) {\n                if (this.state.lastPanelSize) {\n                    size = this.state.lastPanelSize;\n                } else {\n                    size = this.getDefaultPanelSize();\n                }\n            }\n            if (size) {\n                // Restore the panel size to the last known size or the default size\n                this.state.expansion = SidePanel.ExpansionState.expanding;\n                if (parent instanceof SplitPanel) {\n                    relativeSizes = parent.relativeSizes();\n                }\n                this.setPanelSize(size).then(() => {\n                    if (this.state.expansion === SidePanel.ExpansionState.expanding) {\n                        this.state.expansion = SidePanel.ExpansionState.expanded;\n                    }\n                });\n            } else {\n                this.state.expansion = SidePanel.ExpansionState.expanded;\n            }\n        }\n        container.setHidden(isEmpty && hideDockPanel);\n        tabBar.setHidden(isEmpty);\n        dockPanel.setHidden(hideDockPanel);\n        this.state.empty = isEmpty;\n        if (currentTitle) {\n            dockPanel.selectWidget(currentTitle.owner);\n        }\n        if (relativeSizes && parent instanceof SplitPanel) {\n            // Make sure that the expansion animation starts at the smallest possible size\n            parent.setRelativeSizes(relativeSizes);\n        }\n    }\n\n    /**\n     * Sets the size of the side panel.\n     *\n     * @param size the desired size (width) of the panel in pixels.\n     */\n    resize(size: number): void {\n        if (this.dockPanel.isHidden) {\n            this.state.lastPanelSize = size;\n        } else {\n            this.setPanelSize(size);\n        }\n    }\n\n    /**\n     * Compute the current width of the panel. This implementation assumes that the parent of\n     * the panel container is a `SplitPanel`.\n     */\n    protected getPanelSize(): number | undefined {\n        const parent = this.container.parent;\n        if (parent instanceof SplitPanel && parent.isVisible) {\n            const index = parent.widgets.indexOf(this.container);\n            if (this.side === 'left') {\n                const handle = parent.handles[index];\n                if (!handle.classList.contains('p-mod-hidden')) {\n                    return handle.offsetLeft;\n                }\n            } else if (this.side === 'right') {\n                const handle = parent.handles[index - 1];\n                if (!handle.classList.contains('p-mod-hidden')) {\n                    const parentWidth = parent.node.clientWidth;\n                    return parentWidth - handle.offsetLeft;\n                }\n            }\n        }\n    }\n\n    /**\n     * Determine the default size to apply when the panel is expanded for the first time.\n     */\n    protected getDefaultPanelSize(): number | undefined {\n        const parent = this.container.parent;\n        if (parent && parent.isVisible) {\n            return parent.node.clientWidth * this.options.initialSizeRatio;\n        }\n    }\n\n    /**\n     * Modify the width of the panel. This implementation assumes that the parent of the panel\n     * container is a `SplitPanel`.\n     */\n    protected setPanelSize(size: number): Promise<void> {\n        const enableAnimation = this.applicationStateService.state === 'ready';\n        const options: SplitPositionOptions = {\n            side: this.side,\n            duration: enableAnimation ? this.options.expandDuration : 0,\n            referenceWidget: this.dockPanel\n        };\n        const promise = this.splitPositionHandler.setSidePanelSize(this.container, size, options);\n        const result = new Promise<void>(resolve => {\n            // Resolve the resulting promise in any case, regardless of whether resizing was successful\n            promise.then(() => resolve(), () => resolve());\n        });\n        this.state.pendingUpdate = this.state.pendingUpdate.then(() => result);\n        return result;\n    }\n\n    protected readonly toDisposeOnCurrentTabChanged = new DisposableCollection();\n\n    /**\n     * Handle a `currentChanged` signal from the sidebar. The side panel is refreshed so it displays\n     * the new selected widget.\n     */\n    protected onCurrentTabChanged(sender: SideTabBar, { currentTitle, currentIndex }: TabBar.ICurrentChangedArgs<Widget>): void {\n        this.toDisposeOnCurrentTabChanged.dispose();\n        if (currentTitle) {\n            this.updateToolbarTitle();\n            currentTitle.changed.connect(this.updateToolbarTitle);\n            this.toDisposeOnCurrentTabChanged.push(Disposable.create(() => currentTitle.changed.disconnect(this.updateToolbarTitle)));\n        }\n        if (currentIndex >= 0) {\n            this.state.lastActiveTabIndex = currentIndex;\n            sender.revealTab(currentIndex);\n        }\n        this.refresh();\n    }\n\n    /**\n     * Handle a `tabDetachRequested` signal from the sidebar. A drag is started so the widget can be\n     * moved to another application shell area.\n     */\n    protected onTabDetachRequested(sender: SideTabBar,\n        { title, tab, clientX, clientY }: TabBar.ITabDetachRequestedArgs<Widget>): void {\n        // Release the tab bar's hold on the mouse\n        sender.releaseMouse();\n\n        // Clone the selected tab and use that as drag image\n        const clonedTab = tab.cloneNode(true) as HTMLElement;\n        clonedTab.style.width = '';\n        clonedTab.style.height = '';\n        const label = clonedTab.getElementsByClassName('p-TabBar-tabLabel')[0] as HTMLElement;\n        label.style.width = '';\n        label.style.height = '';\n\n        // Create and start a drag to move the selected tab to another panel\n        const mimeData = new MimeData();\n        mimeData.setData('application/vnd.phosphor.widget-factory', () => title.owner);\n        const drag = new Drag({\n            mimeData,\n            dragImage: clonedTab,\n            proposedAction: 'move',\n            supportedActions: 'move',\n        });\n\n        tab.classList.add('p-mod-hidden');\n        drag.start(clientX, clientY).then(() => {\n            // The promise is resolved when the drag has ended\n            tab.classList.remove('p-mod-hidden');\n        });\n    }\n\n    protected onTabsOverflowChanged(sender: SideTabBar, event: { titles: Title<Widget>[], startIndex: number }): void {\n        if (event.startIndex >= 0 && event.startIndex <= sender.currentIndex) {\n            sender.revealTab(sender.currentIndex);\n        } else {\n            this.additionalViewsMenu.updateAdditionalViews(sender, event);\n        }\n    }\n\n    /*\n     * Handle the `widgetAdded` signal from the dock panel. The widget's title is inserted into the\n     * tab bar according to the `rankProperty` value that may be attached to the widget.\n     */\n    protected onWidgetAdded(sender: DockPanel, widget: Widget): void {\n        const titles = this.tabBar.titles;\n        if (!find(titles, t => t.owner === widget)) {\n            const rank = SidePanelHandler.rankProperty.get(widget);\n            let index = titles.length;\n            if (rank !== undefined) {\n                for (let i = index - 1; i >= 0; i--) {\n                    const r = SidePanelHandler.rankProperty.get(titles[i].owner);\n                    if (r !== undefined && r > rank) {\n                        index = i;\n                    }\n                }\n            }\n            this.tabBar.insertTab(index, widget.title);\n            this.refresh();\n        }\n    }\n\n    /*\n     * Handle the `widgetRemoved` signal from the dock panel. The widget's title is also removed\n     * from the tab bar.\n     */\n    protected onWidgetRemoved(sender: DockPanel, widget: Widget): void {\n        this.tabBar.removeTab(widget.title);\n        this.refresh();\n    }\n\n    protected updateSashState(sidePanelElement: Panel | null, sidePanelCollapsed: boolean): void {\n        if (sidePanelElement) {\n            // Hide the sash when the left/right side panel is collapsed\n            if (sidePanelElement.id === 'theia-left-content-panel' && sidePanelElement.node.nextElementSibling) {\n                sidePanelElement.node.nextElementSibling.classList.toggle('sash-hidden', sidePanelCollapsed);\n            } else if (sidePanelElement.id === 'theia-right-content-panel' && sidePanelElement.node.previousElementSibling) {\n                sidePanelElement.node.previousElementSibling.classList.toggle('sash-hidden', sidePanelCollapsed);\n            }\n        }\n    }\n\n}\n\nexport namespace SidePanel {\n    /**\n     * Options that control the behavior of side panels.\n     */\n    export interface Options {\n        /**\n         * When a widget is being dragged and the distance of the mouse cursor to the shell border\n         * is below this threshold, the respective side panel is expanded so the widget can be dropped\n         * into that panel. Set this to `-1` to disable expanding the side panel while dragging.\n         */\n        expandThreshold: number;\n        /**\n         * The duration in milliseconds of the animation shown when a side panel is expanded.\n         * Set this to `0` to disable expansion animation.\n         */\n        expandDuration: number;\n        /**\n         * The ratio of the available shell size to use as initial size for the side panel.\n         */\n        initialSizeRatio: number\n        /**\n         * How large the panel should be when it's expanded and empty.\n         */\n        emptySize: number;\n    }\n\n    /**\n     * The options for adding a widget to a side panel.\n     */\n    export interface WidgetOptions {\n        /**\n         * The rank order of the widget among its siblings.\n         */\n        rank?: number;\n    }\n\n    /**\n     * Data to save and load the layout of a side panel.\n     */\n    export interface LayoutData {\n        type: 'sidepanel',\n        items?: WidgetItem[];\n        size?: number;\n    }\n\n    /**\n     * Data structure used to save and restore the side panel layout.\n     */\n    export interface WidgetItem extends WidgetOptions {\n        /** Can be undefined in case the widget could not be restored. */\n        widget?: Widget;\n        expanded?: boolean;\n        pinned?: boolean;\n    }\n\n    export interface State {\n        /**\n         * Indicates whether the panel is empty.\n         */\n        empty: boolean;\n        /**\n         * Indicates whether the panel is expanded, collapsed, or in a transition between the two.\n         */\n        expansion: ExpansionState;\n        /**\n         * A promise that is resolved when the currently pending side panel updates are done.\n         */\n        pendingUpdate: Promise<void>;\n        /**\n         * The index of the last tab that was selected. When the panel is expanded, it tries to restore\n         * the tab selection to the previous state.\n         */\n        lastActiveTabIndex?: number;\n        /**\n         * The width or height of the panel before it was collapsed. When the panel is expanded, it tries\n         * to restore its size to this value.\n         */\n        lastPanelSize?: number;\n    }\n\n    export enum ExpansionState {\n        collapsed = 'collapsed',\n        expanding = 'expanding',\n        expanded = 'expanded',\n        collapsing = 'collapsing'\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Widget, Title } from '@phosphor/widgets';\nimport { TabBarToolbar, TabBarToolbarRegistry, TabBarToolbarFactory } from './tab-bar-toolbar';\nimport { Message } from '@phosphor/messaging';\nimport { BaseWidget } from '../widgets';\nimport { Emitter } from '../../common/event';\nimport { ContextMenuAccess, Anchor } from '../context-menu-renderer';\n\nexport class SidePanelToolbar extends BaseWidget {\n\n    protected titleContainer: HTMLElement | undefined;\n    private _toolbarTitle: Title<Widget> | undefined;\n    protected toolbar: TabBarToolbar | undefined;\n\n    protected readonly onContextMenuEmitter = new Emitter<MouseEvent>();\n    readonly onContextMenu = this.onContextMenuEmitter.event;\n\n    constructor(\n        protected readonly tabBarToolbarRegistry: TabBarToolbarRegistry,\n        protected readonly tabBarToolbarFactory: TabBarToolbarFactory,\n        protected readonly side: 'left' | 'right') {\n        super();\n        this.toDispose.push(this.onContextMenuEmitter);\n        this.init();\n        this.tabBarToolbarRegistry.onDidChange(() => this.update());\n    }\n\n    protected override onBeforeAttach(msg: Message): void {\n        super.onBeforeAttach(msg);\n        if (this.titleContainer) {\n            this.addEventListener(this.titleContainer, 'contextmenu', e => this.onContextMenuEmitter.fire(e));\n        }\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        if (this.toolbar) {\n            if (this.toolbar.isAttached) {\n                Widget.detach(this.toolbar);\n            }\n            Widget.attach(this.toolbar, this.node);\n        }\n        super.onAfterAttach(msg);\n    }\n\n    protected override onBeforeDetach(msg: Message): void {\n        if (this.titleContainer) {\n            this.node.removeChild(this.titleContainer);\n        }\n        if (this.toolbar && this.toolbar.isAttached) {\n            Widget.detach(this.toolbar);\n        }\n        super.onBeforeDetach(msg);\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        super.onUpdateRequest(msg);\n        this.updateToolbar();\n    }\n\n    protected updateToolbar(): void {\n        if (!this.toolbar) {\n            return;\n        }\n        const widget = this._toolbarTitle?.owner ?? undefined;\n        this.toolbar.updateTarget(widget);\n    }\n\n    protected init(): void {\n        this.titleContainer = document.createElement('div');\n        this.titleContainer.classList.add('theia-sidepanel-title');\n        this.titleContainer.classList.add('noWrapInfo');\n        this.titleContainer.classList.add('noselect');\n        this.node.appendChild(this.titleContainer);\n        this.node.classList.add('theia-sidepanel-toolbar');\n        this.node.classList.add(`theia-${this.side}-side-panel`);\n        this.toolbar = this.tabBarToolbarFactory();\n        this.update();\n    }\n\n    set toolbarTitle(title: Title<Widget> | undefined) {\n        if (this.titleContainer && title) {\n            this._toolbarTitle = title;\n            this.titleContainer.innerText = this._toolbarTitle.label;\n            this.titleContainer.title = this._toolbarTitle.caption || this._toolbarTitle.label;\n            this.update();\n        }\n    }\n\n    showMoreContextMenu(anchor: Anchor): ContextMenuAccess {\n        if (this.toolbar) {\n            return this.toolbar.renderMoreContextMenu(anchor);\n        }\n        throw new Error(this.id + ' widget is not attached');\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2020 Alibaba Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from 'inversify';\nimport * as React from 'react';\nimport { ReactWidget } from '../widgets';\nimport { ContextMenuRenderer } from '../context-menu-renderer';\nimport { MenuPath } from '../../common/menu';\nimport { HoverService } from '../hover-service';\n\nexport const SidebarTopMenuWidgetFactory = Symbol('SidebarTopMenuWidgetFactory');\nexport const SidebarBottomMenuWidgetFactory = Symbol('SidebarBottomMenuWidgetFactory');\n\nexport interface SidebarMenu {\n    id: string;\n    iconClass: string;\n    title: string;\n    menuPath: MenuPath;\n    /*\n     * Used to sort menus. The lower the value the lower they are placed in the sidebar.\n     */\n    order: number;\n}\n\n/**\n * The menu widget placed on the sidebar.\n */\n@injectable()\nexport class SidebarMenuWidget extends ReactWidget {\n    protected readonly menus: SidebarMenu[];\n    /**\n     * The element that had focus when a menu rendered by this widget was activated.\n     */\n    protected preservedContext: HTMLElement | undefined;\n    /**\n     * Flag indicating whether a context menu is open. While a context menu is open, the `preservedContext` should not be cleared.\n     */\n    protected preservingContext = false;\n\n    @inject(ContextMenuRenderer)\n    protected readonly contextMenuRenderer: ContextMenuRenderer;\n\n    @inject(HoverService)\n    protected readonly hoverService: HoverService;\n\n    constructor() {\n        super();\n        this.menus = [];\n    }\n\n    addMenu(menu: SidebarMenu): void {\n        const exists = this.menus.find(m => m.id === menu.id);\n        if (exists) {\n            return;\n        }\n        this.menus.push(menu);\n        this.menus.sort((a, b) => a.order - b.order);\n        this.update();\n    }\n\n    removeMenu(menuId: string): void {\n        const menu = this.menus.find(m => m.id === menuId);\n        if (menu) {\n            const index = this.menus.indexOf(menu);\n            if (index !== -1) {\n                this.menus.splice(index, 1);\n                this.update();\n            }\n        }\n    }\n\n    protected readonly onMouseDown = () => {\n        const { activeElement } = document;\n        if (activeElement instanceof HTMLElement && !this.node.contains(activeElement)) {\n            this.preservedContext = activeElement;\n        }\n    };\n\n    protected readonly onMouseOut = () => {\n        if (!this.preservingContext) {\n            this.preservedContext = undefined;\n        }\n    };\n\n    protected readonly onMouseEnter = (event: React.MouseEvent<HTMLElement, MouseEvent>, title: string) => {\n        if (title && event.nativeEvent.currentTarget) {\n            this.hoverService.requestHover({\n                content: title,\n                target: event.currentTarget,\n                position: 'right'\n            });\n        }\n    };\n\n    protected onClick(e: React.MouseEvent<HTMLElement, MouseEvent>, menuPath: MenuPath): void {\n        this.preservingContext = true;\n        const button = e.currentTarget.getBoundingClientRect();\n        this.contextMenuRenderer.render({\n            menuPath,\n            includeAnchorArg: false,\n            anchor: {\n                x: button.left + button.width,\n                y: button.top,\n            },\n            onHide: () => {\n                this.preservingContext = false;\n                if (this.preservedContext) {\n                    this.preservedContext.focus({ preventScroll: true });\n                    this.preservedContext = undefined;\n                }\n            }\n        });\n    }\n\n    protected render(): React.ReactNode {\n        return <React.Fragment>\n            {this.menus.map(menu => <i\n                key={menu.id}\n                className={menu.iconClass}\n                onClick={e => this.onClick(e, menu.menuPath)}\n                onMouseDown={this.onMouseDown}\n                onMouseEnter={e => this.onMouseEnter(e, menu.title)}\n                onMouseLeave={this.onMouseOut}\n            />)}\n        </React.Fragment>;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { SplitPanel, SplitLayout, Widget } from '@phosphor/widgets';\n\nexport interface SplitPositionOptions {\n    /** The side of the side panel that shall be resized. */\n    side?: 'left' | 'right' | 'top' | 'bottom';\n    /** The duration in milliseconds, or 0 for no animation. */\n    duration: number;\n    /** When this widget is hidden, the animation is canceled. */\n    referenceWidget?: Widget;\n}\n\nexport interface MoveEntry extends SplitPositionOptions {\n    parent: SplitPanel;\n    index: number;\n    started: boolean;\n    ended: boolean;\n    targetSize?: number;\n    targetPosition?: number;\n    startPosition?: number;\n    startTime?: number;\n    resolve?: (position: number) => void;\n    reject?: (reason: string) => void;\n}\n\n@injectable()\nexport class SplitPositionHandler {\n\n    private readonly splitMoves: MoveEntry[] = [];\n    private currentMoveIndex: number = 0;\n\n    /**\n     * Set the position of a split handle asynchronously. This function makes sure that such movements\n     * are performed one after another in order to prevent the movements from overriding each other.\n     * When resolved, the returned promise yields the final position of the split handle.\n     */\n    setSplitHandlePosition(parent: SplitPanel, index: number, targetPosition: number, options: SplitPositionOptions): Promise<number> {\n        const move: MoveEntry = {\n            ...options,\n            parent, targetPosition, index,\n            started: false,\n            ended: false\n        };\n        return this.moveSplitPos(move);\n    }\n\n    /**\n     * Resize a side panel asynchronously. This function makes sure that such movements are performed\n     * one after another in order to prevent the movements from overriding each other.\n     * When resolved, the returned promise yields the final position of the split handle.\n     */\n    setSidePanelSize(sidePanel: Widget, targetSize: number, options: SplitPositionOptions): Promise<number> {\n        if (targetSize < 0) {\n            return Promise.reject(new Error('Cannot resize to negative value.'));\n        }\n        const parent = sidePanel.parent;\n        if (!(parent instanceof SplitPanel)) {\n            return Promise.reject(new Error('Widget must be contained in a SplitPanel.'));\n        }\n        let index = parent.widgets.indexOf(sidePanel);\n        if (index > 0 && (options.side === 'right' || options.side === 'bottom')) {\n            index--;\n        }\n        const move: MoveEntry = {\n            ...options,\n            parent, targetSize, index,\n            started: false,\n            ended: false\n        };\n        return this.moveSplitPos(move);\n    }\n\n    protected moveSplitPos(move: MoveEntry): Promise<number> {\n        return new Promise<number>((resolve, reject) => {\n            move.resolve = resolve;\n            move.reject = reject;\n            if (this.splitMoves.length === 0) {\n                window.requestAnimationFrame(this.animationFrame.bind(this));\n            }\n            this.splitMoves.push(move);\n        });\n    }\n\n    protected animationFrame(time: number): void {\n        const move = this.splitMoves[this.currentMoveIndex];\n        let rejectedOrResolved = false;\n        if (move.ended || move.referenceWidget && move.referenceWidget.isHidden) {\n            this.splitMoves.splice(this.currentMoveIndex, 1);\n            if (move.startPosition === undefined || move.targetPosition === undefined) {\n                move.reject!('Panel is not visible.');\n            } else {\n                move.resolve!(move.targetPosition);\n            }\n            rejectedOrResolved = true;\n        } else if (!move.started) {\n            this.startMove(move, time);\n            if (move.duration <= 0 || move.startPosition === undefined || move.targetPosition === undefined\n                || move.startPosition === move.targetPosition) {\n                this.endMove(move);\n            }\n        } else {\n            const elapsedTime = time - move.startTime!;\n            if (elapsedTime >= move.duration) {\n                this.endMove(move);\n            } else {\n                const t = elapsedTime / move.duration;\n                const start = move.startPosition || 0;\n                const target = move.targetPosition || 0;\n                const pos = start + (target - start) * t;\n                (move.parent.layout as SplitLayout).moveHandle(move.index, pos);\n            }\n        }\n        if (!rejectedOrResolved) {\n            this.currentMoveIndex++;\n        }\n        if (this.currentMoveIndex >= this.splitMoves.length) {\n            this.currentMoveIndex = 0;\n        }\n        if (this.splitMoves.length > 0) {\n            window.requestAnimationFrame(this.animationFrame.bind(this));\n        }\n    }\n\n    protected startMove(move: MoveEntry, time: number): void {\n        if (move.targetPosition === undefined && move.targetSize !== undefined) {\n            const { clientWidth, clientHeight } = move.parent.node;\n            if (clientWidth && clientHeight) {\n                switch (move.side) {\n                    case 'left':\n                        move.targetPosition = Math.max(Math.min(move.targetSize, clientWidth), 0);\n                        break;\n                    case 'right':\n                        move.targetPosition = Math.max(Math.min(clientWidth - move.targetSize, clientWidth), 0);\n                        break;\n                    case 'top':\n                        move.targetPosition = Math.max(Math.min(move.targetSize, clientHeight), 0);\n                        break;\n                    case 'bottom':\n                        move.targetPosition = Math.max(Math.min(clientHeight - move.targetSize, clientHeight), 0);\n                        break;\n                }\n            }\n        }\n        if (move.startPosition === undefined) {\n            move.startPosition = this.getCurrentPosition(move);\n        }\n        move.startTime = time;\n        move.started = true;\n    }\n\n    protected endMove(move: MoveEntry): void {\n        if (move.targetPosition !== undefined) {\n            (move.parent.layout as SplitLayout).moveHandle(move.index, move.targetPosition);\n        }\n        move.ended = true;\n    }\n\n    protected getCurrentPosition(move: MoveEntry): number | undefined {\n        const layout = move.parent.layout as SplitLayout;\n        let pos: number | null;\n        if (layout.orientation === 'horizontal') {\n            pos = layout.handles[move.index].offsetLeft;\n        } else {\n            pos = layout.handles[move.index].offsetTop;\n        }\n        // eslint-disable-next-line no-null/no-null\n        if (pos !== null) {\n            return pos;\n        } else {\n            return undefined;\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport debounce = require('lodash.debounce');\nimport { Title, Widget } from '@phosphor/widgets';\nimport { inject, injectable, named } from 'inversify';\nimport { ContributionProvider, Emitter, Event } from '../../common';\nimport { ColorRegistry } from '../color-registry';\nimport { Decoration, DecorationsService, DecorationsServiceImpl } from '../decorations-service';\nimport { FrontendApplicationContribution } from '../frontend-application-contribution';\nimport { Navigatable } from '../navigatable-types';\nimport { WidgetDecoration } from '../widget-decoration';\n\nexport const TabBarDecorator = Symbol('TabBarDecorator');\n\nexport interface TabBarDecorator {\n\n    /**\n     * The unique identifier of the tab bar decorator.\n     */\n    readonly id: string;\n\n    /**\n     * Event that is fired when any of the available tab bar decorators has changes.\n     */\n    readonly onDidChangeDecorations: Event<void>;\n\n    /**\n     * Decorate title.\n     * @param {Title<Widget>} title the title\n     * @returns decoration data.\n     */\n    decorate(title: Title<Widget>): WidgetDecoration.Data[];\n}\n\n@injectable()\nexport class TabBarDecoratorService implements FrontendApplicationContribution {\n\n    protected readonly onDidChangeDecorationsEmitter = new Emitter<void>();\n\n    readonly onDidChangeDecorations = this.onDidChangeDecorationsEmitter.event;\n\n    @inject(ContributionProvider) @named(TabBarDecorator)\n    protected readonly contributions: ContributionProvider<TabBarDecorator>;\n\n    @inject(DecorationsService)\n    protected readonly decorationsService: DecorationsServiceImpl;\n\n    @inject(ColorRegistry)\n    protected readonly colors: ColorRegistry;\n\n    initialize(): void {\n        this.contributions.getContributions().map(decorator => decorator.onDidChangeDecorations(this.fireDidChangeDecorations));\n    }\n\n    fireDidChangeDecorations = debounce(() => this.onDidChangeDecorationsEmitter.fire(undefined), 150);\n\n    /**\n     * Assign tabs the decorators provided by all the contributions.\n     * @param {Title<Widget>} title the title\n     * @returns an array of its decoration data.\n     */\n    getDecorations(title: Title<Widget>): WidgetDecoration.Data[] {\n        const decorators = this.contributions.getContributions();\n        const decorations: WidgetDecoration.Data[] = [];\n        for (const decorator of decorators) {\n            decorations.push(...decorator.decorate(title));\n        }\n        if (Navigatable.is(title.owner)) {\n            const resourceUri = title.owner.getResourceUri();\n            if (resourceUri) {\n                const serviceDecorations = this.decorationsService.getDecoration(resourceUri, false);\n                decorations.push(...serviceDecorations.map(d => this.fromDecoration(d)));\n            }\n        }\n        return decorations;\n    }\n\n    protected fromDecoration(decoration: Decoration): WidgetDecoration.Data {\n        const colorVariable = decoration.colorId && this.colors.toCssVariableName(decoration.colorId);\n        return {\n            tailDecorations: [\n                {\n                    data: decoration.letter ? decoration.letter : '',\n                    fontData: {\n                        color: colorVariable && `var(${colorVariable})`\n                    },\n                    tooltip: decoration.tooltip ? decoration.tooltip : ''\n                }\n            ]\n        };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './tab-bar-toolbar';\nexport * from './tab-bar-toolbar-registry';\nexport * from './tab-bar-toolbar-types';\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MenuNode, MenuPath } from '../../../common';\nimport { NAVIGATION, TabBarToolbarItem } from './tab-bar-toolbar-types';\n\nexport const TOOLBAR_WRAPPER_ID_SUFFIX = '-as-tabbar-toolbar-item';\n\nexport class ToolbarMenuNodeWrapper implements TabBarToolbarItem {\n    constructor(protected readonly menuNode: MenuNode, readonly group?: string, readonly menuPath?: MenuPath) { }\n    get id(): string { return this.menuNode.id + TOOLBAR_WRAPPER_ID_SUFFIX; }\n    get command(): string { return this.menuNode.command ?? ''; };\n    get icon(): string | undefined { return this.menuNode.icon; }\n    get tooltip(): string | undefined { return this.menuNode.label; }\n    get when(): string | undefined { return this.menuNode.when; }\n    get text(): string | undefined { return (this.group === NAVIGATION || this.group === undefined) ? undefined : this.menuNode.label; }\n}\n\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport debounce = require('lodash.debounce');\nimport { inject, injectable, named } from 'inversify';\n// eslint-disable-next-line max-len\nimport { CommandMenuNode, CommandRegistry, CompoundMenuNode, ContributionProvider, Disposable, DisposableCollection, Emitter, Event, MenuModelRegistry, MenuNode, MenuPath } from '../../../common';\nimport { ContextKeyService } from '../../context-key-service';\nimport { FrontendApplicationContribution } from '../../frontend-application-contribution';\nimport { Widget } from '../../widgets';\nimport { AnyToolbarItem, ConditionalToolbarItem, MenuDelegate, MenuToolbarItem, ReactTabBarToolbarItem, TabBarToolbarItem } from './tab-bar-toolbar-types';\nimport { ToolbarMenuNodeWrapper } from './tab-bar-toolbar-menu-adapters';\n\n/**\n * Clients should implement this interface if they want to contribute to the tab-bar toolbar.\n */\nexport const TabBarToolbarContribution = Symbol('TabBarToolbarContribution');\n/**\n * Representation of a tabbar toolbar contribution.\n */\nexport interface TabBarToolbarContribution {\n    /**\n     * Registers toolbar items.\n     * @param registry the tabbar toolbar registry.\n     */\n    registerToolbarItems(registry: TabBarToolbarRegistry): void;\n}\n\nfunction yes(): true { return true; }\nconst menuDelegateSeparator = '=@=';\n\n/**\n * Main, shared registry for tab-bar toolbar items.\n */\n@injectable()\nexport class TabBarToolbarRegistry implements FrontendApplicationContribution {\n\n    protected items = new Map<string, TabBarToolbarItem | ReactTabBarToolbarItem>();\n    protected menuDelegates = new Map<string, MenuDelegate>();\n\n    @inject(CommandRegistry) protected readonly commandRegistry: CommandRegistry;\n    @inject(ContextKeyService) protected readonly contextKeyService: ContextKeyService;\n    @inject(MenuModelRegistry) protected readonly menuRegistry: MenuModelRegistry;\n\n    @inject(ContributionProvider) @named(TabBarToolbarContribution)\n    protected readonly contributionProvider: ContributionProvider<TabBarToolbarContribution>;\n\n    protected readonly onDidChangeEmitter = new Emitter<void>();\n    readonly onDidChange: Event<void> = this.onDidChangeEmitter.event;\n    // debounce in order to avoid to fire more than once in the same tick\n    protected fireOnDidChange = debounce(() => this.onDidChangeEmitter.fire(undefined), 0);\n\n    onStart(): void {\n        const contributions = this.contributionProvider.getContributions();\n        for (const contribution of contributions) {\n            contribution.registerToolbarItems(this);\n        }\n    }\n\n    /**\n     * Registers the given item. Throws an error, if the corresponding command cannot be found or an item has been already registered for the desired command.\n     *\n     * @param item the item to register.\n     */\n    registerItem(item: TabBarToolbarItem | ReactTabBarToolbarItem): Disposable {\n        const { id } = item;\n        if (this.items.has(id)) {\n            throw new Error(`A toolbar item is already registered with the '${id}' ID.`);\n        }\n        this.items.set(id, item);\n        this.fireOnDidChange();\n        const toDispose = new DisposableCollection(\n            Disposable.create(() => this.fireOnDidChange()),\n            Disposable.create(() => this.items.delete(id))\n        );\n        if (item.onDidChange) {\n            toDispose.push(item.onDidChange(() => this.fireOnDidChange()));\n        }\n        return toDispose;\n    }\n\n    /**\n     * Returns an array of tab-bar toolbar items which are visible when the `widget` argument is the current one.\n     *\n     * By default returns with all items where the command is enabled and `item.isVisible` is `true`.\n     */\n    visibleItems(widget: Widget): Array<TabBarToolbarItem | ReactTabBarToolbarItem> {\n        if (widget.isDisposed) {\n            return [];\n        }\n        const result: Array<TabBarToolbarItem | ReactTabBarToolbarItem> = [];\n        for (const item of this.items.values()) {\n            if (this.isItemVisible(item, widget)) {\n                result.push(item);\n            }\n        }\n        for (const delegate of this.menuDelegates.values()) {\n            if (delegate.isVisible(widget)) {\n                const menu = this.menuRegistry.getMenu(delegate.menuPath);\n                const children = CompoundMenuNode.getFlatChildren(menu.children);\n                for (const child of children) {\n                    if (!child.when || this.contextKeyService.match(child.when, widget.node)) {\n                        if (child.children) {\n                            for (const grandchild of child.children) {\n                                if (!grandchild.when || this.contextKeyService.match(grandchild.when, widget.node)) {\n                                    if (CommandMenuNode.is(grandchild)) {\n                                        result.push(new ToolbarMenuNodeWrapper(grandchild, child.id, delegate.menuPath));\n                                    } else if (CompoundMenuNode.is(grandchild)) {\n                                        let menuPath;\n                                        if (menuPath = this.menuRegistry.getPath(grandchild)) {\n                                            result.push(new ToolbarMenuNodeWrapper(grandchild, child.id, menuPath));\n                                        }\n                                    }\n                                }\n                            }\n                        } else if (child.command) {\n                            result.push(new ToolbarMenuNodeWrapper(child, '', delegate.menuPath));\n                        }\n                    }\n                }\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Query whether a toolbar `item` should be shown in the toolbar.\n     * This implementation delegates to item-specific checks according to their type.\n     *\n     * @param item a menu toolbar item\n     * @param widget the widget that is updating the toolbar\n     * @returns `false` if the `item` should be suppressed, otherwise `true`\n     */\n    protected isItemVisible(item: TabBarToolbarItem | ReactTabBarToolbarItem, widget: Widget): boolean {\n        if (TabBarToolbarItem.is(item) && item.command && !this.isTabBarToolbarItemVisible(item, widget)) {\n            return false;\n        }\n        if (MenuToolbarItem.is(item) && !this.isMenuToolbarItemVisible(item, widget)) {\n            return false;\n        }\n        if (AnyToolbarItem.isConditional(item) && !this.isConditionalItemVisible(item, widget)) {\n            return false;\n        }\n        // The item is not vetoed. Accept it\n        return true;\n    }\n\n    /**\n     * Query whether a conditional toolbar `item` should be shown in the toolbar.\n     * This implementation delegates to the `item`'s own intrinsic conditionality.\n     *\n     * @param item a menu toolbar item\n     * @param widget the widget that is updating the toolbar\n     * @returns `false` if the `item` should be suppressed, otherwise `true`\n     */\n    protected isConditionalItemVisible(item: ConditionalToolbarItem, widget: Widget): boolean {\n        if (item.isVisible && !item.isVisible(widget)) {\n            return false;\n        }\n        if (item.when && !this.contextKeyService.match(item.when, widget.node)) {\n            return false;\n        }\n        return true;\n    }\n\n    /**\n     * Query whether a tab-bar toolbar `item` that has a command should be shown in the toolbar.\n     * This implementation returns `false` if the `item`'s command is not visible in the\n     * `widget` according to the command registry.\n     *\n     * @param item a tab-bar toolbar item that has a non-empty `command`\n     * @param widget the widget that is updating the toolbar\n     * @returns `false` if the `item` should be suppressed, otherwise `true`\n     */\n    protected isTabBarToolbarItemVisible(item: TabBarToolbarItem, widget: Widget): boolean {\n        return this.commandRegistry.isVisible(item.command, widget);\n    }\n\n    /**\n     * Query whether a menu toolbar `item` should be shown in the toolbar.\n     * This implementation returns `false` if the `item` does not have any actual menu to show.\n     *\n     * @param item a menu toolbar item\n     * @param widget the widget that is updating the toolbar\n     * @returns `false` if the `item` should be suppressed, otherwise `true`\n     */\n    protected isMenuToolbarItemVisible(item: MenuToolbarItem, widget: Widget): boolean {\n        const menu = this.menuRegistry.getMenu(item.menuPath);\n        const isVisible: (node: MenuNode) => boolean = node =>\n            node.children?.length\n                // Either the node is a sub-menu that has some visible child ...\n                ? node.children?.some(isVisible)\n                // ... or there is a command ...\n                : !!node.command\n                // ... that is visible ...\n                && this.commandRegistry.isVisible(node.command, widget)\n                // ... and a \"when\" clause does not suppress the menu node.\n                && (!node.when || this.contextKeyService.match(node.when, widget?.node));\n\n        return isVisible(menu);\n    }\n\n    unregisterItem(itemOrId: TabBarToolbarItem | ReactTabBarToolbarItem | string): void {\n        const id = typeof itemOrId === 'string' ? itemOrId : itemOrId.id;\n        if (this.items.delete(id)) {\n            this.fireOnDidChange();\n        }\n    }\n\n    registerMenuDelegate(menuPath: MenuPath, when?: string | ((widget: Widget) => boolean)): Disposable {\n        const id = this.toElementId(menuPath);\n        if (!this.menuDelegates.has(id)) {\n            const isVisible: MenuDelegate['isVisible'] = !when\n                ? yes\n                : typeof when === 'function'\n                    ? when\n                    : widget => this.contextKeyService.match(when, widget?.node);\n            this.menuDelegates.set(id, { menuPath, isVisible });\n            this.fireOnDidChange();\n            return { dispose: () => this.unregisterMenuDelegate(menuPath) };\n        }\n        console.warn('Unable to register menu delegate. Delegate has already been registered', menuPath);\n        return Disposable.NULL;\n    }\n\n    unregisterMenuDelegate(menuPath: MenuPath): void {\n        if (this.menuDelegates.delete(this.toElementId(menuPath))) {\n            this.fireOnDidChange();\n        }\n    }\n\n    /**\n     * Generate a single ID string from a menu path that\n     * is likely to be unique amongst the items in the toolbar.\n     *\n     * @param menuPath a menubar path\n     * @returns a likely unique ID based on the path\n     */\n    toElementId(menuPath: MenuPath): string {\n        return menuPath.join(menuDelegateSeparator);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from 'react';\nimport { ArrayUtils, Event, isFunction, isObject, isString, MenuPath } from '../../../common';\nimport { Widget } from '../../widgets';\n\n/** Items whose group is exactly 'navigation' will be rendered inline. */\nexport const NAVIGATION = 'navigation';\nexport const TAB_BAR_TOOLBAR_CONTEXT_MENU = ['TAB_BAR_TOOLBAR_CONTEXT_MENU'];\n\nexport interface TabBarDelegator extends Widget {\n    getTabBarDelegate(): Widget | undefined;\n}\n\nexport namespace TabBarDelegator {\n    export function is(candidate?: Widget): candidate is TabBarDelegator {\n        return isObject<TabBarDelegator>(candidate) && isFunction(candidate.getTabBarDelegate);\n    }\n}\n\ninterface RegisteredToolbarItem {\n    /**\n     * The unique ID of the toolbar item.\n     */\n    id: string;\n}\n\ninterface RenderedToolbarItem {\n    /**\n     * Optional icon for the item.\n     */\n    icon?: string | (() => string);\n\n    /**\n     * Optional text of the item.\n     *\n     * Strings in the format `$(iconIdentifier~animationType) will be treated as icon references.\n     * If the iconIdentifier begins with fa-, Font Awesome icons will be used; otherwise it will be treated as Codicon name.\n     *\n     * You can find Codicon classnames here: https://microsoft.github.io/vscode-codicons/dist/codicon.html\n     * You can find Font Awesome classnames here: http://fontawesome.io/icons/\n     * The type of animation can be either `spin` or `pulse`.\n     */\n    text?: string;\n\n    /**\n     * Optional tooltip for the item.\n     */\n    tooltip?: string;\n}\n\ninterface SelfRenderingToolbarItem {\n    render(widget?: Widget): React.ReactNode;\n}\n\ninterface ExecutableToolbarItem {\n    /**\n     * The command to execute when the item is selected.\n     */\n    command: string;\n}\n\nexport interface MenuToolbarItem {\n    /**\n     * A menu path with which this item is associated.\n     * If accompanied by a command, this data will be passed to the {@link MenuCommandExecutor}.\n     * If no command is present, this menu will be opened.\n     */\n    menuPath: MenuPath;\n}\n\nexport interface ConditionalToolbarItem {\n    /**\n     * https://code.visualstudio.com/docs/getstarted/keybindings#_when-clause-contexts\n     */\n    when?: string;\n    /**\n     * Checked before the item is shown.\n     */\n    isVisible?(widget?: Widget): boolean;\n    /**\n     * When defined, the container tool-bar will be updated if this event is fired.\n     *\n     * Note: currently, each item of the container toolbar will be re-rendered if any of the items have changed.\n     */\n    onDidChange?: Event<void>;\n}\n\ninterface InlineToolbarItemMetadata {\n    /**\n     * Priority among the items. Can be negative. The smaller the number the left-most the item will be placed in the toolbar. It is `0` by default.\n     */\n    priority?: number;\n    group: 'navigation' | undefined;\n}\n\ninterface MenuToolbarItemMetadata {\n    /**\n     * Optional group for the item. Default `navigation`.\n     * `navigation` group will be inlined, while all the others will appear in the `...` dropdown.\n     * A group in format `submenu_group_1/submenu 1/.../submenu_group_n/ submenu n/item_group` means that the item will be located in a submenu(s) of the `...` dropdown.\n     * The submenu's title is named by the submenu section name, e.g. `group/<submenu name>/subgroup`.\n     */\n    group: string;\n    /**\n     * Optional ordering string for placing the item within its group\n     */\n    order?: string;\n}\n\n/**\n * Representation of an item in the tab\n */\nexport interface TabBarToolbarItem extends RegisteredToolbarItem,\n    ExecutableToolbarItem,\n    RenderedToolbarItem,\n    Omit<ConditionalToolbarItem, 'isVisible'>,\n    Pick<InlineToolbarItemMetadata, 'priority'>,\n    Partial<MenuToolbarItem>,\n    Partial<MenuToolbarItemMetadata> { }\n\n/**\n * Tab-bar toolbar item backed by a `React.ReactNode`.\n * Unlike the `TabBarToolbarItem`, this item is not connected to the command service.\n */\nexport interface ReactTabBarToolbarItem extends RegisteredToolbarItem,\n    SelfRenderingToolbarItem,\n    ConditionalToolbarItem,\n    Pick<InlineToolbarItemMetadata, 'priority'>,\n    Pick<Partial<MenuToolbarItemMetadata>, 'group'> { }\n\nexport interface AnyToolbarItem extends RegisteredToolbarItem,\n    Partial<ExecutableToolbarItem>,\n    Partial<RenderedToolbarItem>,\n    Partial<SelfRenderingToolbarItem>,\n    Partial<ConditionalToolbarItem>,\n    Partial<MenuToolbarItem>,\n    Pick<InlineToolbarItemMetadata, 'priority'>,\n    Partial<MenuToolbarItemMetadata> { }\n\nexport interface MenuDelegate extends MenuToolbarItem, Required<Pick<ConditionalToolbarItem, 'isVisible'>> { }\n\nexport namespace TabBarToolbarItem {\n\n    /**\n     * Compares the items by `priority` in ascending. Undefined priorities will be treated as `0`.\n     */\n    export const PRIORITY_COMPARATOR = (left: TabBarToolbarItem, right: TabBarToolbarItem) => {\n        const leftGroup = left.group ?? NAVIGATION;\n        const rightGroup = right.group ?? NAVIGATION;\n        if (leftGroup === NAVIGATION && rightGroup !== NAVIGATION) { return ArrayUtils.Sort.LeftBeforeRight; }\n        if (rightGroup === NAVIGATION && leftGroup !== NAVIGATION) { return ArrayUtils.Sort.RightBeforeLeft; }\n        if (leftGroup !== rightGroup) { return leftGroup.localeCompare(rightGroup); }\n        return (left.priority || 0) - (right.priority || 0);\n    };\n\n    export function is(arg: unknown): arg is TabBarToolbarItem {\n        return isObject<TabBarToolbarItem>(arg) && isString(arg.command);\n    }\n\n}\n\nexport namespace MenuToolbarItem {\n    /**\n     * Type guard for a toolbar item that actually is a menu item, amongst\n     * the other kinds of item that it may also be.\n     *\n     * @param item a toolbar item\n     * @returns whether the `item` is a menu item\n     */\n    export function is<T extends AnyToolbarItem>(item: T): item is T & MenuToolbarItem {\n        return Array.isArray(item.menuPath);\n    }\n\n    export function getMenuPath(item: AnyToolbarItem): MenuPath | undefined {\n        return Array.isArray(item.menuPath) ? item.menuPath : undefined;\n    }\n}\n\nexport namespace AnyToolbarItem {\n    /**\n     * Type guard for a toolbar item that actually manifests any of the\n     * features of a conditional toolbar item.\n     *\n     * @param item a toolbar item\n     * @returns whether the `item` is a conditional item\n     */\n    export function isConditional<T extends AnyToolbarItem>(item: T): item is T & ConditionalToolbarItem {\n        return 'isVisible' in item && typeof item.isVisible === 'function'\n            || 'onDidChange' in item && typeof item.onDidChange === 'function'\n            || 'when' in item && typeof item.when === 'string';\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from 'inversify';\nimport * as React from 'react';\nimport { ContextKeyService } from '../../context-key-service';\nimport { CommandRegistry, Disposable, DisposableCollection, MenuCommandExecutor, MenuModelRegistry, MenuPath, nls } from '../../../common';\nimport { Anchor, ContextMenuAccess, ContextMenuRenderer } from '../../context-menu-renderer';\nimport { LabelIcon, LabelParser } from '../../label-parser';\nimport { ACTION_ITEM, codicon, ReactWidget, Widget } from '../../widgets';\nimport { TabBarToolbarRegistry } from './tab-bar-toolbar-registry';\nimport { AnyToolbarItem, ReactTabBarToolbarItem, TabBarDelegator, TabBarToolbarItem, TAB_BAR_TOOLBAR_CONTEXT_MENU, MenuToolbarItem } from './tab-bar-toolbar-types';\nimport { KeybindingRegistry } from '../..//keybinding';\n\n/**\n * Factory for instantiating tab-bar toolbars.\n */\nexport const TabBarToolbarFactory = Symbol('TabBarToolbarFactory');\nexport interface TabBarToolbarFactory {\n    (): TabBarToolbar;\n}\n\n/**\n * Class name indicating rendering of a toolbar item without an icon but instead with a text label.\n */\nconst NO_ICON_CLASS = 'no-icon';\n\n/**\n * Tab-bar toolbar widget representing the active [tab-bar toolbar items](TabBarToolbarItem).\n */\n@injectable()\nexport class TabBarToolbar extends ReactWidget {\n\n    protected current: Widget | undefined;\n    protected inline = new Map<string, TabBarToolbarItem | ReactTabBarToolbarItem>();\n    protected more = new Map<string, TabBarToolbarItem>();\n\n    protected contextKeyListener: Disposable | undefined;\n    protected toDisposeOnUpdateItems: DisposableCollection = new DisposableCollection();\n\n    protected keybindingContextKeys = new Set<string>();\n\n    @inject(CommandRegistry) protected readonly commands: CommandRegistry;\n    @inject(LabelParser) protected readonly labelParser: LabelParser;\n    @inject(MenuModelRegistry) protected readonly menus: MenuModelRegistry;\n    @inject(MenuCommandExecutor) protected readonly menuCommandExecutor: MenuCommandExecutor;\n    @inject(ContextMenuRenderer) protected readonly contextMenuRenderer: ContextMenuRenderer;\n    @inject(TabBarToolbarRegistry) protected readonly toolbarRegistry: TabBarToolbarRegistry;\n    @inject(ContextKeyService) protected readonly contextKeyService: ContextKeyService;\n    @inject(KeybindingRegistry) protected readonly keybindings: KeybindingRegistry;\n\n    constructor() {\n        super();\n        this.addClass(TabBarToolbar.Styles.TAB_BAR_TOOLBAR);\n        this.hide();\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.push(this.keybindings.onKeybindingsChanged(() => this.maybeUpdate()));\n\n        this.toDispose.push(this.contextKeyService.onDidChange(e => {\n            if (e.affects(this.keybindingContextKeys)) {\n                this.maybeUpdate();\n            }\n        }));\n    }\n\n    updateItems(items: Array<TabBarToolbarItem | ReactTabBarToolbarItem>, current: Widget | undefined): void {\n        this.toDisposeOnUpdateItems.dispose();\n        this.toDisposeOnUpdateItems = new DisposableCollection();\n        this.inline.clear();\n        this.more.clear();\n\n        const contextKeys = new Set<string>();\n        for (const item of items.sort(TabBarToolbarItem.PRIORITY_COMPARATOR).reverse()) {\n            if ('command' in item) {\n                this.commands.getAllHandlers(item.command).forEach(handler => {\n                    if (handler.onDidChangeEnabled) {\n                        this.toDisposeOnUpdateItems.push(handler.onDidChangeEnabled(() => this.maybeUpdate()));\n                    }\n                });\n            }\n            if ('render' in item || item.group === undefined || item.group === 'navigation') {\n                this.inline.set(item.id, item);\n            } else {\n                this.more.set(item.id, item);\n            }\n\n            if (item.when) {\n                this.contextKeyService.parseKeys(item.when)?.forEach(key => contextKeys.add(key));\n            }\n        }\n\n        this.updateContextKeyListener(contextKeys);\n\n        this.setCurrent(current);\n        if (items.length) {\n            this.show();\n        } else {\n            this.hide();\n        }\n        this.maybeUpdate();\n    }\n\n    updateTarget(current?: Widget): void {\n        const operativeWidget = TabBarDelegator.is(current) ? current.getTabBarDelegate() : current;\n        const items = operativeWidget ? this.toolbarRegistry.visibleItems(operativeWidget) : [];\n        this.updateItems(items, operativeWidget);\n    }\n\n    protected readonly toDisposeOnSetCurrent = new DisposableCollection();\n    protected setCurrent(current: Widget | undefined): void {\n        this.toDisposeOnSetCurrent.dispose();\n        this.toDispose.push(this.toDisposeOnSetCurrent);\n        this.current = current;\n        if (current) {\n            const resetCurrent = () => {\n                this.setCurrent(undefined);\n                this.maybeUpdate();\n            };\n            current.disposed.connect(resetCurrent);\n            this.toDisposeOnSetCurrent.push(Disposable.create(() =>\n                current.disposed.disconnect(resetCurrent)\n            ));\n        }\n    }\n\n    protected updateContextKeyListener(contextKeys: Set<string>): void {\n        this.contextKeyListener?.dispose();\n        if (contextKeys.size > 0) {\n            this.contextKeyListener = this.contextKeyService.onDidChange(event => {\n                if (event.affects(contextKeys)) {\n                    this.maybeUpdate();\n                }\n            });\n        }\n    }\n\n    protected render(): React.ReactNode {\n        this.keybindingContextKeys.clear();\n        return <React.Fragment>\n            {this.renderMore()}\n            {[...this.inline.values()].map(item => TabBarToolbarItem.is(item)\n                ? (MenuToolbarItem.is(item) && !item.command ? this.renderMenuItem(item) : this.renderItem(item))\n                : item.render(this.current))}\n        </React.Fragment>;\n    }\n\n    protected resolveKeybindingForCommand(command: string | undefined): string {\n        let result = '';\n        if (command) {\n            const bindings = this.keybindings.getKeybindingsForCommand(command);\n            let found = false;\n            if (bindings && bindings.length > 0) {\n                bindings.forEach(binding => {\n                    if (binding.when) {\n                        this.contextKeyService.parseKeys(binding.when)?.forEach(key => this.keybindingContextKeys.add(key));\n                    }\n                    if (!found && this.keybindings.isEnabledInScope(binding, this.current?.node)) {\n                        found = true;\n                        result = ` (${this.keybindings.acceleratorFor(binding, '+')})`;\n                    }\n                });\n            }\n        }\n        return result;\n    }\n\n    protected renderItem(item: AnyToolbarItem): React.ReactNode {\n        let innerText = '';\n        const classNames = [];\n        const command = item.command ? this.commands.getCommand(item.command) : undefined;\n        // Fall back to the item ID in extremis so there is _something_ to render in the\n        // case that there is neither an icon nor a title\n        const itemText = item.text || command?.label || command?.id || item.id;\n        if (itemText) {\n            for (const labelPart of this.labelParser.parse(itemText)) {\n                if (LabelIcon.is(labelPart)) {\n                    const className = `fa fa-${labelPart.name}${labelPart.animation ? ' fa-' + labelPart.animation : ''}`;\n                    classNames.push(...className.split(' '));\n                } else {\n                    innerText = labelPart;\n                }\n            }\n        }\n        const iconClass = (typeof item.icon === 'function' && item.icon()) || item.icon as string || (command && command.iconClass);\n        if (iconClass) {\n            classNames.push(iconClass);\n        }\n        const tooltipText = item.tooltip || (command && command.label) || '';\n        const tooltip = `${this.labelParser.stripIcons(tooltipText)}${this.resolveKeybindingForCommand(command?.id)}`;\n\n        // Only present text if there is no icon\n        if (classNames.length) {\n            innerText = '';\n        } else if (innerText) {\n            // Make room for the label text\n            classNames.push(NO_ICON_CLASS);\n        }\n\n        // In any case, this is an action item, with or without icon.\n        classNames.push(ACTION_ITEM);\n\n        const toolbarItemClassNames = this.getToolbarItemClassNames(item);\n        return <div key={item.id}\n            className={toolbarItemClassNames.join(' ')}\n            onMouseDown={this.onMouseDownEvent}\n            onMouseUp={this.onMouseUpEvent}\n            onMouseOut={this.onMouseUpEvent} >\n            <div id={item.id} className={classNames.join(' ')}\n                onClick={this.executeCommand}\n                title={tooltip}>{innerText}\n            </div>\n        </div>;\n    }\n\n    protected isEnabled(item: AnyToolbarItem): boolean {\n        if (!!item.command) {\n            return this.commandIsEnabled(item.command) && this.evaluateWhenClause(item.when);\n        } else {\n            return !!item.menuPath;\n        }\n    }\n\n    protected getToolbarItemClassNames(item: AnyToolbarItem): string[] {\n        const classNames = [TabBarToolbar.Styles.TAB_BAR_TOOLBAR_ITEM];\n        if (item.command) {\n            if (this.isEnabled(item)) {\n                classNames.push('enabled');\n            }\n            if (this.commandIsToggled(item.command)) {\n                classNames.push('toggled');\n            }\n        } else {\n            if (this.isEnabled(item)) {\n                classNames.push('enabled');\n            }\n        }\n        return classNames;\n    }\n\n    protected renderMore(): React.ReactNode {\n        return !!this.more.size && <div key='__more__' className={TabBarToolbar.Styles.TAB_BAR_TOOLBAR_ITEM + ' enabled'}>\n            <div id='__more__' className={codicon('ellipsis', true)} onClick={this.showMoreContextMenu}\n                title={nls.localizeByDefault('More Actions...')} />\n        </div>;\n    }\n\n    protected showMoreContextMenu = (event: React.MouseEvent) => {\n        event.stopPropagation();\n        event.preventDefault();\n        const anchor = this.toAnchor(event);\n        this.renderMoreContextMenu(anchor);\n    };\n\n    protected toAnchor(event: React.MouseEvent): Anchor {\n        const itemBox = event.currentTarget.closest('.' + TabBarToolbar.Styles.TAB_BAR_TOOLBAR_ITEM)?.getBoundingClientRect();\n        return itemBox ? { y: itemBox.bottom, x: itemBox.left } : event.nativeEvent;\n    }\n\n    renderMoreContextMenu(anchor: Anchor, subpath?: MenuPath): ContextMenuAccess {\n        const toDisposeOnHide = new DisposableCollection();\n        this.addClass('menu-open');\n        toDisposeOnHide.push(Disposable.create(() => this.removeClass('menu-open')));\n        if (subpath) {\n            toDisposeOnHide.push(this.menus.linkSubmenu(TAB_BAR_TOOLBAR_CONTEXT_MENU, subpath));\n        } else {\n            for (const item of this.more.values() as IterableIterator<AnyToolbarItem>) {\n                if (item.menuPath && !item.command) {\n                    toDisposeOnHide.push(this.menus.linkSubmenu(TAB_BAR_TOOLBAR_CONTEXT_MENU, item.menuPath, undefined, item.group));\n                } else if (item.command) {\n                    // Register a submenu for the item, if the group is in format `<submenu group>/<submenu name>/.../<item group>`\n                    if (item.group?.includes('/')) {\n                        const split = item.group.split('/');\n                        const paths: string[] = [];\n                        for (let i = 0; i < split.length - 1; i += 2) {\n                            paths.push(split[i], split[i + 1]);\n                            toDisposeOnHide.push(this.menus.registerSubmenu([...TAB_BAR_TOOLBAR_CONTEXT_MENU, ...paths], split[i + 1], { order: item.order }));\n                        }\n                    }\n                    toDisposeOnHide.push(this.menus.registerMenuAction([...TAB_BAR_TOOLBAR_CONTEXT_MENU, ...item.group!.split('/')], {\n                        label: item.tooltip,\n                        commandId: item.command,\n                        when: item.when,\n                        order: item.order,\n                    }));\n                }\n            }\n        }\n        return this.contextMenuRenderer.render({\n            menuPath: TAB_BAR_TOOLBAR_CONTEXT_MENU,\n            args: [this.current],\n            anchor,\n            context: this.current?.node,\n            onHide: () => toDisposeOnHide.dispose(),\n            skipSingleRootNode: true,\n        });\n    }\n\n    /**\n     * Renders a toolbar item that is a menu, presenting it as a button with a little\n     * chevron decoration that pops up a floating menu when clicked.\n     *\n     * @param item a toolbar item that is a menu item\n     * @returns the rendered toolbar item\n     */\n    protected renderMenuItem(item: TabBarToolbarItem & MenuToolbarItem): React.ReactNode {\n        const icon = typeof item.icon === 'function' ? item.icon() : item.icon ?? 'ellipsis';\n        return <div key={item.id}\n            className={TabBarToolbar.Styles.TAB_BAR_TOOLBAR_ITEM + ' enabled menu'}\n            onClick={this.showPopupMenu.bind(this, item.menuPath)}>\n            <div id={item.id} className={codicon(icon, true)}\n                title={item.text} />\n            <div className={codicon('chevron-down') + ' chevron'} />\n        </div >;\n    }\n\n    /**\n     * Presents the menu to popup on the `event` that is the clicking of\n     * a menu toolbar item.\n     *\n     * @param menuPath the path of the registered menu to show\n     * @param event the mouse event triggering the menu\n     */\n    protected showPopupMenu = (menuPath: MenuPath, event: React.MouseEvent) => {\n        event.stopPropagation();\n        event.preventDefault();\n        const anchor = this.toAnchor(event);\n        this.renderPopupMenu(menuPath, anchor);\n    };\n\n    /**\n     * Renders the menu popped up on a menu toolbar item.\n     *\n     * @param menuPath the path of the registered menu to render\n     * @param anchor a description of where to render the menu\n     * @returns platform-specific access to the rendered context menu\n     */\n    protected renderPopupMenu(menuPath: MenuPath, anchor: Anchor): ContextMenuAccess {\n        const toDisposeOnHide = new DisposableCollection();\n        this.addClass('menu-open');\n        toDisposeOnHide.push(Disposable.create(() => this.removeClass('menu-open')));\n\n        return this.contextMenuRenderer.render({\n            menuPath,\n            args: [this.current],\n            anchor,\n            context: this.current?.node,\n            onHide: () => toDisposeOnHide.dispose()\n        });\n    }\n\n    shouldHandleMouseEvent(event: MouseEvent): boolean {\n        return event.target instanceof Element && this.node.contains(event.target);\n    }\n\n    protected commandIsEnabled(command: string): boolean {\n        return this.commands.isEnabled(command, this.current);\n    }\n\n    protected commandIsToggled(command: string): boolean {\n        return this.commands.isToggled(command, this.current);\n    }\n\n    protected evaluateWhenClause(whenClause: string | undefined): boolean {\n        return whenClause ? this.contextKeyService.match(whenClause, this.current?.node) : true;\n    }\n\n    protected executeCommand = (e: React.MouseEvent<HTMLElement>) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const item: AnyToolbarItem | undefined = this.inline.get(e.currentTarget.id);\n\n        if (!item || !this.isEnabled(item)) {\n            return;\n        }\n\n        if (item.command && item.menuPath) {\n            this.menuCommandExecutor.executeCommand(item.menuPath, item.command, this.current);\n        } else if (item.command) {\n            this.commands.executeCommand(item.command, this.current);\n        } else if (item.menuPath) {\n            this.renderMoreContextMenu(this.toAnchor(e), item.menuPath);\n        }\n        this.maybeUpdate();\n    };\n\n    protected maybeUpdate(): void {\n        if (!this.isDisposed) {\n            this.update();\n        }\n    }\n\n    protected onMouseDownEvent = (e: React.MouseEvent<HTMLElement>) => {\n        if (e.button === 0) {\n            e.currentTarget.classList.add('active');\n        }\n    };\n\n    protected onMouseUpEvent = (e: React.MouseEvent<HTMLElement>) => {\n        e.currentTarget.classList.remove('active');\n    };\n}\n\nexport namespace TabBarToolbar {\n\n    export namespace Styles {\n\n        export const TAB_BAR_TOOLBAR = 'p-TabBar-toolbar';\n        export const TAB_BAR_TOOLBAR_ITEM = 'item';\n\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport PerfectScrollbar from 'perfect-scrollbar';\nimport { TabBar, Title, Widget } from '@phosphor/widgets';\nimport { VirtualElement, h, VirtualDOM, ElementInlineStyle } from '@phosphor/virtualdom';\nimport { Disposable, DisposableCollection, MenuPath, notEmpty, SelectionService, CommandService, nls, ArrayUtils } from '../../common';\nimport { ContextMenuRenderer } from '../context-menu-renderer';\nimport { Signal, Slot } from '@phosphor/signaling';\nimport { Message, MessageLoop } from '@phosphor/messaging';\nimport { ArrayExt } from '@phosphor/algorithm';\nimport { ElementExt } from '@phosphor/domutils';\nimport { TabBarToolbarRegistry, TabBarToolbar } from './tab-bar-toolbar';\nimport { TheiaDockPanel, MAIN_AREA_ID, BOTTOM_AREA_ID } from './theia-dock-panel';\nimport { WidgetDecoration } from '../widget-decoration';\nimport { TabBarDecoratorService } from './tab-bar-decorator';\nimport { IconThemeService } from '../icon-theme-service';\nimport { BreadcrumbsRenderer, BreadcrumbsRendererFactory } from '../breadcrumbs/breadcrumbs-renderer';\nimport { NavigatableWidget } from '../navigatable-types';\nimport { IDragEvent } from '@phosphor/dragdrop';\nimport { LOCKED_CLASS, PINNED_CLASS } from '../widgets/widget';\nimport { CorePreferences } from '../core-preferences';\nimport { HoverService } from '../hover-service';\nimport { Root, createRoot } from 'react-dom/client';\nimport { SelectComponent } from '../widgets/select-component';\nimport { createElement } from 'react';\nimport { PreviewableWidget } from '../widgets/previewable-widget';\nimport { EnhancedPreviewWidget } from '../widgets/enhanced-preview-widget';\nimport { ContextKeyService } from '../context-key-service';\n\n/** The class name added to hidden content nodes, which are required to render vertical side bars. */\nconst HIDDEN_CONTENT_CLASS = 'theia-TabBar-hidden-content';\n\n/** Menu path for tab bars used throughout the application shell. */\nexport const SHELL_TABBAR_CONTEXT_MENU: MenuPath = ['shell-tabbar-context-menu'];\nexport const SHELL_TABBAR_CONTEXT_CLOSE: MenuPath = [...SHELL_TABBAR_CONTEXT_MENU, '0_close'];\nexport const SHELL_TABBAR_CONTEXT_COPY: MenuPath = [...SHELL_TABBAR_CONTEXT_MENU, '1_copy'];\n// Kept here in anticipation of tab pinning behavior implemented in tab-bars.ts\nexport const SHELL_TABBAR_CONTEXT_PIN: MenuPath = [...SHELL_TABBAR_CONTEXT_MENU, '4_pin'];\nexport const SHELL_TABBAR_CONTEXT_SPLIT: MenuPath = [...SHELL_TABBAR_CONTEXT_MENU, '5_split'];\n\nexport const TabBarRendererFactory = Symbol('TabBarRendererFactory');\nexport type TabBarRendererFactory = () => TabBarRenderer;\n\n/**\n * Size information of DOM elements used for rendering tabs in side bars.\n */\nexport interface SizeData {\n    width: number;\n    height: number;\n}\n\n/**\n * Extension of the rendering data used for tabs in side bars of the application shell.\n */\nexport interface SideBarRenderData extends TabBar.IRenderData<Widget> {\n    labelSize?: SizeData;\n    iconSize?: SizeData;\n    paddingTop?: number;\n    paddingBottom?: number;\n    visible?: boolean\n}\n\nexport interface ScrollableRenderData extends TabBar.IRenderData<Widget> {\n    tabWidth?: number;\n}\n\n/**\n * A tab bar renderer that offers a context menu. In addition, this renderer is able to\n * set an explicit position and size on the icon and label of each tab in a side bar.\n * This is necessary because the elements of side bar tabs are rotated using the CSS\n * `transform` property, disrupting the browser's ability to arrange those elements\n * automatically.\n */\nexport class TabBarRenderer extends TabBar.Renderer {\n    /**\n     * The menu path used to render the context menu.\n     */\n    contextMenuPath?: MenuPath;\n\n    protected readonly toDispose = new DisposableCollection();\n\n    // TODO refactor shell, rendered should only receive props with event handlers\n    // events should be handled by clients, like ApplicationShell\n    // right now it is mess: (1) client logic belong to renderer, (2) cyclic dependencies between renderers and clients\n    constructor(\n        protected readonly contextMenuRenderer?: ContextMenuRenderer,\n        protected readonly decoratorService?: TabBarDecoratorService,\n        protected readonly iconThemeService?: IconThemeService,\n        protected readonly selectionService?: SelectionService,\n        protected readonly commandService?: CommandService,\n        protected readonly corePreferences?: CorePreferences,\n        protected readonly hoverService?: HoverService,\n        protected readonly contextKeyService?: ContextKeyService,\n    ) {\n        super();\n        if (this.decoratorService) {\n            this.toDispose.push(Disposable.create(() => this.resetDecorations()));\n            this.toDispose.push(this.decoratorService.onDidChangeDecorations(() => this.resetDecorations()));\n        }\n        if (this.iconThemeService) {\n            this.toDispose.push(this.iconThemeService.onDidChangeCurrent(() => {\n                if (this._tabBar) {\n                    this._tabBar.update();\n                }\n            }));\n        }\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    protected _tabBar?: TabBar<Widget>;\n    protected readonly toDisposeOnTabBar = new DisposableCollection();\n    /**\n     * A reference to the tab bar is required in order to activate it when a context menu\n     * is requested.\n     */\n    set tabBar(tabBar: TabBar<Widget> | undefined) {\n        if (this.toDispose.disposed) {\n            throw new Error('disposed');\n        }\n        if (this._tabBar === tabBar) {\n            return;\n        }\n        this.toDisposeOnTabBar.dispose();\n        this.toDispose.push(this.toDisposeOnTabBar);\n        this._tabBar = tabBar;\n        if (tabBar) {\n            const listener: Slot<Widget, TabBar.ITabCloseRequestedArgs<Widget>> = (_, { title }) => this.resetDecorations(title);\n            tabBar.tabCloseRequested.connect(listener);\n            this.toDisposeOnTabBar.push(Disposable.create(() => tabBar.tabCloseRequested.disconnect(listener)));\n        }\n        this.resetDecorations();\n    }\n    get tabBar(): TabBar<Widget> | undefined {\n        return this._tabBar;\n    }\n\n    /**\n     * Render tabs with the default DOM structure, but additionally register a context menu listener.\n     * @param {SideBarRenderData} data Data used to render the tab.\n     * @param {boolean} isInSidePanel An optional check which determines if the tab is in the side-panel.\n     * @param {boolean} isPartOfHiddenTabBar An optional check which determines if the tab is in the hidden horizontal tab bar.\n     * @returns {VirtualElement} The virtual element of the rendered tab.\n     */\n    override renderTab(data: SideBarRenderData, isInSidePanel?: boolean, isPartOfHiddenTabBar?: boolean): VirtualElement {\n        const title = data.title;\n        const id = this.createTabId(title, isPartOfHiddenTabBar);\n        const key = this.createTabKey(data);\n        const style = this.createTabStyle(data);\n        const className = this.createTabClass(data);\n        const dataset = this.createTabDataset(data);\n        const closeIconTitle = data.title.className.includes(PINNED_CLASS)\n            ? nls.localizeByDefault('Unpin')\n            : nls.localizeByDefault('Close');\n\n        const hover = this.tabBar && (this.tabBar.orientation === 'horizontal' && this.corePreferences?.['window.tabbar.enhancedPreview'] === 'classic')\n            ? { title: title.caption }\n            : {\n                onmouseenter: this.handleMouseEnterEvent\n            };\n\n        return h.li(\n            {\n                ...hover,\n                key, className, id, style, dataset,\n                oncontextmenu: this.handleContextMenuEvent,\n                ondblclick: this.handleDblClickEvent,\n                onauxclick: (e: MouseEvent) => {\n                    // If user closes the tab using mouse wheel, nothing should be pasted to an active editor\n                    e.preventDefault();\n                }\n            },\n            h.div(\n                { className: 'theia-tab-icon-label' },\n                this.renderIcon(data, isInSidePanel),\n                this.renderLabel(data, isInSidePanel),\n                this.renderTailDecorations(data, isInSidePanel),\n                this.renderBadge(data, isInSidePanel),\n                this.renderLock(data, isInSidePanel)\n            ),\n            h.div({\n                className: 'p-TabBar-tabCloseIcon action-label',\n                title: closeIconTitle,\n                onclick: this.handleCloseClickEvent\n            })\n        );\n    }\n\n    override createTabClass(data: SideBarRenderData): string {\n        let tabClass = super.createTabClass(data);\n        if (!(data.visible ?? true)) {\n            tabClass += ' p-mod-invisible';\n        }\n        return tabClass;\n    }\n\n    /**\n     * Generate ID for an entry in the tab bar\n     * @param {Title<Widget>} title Title of the widget controlled by this tab bar\n     * @param {boolean} isPartOfHiddenTabBar Tells us if this entry is part of the hidden horizontal tab bar.\n     *      If yes, add a suffix to differentiate it's ID from the entry in the visible tab bar\n     * @returns {string} DOM element ID\n     */\n    createTabId(title: Title<Widget>, isPartOfHiddenTabBar = false): string {\n        return 'shell-tab-' + title.owner.id + (isPartOfHiddenTabBar ? '-hidden' : '');\n    }\n\n    /**\n     * If size information is available for the label and icon, set an explicit height on the tab.\n     * The height value also considers padding, which should be derived from CSS settings.\n     */\n    override createTabStyle(data: SideBarRenderData & ScrollableRenderData): ElementInlineStyle {\n        const zIndex = `${data.zIndex}`;\n        const labelSize = data.labelSize;\n        const iconSize = data.iconSize;\n        let height: string | undefined;\n        let width: string | undefined;\n        if (labelSize || iconSize) {\n            const labelHeight = labelSize ? (this.tabBar && this.tabBar.orientation === 'horizontal' ? labelSize.height : labelSize.width) : 0;\n            const iconHeight = iconSize ? iconSize.height : 0;\n            let paddingTop = data.paddingTop || 0;\n            if (labelHeight > 0 && iconHeight > 0) {\n                // Leave some extra space between icon and label\n                paddingTop = paddingTop * 1.5;\n            }\n            const paddingBottom = data.paddingBottom || 0;\n            height = `${labelHeight + iconHeight + paddingTop + paddingBottom}px`;\n        }\n        if (data.tabWidth) {\n            width = `${data.tabWidth}px`;\n        } else {\n            width = '';\n        }\n        return { zIndex, height, minWidth: width, maxWidth: width };\n    }\n\n    /**\n     * If size information is available for the label, set it as inline style.\n     * Tab padding and icon size are also considered in the `top` position.\n     * @param {SideBarRenderData} data Data used to render the tab.\n     * @param {boolean} isInSidePanel An optional check which determines if the tab is in the side-panel.\n     * @returns {VirtualElement} The virtual element of the rendered label.\n     */\n    override renderLabel(data: SideBarRenderData, isInSidePanel?: boolean): VirtualElement {\n        const labelSize = data.labelSize;\n        const iconSize = data.iconSize;\n        let width: string | undefined;\n        let height: string | undefined;\n        let top: string | undefined;\n        if (labelSize) {\n            width = `${labelSize.width}px`;\n            height = `${labelSize.height}px`;\n        }\n        if (data.paddingTop || iconSize) {\n            const iconHeight = iconSize ? iconSize.height : 0;\n            let paddingTop = data.paddingTop || 0;\n            if (iconHeight > 0) {\n                // Leave some extra space between icon and label\n                paddingTop = paddingTop * 1.5;\n            }\n            top = `${paddingTop + iconHeight}px`;\n        }\n        const style: ElementInlineStyle = { width, height, top };\n        // No need to check for duplicate labels if the tab is rendered in the side panel (title is not displayed),\n        // or if there are less than two files in the tab bar.\n        if (isInSidePanel || (this.tabBar && this.tabBar.titles.length < 2)) {\n            return h.div({ className: 'p-TabBar-tabLabel', style }, data.title.label);\n        }\n        const originalToDisplayedMap = this.findDuplicateLabels([...this.tabBar!.titles]);\n        const labelDetails: string | undefined = originalToDisplayedMap.get(data.title.caption);\n        if (labelDetails) {\n            return h.div({ className: 'p-TabBar-tabLabelWrapper' },\n                h.div({ className: 'p-TabBar-tabLabel', style }, data.title.label),\n                h.div({ className: 'p-TabBar-tabLabelDetails', style }, labelDetails));\n        }\n        return h.div({ className: 'p-TabBar-tabLabel', style }, data.title.label);\n    }\n\n    protected renderTailDecorations(renderData: SideBarRenderData, isInSidePanel?: boolean): VirtualElement[] {\n        if (!this.corePreferences?.get('workbench.editor.decorations.badges')) {\n            return [];\n        }\n        const tailDecorations = ArrayUtils.coalesce(this.getDecorationData(renderData.title, 'tailDecorations')).flat();\n        if (tailDecorations === undefined || tailDecorations.length === 0) {\n            return [];\n        }\n        let dotDecoration: WidgetDecoration.TailDecoration.AnyPartial | undefined;\n        const otherDecorations: WidgetDecoration.TailDecoration.AnyPartial[] = [];\n        tailDecorations.reverse().forEach(decoration => {\n            const partial = decoration as WidgetDecoration.TailDecoration.AnyPartial;\n            if (WidgetDecoration.TailDecoration.isDotDecoration(partial)) {\n                dotDecoration ||= partial;\n            } else if (partial.data || partial.icon || partial.iconClass) {\n                otherDecorations.push(partial);\n            }\n        });\n        const decorationsToRender = dotDecoration ? [dotDecoration, ...otherDecorations] : otherDecorations;\n        return decorationsToRender.map((decoration, index) => {\n            const { tooltip, data, fontData, color, icon, iconClass } = decoration;\n            const iconToRender = icon ?? iconClass;\n            const className = ['p-TabBar-tail', 'flex'].join(' ');\n            const style = fontData ? fontData : color ? { color } : undefined;\n            const content = (data ? data : iconToRender\n                ? h.span({ className: this.getIconClass(iconToRender, iconToRender === 'circle' ? [WidgetDecoration.Styles.DECORATOR_SIZE_CLASS] : []) })\n                : '') + (index !== decorationsToRender.length - 1 ? ',' : '');\n            return h.span({ key: ('tailDecoration_' + index), className, style, title: tooltip ?? content }, content);\n        });\n    }\n\n    renderBadge(data: SideBarRenderData, isInSidePanel?: boolean): VirtualElement {\n        const totalBadge = this.getDecorationData(data.title, 'badge').reduce((sum, badge) => sum! + badge!, 0);\n        if (!totalBadge) {\n            return h.div({});\n        }\n        const limitedBadge = totalBadge >= 100 ? '99+' : totalBadge;\n        return isInSidePanel\n            ? h.div({ className: 'theia-badge-decorator-sidebar' }, `${limitedBadge}`)\n            : h.div({ className: 'theia-badge-decorator-horizontal' }, `${limitedBadge}`);\n    }\n\n    renderLock(data: SideBarRenderData, isInSidePanel?: boolean): VirtualElement {\n        return !isInSidePanel && data.title.className.includes(LOCKED_CLASS)\n            ? h.div({ className: 'p-TabBar-tabLock' })\n            : h.div({});\n    }\n\n    protected readonly decorations = new Map<Title<Widget>, WidgetDecoration.Data[]>();\n\n    protected resetDecorations(title?: Title<Widget>): void {\n        if (title) {\n            this.decorations.delete(title);\n        } else {\n            this.decorations.clear();\n        }\n        if (this.tabBar) {\n            this.tabBar.update();\n        }\n    }\n\n    /**\n     * Get all available decorations of a given tab.\n     * @param {string} title The widget title.\n     */\n    protected getDecorations(title: Title<Widget>): WidgetDecoration.Data[] {\n        if (this.tabBar && this.decoratorService) {\n            const owner: { resetTabBarDecorations?: () => void; } & Widget = title.owner;\n            if (!owner.resetTabBarDecorations) {\n                owner.resetTabBarDecorations = () => this.decorations.delete(title);\n                title.owner.disposed.connect(owner.resetTabBarDecorations);\n            }\n\n            const decorations = this.decorations.get(title) || this.decoratorService.getDecorations(title);\n            this.decorations.set(title, decorations);\n            return decorations;\n        }\n        return [];\n    }\n\n    /**\n     * Get the decoration data given the tab URI and the decoration data type.\n     * @param {string} title The title.\n     * @param {K} key The type of the decoration data.\n     */\n    protected getDecorationData<K extends keyof WidgetDecoration.Data>(title: Title<Widget>, key: K): WidgetDecoration.Data[K][] {\n        return this.getDecorations(title).filter(data => data[key] !== undefined).map(data => data[key]);\n    }\n\n    /**\n     * Get the class of an icon.\n     * @param {string | string[]} iconName The name of the icon.\n     * @param {string[]} additionalClasses Additional classes of the icon.\n     */\n    protected getIconClass(iconName: string | string[], additionalClasses: string[] = []): string {\n        const iconClass = (typeof iconName === 'string') ? ['a', 'fa', `fa-${iconName}`] : ['a'].concat(iconName);\n        return iconClass.concat(additionalClasses).join(' ');\n    }\n\n    /**\n     * Find duplicate labels from the currently opened tabs in the tab bar.\n     * Return the appropriate partial paths that can distinguish the identical labels.\n     *\n     * E.g., a/p/index.ts => a/..., b/p/index.ts => b/...\n     *\n     * To prevent excessively long path displayed, show at maximum three levels from the end by default.\n     * @param {Title<Widget>[]} titles Array of titles in the current tab bar.\n     * @returns {Map<string, string>} A map from each tab's original path to its displayed partial path.\n     */\n    findDuplicateLabels(titles: Title<Widget>[]): Map<string, string> {\n        // Filter from all tabs to group them by the distinct label (file name).\n        // E.g., 'foo.js' => {0 (index) => 'a/b/foo.js', '2 => a/c/foo.js' },\n        //       'bar.js' => {1 => 'a/d/bar.js', ...}\n        const labelGroups = new Map<string, Map<number, string>>();\n        titles.forEach((title, index) => {\n            if (!labelGroups.has(title.label)) {\n                labelGroups.set(title.label, new Map<number, string>());\n            }\n            labelGroups.get(title.label)!.set(index, title.caption);\n        });\n\n        const originalToDisplayedMap = new Map<string, string>();\n        // Parse each group of editors with the same label.\n        labelGroups.forEach(labelGroup => {\n            // Filter to get groups that have duplicates.\n            if (labelGroup.size > 1) {\n                const paths: string[][] = [];\n                let maxPathLength = 0;\n                labelGroup.forEach((pathStr, index) => {\n                    const steps = pathStr.split('/');\n                    maxPathLength = Math.max(maxPathLength, steps.length);\n                    paths[index] = (steps.slice(0, steps.length - 1));\n                    // By default, show at maximum three levels from the end.\n                    let defaultDisplayedPath = steps.slice(-4, -1).join('/');\n                    if (steps.length > 4) {\n                        defaultDisplayedPath = '.../' + defaultDisplayedPath;\n                    }\n                    originalToDisplayedMap.set(pathStr, defaultDisplayedPath);\n                });\n\n                // Iterate through the steps of the path from the left to find the step that can distinguish it.\n                // E.g., ['root', 'foo', 'c'], ['root', 'bar', 'd'] => 'foo', 'bar'\n                let i = 0;\n                while (i < maxPathLength - 1) {\n                    // Store indexes of all paths that have the identical element in each step.\n                    const stepOccurrences = new Map<string, number[]>();\n                    // Compare the current step of all paths\n                    paths.forEach((path, index) => {\n                        const step = path[i];\n                        if (path.length > 0) {\n                            if (i > path.length - 1) {\n                                paths[index] = [];\n                            } else if (!stepOccurrences.has(step)) {\n                                stepOccurrences.set(step, [index]);\n                            } else {\n                                stepOccurrences.get(step)!.push(index);\n                            }\n                        }\n                    });\n                    // Set the displayed path for each tab.\n                    stepOccurrences.forEach((indexArr, displayedPath) => {\n                        if (indexArr.length === 1) {\n                            const originalPath = labelGroup.get(indexArr[0]);\n                            if (originalPath) {\n                                const originalElements = originalPath.split('/');\n                                const displayedElements = displayedPath.split('/');\n                                if (originalElements.slice(-2)[0] !== displayedElements.slice(-1)[0]) {\n                                    displayedPath += '/...';\n                                }\n                                if (originalElements[0] !== displayedElements[0]) {\n                                    displayedPath = '.../' + displayedPath;\n                                }\n                                originalToDisplayedMap.set(originalPath, displayedPath);\n                                paths[indexArr[0]] = [];\n                            }\n                        }\n                    });\n                    i++;\n                }\n            }\n        });\n        return originalToDisplayedMap;\n    }\n\n    /**\n     * If size information is available for the icon, set it as inline style. Tab padding\n     * is also considered in the `top` position.\n     * @param {SideBarRenderData} data Data used to render the tab icon.\n     * @param {boolean} isInSidePanel An optional check which determines if the tab is in the side-panel.\n     */\n    override renderIcon(data: SideBarRenderData, isInSidePanel?: boolean): VirtualElement {\n        if (!isInSidePanel && this.iconThemeService && this.iconThemeService.current === 'none') {\n            return h.div();\n        }\n        let top: string | undefined;\n        if (data.paddingTop) {\n            top = `${data.paddingTop || 0}px`;\n        }\n        const style: ElementInlineStyle = { top };\n        const baseClassName = this.createIconClass(data);\n\n        const overlayIcons: VirtualElement[] = [];\n        const decorationData = this.getDecorationData(data.title, 'iconOverlay');\n\n        // Check if the tab has decoration markers to be rendered on top.\n        if (decorationData.length > 0) {\n            const baseIcon: VirtualElement = h.div({ className: baseClassName, style }, data.title.iconLabel);\n            const wrapperClassName: string = WidgetDecoration.Styles.ICON_WRAPPER_CLASS;\n            const decoratorSizeClassName: string = isInSidePanel ? WidgetDecoration.Styles.DECORATOR_SIDEBAR_SIZE_CLASS : WidgetDecoration.Styles.DECORATOR_SIZE_CLASS;\n\n            decorationData\n                .filter(notEmpty)\n                .map(overlay => [overlay.position, overlay] as [WidgetDecoration.IconOverlayPosition, WidgetDecoration.IconOverlay | WidgetDecoration.IconClassOverlay])\n                .forEach(([position, overlay]) => {\n                    const iconAdditionalClasses: string[] = [decoratorSizeClassName, WidgetDecoration.IconOverlayPosition.getStyle(position, isInSidePanel)];\n                    const overlayIconStyle = (color?: string) => {\n                        if (color === undefined) {\n                            return {};\n                        }\n                        return { color };\n                    };\n                    // Parse the optional background (if it exists) of the overlay icon.\n                    if (overlay.background) {\n                        const backgroundIconClassName = this.getIconClass(overlay.background.shape, iconAdditionalClasses);\n                        overlayIcons.push(\n                            h.div({ key: data.title.label + '-background', className: backgroundIconClassName, style: overlayIconStyle(overlay.background.color) })\n                        );\n                    }\n                    // Parse the overlay icon.\n                    const overlayIcon = (overlay as WidgetDecoration.IconOverlay).icon || (overlay as WidgetDecoration.IconClassOverlay).iconClass;\n                    const overlayIconClassName = this.getIconClass(overlayIcon, iconAdditionalClasses);\n                    overlayIcons.push(\n                        h.span({ key: data.title.label, className: overlayIconClassName, style: overlayIconStyle(overlay.color) })\n                    );\n                });\n            return h.div({ className: wrapperClassName, style }, [baseIcon, ...overlayIcons]);\n        }\n        return h.div({ className: baseClassName, style }, data.title.iconLabel);\n    }\n\n    protected renderEnhancedPreview = (title: Title<Widget>) => {\n        const hoverBox = document.createElement('div');\n        hoverBox.classList.add('theia-horizontal-tabBar-hover-div');\n        const labelElement = document.createElement('p');\n        labelElement.classList.add('theia-horizontal-tabBar-hover-title');\n        labelElement.textContent = title.label;\n        hoverBox.append(labelElement);\n        const widget = title.owner;\n        if (EnhancedPreviewWidget.is(widget)) {\n            const enhancedPreviewNode = widget.getEnhancedPreviewNode();\n            if (enhancedPreviewNode) {\n                hoverBox.appendChild(enhancedPreviewNode);\n            }\n        } else if (title.caption) {\n            const captionElement = document.createElement('p');\n            captionElement.classList.add('theia-horizontal-tabBar-hover-caption');\n            captionElement.textContent = title.caption;\n            hoverBox.appendChild(captionElement);\n        }\n        return hoverBox;\n    };\n\n    protected renderVisualPreview(desiredWidth: number, title: Title<Widget>): HTMLElement | undefined {\n        const widget = title.owner;\n        // Check that the widget is not currently shown, is a PreviewableWidget and it was already loaded before\n        if (this.tabBar && this.tabBar.currentTitle !== title && PreviewableWidget.isPreviewable(widget)) {\n            const html = document.getElementById(widget.id);\n            if (html) {\n                const previewNode: Node | undefined = widget.getPreviewNode();\n                if (previewNode) {\n                    const clonedNode = previewNode.cloneNode(true);\n                    const visualPreviewDiv = document.createElement('div');\n                    visualPreviewDiv.classList.add('enhanced-preview-container');\n                    // Add the clonedNode and get it from the children to have a HTMLElement instead of a Node\n                    visualPreviewDiv.append(clonedNode);\n                    const visualPreview = visualPreviewDiv.children.item(visualPreviewDiv.children.length - 1);\n                    if (visualPreview instanceof HTMLElement) {\n                        visualPreview.classList.remove('p-mod-hidden');\n                        visualPreview.classList.add('enhanced-preview');\n                        visualPreview.id = `preview:${widget.id}`;\n\n                        // Use the current visible editor as a fallback if not available\n                        const height: number = visualPreview.style.height === '' ? this.tabBar.currentTitle!.owner.node.offsetHeight : parseFloat(visualPreview.style.height);\n                        const width: number = visualPreview.style.width === '' ? this.tabBar.currentTitle!.owner.node.offsetWidth : parseFloat(visualPreview.style.width);\n                        const desiredRatio = 9 / 16;\n                        const desiredHeight = desiredWidth * desiredRatio;\n                        const ratio = height / width;\n                        visualPreviewDiv.style.width = `${desiredWidth}px`;\n                        visualPreviewDiv.style.height = `${desiredHeight}px`;\n\n                        // If the view is wider than the desiredRatio scale the width and crop the height. If the view is longer its the other way around.\n                        const scale = ratio < desiredRatio ? (desiredHeight / height) : (desiredWidth / width);\n                        visualPreview.style.transform = `scale(${scale},${scale})`;\n                        visualPreview.style.removeProperty('top');\n                        visualPreview.style.removeProperty('left');\n\n                        // Copy canvases (They are cloned empty)\n                        const originalCanvases = html.getElementsByTagName('canvas');\n                        const previewCanvases = visualPreview.getElementsByTagName('canvas');\n                        // If this is not given, something went wrong during the cloning\n                        if (originalCanvases.length === previewCanvases.length) {\n                            for (let i = 0; i < originalCanvases.length; i++) {\n                                previewCanvases[i].getContext('2d')?.drawImage(originalCanvases[i], 0, 0);\n                            }\n                        }\n\n                        return visualPreviewDiv;\n                    }\n                }\n            }\n        }\n        return undefined;\n    }\n\n    protected handleMouseEnterEvent = (event: MouseEvent) => {\n        if (this.tabBar && this.hoverService && event.currentTarget instanceof HTMLElement) {\n            const id = event.currentTarget.id;\n            const title = this.tabBar.titles.find(t => this.createTabId(t) === id);\n            if (title) {\n                if (this.tabBar.orientation === 'horizontal') {\n                    this.hoverService.requestHover({\n                        content: this.renderEnhancedPreview(title),\n                        target: event.currentTarget,\n                        position: 'bottom',\n                        cssClasses: ['extended-tab-preview'],\n                        visualPreview: this.corePreferences?.['window.tabbar.enhancedPreview'] === 'visual' ? width => this.renderVisualPreview(width, title) : undefined\n                    });\n                } else {\n                    this.hoverService.requestHover({\n                        content: title.caption,\n                        target: event.currentTarget,\n                        position: 'right'\n                    });\n                }\n            }\n        }\n    };\n\n    protected handleContextMenuEvent = (event: MouseEvent) => {\n        if (this.contextMenuRenderer && this.contextMenuPath && event.currentTarget instanceof HTMLElement) {\n            event.stopPropagation();\n            event.preventDefault();\n            let widget: Widget | undefined = undefined;\n            if (this.tabBar) {\n                const titleIndex = Array.from(this.tabBar.contentNode.getElementsByClassName('p-TabBar-tab'))\n                    .findIndex(node => node.contains(event.currentTarget as HTMLElement));\n                if (titleIndex !== -1) {\n                    widget = this.tabBar.titles[titleIndex].owner;\n                }\n            }\n\n            const oldSelection = this.selectionService?.selection;\n            if (widget && this.selectionService) {\n                this.selectionService.selection = NavigatableWidget.is(widget) ? { uri: widget.getResourceUri() } : widget;\n            }\n\n            const contextKeyServiceOverlay = this.contextKeyService?.createOverlay([['isTerminalTab', widget && 'terminalId' in widget]]);\n            this.contextMenuRenderer.render({\n                menuPath: this.contextMenuPath!,\n                anchor: event,\n                args: [event],\n                contextKeyService: contextKeyServiceOverlay,\n                // We'd like to wait until the command triggered by the context menu has been run, but this should let it get through the preamble, at least.\n                onHide: () => setTimeout(() => { if (this.selectionService) { this.selectionService.selection = oldSelection; } })\n            });\n        }\n    };\n\n    protected handleCloseClickEvent = (event: MouseEvent) => {\n        if (this.tabBar && event.currentTarget instanceof HTMLElement) {\n            const id = event.currentTarget.parentElement!.id;\n            const title = this.tabBar.titles.find(t => this.createTabId(t) === id);\n            if (title?.closable === false && title?.className.includes(PINNED_CLASS) && this.commandService) {\n                this.commandService.executeCommand('workbench.action.unpinEditor', event);\n            }\n        }\n    };\n\n    protected handleDblClickEvent = (event: MouseEvent) => {\n        if (!this.corePreferences?.get('workbench.tab.maximize')) {\n            return;\n        }\n        if (this.tabBar && event.currentTarget instanceof HTMLElement) {\n            const id = event.currentTarget.id;\n            const title = this.tabBar.titles.find(t => this.createTabId(t) === id);\n            const area = title?.owner.parent;\n            if (area instanceof TheiaDockPanel && (area.id === BOTTOM_AREA_ID || area.id === MAIN_AREA_ID)) {\n                area.toggleMaximized();\n            }\n        }\n    };\n\n}\n\n/**\n * A specialized tab bar for the main and bottom areas.\n */\nexport class ScrollableTabBar extends TabBar<Widget> {\n\n    protected scrollBar?: PerfectScrollbar;\n\n    protected scrollBarFactory: () => PerfectScrollbar;\n    protected pendingReveal?: Promise<void>;\n    protected isMouseOver = false;\n    protected needsRecompute = false;\n    protected tabSize = 0;\n    protected _dynamicTabOptions?: ScrollableTabBar.Options;\n    protected contentContainer: HTMLElement;\n    protected topRow: HTMLElement;\n\n    protected readonly toDispose = new DisposableCollection();\n    protected openTabsContainer: HTMLDivElement;\n    protected openTabsRoot: Root;\n\n    constructor(options?: TabBar.IOptions<Widget> & PerfectScrollbar.Options, dynamicTabOptions?: ScrollableTabBar.Options) {\n        super(options);\n        this.scrollBarFactory = () => new PerfectScrollbar(this.scrollbarHost, options);\n        this._dynamicTabOptions = dynamicTabOptions;\n        this.rewireDOM();\n    }\n\n    set dynamicTabOptions(options: ScrollableTabBar.Options | undefined) {\n        this._dynamicTabOptions = options;\n        this.updateTabs();\n    }\n\n    get dynamicTabOptions(): ScrollableTabBar.Options | undefined {\n        return this._dynamicTabOptions;\n    }\n\n    override dispose(): void {\n        if (this.isDisposed) {\n            return;\n        }\n        super.dispose();\n        this.toDispose.dispose();\n    }\n\n    /**\n     * Restructures the DOM defined in PhosphorJS.\n     *\n     * By default the tabs (`li`) are contained in the `this.contentNode` (`ul`) which is wrapped in a `div` (`this.node`).\n     * Instead of this structure, we add a container for the `this.contentNode` and for the toolbar.\n     * The scrollbar will only work for the `ul` part but it does not affect the toolbar, so it can be on the right hand-side.\n     */\n    protected rewireDOM(): void {\n        const contentNode = this.node.getElementsByClassName(ScrollableTabBar.Styles.TAB_BAR_CONTENT)[0];\n        if (!contentNode) {\n            throw new Error(\"'this.node' does not have the content as a direct child with class name 'p-TabBar-content'.\");\n        }\n        this.node.removeChild(contentNode);\n        this.contentContainer = document.createElement('div');\n        this.contentContainer.classList.add(ScrollableTabBar.Styles.TAB_BAR_CONTENT_CONTAINER);\n        this.contentContainer.appendChild(contentNode);\n\n        this.topRow = document.createElement('div');\n        this.topRow.classList.add('theia-tabBar-tab-row');\n        this.topRow.appendChild(this.contentContainer);\n\n        this.openTabsContainer = document.createElement('div');\n        this.openTabsContainer.classList.add('theia-tabBar-open-tabs');\n        this.openTabsRoot = createRoot(this.openTabsContainer);\n        this.topRow.appendChild(this.openTabsContainer);\n\n        this.node.appendChild(this.topRow);\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        if (!this.scrollBar) {\n            this.scrollBar = this.scrollBarFactory();\n        }\n        this.node.addEventListener('mouseenter', () => { this.isMouseOver = true; });\n        this.node.addEventListener('mouseleave', () => {\n            this.isMouseOver = false;\n            if (this.needsRecompute) {\n                this.updateTabs();\n            }\n        });\n\n        super.onAfterAttach(msg);\n    }\n\n    protected override onBeforeDetach(msg: Message): void {\n        super.onBeforeDetach(msg);\n        if (this.scrollBar) {\n            this.scrollBar.destroy();\n            this.scrollBar = undefined;\n        }\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        this.updateTabs();\n    }\n\n    protected updateTabs(): void {\n        const content = [];\n        if (this.dynamicTabOptions) {\n\n            this.openTabsRoot.render(createElement(SelectComponent, {\n                options: this.titles,\n                onChange: (option, index) => {\n                    this.currentIndex = index;\n                },\n                alignment: 'right'\n            }));\n\n            if (this.isMouseOver) {\n                this.needsRecompute = true;\n            } else {\n                this.needsRecompute = false;\n                if (this.orientation === 'horizontal') {\n                    let availableWidth = this.scrollbarHost.clientWidth;\n                    let effectiveWidth = availableWidth;\n                    if (!this.openTabsContainer.classList.contains('p-mod-hidden')) {\n                        availableWidth += this.openTabsContainer.getBoundingClientRect().width;\n                    }\n                    if (this.dynamicTabOptions.minimumTabSize * this.titles.length <= availableWidth) {\n                        effectiveWidth += this.openTabsContainer.getBoundingClientRect().width;\n                        this.openTabsContainer.classList.add('p-mod-hidden');\n                    } else {\n                        this.openTabsContainer.classList.remove('p-mod-hidden');\n                    }\n                    this.tabSize = Math.max(Math.min(effectiveWidth / this.titles.length,\n                        this.dynamicTabOptions.defaultTabSize), this.dynamicTabOptions.minimumTabSize);\n                }\n            }\n            this.node.classList.add('dynamic-tabs');\n        } else {\n            this.openTabsContainer.classList.add('p-mod-hidden');\n            this.node.classList.remove('dynamic-tabs');\n        }\n        for (let i = 0, n = this.titles.length; i < n; ++i) {\n            const title = this.titles[i];\n            const current = title === this.currentTitle;\n            const zIndex = current ? n : n - i - 1;\n            const renderData: ScrollableRenderData = { title: title, current: current, zIndex: zIndex };\n            if (this.dynamicTabOptions && this.orientation === 'horizontal') {\n                renderData.tabWidth = this.tabSize;\n            }\n            content[i] = this.renderer.renderTab(renderData);\n        }\n        VirtualDOM.render(content, this.contentNode);\n        if (this.scrollBar) {\n            if (!(this.dynamicTabOptions && this.isMouseOver)) {\n                this.scrollBar.update();\n            }\n        }\n    }\n\n    protected override onResize(msg: Widget.ResizeMessage): void {\n        super.onResize(msg);\n        if (this.dynamicTabOptions) {\n            this.updateTabs();\n        }\n        if (this.scrollBar) {\n            if (this.currentIndex >= 0) {\n                this.revealTab(this.currentIndex);\n            }\n            this.scrollBar.update();\n        }\n    }\n\n    /**\n     * Reveal the tab with the given index by moving the scroll bar if necessary.\n     */\n    revealTab(index: number): Promise<void> {\n        if (this.pendingReveal) {\n            // A reveal has already been scheduled\n            return this.pendingReveal;\n        }\n        const result = new Promise<void>((resolve, reject) => {\n            // The tab might not have been created yet, so wait until the next frame\n            window.requestAnimationFrame(() => {\n                const tab = this.contentNode.children[index] as HTMLElement;\n                if (tab && this.isVisible) {\n                    const parent = this.scrollbarHost;\n                    if (this.orientation === 'horizontal') {\n                        const scroll = parent.scrollLeft;\n                        const left = tab.offsetLeft;\n                        if (scroll > left) {\n                            parent.scrollLeft = left;\n                        } else {\n                            const right = left + tab.clientWidth - parent.clientWidth;\n                            if (scroll < right && tab.clientWidth < parent.clientWidth) {\n                                parent.scrollLeft = right;\n                            }\n                        }\n                    } else {\n                        const scroll = parent.scrollTop;\n                        const top = tab.offsetTop;\n                        if (scroll > top) {\n                            parent.scrollTop = top;\n                        } else {\n                            const bottom = top + tab.clientHeight - parent.clientHeight;\n                            if (scroll < bottom && tab.clientHeight < parent.clientHeight) {\n                                parent.scrollTop = bottom;\n                            }\n                        }\n                    }\n                }\n                if (this.pendingReveal === result) {\n                    this.pendingReveal = undefined;\n                }\n                resolve();\n            });\n        });\n        this.pendingReveal = result;\n        return result;\n    }\n\n    /**\n     * Overrides the `contentNode` property getter in PhosphorJS' TabBar.\n     */\n    // @ts-expect-error TS2611 `TabBar<T>.contentNode` is declared as `readonly contentNode` but is implemented as a getter.\n    get contentNode(): HTMLUListElement {\n        return this.tabBarContainer.getElementsByClassName(ToolbarAwareTabBar.Styles.TAB_BAR_CONTENT)[0] as HTMLUListElement;\n    }\n\n    /**\n     * Overrides the scrollable host from the parent class.\n     */\n    protected get scrollbarHost(): HTMLElement {\n        return this.tabBarContainer;\n    }\n\n    protected get tabBarContainer(): HTMLElement {\n        return this.node.getElementsByClassName(ToolbarAwareTabBar.Styles.TAB_BAR_CONTENT_CONTAINER)[0] as HTMLElement;\n    }\n}\n\nexport namespace ScrollableTabBar {\n\n    export interface Options {\n        minimumTabSize: number;\n        defaultTabSize: number;\n    }\n    export namespace Styles {\n\n        export const TAB_BAR_CONTENT = 'p-TabBar-content';\n        export const TAB_BAR_CONTENT_CONTAINER = 'p-TabBar-content-container';\n\n    }\n}\n\n/**\n * Specialized scrollable tab-bar which comes with toolbar support.\n * Instead of the following DOM structure.\n *\n * +-------------------------+\n * |[TAB_0][TAB_1][TAB_2][TAB|\n * +-------------Scrollable--+\n *\n * There is a dedicated HTML element for toolbar which does **not** contained in the scrollable element.\n *\n * +-------------------------+-----------------+\n * |[TAB_0][TAB_1][TAB_2][TAB|         Toolbar |\n * +-------------Scrollable--+-Non-Scrollable-+\n *\n */\nexport class ToolbarAwareTabBar extends ScrollableTabBar {\n    protected toolbar: TabBarToolbar | undefined;\n    protected breadcrumbsContainer: HTMLElement;\n    protected readonly breadcrumbsRenderer: BreadcrumbsRenderer;\n\n    constructor(\n        protected readonly tabBarToolbarRegistry: TabBarToolbarRegistry,\n        protected readonly tabBarToolbarFactory: () => TabBarToolbar,\n        protected readonly breadcrumbsRendererFactory: BreadcrumbsRendererFactory,\n        options?: TabBar.IOptions<Widget> & PerfectScrollbar.Options,\n        dynamicTabOptions?: ScrollableTabBar.Options\n    ) {\n        super(options, dynamicTabOptions);\n        this.breadcrumbsRenderer = this.breadcrumbsRendererFactory();\n        this.addBreadcrumbs();\n        this.toolbar = this.tabBarToolbarFactory();\n        this.toDispose.push(this.tabBarToolbarRegistry.onDidChange(() => this.update()));\n        this.toDispose.push(this.breadcrumbsRenderer);\n        this.toDispose.push(this.breadcrumbsRenderer.onDidChangeActiveState(active => {\n            this.node.classList.toggle('theia-tabBar-multirow', active);\n            if (this.parent) {\n                MessageLoop.sendMessage(this.parent, new Message('fit-request'));\n            }\n        }));\n        this.node.classList.toggle('theia-tabBar-multirow', this.breadcrumbsRenderer.active);\n        const handler = () => this.updateBreadcrumbs();\n        this.currentChanged.connect(handler);\n        this.toDispose.push(Disposable.create(() => this.currentChanged.disconnect(handler)));\n    }\n\n    protected async updateBreadcrumbs(): Promise<void> {\n        const current = this.currentTitle?.owner;\n        const uri = NavigatableWidget.is(current) ? current.getResourceUri() : undefined;\n        await this.breadcrumbsRenderer.refresh(uri);\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        if (this.toolbar) {\n            if (this.toolbar.isAttached) {\n                Widget.detach(this.toolbar);\n            }\n            Widget.attach(this.toolbar, this.topRow);\n            if (this.breadcrumbsContainer) {\n                this.node.appendChild(this.breadcrumbsContainer);\n            }\n            this.updateBreadcrumbs();\n        }\n        super.onAfterAttach(msg);\n    }\n\n    protected override onBeforeDetach(msg: Message): void {\n        if (this.toolbar && this.toolbar.isAttached) {\n            this.toolbar.dispose();\n        }\n        super.onBeforeDetach(msg);\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        super.onUpdateRequest(msg);\n        this.updateToolbar();\n    }\n\n    protected updateToolbar(): void {\n        if (!this.toolbar) {\n            return;\n        }\n        const widget = this.currentTitle?.owner ?? undefined;\n        this.toolbar.updateTarget(widget);\n        this.updateTabs();\n    }\n\n    override handleEvent(event: Event): void {\n        if (event instanceof MouseEvent) {\n            if (this.toolbar && this.toolbar.shouldHandleMouseEvent(event) || this.isOver(event, this.openTabsContainer)) {\n                // if the mouse event is over the toolbar part don't handle it.\n                return;\n            }\n        }\n        super.handleEvent(event);\n    }\n\n    protected isOver(event: Event, element: Element): boolean {\n        return element && event.target instanceof Element && element.contains(event.target);\n    }\n\n    /**\n     * Restructures the DOM defined in PhosphorJS.\n     *\n     * By default the tabs (`li`) are contained in the `this.contentNode` (`ul`) which is wrapped in a `div` (`this.node`).\n     * Instead of this structure, we add a container for the `this.contentNode` and for the toolbar.\n     * The scrollbar will only work for the `ul` part but it does not affect the toolbar, so it can be on the right hand-side.\n     */\n    protected addBreadcrumbs(): void {\n        this.breadcrumbsContainer = document.createElement('div');\n        this.breadcrumbsContainer.classList.add('theia-tabBar-breadcrumb-row');\n        this.breadcrumbsContainer.appendChild(this.breadcrumbsRenderer.host);\n        this.node.appendChild(this.breadcrumbsContainer);\n    }\n}\n\n/**\n * A specialized tab bar for side areas.\n */\nexport class SideTabBar extends ScrollableTabBar {\n\n    protected static readonly DRAG_THRESHOLD = 5;\n\n    /**\n     * Emitted when a tab is added to the tab bar.\n     */\n    readonly tabAdded = new Signal<this, { title: Title<Widget> }>(this);\n    /**\n     * Side panels can be collapsed by clicking on the currently selected tab. This signal is\n     * emitted when the mouse is released on the selected tab without initiating a drag.\n     */\n    readonly collapseRequested = new Signal<this, Title<Widget>>(this);\n\n    /**\n     * Emitted when the set of overflowing/hidden tabs changes.\n     */\n    readonly tabsOverflowChanged = new Signal<this, { titles: Title<Widget>[], startIndex: number }>(this);\n\n    protected mouseData?: {\n        pressX: number,\n        pressY: number,\n        mouseDownTabIndex: number\n    };\n\n    protected tabsOverflowData?: {\n        titles: Title<Widget>[],\n        startIndex: number\n    };\n\n    protected _rowGap: number;\n\n    constructor(options?: TabBar.IOptions<Widget> & PerfectScrollbar.Options) {\n        super(options);\n\n        // Create the hidden content node (see `hiddenContentNode` for explanation)\n        const hiddenContent = document.createElement('ul');\n        hiddenContent.className = HIDDEN_CONTENT_CLASS;\n        this.node.appendChild(hiddenContent);\n    }\n\n    /**\n     * Tab bars of the left and right side panel are arranged vertically by rotating their labels.\n     * Rotation is realized with the CSS `transform` property, which disrupts the browser's ability\n     * to arrange the involved elements automatically. Therefore the elements are arranged explicitly\n     * by the TabBarRenderer using inline `height` and `top` styles. However, the size of labels\n     * must still be computed by the browser, so the rendering is performed in two steps: first the\n     * tab bar is rendered horizontally inside a _hidden content node_, then it is rendered again\n     * vertically inside the proper content node. After the first step, size information is gathered\n     * from all labels so it can be applied during the second step.\n     */\n    get hiddenContentNode(): HTMLUListElement {\n        return this.node.getElementsByClassName(HIDDEN_CONTENT_CLASS)[0] as HTMLUListElement;\n    }\n\n    override insertTab(index: number, value: Title<Widget> | Title.IOptions<Widget>): Title<Widget> {\n        const result = super.insertTab(index, value);\n        this.tabAdded.emit({ title: result });\n        return result;\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        this.updateTabs();\n        this.node.addEventListener('p-dragenter', this);\n        this.node.addEventListener('p-dragover', this);\n        this.node.addEventListener('p-dragleave', this);\n        document.addEventListener('p-drop', this);\n    }\n\n    protected override onAfterDetach(msg: Message): void {\n        super.onAfterDetach(msg);\n        this.node.removeEventListener('p-dragenter', this);\n        this.node.removeEventListener('p-dragover', this);\n        this.node.removeEventListener('p-dragleave', this);\n        document.removeEventListener('p-drop', this);\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        this.updateTabs();\n    }\n\n    protected override onResize(msg: Widget.ResizeMessage): void {\n        // Tabs need to be updated if there are already overflowing tabs or the current tabs don't fit\n        if (this.tabsOverflowData || this.node.clientHeight < this.contentNode.clientHeight) {\n            this.updateTabs();\n        }\n    }\n\n    // Queries the tabRowGap value of the content node. Needed to properly compute overflowing\n    // tabs that should be hidden\n    protected get tabRowGap(): number {\n        // We assume that the tab row gap is static i.e. we compute it once an then cache it\n        if (!this._rowGap) {\n            this._rowGap = this.computeTabRowGap();\n        }\n        return this._rowGap;\n\n    }\n\n    protected computeTabRowGap(): number {\n        const style = window.getComputedStyle(this.contentNode);\n        const rowGapStyle = style.getPropertyValue('row-gap');\n        const numericValue = parseFloat(rowGapStyle);\n        const unit = rowGapStyle.match(/[a-zA-Z]+/)?.[0];\n\n        const tempDiv = document.createElement('div');\n        tempDiv.style.height = '1' + unit;\n        document.body.appendChild(tempDiv);\n        const rowGapValue = numericValue * tempDiv.offsetHeight;\n        document.body.removeChild(tempDiv);\n        return rowGapValue;\n    }\n\n    /**\n     * Reveal the tab with the given index by moving it into the non-overflowing tabBar section\n     * if necessary.\n     */\n    override revealTab(index: number): Promise<void> {\n        if (this.pendingReveal) {\n            // A reveal has already been scheduled\n            return this.pendingReveal;\n        }\n        const result = new Promise<void>(resolve => {\n            // The tab might not have been created yet, so wait until the next frame\n            window.requestAnimationFrame(() => {\n                if (this.tabsOverflowData && index >= this.tabsOverflowData.startIndex) {\n                    const title = this.titles[index];\n                    this.insertTab(this.tabsOverflowData.startIndex - 1, title);\n                }\n\n                if (this.pendingReveal === result) {\n                    this.pendingReveal = undefined;\n                }\n                resolve();\n            });\n        });\n        this.pendingReveal = result;\n        return result;\n    }\n\n    /**\n     * Render the tab bar in the _hidden content node_ (see `hiddenContentNode` for explanation),\n     * then gather size information for labels and render it again in the proper content node.\n     */\n    protected override updateTabs(): void {\n        if (this.isAttached) {\n            // Render into the invisible node\n            this.renderTabs(this.hiddenContentNode);\n            // Await a rendering frame\n            window.requestAnimationFrame(() => {\n                const hiddenContent = this.hiddenContentNode;\n                const n = hiddenContent.children.length;\n                const renderData = new Array<Partial<SideBarRenderData>>(n);\n                const availableWidth = this.node.clientHeight - this.tabRowGap;\n                let actualWidth = 0;\n                let overflowStartIndex = -1;\n                for (let i = 0; i < n; i++) {\n                    const hiddenTab = hiddenContent.children[i];\n                    // Extract tab padding from the computed style\n                    const tabStyle = window.getComputedStyle(hiddenTab);\n                    const paddingTop = parseFloat(tabStyle.paddingTop!);\n                    const paddingBottom = parseFloat(tabStyle.paddingBottom!);\n                    const rd: Partial<SideBarRenderData> = {\n                        paddingTop,\n                        paddingBottom\n                    };\n                    // Extract label size from the DOM\n                    const labelElements = hiddenTab.getElementsByClassName('p-TabBar-tabLabel');\n                    if (labelElements.length === 1) {\n                        const label = labelElements[0];\n                        rd.labelSize = { width: label.clientWidth, height: label.clientHeight };\n                    }\n                    // Extract icon size from the DOM\n                    const iconElements = hiddenTab.getElementsByClassName('p-TabBar-tabIcon');\n                    if (iconElements.length === 1) {\n                        const icon = iconElements[0];\n                        rd.iconSize = { width: icon.clientWidth, height: icon.clientHeight };\n                        actualWidth += icon.clientHeight + paddingTop + paddingBottom + this.tabRowGap;\n\n                        if (actualWidth > availableWidth && i !== 0) {\n                            rd.visible = false;\n                            if (overflowStartIndex === -1) {\n                                overflowStartIndex = i;\n                            }\n                        }\n                        renderData[i] = rd;\n                    }\n                }\n\n                // Special handling if only one element is overflowing.\n                if (overflowStartIndex === n - 1 && renderData[overflowStartIndex]) {\n                    if (!this.tabsOverflowData) {\n                        overflowStartIndex--;\n                        renderData[overflowStartIndex].visible = false;\n                    } else {\n                        renderData[overflowStartIndex].visible = true;\n                        overflowStartIndex = -1;\n                    }\n                }\n                // Render into the visible node\n                this.renderTabs(this.contentNode, renderData);\n                this.computeOverflowingTabsData(overflowStartIndex);\n            });\n        }\n    }\n\n    protected computeOverflowingTabsData(startIndex: number): void {\n        // ensure that render tabs has completed\n        window.requestAnimationFrame(() => {\n            if (startIndex === -1) {\n                if (this.tabsOverflowData) {\n                    this.tabsOverflowData = undefined;\n                    this.tabsOverflowChanged.emit({ titles: [], startIndex });\n                }\n                return;\n            }\n            const newOverflowingTabs = this.titles.slice(startIndex);\n\n            if (!this.tabsOverflowData) {\n                this.tabsOverflowData = { titles: newOverflowingTabs, startIndex };\n                this.tabsOverflowChanged.emit(this.tabsOverflowData);\n                return;\n            }\n\n            if ((newOverflowingTabs.length !== this.tabsOverflowData?.titles.length ?? 0) ||\n                newOverflowingTabs.find((newTitle, i) => newTitle !== this.tabsOverflowData?.titles[i]) !== undefined) {\n                this.tabsOverflowData = { titles: newOverflowingTabs, startIndex };\n                this.tabsOverflowChanged.emit(this.tabsOverflowData);\n            }\n        });\n    }\n\n    /**\n     * Render the tab bar using the given DOM element as host. The optional `renderData` is forwarded\n     * to the TabBarRenderer.\n     */\n    protected renderTabs(host: HTMLElement, renderData?: Partial<SideBarRenderData>[]): void {\n        const titles = this.titles;\n        const n = titles.length;\n        const renderer = this.renderer as TabBarRenderer;\n        const currentTitle = this.currentTitle;\n        const content = new Array<VirtualElement>(n);\n        for (let i = 0; i < n; i++) {\n            const title = titles[i];\n            const current = title === currentTitle;\n            const zIndex = current ? n : n - i - 1;\n            let rd: SideBarRenderData;\n            if (renderData && i < renderData.length) {\n                rd = { title, current, zIndex, ...renderData[i] };\n            } else {\n                rd = { title, current, zIndex };\n            }\n            // Based on how renderTabs() is called, assume renderData will be undefined when invoked for this.hiddenContentNode\n            content[i] = renderer.renderTab(rd, true, renderData === undefined);\n        }\n        VirtualDOM.render(content, host);\n    }\n\n    /**\n     * The following event processing is used to generate `collapseRequested` signals\n     * when the mouse goes up on the currently selected tab without too much movement\n     * between `mousedown` and `mouseup`. The movement threshold is the same that\n     * is used by the superclass to detect a drag event. The `allowDeselect` option\n     * of the TabBar constructor cannot be used here because it is triggered when the\n     * mouse goes down, and thus collides with dragging.\n     */\n    override handleEvent(event: Event): void {\n        switch (event.type) {\n            case 'mousedown':\n                this.onMouseDown(event as MouseEvent);\n                super.handleEvent(event);\n                break;\n            case 'mouseup':\n                super.handleEvent(event);\n                this.onMouseUp(event as MouseEvent);\n                break;\n            case 'mousemove':\n                this.onMouseMove(event as MouseEvent);\n                super.handleEvent(event);\n                break;\n            case 'p-dragenter':\n                this.onDragEnter(event as IDragEvent);\n                break;\n            case 'p-dragover':\n                this.onDragOver(event as IDragEvent);\n                break;\n            case 'p-dragleave': case 'p-drop':\n                this.cancelViewContainerDND();\n                break;\n            default:\n                super.handleEvent(event);\n        }\n    }\n\n    protected onMouseDown(event: MouseEvent): void {\n        // Check for left mouse button and current mouse status\n        if (event.button !== 0 || this.mouseData) {\n            return;\n        }\n\n        // Check whether the mouse went down on the current tab\n        const tabs = this.contentNode.children;\n        const index = ArrayExt.findFirstIndex(tabs, tab => ElementExt.hitTest(tab, event.clientX, event.clientY));\n        if (index < 0 || index !== this.currentIndex) {\n            return;\n        }\n\n        // Check whether the close button was clicked\n        const icon = tabs[index].querySelector(this.renderer.closeIconSelector);\n        if (icon && icon.contains(event.target as HTMLElement)) {\n            return;\n        }\n\n        this.mouseData = {\n            pressX: event.clientX,\n            pressY: event.clientY,\n            mouseDownTabIndex: index\n        };\n    }\n\n    protected onMouseUp(event: MouseEvent): void {\n        // Check for left mouse button and current mouse status\n        if (event.button !== 0 || !this.mouseData) {\n            return;\n        }\n\n        // Check whether the mouse went up on the current tab\n        const mouseDownTabIndex = this.mouseData.mouseDownTabIndex;\n        this.mouseData = undefined;\n        const tabs = this.contentNode.children;\n        const index = ArrayExt.findFirstIndex(tabs, tab => ElementExt.hitTest(tab, event.clientX, event.clientY));\n        if (index < 0 || index !== mouseDownTabIndex) {\n            return;\n        }\n\n        // Collapse the side bar\n        this.collapseRequested.emit(this.titles[index]);\n    }\n\n    protected onMouseMove(event: MouseEvent): void {\n        // Check for left mouse button and current mouse status\n        if (event.button !== 0 || !this.mouseData) {\n            return;\n        }\n\n        const data = this.mouseData;\n        const dx = Math.abs(event.clientX - data.pressX);\n        const dy = Math.abs(event.clientY - data.pressY);\n        const threshold = SideTabBar.DRAG_THRESHOLD;\n        if (dx >= threshold || dy >= threshold) {\n            this.mouseData = undefined;\n        }\n    }\n\n    toCancelViewContainerDND = new DisposableCollection();\n    protected cancelViewContainerDND = () => {\n        this.toCancelViewContainerDND.dispose();\n    };\n\n    /**\n     * Handles `viewContainerPart` drag enter.\n     */\n    protected onDragEnter = (event: IDragEvent) => {\n        this.cancelViewContainerDND();\n        if (event.mimeData.getData('application/vnd.phosphor.view-container-factory')) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    };\n\n    /**\n     * Handle `viewContainerPart` drag over,\n     * Defines the appropriate `dropAction` and opens the tab on which the mouse stands on for more than 800 ms.\n     */\n    protected onDragOver = (event: IDragEvent) => {\n        const factory = event.mimeData.getData('application/vnd.phosphor.view-container-factory');\n        const widget = factory && factory();\n        if (!widget) {\n            event.dropAction = 'none';\n            return;\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        if (!this.toCancelViewContainerDND.disposed) {\n            event.dropAction = event.proposedAction;\n            return;\n        }\n\n        const { target, clientX, clientY } = event;\n        if (target instanceof HTMLElement) {\n            if (widget.options.disableDraggingToOtherContainers || widget.viewContainer.disableDNDBetweenContainers) {\n                event.dropAction = 'none';\n                target.classList.add('theia-cursor-no-drop');\n                this.toCancelViewContainerDND.push(Disposable.create(() => {\n                    target.classList.remove('theia-cursor-no-drop');\n                }));\n            } else {\n                event.dropAction = event.proposedAction;\n            }\n            const { top, bottom, left, right, height } = target.getBoundingClientRect();\n            const mouseOnTop = (clientY - top) < (height / 2);\n            const dropTargetClass = `drop-target-${mouseOnTop ? 'top' : 'bottom'}`;\n            const tabs = this.contentNode.children;\n            const targetTab = ArrayExt.findFirstValue(tabs, t => ElementExt.hitTest(t, clientX, clientY));\n            if (!targetTab) {\n                return;\n            }\n            targetTab.classList.add(dropTargetClass);\n            this.toCancelViewContainerDND.push(Disposable.create(() => {\n                if (targetTab) {\n                    targetTab.classList.remove(dropTargetClass);\n                }\n            }));\n            const openTabTimer = setTimeout(() => {\n                const title = this.titles.find(t => (this.renderer as TabBarRenderer).createTabId(t) === targetTab.id);\n                if (title) {\n                    const mouseStillOnTab = clientX >= left && clientX <= right && clientY >= top && clientY <= bottom;\n                    if (mouseStillOnTab) {\n                        this.currentTitle = title;\n                    }\n                }\n            }, 800);\n            this.toCancelViewContainerDND.push(Disposable.create(() => {\n                clearTimeout(openTabTimer);\n            }));\n        }\n    };\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { find, toArray, ArrayExt } from '@phosphor/algorithm';\nimport { TabBar, Widget, DockPanel, Title, DockLayout } from '@phosphor/widgets';\nimport { Signal } from '@phosphor/signaling';\nimport { Disposable, DisposableCollection } from '../../common/disposable';\nimport { UnsafeWidgetUtilities } from '../widgets';\nimport { CorePreferences } from '../core-preferences';\nimport { Emitter, Event, environment } from '../../common';\n\nexport const MAXIMIZED_CLASS = 'theia-maximized';\nexport const ACTIVE_TABBAR_CLASS = 'theia-tabBar-active';\nconst VISIBLE_MENU_MAXIMIZED_CLASS = 'theia-visible-menu-maximized';\n\nexport const MAIN_AREA_ID = 'theia-main-content-panel';\nexport const BOTTOM_AREA_ID = 'theia-bottom-content-panel';\n\n/**\n * This specialization of DockPanel adds various events that are used for implementing the\n * side panels of the application shell.\n */\nexport class TheiaDockPanel extends DockPanel {\n\n    /**\n     * Emitted when a widget is added to the panel.\n     */\n    readonly widgetAdded = new Signal<this, Widget>(this);\n    /**\n     * Emitted when a widget is activated by calling `activateWidget`.\n     */\n    readonly widgetActivated = new Signal<this, Widget>(this);\n    /**\n     * Emitted when a widget is removed from the panel.\n     */\n    readonly widgetRemoved = new Signal<this, Widget>(this);\n\n    protected readonly onDidToggleMaximizedEmitter = new Emitter<Widget>();\n    readonly onDidToggleMaximized = this.onDidToggleMaximizedEmitter.event;\n    protected readonly onDidChangeCurrentEmitter = new Emitter<Title<Widget> | undefined>();\n    get onDidChangeCurrent(): Event<Title<Widget> | undefined> {\n        return this.onDidChangeCurrentEmitter.event;\n    }\n\n    constructor(options?: DockPanel.IOptions,\n        protected readonly preferences?: CorePreferences\n    ) {\n        super(options);\n        this['_onCurrentChanged'] = (sender: TabBar<Widget>, args: TabBar.ICurrentChangedArgs<Widget>) => {\n            this.markAsCurrent(args.currentTitle || undefined);\n            super['_onCurrentChanged'](sender, args);\n        };\n        this['_onTabActivateRequested'] = (sender: TabBar<Widget>, args: TabBar.ITabActivateRequestedArgs<Widget>) => {\n            this.markAsCurrent(args.title);\n            super['_onTabActivateRequested'](sender, args);\n        };\n        if (preferences) {\n            preferences.onPreferenceChanged(preference => {\n                if (!this.isElectron() && preference.preferenceName === 'window.menuBarVisibility' && (preference.newValue === 'visible' || preference.oldValue === 'visible')) {\n                    this.handleMenuBarVisibility(preference.newValue);\n                }\n            });\n        }\n    }\n\n    isElectron(): boolean {\n        return environment.electron.is();\n    }\n\n    protected handleMenuBarVisibility(newValue: string): void {\n        const areaContainer = this.node.parentElement;\n        const maximizedElement = this.getMaximizedElement();\n\n        if (areaContainer === maximizedElement) {\n            if (newValue === 'visible') {\n                this.addClass(VISIBLE_MENU_MAXIMIZED_CLASS);\n            } else {\n                this.removeClass(VISIBLE_MENU_MAXIMIZED_CLASS);\n            }\n        }\n    }\n\n    protected _currentTitle: Title<Widget> | undefined;\n    get currentTitle(): Title<Widget> | undefined {\n        return this._currentTitle;\n    }\n\n    get currentTabBar(): TabBar<Widget> | undefined {\n        return this._currentTitle && this.findTabBar(this._currentTitle);\n    }\n\n    findTabBar(title: Title<Widget>): TabBar<Widget> | undefined {\n        return find(this.tabBars(), bar => ArrayExt.firstIndexOf(bar.titles, title) > -1);\n    }\n\n    protected readonly toDisposeOnMarkAsCurrent = new DisposableCollection();\n    markAsCurrent(title: Title<Widget> | undefined): void {\n        this.toDisposeOnMarkAsCurrent.dispose();\n        this._currentTitle = title;\n        this.markActiveTabBar(title);\n        if (title) {\n            const resetCurrent = () => this.markAsCurrent(undefined);\n            title.owner.disposed.connect(resetCurrent);\n            this.toDisposeOnMarkAsCurrent.push(Disposable.create(() =>\n                title.owner.disposed.disconnect(resetCurrent)\n            ));\n        }\n        this.onDidChangeCurrentEmitter.fire(title);\n    }\n\n    markActiveTabBar(title?: Title<Widget>): void {\n        const tabBars = toArray(this.tabBars());\n        tabBars.forEach(tabBar => tabBar.removeClass(ACTIVE_TABBAR_CLASS));\n        const activeTabBar = title && this.findTabBar(title);\n        if (activeTabBar) {\n            activeTabBar.addClass(ACTIVE_TABBAR_CLASS);\n        } else if (tabBars.length > 0) {\n            // At least one tabbar needs to be active\n            tabBars[0].addClass(ACTIVE_TABBAR_CLASS);\n        }\n    }\n\n    override addWidget(widget: Widget, options?: DockPanel.IAddOptions): void {\n        if (this.mode === 'single-document' && widget.parent === this) {\n            return;\n        }\n        super.addWidget(widget, options);\n        this.widgetAdded.emit(widget);\n        this.markActiveTabBar(widget.title);\n    }\n\n    override activateWidget(widget: Widget): void {\n        super.activateWidget(widget);\n        this.widgetActivated.emit(widget);\n        this.markActiveTabBar(widget.title);\n    }\n\n    protected override onChildRemoved(msg: Widget.ChildMessage): void {\n        super.onChildRemoved(msg);\n        this.widgetRemoved.emit(msg.child);\n    }\n\n    nextTabBarWidget(widget: Widget): Widget | undefined {\n        const current = this.findTabBar(widget.title);\n        const next = current && this.nextTabBarInPanel(current);\n        return next && next.currentTitle && next.currentTitle.owner || undefined;\n    }\n\n    nextTabBarInPanel(tabBar: TabBar<Widget>): TabBar<Widget> | undefined {\n        const tabBars = toArray(this.tabBars());\n        const index = tabBars.indexOf(tabBar);\n        if (index !== -1) {\n            return tabBars[index + 1];\n        }\n        return undefined;\n    }\n\n    previousTabBarWidget(widget: Widget): Widget | undefined {\n        const current = this.findTabBar(widget.title);\n        const previous = current && this.previousTabBarInPanel(current);\n        return previous && previous.currentTitle && previous.currentTitle.owner || undefined;\n    }\n\n    previousTabBarInPanel(tabBar: TabBar<Widget>): TabBar<Widget> | undefined {\n        const tabBars = toArray(this.tabBars());\n        const index = tabBars.indexOf(tabBar);\n        if (index !== -1) {\n            return tabBars[index - 1];\n        }\n        return undefined;\n    }\n\n    protected readonly toDisposeOnToggleMaximized = new DisposableCollection();\n    toggleMaximized(): void {\n        const areaContainer = this.node.parentElement;\n        if (!areaContainer) {\n            return;\n        }\n        const maximizedElement = this.getMaximizedElement();\n        if (areaContainer === maximizedElement) {\n            this.toDisposeOnToggleMaximized.dispose();\n            return;\n        }\n        if (this.isAttached) {\n            UnsafeWidgetUtilities.detach(this);\n        }\n        maximizedElement.style.display = 'block';\n        this.addClass(MAXIMIZED_CLASS);\n        const preference = this.preferences?.get('window.menuBarVisibility');\n        if (!this.isElectron() && preference === 'visible') {\n            this.addClass(VISIBLE_MENU_MAXIMIZED_CLASS);\n        }\n        UnsafeWidgetUtilities.attach(this, maximizedElement);\n        this.fit();\n        this.onDidToggleMaximizedEmitter.fire(this);\n        this.toDisposeOnToggleMaximized.push(Disposable.create(() => {\n            maximizedElement.style.display = 'none';\n            this.removeClass(MAXIMIZED_CLASS);\n            this.onDidToggleMaximizedEmitter.fire(this);\n            if (!this.isElectron()) {\n                this.removeClass(VISIBLE_MENU_MAXIMIZED_CLASS);\n            }\n            if (this.isAttached) {\n                UnsafeWidgetUtilities.detach(this);\n            }\n            UnsafeWidgetUtilities.attach(this, areaContainer);\n            this.fit();\n        }));\n\n        const layout = this.layout;\n        if (layout instanceof DockLayout) {\n            const onResize = layout['onResize'];\n            layout['onResize'] = () => onResize.bind(layout)(Widget.ResizeMessage.UnknownSize);\n            this.toDisposeOnToggleMaximized.push(Disposable.create(() => layout['onResize'] = onResize));\n        }\n\n        const removedListener = () => {\n            if (!this.widgets().next()) {\n                this.toDisposeOnToggleMaximized.dispose();\n            }\n        };\n        this.widgetRemoved.connect(removedListener);\n        this.toDisposeOnToggleMaximized.push(Disposable.create(() => this.widgetRemoved.disconnect(removedListener)));\n    }\n\n    protected maximizedElement: HTMLElement | undefined;\n    protected getMaximizedElement(): HTMLElement {\n        if (!this.maximizedElement) {\n            this.maximizedElement = document.createElement('div');\n            this.maximizedElement.style.display = 'none';\n            document.body.appendChild(this.maximizedElement);\n        }\n        return this.maximizedElement;\n    }\n\n}\nexport namespace TheiaDockPanel {\n    export const Factory = Symbol('TheiaDockPanel#Factory');\n    export interface Factory {\n        (options?: DockPanel.IOptions): TheiaDockPanel;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, interfaces, optional } from 'inversify';\nimport { Widget } from '@phosphor/widgets';\nimport {\n    MenuModelRegistry, Command, CommandContribution,\n    MenuContribution, CommandRegistry\n} from '../../common';\nimport { KeybindingContribution, KeybindingRegistry } from '../keybinding';\nimport { WidgetManager } from '../widget-manager';\nimport { CommonMenus } from '../common-frontend-contribution';\nimport { ApplicationShell } from './application-shell';\nimport { QuickViewService } from '../quick-input';\n\nexport interface OpenViewArguments extends ApplicationShell.WidgetOptions {\n    toggle?: boolean\n    activate?: boolean;\n    reveal?: boolean;\n}\n\nexport interface ViewContributionOptions {\n    widgetId: string;\n    viewContainerId?: string;\n    widgetName: string;\n    defaultWidgetOptions: ApplicationShell.WidgetOptions;\n    toggleCommandId?: string;\n    toggleKeybinding?: string;\n}\n\nexport function bindViewContribution<T extends AbstractViewContribution<Widget>>(bind: interfaces.Bind, identifier: interfaces.Newable<T>): interfaces.BindingWhenOnSyntax<T> {\n    const syntax = bind<T>(identifier).toSelf().inSingletonScope();\n    bind(CommandContribution).toService(identifier);\n    bind(KeybindingContribution).toService(identifier);\n    bind(MenuContribution).toService(identifier);\n    return syntax;\n}\n\n/**\n * An abstract superclass for frontend contributions that add a view to the application shell.\n */\n@injectable()\nexport abstract class AbstractViewContribution<T extends Widget> implements CommandContribution, MenuContribution, KeybindingContribution {\n\n    @inject(WidgetManager) protected readonly widgetManager: WidgetManager;\n    @inject(ApplicationShell) protected readonly shell: ApplicationShell;\n\n    @inject(QuickViewService) @optional()\n    protected readonly quickView: QuickViewService;\n\n    readonly toggleCommand?: Command;\n\n    constructor(\n        protected readonly options: ViewContributionOptions\n    ) {\n        if (options.toggleCommandId) {\n            this.toggleCommand = {\n                id: options.toggleCommandId,\n                label: 'Toggle ' + this.viewLabel + ' View'\n            };\n        }\n    }\n\n    get viewId(): string {\n        return this.options.widgetId;\n    }\n\n    get viewLabel(): string {\n        return this.options.widgetName;\n    }\n\n    get defaultViewOptions(): ApplicationShell.WidgetOptions {\n        return this.options.defaultWidgetOptions;\n    }\n\n    get widget(): Promise<T> {\n        return this.widgetManager.getOrCreateWidget(this.viewId);\n    }\n\n    tryGetWidget(): T | undefined {\n        return this.widgetManager.tryGetWidget(this.viewId);\n    }\n\n    async openView(args: Partial<OpenViewArguments> = {}): Promise<T> {\n        const shell = this.shell;\n        const widget = await this.widgetManager.getOrCreateWidget(this.options.viewContainerId || this.viewId);\n        const tabBar = shell.getTabBarFor(widget);\n        const area = shell.getAreaFor(widget);\n        if (!tabBar) {\n            // The widget is not attached yet, so add it to the shell\n            const widgetArgs: OpenViewArguments = {\n                ...this.defaultViewOptions,\n                ...args\n            };\n            await shell.addWidget(widget, widgetArgs);\n        } else if (args.toggle && area && shell.isExpanded(area) && tabBar.currentTitle === widget.title) {\n            // The widget is attached and visible, so collapse the containing panel (toggle)\n            switch (area) {\n                case 'left':\n                case 'right':\n                    await shell.collapsePanel(area);\n                    break;\n                case 'bottom':\n                    // Don't collapse the bottom panel if it's currently split\n                    if (shell.bottomAreaTabBars.length === 1) {\n                        await shell.collapsePanel('bottom');\n                    }\n                    break;\n                default:\n                    // The main area cannot be collapsed, so close the widget\n                    await this.closeView();\n            }\n            return this.widget;\n        }\n        if (widget.isAttached && args.activate) {\n            await shell.activateWidget(this.viewId);\n        } else if (widget.isAttached && args.reveal) {\n            await shell.revealWidget(this.viewId);\n        }\n        return this.widget;\n    }\n\n    registerCommands(commands: CommandRegistry): void {\n        if (this.toggleCommand) {\n            commands.registerCommand(this.toggleCommand, {\n                execute: () => this.toggleView()\n            });\n        }\n        this.quickView?.registerItem({\n            label: this.viewLabel,\n            open: () => this.openView({ activate: true })\n        });\n    }\n\n    async closeView(): Promise<T | undefined> {\n        const widget = await this.shell.closeWidget(this.viewId);\n        return widget as T | undefined;\n    }\n\n    toggleView(): Promise<T> {\n        return this.openView({\n            toggle: true,\n            activate: true\n        });\n    }\n\n    registerMenus(menus: MenuModelRegistry): void {\n        if (this.toggleCommand) {\n            menus.registerMenuAction(CommonMenus.VIEW_VIEWS, {\n                commandId: this.toggleCommand.id,\n                label: this.viewLabel\n            });\n        }\n    }\n\n    registerKeybindings(keybindings: KeybindingRegistry): void {\n        if (this.toggleCommand && this.options.toggleKeybinding) {\n            keybindings.registerKeybinding({\n                command: this.toggleCommand.id,\n                keybinding: this.options.toggleKeybinding\n            });\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from 'inversify';\nimport { StatusBarImpl } from './status-bar';\nimport { StatusBar } from './status-bar-types';\nimport { StatusBarViewModel } from './status-bar-view-model';\nexport * from './status-bar';\nexport * from './status-bar-types';\nexport * from './status-bar-view-model';\n\nexport function bindStatusBar(bind: interfaces.Bind): void {\n    bind(StatusBarImpl).toSelf().inSingletonScope();\n    bind(StatusBar).to(StatusBarImpl).inSingletonScope();\n    bind(StatusBarViewModel).toSelf().inSingletonScope();\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { MarkdownString } from '../../common/markdown-rendering/markdown-string';\nimport { AccessibilityInformation } from '../../common/accessibility';\n\nexport interface StatusBarEntry {\n    /**\n     * For icons we use Codicons by default, and Font Awesome icons will also be respected.\n     * You can find Codicon classnames here: https://microsoft.github.io/vscode-codicons/dist/codicon.html\n     * You can find Font Awesome classnames here: http://fontawesome.io/icons/\n     *\n     *\n     * Codicon: $(<codiconClassName>) or $(codicon-<codiconClassName>)\n     *\n     * Font Awesome: $(fa-<fontAwesomeClassName>)\n     *\n     * To use animated icons use the following pattern:\n     * $(iconClassName~typeOfAnimation)\n     * Type of animation can be either spin or pulse.\n     * Look here for more information to animated icons:\n     * http://fontawesome.io/examples/#animated\n     */\n    text: string;\n    alignment: StatusBarAlignment;\n    name?: string;\n    color?: string;\n    backgroundColor?: string;\n    className?: string;\n    tooltip?: string | MarkdownString | HTMLElement;\n    command?: string;\n    arguments?: unknown[];\n    priority?: number;\n    accessibilityInformation?: AccessibilityInformation;\n    affinity?: StatusBarAffinity;\n    onclick?: (e: MouseEvent) => void;\n}\n\nexport enum StatusBarAlignment {\n    LEFT, RIGHT\n}\n\nexport const STATUSBAR_WIDGET_FACTORY_ID = 'statusBar';\n\nexport const StatusBar = Symbol('StatusBar');\n\nexport interface StatusBar {\n    setBackgroundColor(color?: string): Promise<void>;\n    setColor(color?: string): Promise<void>;\n    setElement(id: string, entry: StatusBarEntry): Promise<void>;\n    removeElement(id: string): Promise<void>;\n}\n\nexport interface StatusBarAffinity {\n    /**\n     * a reference to the {@link StatusBarEntry.id id} of another entry relative to which this item should be positioned.\n     */\n    id: string;\n\n    /**\n     * Where to position this entry relative to the entry referred to in the `id` field.\n     */\n    alignment: StatusBarAlignment;\n\n    /**\n     * Whether to treat this entry and the reference entry as a single entity for positioning and hover highlights\n     */\n    compact?: boolean;\n}\n\nexport interface StatusBarViewModelEntry {\n    id: string;\n    leftChildren: StatusBarViewModelEntry[];\n    head: StatusBarEntry;\n    rightChildren: StatusBarViewModelEntry[];\n}\n\nexport interface StatusBarViewEntry {\n    id: string,\n    entry: StatusBarEntry;\n    compact?: boolean;\n    /** Only present if compact = true */\n    alignment?: StatusBarAlignment;\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { ArrayUtils, Emitter, Event } from '../../common';\nimport { StatusBarAlignment, StatusBarEntry, StatusBarViewEntry, StatusBarViewModelEntry } from './status-bar-types';\n\ninterface EntryLocation {\n    container: StatusBarViewModelEntry[];\n    index: number;\n    entry: StatusBarViewModelEntry;\n}\n\n@injectable()\nexport class StatusBarViewModel {\n    protected leftTree = new Array<StatusBarViewModelEntry>();\n    protected rightTree = new Array<StatusBarViewModelEntry>();\n    protected containerPointers = new Map<string, StatusBarViewModelEntry[]>();\n    protected onDidChangeEmitter = new Emitter<void>();\n    get onDidChange(): Event<void> {\n        return this.onDidChangeEmitter.event;\n    }\n\n    *getLeft(): IterableIterator<StatusBarViewEntry> {\n        yield* this.getEntries(this.leftTree);\n    }\n\n    *getRight(): IterableIterator<StatusBarViewEntry> {\n        yield* this.getEntries(this.rightTree);\n    }\n\n    *getEntries(list: StatusBarViewModelEntry[]): IterableIterator<StatusBarViewEntry> {\n        for (const item of list) {\n            yield* this.getChildren(item.leftChildren, StatusBarAlignment.LEFT);\n            yield { entry: item.head, id: item.id };\n            yield* this.getChildren(item.rightChildren, StatusBarAlignment.RIGHT);\n        }\n    }\n\n    *getChildren(list: StatusBarViewModelEntry[], alignment: StatusBarAlignment, compact?: boolean): IterableIterator<StatusBarViewEntry> {\n        for (const item of list) {\n            if (item.leftChildren.length || item.rightChildren.length) {\n                console.warn(`Found embedded entries with affinity to ${item.id}. They will inherit alignment and compactness of parent.`);\n            }\n            yield* this.getChildren(item.leftChildren, alignment, item.head.affinity?.compact);\n            yield { entry: item.head, id: item.id, alignment, compact: compact || item.head.affinity?.compact };\n            yield* this.getChildren(item.rightChildren, alignment, item.head.affinity?.compact);\n        }\n    }\n\n    set(id: string, entry: StatusBarEntry): void {\n        const existing = this.findElement(id);\n        if (existing) {\n            const oldEntry = existing.entry.head;\n            existing.entry.head = entry;\n            if (!this.shareSameContainer(entry, oldEntry)) {\n                this.relocate(existing);\n            } else if (!this.shareSamePriority(entry, oldEntry)) {\n                this.sort(existing.container);\n            }\n        } else {\n            const container = this.getContainerFor(entry);\n            const viewModelEntry = { id, head: entry, leftChildren: [], rightChildren: [] };\n            container.push(viewModelEntry);\n            this.containerPointers.set(id, container);\n            const pendingDependents = this.getDependentsOf(id);\n            pendingDependents.forEach(newChild => this.relocate(newChild, true));\n            this.sortDependents(viewModelEntry.leftChildren);\n            this.sortDependents(viewModelEntry.rightChildren);\n            this.sort(container);\n        }\n        this.onDidChangeEmitter.fire();\n    }\n\n    protected relocate(locationData: EntryLocation, dontSort?: boolean): void {\n        const newContainer = this.getContainerFor(locationData.entry.head);\n        locationData.container.splice(locationData.index, 1);\n        newContainer.push(locationData.entry);\n        this.containerPointers.set(locationData.entry.id, newContainer);\n        if (!dontSort) {\n            this.sort(newContainer);\n        }\n    }\n\n    protected getContainerFor(entry: StatusBarEntry): StatusBarViewModelEntry[] {\n        const affinityParent = entry.affinity && this.findElement(entry.affinity.id);\n        if (affinityParent) {\n            return entry.affinity!.alignment === StatusBarAlignment.LEFT ? affinityParent.entry.leftChildren : affinityParent.entry.rightChildren;\n        }\n        return entry.alignment === StatusBarAlignment.LEFT ? this.leftTree : this.rightTree;\n    }\n\n    protected getDependentsOf(id: string): EntryLocation[] {\n        const dependents = [];\n        for (let index = 0; index < this.rightTree.length || index < this.leftTree.length; index++) {\n            if (this.rightTree[index]?.head.affinity?.id === id) {\n                dependents.push({ index, container: this.rightTree, entry: this.rightTree[index] });\n            }\n            if (this.leftTree[index]?.head.affinity?.id === id) {\n                dependents.push({ index, container: this.leftTree, entry: this.leftTree[index] });\n            }\n        }\n        return dependents;\n    }\n\n    remove(id: string): boolean {\n        const location = this.findElement(id);\n        if (location) {\n            this.containerPointers.delete(id);\n            location.container.splice(location.index, 1);\n            const originalLeftLength = this.leftTree.length;\n            const originalRightLength = this.rightTree.length;\n            this.inline(location.entry.leftChildren, location.entry.rightChildren);\n            if (originalLeftLength !== this.leftTree.length) {\n                this.sortTop(this.leftTree);\n            }\n            if (originalRightLength !== this.rightTree.length) {\n                this.sortTop(this.rightTree);\n            }\n            this.onDidChangeEmitter.fire();\n            return true;\n        }\n        return false;\n    }\n\n    protected shareSamePositionParameters(left: StatusBarEntry, right: StatusBarEntry): boolean {\n        if ((left.priority ?? 0) !== (right.priority ?? 0)) { return false; }\n        if (this.affinityMatters(left, right)) {\n            return left.affinity?.id === right.affinity?.id && left.affinity?.alignment === right.affinity?.alignment && left.affinity?.compact === right.affinity?.compact;\n        }\n        return left.alignment === right.alignment;\n    }\n\n    protected shareSameContainer(left: StatusBarEntry, right: StatusBarEntry): boolean {\n        if (this.affinityMatters(left, right)) {\n            return left.affinity?.id === right.affinity?.id && left.affinity?.alignment === right.affinity?.alignment;\n        }\n        return left.alignment === right.alignment;\n    }\n\n    protected shareSamePriority(left: StatusBarEntry, right: StatusBarEntry): boolean {\n        return (left.priority ?? 0) === (right.priority ?? 0) && (!this.affinityMatters(left, right) || left.affinity?.compact === right.affinity?.compact);\n    }\n\n    protected affinityMatters(left: StatusBarEntry, right: StatusBarEntry): boolean {\n        return (left.affinity && this.containerPointers.has(left.affinity.id)) || Boolean(right.affinity && this.containerPointers.has(right.affinity.id));\n    }\n\n    protected findElement(id?: string): EntryLocation | undefined {\n        const container = id !== undefined && this.containerPointers.get(id);\n        if (container) {\n            const index = container.findIndex(candidate => candidate.id === id);\n            if (index !== -1) {\n                return { index, entry: container[index], container };\n            }\n        }\n    }\n\n    protected sort(container: StatusBarViewModelEntry[]): void {\n        if (container === this.leftTree || container === this.rightTree) {\n            this.sortTop(container);\n        } else {\n            this.sortDependents(container);\n        }\n    }\n\n    protected sortTop(container: StatusBarViewModelEntry[]): void {\n        container.sort((left, right) => this.comparePriority(left, right));\n    }\n\n    protected comparePriority(left: StatusBarViewModelEntry, right: StatusBarViewModelEntry): number {\n        return (right.head.priority ?? 0) - (left.head.priority ?? 0);\n    }\n\n    protected sortDependents(container: StatusBarViewModelEntry[]): void {\n        container.sort((left, right) => {\n            if (left.head.affinity?.compact && !right.head.affinity?.compact) {\n                return ArrayUtils.Sort.LeftBeforeRight;\n            } else if (right.head.affinity?.compact) {\n                return ArrayUtils.Sort.RightBeforeLeft;\n            }\n            return this.comparePriority(left, right);\n        });\n    }\n\n    protected inline(left: StatusBarViewModelEntry[], right: StatusBarViewModelEntry[]): void {\n        for (const entry of left) { this.doAddTop(entry); }\n        for (const entry of right) { this.doAddTop(entry); }\n    }\n\n    protected doAddTop(entry: StatusBarViewModelEntry): void {\n        const container = entry.head.alignment === StatusBarAlignment.LEFT ? this.leftTree : this.rightTree;\n        this.containerPointers.set(entry.id, container);\n        container.push(entry);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017-2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from 'react';\nimport { injectable, inject } from 'inversify';\nimport debounce = require('lodash.debounce');\nimport { CommandService } from '../../common';\nimport { ReactWidget } from '../widgets/react-widget';\nimport { FrontendApplicationStateService } from '../frontend-application-state';\nimport { LabelParser, LabelIcon } from '../label-parser';\nimport { PreferenceService } from '../preferences';\nimport { StatusBar, StatusBarEntry, StatusBarAlignment, StatusBarViewEntry } from './status-bar-types';\nimport { StatusBarViewModel } from './status-bar-view-model';\nimport { HoverService } from '../hover-service';\nimport { codicon } from '../widgets';\nexport { StatusBar, StatusBarAlignment, StatusBarEntry };\n\n@injectable()\nexport class StatusBarImpl extends ReactWidget implements StatusBar {\n\n    protected backgroundColor: string | undefined;\n    protected color: string | undefined;\n\n    constructor(\n        @inject(CommandService) protected readonly commands: CommandService,\n        @inject(LabelParser) protected readonly entryService: LabelParser,\n        @inject(FrontendApplicationStateService) protected readonly applicationStateService: FrontendApplicationStateService,\n        @inject(PreferenceService) protected readonly preferences: PreferenceService,\n        @inject(StatusBarViewModel) protected readonly viewModel: StatusBarViewModel,\n        @inject(HoverService) protected readonly hoverService: HoverService,\n    ) {\n        super();\n        delete this.scrollOptions;\n        this.id = 'theia-statusBar';\n        this.addClass('noselect');\n        // Hide the status bar until the `workbench.statusBar.visible` preference returns with a `true` value.\n        this.hide();\n        this.preferences.ready.then(() => {\n            const preferenceValue = this.preferences.get<boolean>('workbench.statusBar.visible', true);\n            this.setHidden(!preferenceValue);\n        });\n        this.toDispose.push(\n            this.preferences.onPreferenceChanged(preference => {\n                if (preference.preferenceName === 'workbench.statusBar.visible') {\n                    this.setHidden(!preference.newValue);\n                }\n            })\n        );\n        this.toDispose.push(this.viewModel.onDidChange(() => this.debouncedUpdate()));\n    }\n\n    protected debouncedUpdate = debounce(() => this.update(), 50);\n\n    protected get ready(): Promise<void> {\n        return this.applicationStateService.reachedAnyState('initialized_layout', 'ready');\n    }\n\n    async setElement(id: string, entry: StatusBarEntry): Promise<void> {\n        await this.ready;\n        this.viewModel.set(id, entry);\n    }\n\n    async removeElement(id: string): Promise<void> {\n        await this.ready;\n        this.viewModel.remove(id);\n    }\n\n    async setBackgroundColor(color?: string): Promise<void> {\n        await this.ready;\n        this.internalSetBackgroundColor(color);\n        this.update();\n    }\n\n    protected internalSetBackgroundColor(color?: string): void {\n        this.backgroundColor = color;\n        this.node.style.backgroundColor = this.backgroundColor || '';\n    }\n\n    async setColor(color?: string): Promise<void> {\n        await this.ready;\n        this.internalSetColor(color);\n        this.update();\n    }\n\n    protected internalSetColor(color?: string): void {\n        this.color = color;\n    }\n    protected render(): JSX.Element {\n        const leftEntries = Array.from(this.viewModel.getLeft(), entry => this.renderElement(entry));\n        const rightEntries = Array.from(this.viewModel.getRight(), entry => this.renderElement(entry));\n\n        return <React.Fragment>\n            <div className='area left'>{leftEntries}</div>\n            <div className='area right'>{rightEntries}</div>\n        </React.Fragment>;\n    }\n\n    protected onclick(entry: StatusBarEntry): () => void {\n        return () => {\n            if (entry.command) {\n                const args = entry.arguments || [];\n                this.commands.executeCommand(entry.command, ...args);\n            }\n        };\n    }\n\n    protected createAttributes(viewEntry: StatusBarViewEntry): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        const attrs: React.Attributes & React.HTMLAttributes<HTMLElement> = {};\n        const entry = viewEntry.entry;\n        attrs.id = 'status-bar-' + viewEntry.id;\n        attrs.className = 'element';\n        if (entry.command || entry.onclick || entry.tooltip) {\n            attrs.className += ' hasCommand';\n        }\n        if (entry.command) {\n            attrs.onClick = this.onclick(entry);\n        } else if (entry.onclick) {\n            attrs.onClick = e => entry.onclick?.(e.nativeEvent);\n        }\n\n        if (viewEntry.compact && viewEntry.alignment !== undefined) {\n            attrs.className += viewEntry.alignment === StatusBarAlignment.RIGHT ? ' compact-right' : ' compact-left';\n        }\n\n        if (entry.tooltip) {\n            attrs.onMouseEnter = e => this.hoverService.requestHover({\n                content: entry.tooltip!,\n                target: e.currentTarget,\n                position: 'top'\n            });\n        }\n        if (entry.className) {\n            attrs.className += ' ' + entry.className;\n        }\n        if (entry.accessibilityInformation) {\n            attrs['aria-label'] = entry.accessibilityInformation.label;\n            attrs.role = entry.accessibilityInformation.role;\n        } else {\n            attrs['aria-label'] = [entry.text, entry.tooltip].join(', ');\n        }\n        if (entry.backgroundColor) {\n            attrs.className += ' has-background';\n        }\n\n        attrs.style = {\n            color: entry.color || this.color,\n            backgroundColor: entry.backgroundColor\n        };\n\n        return attrs;\n    }\n\n    protected renderElement(entry: StatusBarViewEntry): JSX.Element {\n        const childStrings = this.entryService.parse(entry.entry.text);\n        const children: JSX.Element[] = [];\n\n        childStrings.forEach((val, key) => {\n            if (LabelIcon.is(val)) {\n                const animation = val.animation ? ` fa-${val.animation}` : '';\n                if (val.name.startsWith('codicon-')) {\n                    children.push(<span key={key} className={`codicon ${val.name}${animation}`}></span>);\n                } else if (val.name.startsWith('fa-')) {\n                    children.push(<span key={key} className={`fa ${val.name}${animation}`}></span>);\n                } else {\n                    children.push(<span key={key} className={`${codicon(val.name)}${animation}`}></span>);\n                }\n            } else {\n                children.push(<span key={key}>{val}</span>);\n            }\n        });\n        return <div key={entry.id} {...this.createAttributes(entry)}>\n            {children}\n        </div>;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from 'inversify';\nimport { ILogger } from '../common/logger';\nimport { MessageService } from '../common/message-service';\nimport { WindowService } from './window/window-service';\nimport { environment } from '@theia/application-package/lib/environment';\n\nexport const StorageService = Symbol('IStorageService');\n/**\n * The storage service provides an interface to some data storage that allows extensions to keep state among sessions.\n */\nexport interface StorageService {\n\n    /**\n     * Stores the given data under the given key.\n     */\n    setData<T>(key: string, data: T): Promise<void>;\n\n    /**\n     * Returns the data stored for the given key or the provided default value if nothing is stored for the given key.\n     */\n    getData<T>(key: string, defaultValue: T): Promise<T>;\n    getData<T>(key: string): Promise<T | undefined>;\n}\n\ninterface LocalStorage {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [key: string]: any;\n}\n\n@injectable()\nexport class LocalStorageService implements StorageService {\n    private storage: LocalStorage;\n\n    @inject(ILogger) protected logger: ILogger;\n    @inject(MessageService) protected readonly messageService: MessageService;\n    @inject(WindowService) protected readonly windowService: WindowService;\n\n    @postConstruct()\n    protected init(): void {\n        if (typeof window !== 'undefined' && window.localStorage) {\n            this.storage = window.localStorage;\n            this.testLocalStorage();\n        } else {\n            this.logger.warn(log => log(\"The browser doesn't support localStorage. state will not be persisted across sessions.\"));\n            this.storage = {};\n        }\n    }\n\n    setData<T>(key: string, data?: T): Promise<void> {\n        if (data !== undefined) {\n            try {\n                this.storage[this.prefix(key)] = JSON.stringify(data);\n            } catch (e) {\n                this.showDiskQuotaExceededMessage();\n            }\n        } else {\n            delete this.storage[this.prefix(key)];\n        }\n        return Promise.resolve();\n    }\n\n    getData<T>(key: string, defaultValue?: T): Promise<T | undefined> {\n        const result = this.storage[this.prefix(key)];\n        if (result === undefined) {\n            return Promise.resolve(defaultValue);\n        }\n        return Promise.resolve(JSON.parse(result));\n    }\n\n    protected prefix(key: string): string {\n        if (environment.electron.is()) {\n            return `theia:${key}`;\n        }\n        const pathname = typeof window === 'undefined' ? '' : window.location.pathname;\n        return `theia:${pathname}:${key}`;\n    }\n\n    private async showDiskQuotaExceededMessage(): Promise<void> {\n        const READ_INSTRUCTIONS_ACTION = 'Read Instructions';\n        const CLEAR_STORAGE_ACTION = 'Clear Local Storage';\n        const ERROR_MESSAGE = `Your preferred browser's local storage is almost full.\n        To be able to save your current workspace layout or data, you may need to free up some space.\n        You can refer to Theia's documentation page for instructions on how to manually clean\n        your browser's local storage or choose to clear all.`;\n        this.messageService.warn(ERROR_MESSAGE, READ_INSTRUCTIONS_ACTION, CLEAR_STORAGE_ACTION).then(async selected => {\n            if (READ_INSTRUCTIONS_ACTION === selected) {\n                this.windowService.openNewWindow('https://github.com/eclipse-theia/theia/wiki/Cleaning-Local-Storage', { external: true });\n            } else if (CLEAR_STORAGE_ACTION === selected) {\n                this.clearStorage();\n            }\n        });\n    }\n\n    /**\n     * Verify if there is still some spaces left to save another workspace configuration into the local storage of your browser.\n     * If we are close to the limit, use a dialog to notify the user.\n     */\n    private testLocalStorage(): void {\n        const keyTest = this.prefix('Test');\n        try {\n            this.storage[keyTest] = JSON.stringify(new Array(60000));\n        } catch (error) {\n            this.showDiskQuotaExceededMessage();\n        } finally {\n            this.storage.removeItem(keyTest);\n        }\n    }\n\n    private clearStorage(): void {\n        this.storage.clear();\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, named } from 'inversify';\nimport { ContributionProvider } from '../common/contribution-provider';\nimport { Theme, ThemeType } from '../common/theme';\nimport { ColorRegistry } from './color-registry';\nimport { DecorationStyle } from './decoration-style';\nimport { FrontendApplicationContribution } from './frontend-application-contribution';\nimport { ThemeService } from './theming';\nimport { SecondaryWindowHandler } from './secondary-window-handler';\n\nexport const StylingParticipant = Symbol('StylingParticipant');\n\nexport interface StylingParticipant {\n    registerThemeStyle(theme: ColorTheme, collector: CssStyleCollector): void\n}\n\nexport interface ColorTheme {\n    type: ThemeType\n    label: string\n    getColor(color: string): string | undefined;\n}\n\nexport interface CssStyleCollector {\n    addRule(rule: string): void;\n}\n\n@injectable()\nexport class StylingService implements FrontendApplicationContribution {\n    protected cssElements = new Map<Window, HTMLStyleElement>();\n\n    @inject(ThemeService)\n    protected readonly themeService: ThemeService;\n\n    @inject(ColorRegistry)\n    protected readonly colorRegistry: ColorRegistry;\n\n    @inject(ContributionProvider) @named(StylingParticipant)\n    protected readonly themingParticipants: ContributionProvider<StylingParticipant>;\n\n    @inject(SecondaryWindowHandler)\n    protected readonly secondaryWindowHandler: SecondaryWindowHandler;\n\n    onStart(): void {\n        this.registerWindow(window);\n        this.secondaryWindowHandler.onWillAddWidget(([widget, window]) => {\n            this.registerWindow(window);\n        });\n        this.secondaryWindowHandler.onWillRemoveWidget(([widget, window]) => {\n            this.cssElements.delete(window);\n        });\n\n        this.themeService.onDidColorThemeChange(e => this.applyStylingToWindows(e.newTheme));\n    }\n\n    registerWindow(win: Window): void {\n        const cssElement = DecorationStyle.createStyleElement('contributedColorTheme', win.document.head);\n        this.cssElements.set(win, cssElement);\n        this.applyStyling(this.themeService.getCurrentTheme(), cssElement);\n    }\n\n    protected applyStylingToWindows(theme: Theme): void {\n        this.cssElements.forEach(cssElement => this.applyStyling(theme, cssElement));\n    }\n\n    protected applyStyling(theme: Theme, cssElement: HTMLStyleElement): void {\n        const rules: string[] = [];\n        const colorTheme: ColorTheme = {\n            type: theme.type,\n            label: theme.label,\n            getColor: color => this.colorRegistry.getCurrentColor(color)\n        };\n        const styleCollector: CssStyleCollector = {\n            addRule: rule => rules.push(rule)\n        };\n        for (const themingParticipant of this.themingParticipants.getContributions()) {\n            themingParticipant.registerThemeStyle(colorTheme, styleCollector);\n        }\n        const fullCss = rules.join('\\n');\n        cssElement.innerText = fullCss;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Xuye Cai and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n// copied from vscode: https://github.com/microsoft/vscode/blob/master/src/vs/workbench/services/textfile/common/textfiles.ts\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport const SUPPORTED_ENCODINGS: { [encoding: string]: { labelLong: string; labelShort: string; order: number; encodeOnly?: boolean; alias?: string } } = {\n    utf8: {\n        labelLong: 'UTF-8',\n        labelShort: 'UTF-8',\n        order: 1,\n        alias: 'utf8bom'\n    },\n    utf8bom: {\n        labelLong: 'UTF-8 with BOM',\n        labelShort: 'UTF-8 with BOM',\n        encodeOnly: true,\n        order: 2,\n        alias: 'utf8'\n    },\n    utf16le: {\n        labelLong: 'UTF-16 LE',\n        labelShort: 'UTF-16 LE',\n        order: 3\n    },\n    utf16be: {\n        labelLong: 'UTF-16 BE',\n        labelShort: 'UTF-16 BE',\n        order: 4\n    },\n    windows1252: {\n        labelLong: 'Western (Windows 1252)',\n        labelShort: 'Windows 1252',\n        order: 5\n    },\n    iso88591: {\n        labelLong: 'Western (ISO 8859-1)',\n        labelShort: 'ISO 8859-1',\n        order: 6\n    },\n    iso88593: {\n        labelLong: 'Western (ISO 8859-3)',\n        labelShort: 'ISO 8859-3',\n        order: 7\n    },\n    iso885915: {\n        labelLong: 'Western (ISO 8859-15)',\n        labelShort: 'ISO 8859-15',\n        order: 8\n    },\n    macroman: {\n        labelLong: 'Western (Mac Roman)',\n        labelShort: 'Mac Roman',\n        order: 9\n    },\n    cp437: {\n        labelLong: 'DOS (CP 437)',\n        labelShort: 'CP437',\n        order: 10\n    },\n    windows1256: {\n        labelLong: 'Arabic (Windows 1256)',\n        labelShort: 'Windows 1256',\n        order: 11\n    },\n    iso88596: {\n        labelLong: 'Arabic (ISO 8859-6)',\n        labelShort: 'ISO 8859-6',\n        order: 12\n    },\n    windows1257: {\n        labelLong: 'Baltic (Windows 1257)',\n        labelShort: 'Windows 1257',\n        order: 13\n    },\n    iso88594: {\n        labelLong: 'Baltic (ISO 8859-4)',\n        labelShort: 'ISO 8859-4',\n        order: 14\n    },\n    iso885914: {\n        labelLong: 'Celtic (ISO 8859-14)',\n        labelShort: 'ISO 8859-14',\n        order: 15\n    },\n    windows1250: {\n        labelLong: 'Central European (Windows 1250)',\n        labelShort: 'Windows 1250',\n        order: 16\n    },\n    iso88592: {\n        labelLong: 'Central European (ISO 8859-2)',\n        labelShort: 'ISO 8859-2',\n        order: 17\n    },\n    cp852: {\n        labelLong: 'Central European (CP 852)',\n        labelShort: 'CP 852',\n        order: 18\n    },\n    windows1251: {\n        labelLong: 'Cyrillic (Windows 1251)',\n        labelShort: 'Windows 1251',\n        order: 19\n    },\n    cp866: {\n        labelLong: 'Cyrillic (CP 866)',\n        labelShort: 'CP 866',\n        order: 20\n    },\n    iso88595: {\n        labelLong: 'Cyrillic (ISO 8859-5)',\n        labelShort: 'ISO 8859-5',\n        order: 21\n    },\n    koi8r: {\n        labelLong: 'Cyrillic (KOI8-R)',\n        labelShort: 'KOI8-R',\n        order: 22\n    },\n    koi8u: {\n        labelLong: 'Cyrillic (KOI8-U)',\n        labelShort: 'KOI8-U',\n        order: 23\n    },\n    iso885913: {\n        labelLong: 'Estonian (ISO 8859-13)',\n        labelShort: 'ISO 8859-13',\n        order: 24\n    },\n    windows1253: {\n        labelLong: 'Greek (Windows 1253)',\n        labelShort: 'Windows 1253',\n        order: 25\n    },\n    iso88597: {\n        labelLong: 'Greek (ISO 8859-7)',\n        labelShort: 'ISO 8859-7',\n        order: 26\n    },\n    windows1255: {\n        labelLong: 'Hebrew (Windows 1255)',\n        labelShort: 'Windows 1255',\n        order: 27\n    },\n    iso88598: {\n        labelLong: 'Hebrew (ISO 8859-8)',\n        labelShort: 'ISO 8859-8',\n        order: 28\n    },\n    iso885910: {\n        labelLong: 'Nordic (ISO 8859-10)',\n        labelShort: 'ISO 8859-10',\n        order: 29\n    },\n    iso885916: {\n        labelLong: 'Romanian (ISO 8859-16)',\n        labelShort: 'ISO 8859-16',\n        order: 30\n    },\n    windows1254: {\n        labelLong: 'Turkish (Windows 1254)',\n        labelShort: 'Windows 1254',\n        order: 31\n    },\n    iso88599: {\n        labelLong: 'Turkish (ISO 8859-9)',\n        labelShort: 'ISO 8859-9',\n        order: 32\n    },\n    windows1258: {\n        labelLong: 'Vietnamese (Windows 1258)',\n        labelShort: 'Windows 1258',\n        order: 33\n    },\n    gbk: {\n        labelLong: 'Simplified Chinese (GBK)',\n        labelShort: 'GBK',\n        order: 34\n    },\n    gb18030: {\n        labelLong: 'Simplified Chinese (GB18030)',\n        labelShort: 'GB18030',\n        order: 35\n    },\n    cp950: {\n        labelLong: 'Traditional Chinese (Big5)',\n        labelShort: 'Big5',\n        order: 36\n    },\n    big5hkscs: {\n        labelLong: 'Traditional Chinese (Big5-HKSCS)',\n        labelShort: 'Big5-HKSCS',\n        order: 37\n    },\n    shiftjis: {\n        labelLong: 'Japanese (Shift JIS)',\n        labelShort: 'Shift JIS',\n        order: 38\n    },\n    eucjp: {\n        labelLong: 'Japanese (EUC-JP)',\n        labelShort: 'EUC-JP',\n        order: 39\n    },\n    euckr: {\n        labelLong: 'Korean (EUC-KR)',\n        labelShort: 'EUC-KR',\n        order: 40\n    },\n    windows874: {\n        labelLong: 'Thai (Windows 874)',\n        labelShort: 'Windows 874',\n        order: 41\n    },\n    iso885911: {\n        labelLong: 'Latin/Thai (ISO 8859-11)',\n        labelShort: 'ISO 8859-11',\n        order: 42\n    },\n    koi8ru: {\n        labelLong: 'Cyrillic (KOI8-RU)',\n        labelShort: 'KOI8-RU',\n        order: 43\n    },\n    koi8t: {\n        labelLong: 'Tajik (KOI8-T)',\n        labelShort: 'KOI8-T',\n        order: 44\n    },\n    gb2312: {\n        labelLong: 'Simplified Chinese (GB 2312)',\n        labelShort: 'GB 2312',\n        order: 45\n    },\n    cp865: {\n        labelLong: 'Nordic DOS (CP 865)',\n        labelShort: 'CP 865',\n        order: 46\n    },\n    cp850: {\n        labelLong: 'Western European DOS (CP 850)',\n        labelShort: 'CP 850',\n        order: 47\n    }\n};\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Emitter, Event } from '../common/event';\nimport { Disposable } from '../common/disposable';\nimport { FrontendApplicationConfigProvider } from './frontend-application-config-provider';\nimport { ApplicationProps, DefaultTheme } from '@theia/application-package/lib/application-props';\nimport { Theme, ThemeChangeEvent } from '../common/theme';\nimport { inject, injectable, postConstruct } from 'inversify';\nimport { Deferred } from '../common/promise-util';\nimport { PreferenceSchemaProvider, PreferenceService } from './preferences';\nimport debounce = require('lodash.debounce');\n\nconst COLOR_THEME_PREFERENCE_KEY = 'workbench.colorTheme';\nconst NO_THEME = { id: 'no-theme', label: 'Not a real theme.', type: 'dark' } as const;\n\n@injectable()\nexport class ThemeService {\n    static readonly STORAGE_KEY = 'theme';\n\n    @inject(PreferenceService) protected readonly preferences: PreferenceService;\n    @inject(PreferenceSchemaProvider) protected readonly schemaProvider: PreferenceSchemaProvider;\n\n    protected themes: { [id: string]: Theme } = {};\n    protected activeTheme: Theme = NO_THEME;\n    protected readonly themeChange = new Emitter<ThemeChangeEvent>();\n    protected readonly deferredInitializer = new Deferred();\n    get initialized(): Promise<void> {\n        return this.deferredInitializer.promise;\n    }\n\n    readonly onDidColorThemeChange: Event<ThemeChangeEvent> = this.themeChange.event;\n\n    @postConstruct()\n    protected init(): void {\n        this.register(...BuiltinThemeProvider.themes);\n        this.loadUserTheme();\n        this.preferences.ready.then(() => {\n            this.validateActiveTheme();\n            this.updateColorThemePreference();\n            this.preferences.onPreferencesChanged(changes => {\n                if (COLOR_THEME_PREFERENCE_KEY in changes) {\n                    this.validateActiveTheme();\n                }\n            });\n        });\n    }\n\n    register(...themes: Theme[]): Disposable {\n        for (const theme of themes) {\n            this.themes[theme.id] = theme;\n        }\n        this.validateActiveTheme();\n        this.updateColorThemePreference();\n        return Disposable.create(() => {\n            for (const theme of themes) {\n                delete this.themes[theme.id];\n                if (this.activeTheme === theme) {\n                    this.setCurrentTheme(this.defaultTheme.id, false);\n                }\n            }\n            this.updateColorThemePreference();\n        });\n    }\n\n    protected validateActiveTheme(): void {\n        if (this.preferences.isReady) {\n            const configuredTheme = this.getConfiguredTheme();\n            if (configuredTheme && configuredTheme !== this.activeTheme) {\n                this.setCurrentTheme(configuredTheme.id, false);\n            }\n        }\n    }\n\n    protected updateColorThemePreference = debounce(() => this.doUpdateColorThemePreference(), 500);\n\n    protected doUpdateColorThemePreference(): void {\n        const preference = this.schemaProvider.getSchemaProperty(COLOR_THEME_PREFERENCE_KEY);\n        if (preference) {\n            const sortedThemes = this.getThemes().sort((a, b) => a.label.localeCompare(b.label));\n            this.schemaProvider.updateSchemaProperty(COLOR_THEME_PREFERENCE_KEY, {\n                ...preference,\n                enum: sortedThemes.map(e => e.id),\n                enumItemLabels: sortedThemes.map(e => e.label)\n            });\n        }\n    }\n\n    getThemes(): Theme[] {\n        const result = [];\n        for (const o in this.themes) {\n            if (this.themes.hasOwnProperty(o)) {\n                result.push(this.themes[o]);\n            }\n        }\n        return result;\n    }\n\n    getTheme(themeId: string): Theme {\n        return this.themes[themeId] || this.defaultTheme;\n    }\n\n    protected tryGetTheme(themeId: string): Theme | undefined {\n        return this.themes[themeId];\n    }\n\n    /** Should only be called at startup. */\n    loadUserTheme(): void {\n        const storedThemeId = window.localStorage.getItem(ThemeService.STORAGE_KEY) ?? this.defaultTheme.id;\n        const theme = this.getTheme(storedThemeId);\n        this.setCurrentTheme(theme.id, false);\n        this.deferredInitializer.resolve();\n    }\n\n    /**\n     * @param persist If `true`, the value of the `workbench.colorTheme` preference will be set to the provided ID.\n     */\n    setCurrentTheme(themeId: string, persist = true): void {\n        const newTheme = this.tryGetTheme(themeId);\n        const oldTheme = this.activeTheme;\n        if (newTheme && newTheme !== oldTheme) {\n            oldTheme?.deactivate?.();\n            newTheme.activate?.();\n            this.activeTheme = newTheme;\n            this.themeChange.fire({ newTheme, oldTheme });\n        }\n        if (persist) {\n            this.preferences.updateValue(COLOR_THEME_PREFERENCE_KEY, themeId);\n        }\n    }\n\n    getCurrentTheme(): Theme {\n        return this.activeTheme;\n    }\n\n    protected getConfiguredTheme(): Theme | undefined {\n        const configuredId = this.preferences.get<string>(COLOR_THEME_PREFERENCE_KEY);\n        return configuredId ? this.themes[configuredId.toString()] : undefined;\n    }\n\n    /**\n     * The default theme. If that is not applicable, returns with the fallback theme.\n     */\n    get defaultTheme(): Theme {\n        return this.tryGetTheme(DefaultTheme.defaultForOSTheme(FrontendApplicationConfigProvider.get().defaultTheme))\n            ?? this.getTheme(DefaultTheme.defaultForOSTheme(ApplicationProps.DEFAULT.frontend.config.defaultTheme));\n    }\n\n    /**\n     * Resets the state to the user's default, or to the fallback theme. Also discards any persisted state in the local storage.\n     */\n    reset(): void {\n        this.setCurrentTheme(this.defaultTheme.id);\n    }\n}\n\nexport class BuiltinThemeProvider {\n\n    static readonly darkTheme: Theme = {\n        id: 'dark',\n        type: 'dark',\n        label: 'Dark (Theia)',\n        editorTheme: 'dark-theia' // loaded in /packages/monaco/src/browser/textmate/monaco-theme-registry.ts\n    };\n\n    static readonly lightTheme: Theme = {\n        id: 'light',\n        type: 'light',\n        label: 'Light (Theia)',\n        editorTheme: 'light-theia' // loaded in /packages/monaco/src/browser/textmate/monaco-theme-registry.ts\n    };\n\n    static readonly hcTheme: Theme = {\n        id: 'hc-theia',\n        type: 'hc',\n        label: 'High Contrast (Theia)',\n        editorTheme: 'hc-theia' // loaded in /packages/monaco/src/browser/textmate/monaco-theme-registry.ts\n    };\n\n    static readonly hcLightTheme: Theme = {\n        id: 'hc-theia-light',\n        type: 'hcLight',\n        label: 'High Contrast Light (Theia)',\n        editorTheme: 'hc-theia-light' // loaded in /packages/monaco/src/browser/textmate/monaco-theme-registry.ts\n    };\n\n    static readonly themes = [\n        BuiltinThemeProvider.darkTheme,\n        BuiltinThemeProvider.lightTheme,\n        BuiltinThemeProvider.hcTheme,\n        BuiltinThemeProvider.hcLightTheme\n    ];\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Arm and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, optional, postConstruct } from 'inversify';\nimport * as React from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport { ReactRenderer, RendererHost } from './widgets/react-renderer';\nimport { CorePreferences } from './core-preferences';\nimport { generateUuid } from '../common/uuid';\n\nexport const TooltipService = Symbol('TooltipService');\n\nexport interface TooltipService {\n    tooltipId: string;\n    attachTo(host: HTMLElement): void;\n    update(fullRender?: boolean): void;\n}\n\n/**\n * Attributes to be added to an HTML element to enable\n * rich HTML tooltip rendering\n */\nexport interface TooltipAttributes {\n    /**\n     * HTML to render in the tooltip.\n     */\n    'data-tip': string;\n    /**\n     * The ID of the tooltip renderer. Should be TOOLTIP_ID.\n     */\n    'data-for': string;\n}\n\nconst DELAY_PREFERENCE = 'workbench.hover.delay';\n\n@injectable()\nexport class TooltipServiceImpl extends ReactRenderer implements TooltipService {\n\n    @inject(CorePreferences)\n    protected readonly corePreferences: CorePreferences;\n\n    public readonly tooltipId: string;\n    protected rendered = false;\n\n    constructor(\n        @inject(RendererHost) @optional() host?: RendererHost\n    ) {\n        super(host);\n        this.tooltipId = generateUuid();\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.push(this.corePreferences.onPreferenceChanged(preference => {\n            if (preference.preferenceName === DELAY_PREFERENCE) {\n                this.update(true);\n            }\n        }));\n    }\n\n    public attachTo(host: HTMLElement): void {\n        host.appendChild(this.host);\n    }\n\n    public update(fullRender = false): void {\n        if (fullRender || !this.rendered) {\n            this.render();\n            this.rendered = true;\n        }\n\n        ReactTooltip.rebuild();\n    }\n\n    protected override doRender(): React.ReactNode {\n        const hoverDelay = this.corePreferences.get(DELAY_PREFERENCE);\n        return <ReactTooltip id={this.tooltipId} className='theia-tooltip' html={true} delayShow={hoverDelay} />;\n    }\n\n    public override dispose(): void {\n        this.toDispose.dispose();\n        super.dispose();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as fuzzy from 'fuzzy';\nimport { injectable } from 'inversify';\n\n@injectable()\nexport class FuzzySearch {\n\n    private static readonly PRE = '\\x01';\n    private static readonly POST = '\\x02';\n\n    /**\n     * Filters the input and returns with an array that contains all items that match the pattern.\n     */\n    async filter<T>(input: FuzzySearch.Input<T>): Promise<FuzzySearch.Match<T>[]> {\n        return fuzzy.filter(input.pattern, input.items.slice(), {\n            pre: FuzzySearch.PRE,\n            post: FuzzySearch.POST,\n            extract: input.transform\n        }).sort(this.sortResults.bind(this)).map(this.mapResult.bind(this));\n    }\n\n    protected sortResults<T>(left: fuzzy.FilterResult<T>, right: fuzzy.FilterResult<T>): number {\n        return left.index - right.index;\n    }\n\n    protected mapResult<T>(result: fuzzy.FilterResult<T>): FuzzySearch.Match<T> {\n        return {\n            item: result.original,\n            ranges: this.mapRanges(result.string)\n        };\n    }\n\n    protected mapRanges(input: string): ReadonlyArray<FuzzySearch.Range> {\n        const copy = input.split('').filter(s => s !== '');\n        const ranges: FuzzySearch.Range[] = [];\n        const validate = (pre: number, post: number) => {\n            if (preIndex > postIndex || (preIndex === -1) !== (postIndex === -1)) {\n                throw new Error(`Error when trying to map ranges. Escaped string was: '${input}. [${[...input].join('|')}]'`);\n            }\n        };\n        let preIndex = copy.indexOf(FuzzySearch.PRE);\n        let postIndex = copy.indexOf(FuzzySearch.POST);\n        validate(preIndex, postIndex);\n        while (preIndex !== -1 && postIndex !== -1) {\n            ranges.push({\n                offset: preIndex,\n                length: postIndex - preIndex - 1\n            });\n            copy.splice(postIndex, 1);\n            copy.splice(preIndex, 1);\n            preIndex = copy.indexOf(FuzzySearch.PRE);\n            postIndex = copy.indexOf(FuzzySearch.POST);\n        }\n        if (ranges.length === 0) {\n            throw new Error(`Unexpected zero ranges for match-string: ${input}.`);\n        }\n        return ranges;\n    }\n\n}\n\n/**\n * Fuzzy searcher.\n */\nexport namespace FuzzySearch {\n\n    /**\n     * A range representing the match region.\n     */\n    export interface Range {\n\n        /**\n         * The zero based offset of the match region.\n         */\n        readonly offset: number;\n\n        /**\n         * The length of the match region.\n         */\n        readonly length: number;\n    }\n\n    /**\n     * A fuzzy search match.\n     */\n    export interface Match<T> {\n\n        /**\n         * The original item.\n         */\n        readonly item: T;\n\n        /**\n         * An array of ranges representing the match regions.\n         */\n        readonly ranges: ReadonlyArray<Range>;\n    }\n\n    /**\n     * The fuzzy search input.\n     */\n    export interface Input<T> {\n\n        /**\n         * The pattern to match.\n         */\n        readonly pattern: string;\n\n        /**\n         * The items to filter based on the `pattern`.\n         */\n        readonly items: ReadonlyArray<T>;\n\n        /**\n         * Function that extracts the string from the inputs which will be used to evaluate the fuzzy matching filter.\n         */\n        readonly transform: (item: T) => string;\n\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './tree';\nexport * from './tree-selection';\nexport * from './tree-expansion';\nexport * from './tree-navigation';\nexport * from './tree-iterator';\nexport * from './tree-model';\nexport * from './tree-widget';\nexport * from './tree-view-welcome-widget';\nexport * from './tree-container';\nexport * from './tree-decorator';\nexport * from './tree-search';\nexport * from './tree-compression';\nexport * from './tree-preference';\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Event, Emitter } from '../../common/event';\nimport { Disposable, DisposableCollection } from '../../common/disposable';\n\nimport debounce = require('lodash.debounce');\n\n/**\n * Options for the search term debounce.\n */\nexport interface SearchBoxDebounceOptions {\n\n    /**\n     * The delay (in milliseconds) before the debounce notifies clients about its content change.\n     */\n    readonly delay: number;\n\n}\n\nexport namespace SearchBoxDebounceOptions {\n\n    /**\n     * The default debounce option.\n     */\n    export const DEFAULT: SearchBoxDebounceOptions = {\n        delay: 200\n    };\n\n}\n\n/**\n * It notifies the clients, once if the underlying search term has changed after a given amount of delay.\n */\nexport class SearchBoxDebounce implements Disposable {\n\n    protected readonly disposables = new DisposableCollection();\n    protected readonly emitter = new Emitter<string | undefined>();\n    protected readonly handler: () => void;\n\n    protected state: string | undefined;\n\n    constructor(protected readonly options: SearchBoxDebounceOptions) {\n        this.disposables.push(this.emitter);\n        this.handler = debounce(() => this.fireChanged(this.state), this.options.delay).bind(this);\n    }\n\n    append(input: string | undefined): string | undefined {\n        if (input === undefined) {\n            this.reset();\n            return undefined;\n        }\n        if (this.state === undefined) {\n            this.state = input;\n        } else {\n            if (input === '\\b') {\n                this.state = this.state.length === 1 ? '' : this.state.substring(0, this.state.length - 1);\n            } else {\n                this.state += input;\n            }\n        }\n        this.handler();\n        return this.state;\n    }\n\n    get onChanged(): Event<string | undefined> {\n        return this.emitter.event;\n    }\n\n    dispose(): void {\n        this.disposables.dispose();\n    }\n\n    protected fireChanged(value: string | undefined): void {\n        this.emitter.fire(value);\n    }\n\n    protected reset(): void {\n        this.state = undefined;\n        this.fireChanged(undefined);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { SearchBoxDebounce, SearchBoxDebounceOptions } from '../tree/search-box-debounce';\nimport { BaseWidget, Message } from '../widgets/widget';\nimport { Emitter, Event } from '../../common/event';\nimport { KeyCode, Key } from '../keyboard/keys';\nimport { nls } from '../../common/nls';\n\n/**\n * Initializer properties for the search box widget.\n */\nexport interface SearchBoxProps extends SearchBoxDebounceOptions {\n\n    /**\n     * If `true`, the `Previous`, `Next`, and `Close` buttons will be visible. Otherwise, `false`. Defaults to `false`.\n     */\n    readonly showButtons?: boolean;\n\n    /**\n     * If `true`, `Filter` and `Close` buttons will be visible, and clicking the `Filter` button will triggers filter on the search term. Defaults to `false`.\n     */\n    readonly showFilter?: boolean;\n\n}\n\nexport namespace SearchBoxProps {\n\n    /**\n     * The default search box widget option.\n     */\n    export const DEFAULT: SearchBoxProps = SearchBoxDebounceOptions.DEFAULT;\n\n}\n\n/**\n * The search box widget.\n */\nexport class SearchBox extends BaseWidget {\n\n    protected static SPECIAL_KEYS = [\n        Key.ESCAPE,\n        Key.BACKSPACE\n    ];\n\n    protected static MAX_CONTENT_LENGTH = 15;\n\n    protected readonly nextEmitter = new Emitter<void>();\n    protected readonly previousEmitter = new Emitter<void>();\n    protected readonly closeEmitter = new Emitter<void>();\n    protected readonly textChangeEmitter = new Emitter<string | undefined>();\n    protected readonly filterToggleEmitter = new Emitter<boolean>();\n    protected readonly input: HTMLSpanElement;\n    protected readonly filter: HTMLElement | undefined;\n    protected _isFiltering: boolean = false;\n\n    constructor(protected readonly props: SearchBoxProps,\n        protected readonly debounce: SearchBoxDebounce) {\n\n        super();\n        this.toDispose.pushAll([\n            this.nextEmitter,\n            this.previousEmitter,\n            this.closeEmitter,\n            this.textChangeEmitter,\n            this.filterToggleEmitter,\n            this.debounce,\n            this.debounce.onChanged(data => this.fireTextChange(data))\n        ]);\n        this.hide();\n        this.update();\n        const { input, filter } = this.createContent();\n        this.input = input;\n        this.filter = filter;\n    }\n\n    get onPrevious(): Event<void> {\n        return this.previousEmitter.event;\n    }\n\n    get onNext(): Event<void> {\n        return this.nextEmitter.event;\n    }\n\n    get onClose(): Event<void> {\n        return this.closeEmitter.event;\n    }\n\n    get onTextChange(): Event<string | undefined> {\n        return this.textChangeEmitter.event;\n    }\n\n    get onFilterToggled(): Event<boolean> {\n        return this.filterToggleEmitter.event;\n    }\n\n    get isFiltering(): boolean {\n        return this._isFiltering;\n    }\n\n    get keyCodePredicate(): KeyCode.Predicate {\n        return this.canHandle.bind(this);\n    }\n\n    protected firePrevious(): void {\n        this.previousEmitter.fire(undefined);\n    }\n\n    protected fireNext(): void {\n        this.nextEmitter.fire(undefined);\n    }\n\n    protected fireClose(): void {\n        this.closeEmitter.fire(undefined);\n    }\n\n    protected fireTextChange(input: string | undefined): void {\n        this.textChangeEmitter.fire(input);\n    }\n\n    protected fireFilterToggle(): void {\n        this.doFireFilterToggle();\n    }\n\n    protected doFireFilterToggle(toggleTo: boolean = !this._isFiltering): void {\n        if (this.filter) {\n            if (toggleTo) {\n                this.filter.classList.add(SearchBox.Styles.FILTER_ON);\n            } else {\n                this.filter.classList.remove(SearchBox.Styles.FILTER_ON);\n            }\n            this._isFiltering = toggleTo;\n            this.filterToggleEmitter.fire(toggleTo);\n            this.update();\n        }\n    }\n\n    handle(event: KeyboardEvent): void {\n        event.preventDefault();\n        const keyCode = KeyCode.createKeyCode(event);\n        if (this.canHandle(keyCode)) {\n            if (Key.equals(Key.ESCAPE, keyCode) || this.isCtrlBackspace(keyCode)) {\n                this.hide();\n            } else {\n                this.show();\n                this.handleKey(keyCode);\n            }\n        }\n    }\n\n    protected handleArrowUp(): void {\n        this.firePrevious();\n    }\n\n    protected handleArrowDown(): void {\n        this.fireNext();\n    }\n\n    override onBeforeHide(): void {\n        this.removeClass(SearchBox.Styles.NO_MATCH);\n        this.doFireFilterToggle(false);\n        this.debounce.append(undefined);\n        this.fireClose();\n    }\n\n    protected handleKey(keyCode: KeyCode): void {\n        const character = Key.equals(Key.BACKSPACE, keyCode) ? '\\b' : keyCode.character;\n        const data = this.debounce.append(character);\n        if (data) {\n            this.input.textContent = this.getTrimmedContent(data);\n            this.update();\n        } else {\n            this.hide();\n        }\n    }\n\n    protected getTrimmedContent(data: string): string {\n        if (data.length > SearchBox.MAX_CONTENT_LENGTH) {\n            return '...' + data.substring(data.length - SearchBox.MAX_CONTENT_LENGTH);\n        }\n        return data;\n    }\n\n    protected canHandle(keyCode: KeyCode | undefined): boolean {\n        if (keyCode === undefined) {\n            return false;\n        }\n        const { ctrl, alt, meta } = keyCode;\n        if (this.isCtrlBackspace(keyCode)) {\n            return true;\n        }\n        if (ctrl || alt || meta || keyCode.key === Key.SPACE) {\n            return false;\n        }\n        if (keyCode.character || (this.isVisible && SearchBox.SPECIAL_KEYS.some(key => Key.equals(key, keyCode)))) {\n            return true;\n        }\n        return false;\n    }\n\n    protected isCtrlBackspace(keyCode: KeyCode): boolean {\n        if (keyCode.ctrl && Key.equals(Key.BACKSPACE, keyCode)) {\n            return true;\n        }\n        return false;\n    }\n\n    updateHighlightInfo(info: SearchBox.HighlightInfo): void {\n        if (info.filterText && info.filterText.length > 0) {\n            if (info.matched === 0) {\n                this.addClass(SearchBox.Styles.NO_MATCH);\n            } else {\n                this.removeClass(SearchBox.Styles.NO_MATCH);\n            }\n        }\n    }\n\n    protected createContent(): {\n        container: HTMLElement,\n        input: HTMLSpanElement,\n        filter: HTMLElement | undefined,\n        previous: HTMLElement | undefined,\n        next: HTMLElement | undefined,\n        close: HTMLElement | undefined\n    } {\n        this.node.setAttribute('tabIndex', '0');\n        this.addClass(SearchBox.Styles.SEARCH_BOX);\n\n        const input = document.createElement('span');\n        input.classList.add(SearchBox.Styles.SEARCH_INPUT);\n        this.node.appendChild(input);\n\n        const buttons = document.createElement('div');\n        buttons.classList.add(SearchBox.Styles.SEARCH_BUTTONS_WRAPPER);\n        this.node.appendChild(buttons);\n\n        let filter: HTMLElement | undefined;\n        if (this.props.showFilter) {\n            filter = document.createElement('div');\n            filter.classList.add(\n                SearchBox.Styles.BUTTON,\n                ...SearchBox.Styles.FILTER,\n            );\n            filter.title = nls.localizeByDefault('Filter on Type');\n            buttons.appendChild(filter);\n            filter.onclick = this.fireFilterToggle.bind(this);\n        }\n\n        let previous: HTMLElement | undefined;\n        let next: HTMLElement | undefined;\n        let close: HTMLElement | undefined;\n\n        if (!!this.props.showButtons) {\n            previous = document.createElement('div');\n            previous.classList.add(\n                SearchBox.Styles.BUTTON,\n                SearchBox.Styles.BUTTON_PREVIOUS\n            );\n            previous.title = nls.localize('theia/core/searchbox/previous', 'Previous (Up)');\n            buttons.appendChild(previous);\n            previous.onclick = () => this.firePrevious.bind(this)();\n\n            next = document.createElement('div');\n            next.classList.add(\n                SearchBox.Styles.BUTTON,\n                SearchBox.Styles.BUTTON_NEXT\n            );\n            next.title = nls.localize('theia/core/searchbox/next', 'Next (Down)');\n            buttons.appendChild(next);\n            next.onclick = () => this.fireNext.bind(this)();\n        }\n\n        if (this.props.showButtons || this.props.showFilter) {\n            close = document.createElement('div');\n            close.classList.add(\n                SearchBox.Styles.BUTTON,\n                SearchBox.Styles.BUTTON_CLOSE\n            );\n            close.title = nls.localize('theia/core/searchbox/close', 'Close (Escape)');\n            buttons.appendChild(close);\n            close.onclick = () => this.hide.bind(this)();\n        }\n\n        return {\n            container: this.node,\n            input,\n            filter,\n            previous,\n            next,\n            close\n        };\n\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.addEventListener(this.input, 'selectstart' as any, () => false);\n    }\n\n}\n\nexport namespace SearchBox {\n\n    /**\n     * CSS classes for the search box widget.\n     */\n    export namespace Styles {\n\n        export const SEARCH_BOX = 'theia-search-box';\n        export const SEARCH_INPUT = 'theia-search-input';\n        export const SEARCH_BUTTONS_WRAPPER = 'theia-search-buttons-wrapper';\n        export const BUTTON = 'theia-search-button';\n        export const FILTER = ['codicon', 'codicon-filter'];\n        export const FILTER_ON = 'filter-active';\n        export const BUTTON_PREVIOUS = 'theia-search-button-previous';\n        export const BUTTON_NEXT = 'theia-search-button-next';\n        export const BUTTON_CLOSE = 'theia-search-button-close';\n        export const NON_SELECTABLE = 'theia-non-selectable';\n        export const NO_MATCH = 'no-match';\n    }\n\n    export interface HighlightInfo {\n        filterText: string | undefined,\n        matched: number,\n        total: number\n    }\n\n}\n\n/**\n * Search box factory.\n */\nexport const SearchBoxFactory = Symbol('SearchBoxFactory');\nexport interface SearchBoxFactory {\n\n    /**\n     * Creates a new search box with the given initializer properties.\n     */\n    (props: SearchBoxProps): SearchBox;\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from 'inversify';\nimport { CompressionToggle, TreeCompressionService } from './tree-compression-service';\nimport { ExpandableTreeNode, TreeExpansionServiceImpl } from '../tree-expansion';\n\n@injectable()\nexport class CompressedExpansionService extends TreeExpansionServiceImpl {\n    @inject(CompressionToggle) protected readonly compressionToggle: CompressionToggle;\n    @inject(TreeCompressionService) protected readonly compressionService: TreeCompressionService;\n\n    override async expandNode(raw: ExpandableTreeNode): Promise<ExpandableTreeNode | undefined> {\n        if (!this.compressionToggle.compress) { return super.expandNode(raw); }\n        const participants = this.compressionService.getCompressionChain(raw);\n        let expansionRoot;\n        for (const node of participants ?? [raw]) {\n            const next = await super.expandNode(node);\n            expansionRoot = expansionRoot ?? next;\n        }\n        return expansionRoot;\n    }\n\n    override async collapseNode(raw: ExpandableTreeNode): Promise<boolean> {\n        if (!this.compressionToggle.compress) { return super.collapseNode(raw); }\n        const participants = this.compressionService.getCompressionChain(raw);\n        let didCollapse = false;\n        for (const participant of participants ?? [raw]) {\n            didCollapse = await super.collapseNode(participant) || didCollapse;\n        }\n        return didCollapse;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from 'inversify';\nimport { CompressionToggle, TreeCompressionService } from './tree-compression-service';\nimport { CompositeTreeNode, TreeNode } from '../tree';\nimport { TreeModelImpl } from '../tree-model';\nimport { SelectableTreeNode, TreeSelection } from '../tree-selection';\nimport { ExpandableTreeNode } from '../tree-expansion';\nimport { TopDownTreeIterator, TreeIterator } from '../tree-iterator';\n\nexport class TopDownCompressedTreeIterator extends TopDownTreeIterator {\n    protected override isCollapsed(candidate: TreeNode): boolean {\n        return ExpandableTreeNode.isCollapsed(candidate) && !TreeCompressionService.prototype.isCompressionParent(candidate);\n    }\n}\n\nenum BackOrForward {\n    Forward,\n    Backward,\n}\n\n@injectable()\nexport class CompressedTreeModel extends TreeModelImpl {\n    @inject(CompressionToggle) protected readonly compressionToggle: CompressionToggle;\n    @inject(TreeCompressionService) protected readonly compressionService: TreeCompressionService;\n\n    protected selectAdjacentRow(\n        direction: BackOrForward,\n        type: TreeSelection.SelectionType = TreeSelection.SelectionType.DEFAULT,\n        startingPoint: Readonly<TreeNode> | undefined = this.getFocusedNode()\n    ): void {\n        if (!startingPoint && this.root) {\n            this.selectAdjacentRow(BackOrForward.Forward, type, this.root);\n        }\n        if (this.compressionService.isCompressionParticipant(startingPoint)) {\n            const chain = this.compressionService.getCompressionChain(startingPoint);\n            startingPoint = (direction === BackOrForward.Backward ? chain?.head() : chain?.tail()) ?? startingPoint;\n        }\n\n        const iterator = direction === BackOrForward.Backward ? this.createBackwardIterator(startingPoint) : this.createIterator(startingPoint);\n\n        const test = (candidate: TreeNode): candidate is SelectableTreeNode => SelectableTreeNode.isVisible(candidate)\n            && (this.compressionService.isCompressionHead(candidate) || !this.compressionService.isCompressionParticipant(candidate));\n\n        const rowRoot = iterator && this.doGetNextNode(iterator, test);\n        const nodes: Array<TreeNode | undefined> = (this.compressionService.getCompressionChain(rowRoot) ?? [rowRoot]).reverse();\n\n        const node = nodes.find(SelectableTreeNode.is);\n\n        if (node) {\n            this.addSelection({ node, type });\n        }\n    }\n\n    selectPrevRow(type?: TreeSelection.SelectionType): void {\n        this.selectAdjacentRow(BackOrForward.Backward, type);\n    }\n\n    selectNextRow(type?: TreeSelection.SelectionType): void {\n        this.selectAdjacentRow(BackOrForward.Forward, type);\n    }\n\n    protected override createForwardIteratorForNode(node: TreeNode): TreeIterator {\n        return new TopDownCompressedTreeIterator(node, { pruneCollapsed: true });\n    }\n\n    protected override selectIfAncestorOfSelected(node: Readonly<ExpandableTreeNode>): void {\n        if (!this.compressionToggle.compress) { return super.selectIfAncestorOfSelected(node); }\n        const tail = this.compressionService.getCompressionChain(node)?.tail() ?? node;\n        if (SelectableTreeNode.is(tail) && !tail.expanded && this.selectedNodes.some(selectedNode => CompositeTreeNode.isAncestor(tail, selectedNode))) {\n            this.selectNode(tail);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport '../../../../src/browser/tree/tree-compression/tree-compression.css';\nimport { injectable, inject } from 'inversify';\nimport * as React from 'react';\nimport { ArrayUtils } from '../../../common/types';\nimport { ContextMenuRenderer } from '../../context-menu-renderer';\nimport { CompressionToggle, TreeCompressionService } from './tree-compression-service';\nimport { CompositeTreeNode, TreeNode } from '../tree';\nimport { NodeProps, TreeProps, TreeWidget } from '../tree-widget';\nimport { SelectableTreeNode, TreeSelection } from '../tree-selection';\nimport { ExpandableTreeNode } from '../tree-expansion';\nimport { TreeViewWelcomeWidget } from '../tree-view-welcome-widget';\nimport { CompressedTreeModel } from './compressed-tree-model';\n\nexport interface CompressedChildren {\n    compressionChain?: ArrayUtils.HeadAndTail<TreeNode>;\n}\n\nexport interface CompressedNodeRow extends TreeWidget.NodeRow, CompressedChildren { }\n\nexport interface CompressedNodeProps extends NodeProps, CompressedChildren { }\n\n@injectable()\nexport class CompressedTreeWidget extends TreeViewWelcomeWidget {\n\n    @inject(CompressionToggle) protected readonly compressionToggle: CompressionToggle;\n    @inject(TreeCompressionService) protected readonly compressionService: TreeCompressionService;\n\n    constructor(\n        @inject(TreeProps) props: TreeProps,\n        @inject(CompressedTreeModel) override readonly model: CompressedTreeModel,\n        @inject(ContextMenuRenderer) contextMenuRenderer: ContextMenuRenderer,\n    ) {\n        super(props, model, contextMenuRenderer);\n    }\n\n    protected override rows = new Map<string, CompressedNodeRow>();\n\n    toggleCompression(newCompression = !this.compressionToggle.compress): void {\n        if (newCompression !== this.compressionToggle.compress) {\n            this.compressionToggle.compress = newCompression;\n            this.updateRows();\n        }\n    }\n\n    protected override shouldRenderIndent(node: TreeNode): boolean {\n        return !this.compressionToggle.compress\n            || !this.compressionService.isCompressionParticipant(node)\n            || this.compressionService.getCompressionHead(node) === node;\n    }\n\n    protected override shouldDisplayNode(node: TreeNode): boolean {\n        if (this.compressionToggle.compress && this.compressionService.isCompressionParticipant(node) && !this.compressionService.isCompressionHead(node)) {\n            return false;\n        }\n        return super.shouldDisplayNode(node);\n    }\n\n    protected override getDepthForNode(node: TreeNode, depths: Map<CompositeTreeNode | undefined, number>): number {\n        if (!this.compressionToggle.compress) {\n            return super.getDepthForNode(node, depths);\n        }\n        const parent = this.compressionService.getCompressionHead(node.parent) ?? node.parent;\n        const parentDepth = depths.get(parent);\n        return parentDepth === undefined ? 0 : TreeNode.isVisible(node.parent) ? parentDepth + 1 : parentDepth;\n    }\n\n    protected override toNodeRow(node: TreeNode, index: number, depth: number): CompressedNodeRow {\n        if (!this.compressionToggle.compress) {\n            return super.toNodeRow(node, index, depth);\n        }\n        const row: CompressedNodeRow = { node, index, depth };\n        if (this.compressionService.isCompressionHead(node)) {\n            row.compressionChain = this.compressionService.getCompressionChain(node);\n        }\n        return row;\n    }\n\n    protected override doRenderNodeRow({ node, depth, compressionChain }: CompressedNodeRow): React.ReactNode {\n        const nodeProps: CompressedNodeProps = { depth, compressionChain };\n        return <>\n            {this.renderIndent(node, nodeProps)}\n            {this.renderNode(node, nodeProps)}\n        </>;\n    }\n\n    protected override rowIsSelected(node: TreeNode, props: CompressedNodeProps): boolean {\n        if (this.compressionToggle.compress && props.compressionChain) {\n            return props.compressionChain.some(participant => SelectableTreeNode.isSelected(participant));\n        }\n        return SelectableTreeNode.isSelected(node);\n    }\n\n    protected override getCaptionAttributes(node: TreeNode, props: CompressedNodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        const operativeNode = props.compressionChain?.tail() ?? node;\n        return super.getCaptionAttributes(operativeNode, props);\n    }\n\n    protected override getCaptionChildren(node: TreeNode, props: CompressedNodeProps): React.ReactNode {\n        if (!this.compressionToggle.compress || !props.compressionChain) {\n            return super.getCaptionChildren(node, props);\n        }\n        return props.compressionChain.map((subNode, index, self) => {\n            const classes = ['theia-tree-compressed-label-part'];\n            if (SelectableTreeNode.isSelected(subNode)) {\n                classes.push('theia-tree-compressed-selected');\n            }\n            const handlers = this.getCaptionChildEventHandlers(subNode, props);\n            const caption = <span className={classes.join(' ')} key={subNode.id} {...handlers}>{super.getCaptionChildren(subNode, props)}</span>;\n            if (index === self.length - 1) {\n                return caption;\n            }\n            return [\n                caption,\n                <span className='theia-tree-compressed-label-separator' key={subNode + '-separator'}>{this.getSeparatorContent(node, props)}</span>\n            ];\n        });\n    }\n\n    protected getCaptionChildEventHandlers(node: TreeNode, props: CompressedNodeProps): React.Attributes & React.HtmlHTMLAttributes<HTMLElement> {\n        return {\n            onClick: event => (event.stopPropagation(), this.handleClickEvent(node, event)),\n            onDoubleClick: event => (event.stopPropagation(), this.handleDblClickEvent(node, event)),\n            onContextMenu: event => (event.stopPropagation(), this.handleContextMenuEvent(node, event)),\n        };\n    }\n\n    protected override handleUp(event: KeyboardEvent): void {\n        if (!this.compressionToggle.compress) {\n            return super.handleUp(event);\n        }\n        const type = this.props.multiSelect && this.hasShiftMask(event) ? TreeSelection.SelectionType.RANGE : undefined;\n        this.model.selectPrevRow(type);\n        this.node.focus();\n    }\n\n    protected override handleDown(event: KeyboardEvent): void {\n        if (!this.compressionToggle.compress) {\n            return super.handleDown(event);\n        }\n        const type = this.props.multiSelect && this.hasShiftMask(event) ? TreeSelection.SelectionType.RANGE : undefined;\n        this.model.selectNextRow(type);\n        this.node.focus();\n    }\n\n    protected override async handleLeft(event: KeyboardEvent): Promise<void> {\n        if (!this.compressionToggle.compress) {\n            return super.handleLeft(event);\n        }\n        if (Boolean(this.props.multiSelect) && (this.hasCtrlCmdMask(event) || this.hasShiftMask(event))) {\n            return;\n        }\n        const active = this.focusService.focusedNode;\n        if (ExpandableTreeNode.isExpanded(active)\n            && (\n                this.compressionService.isCompressionHead(active)\n                || !this.compressionService.isCompressionParticipant(active)\n            )) {\n            await this.model.collapseNode(active);\n        } else {\n            this.model.selectParent();\n        }\n    }\n\n    protected override async handleRight(event: KeyboardEvent): Promise<void> {\n        if (!this.compressionToggle.compress) {\n            return super.handleRight(event);\n        }\n        if (Boolean(this.props.multiSelect) && (this.hasCtrlCmdMask(event) || this.hasShiftMask(event))) {\n            return;\n        }\n        const active = this.focusService.focusedNode;\n\n        if (ExpandableTreeNode.isCollapsed(active)\n            && (\n                !this.compressionService.isCompressionParticipant(active)\n                || this.compressionService.isCompressionTail(active)\n            )) {\n            await this.model.expandNode(active);\n        } else if (ExpandableTreeNode.is(active)) {\n            this.model.selectNextNode();\n        }\n    }\n\n    protected getSeparatorContent(node: TreeNode, props: CompressedNodeProps): React.ReactNode {\n        return '/';\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './compressed-tree-expansion-service';\nexport * from './compressed-tree-model';\nexport * from './compressed-tree-widget';\nexport * from './tree-compression-service';\n","// *****************************************************************************\n// Copyright (C) 2021 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { ArrayUtils } from '../../../common/types';\nimport { TreeNode } from '../tree';\nimport { ExpandableTreeNode } from '../tree-expansion';\n\nexport interface CompressionParent extends ExpandableTreeNode {\n    children: [CompressionChild];\n}\n\nexport interface CompressionChild extends ExpandableTreeNode {\n    parent: CompressionParent;\n}\n\nexport type CompressionParticipant = CompressionChild | CompressionParent;\n\nexport interface CompressionHead extends CompressionParent {\n    parent: ExpandableTreeNode;\n}\n\nexport interface CompressionTail extends CompressionChild { }\n\nexport const CompressionToggle = Symbol('CompressionToggle');\nexport interface CompressionToggle {\n    compress: boolean;\n}\n\n@injectable()\nexport class TreeCompressionService {\n    /**\n     * @returns `true` if the node has a single child that is a CompositeTreeNode\n     * In that case, the child can be shown in the same row as the parent.\n     */\n    isCompressionParent(node?: unknown): node is CompressionParent {\n        return this.isVisibleExpandableNode(node) && node.children.length === 1 && this.isVisibleExpandableNode(node.children[0]);\n    }\n\n    protected isVisibleExpandableNode(node?: unknown): node is ExpandableTreeNode {\n        return ExpandableTreeNode.is(node) && TreeNode.isVisible(node);\n    }\n\n    /**\n     * @returns `true` if the node is a CompositeTreeNode and is its parent's sole child\n     * In that case, the node can be shown in the same row as its parent.\n     */\n    isCompressionChild(node?: TreeNode): node is CompressionChild {\n        return this.isCompressionParent(node?.parent);\n    }\n\n    /**\n     * @returns `true` if the node is a CompositeTreeNode with a sole child, and the same is not true of its parent.\n     * In that case, the node will appear as the first member of a compressed row.\n     */\n    isCompressionHead(node?: unknown): node is CompressionHead {\n        return this.isCompressionParent(node) && !this.isCompressionParent(node.parent);\n    }\n\n    /**\n     * @returns `true` if the node's parent is a CompositeTreeNode with a sole child, and the same is not true of the node.\n     * In that case, the node will appear as the last member of a compressed row.\n     */\n    isCompressionTail(node?: TreeNode): node is CompressionTail {\n        return this.isCompressionChild(node) && !this.isCompressionParent(node);\n    }\n\n    /**\n     * @returns `true` if the node is part of a compression row, either a {@link CompressionChild} or {@link CompressionParent}\n     */\n    isCompressionParticipant(node?: TreeNode): node is CompressionParticipant {\n        return this.isCompressionParent(node) || this.isCompressionChild(node);\n    }\n\n    /**\n     * @returns a sequence of compressed items for the node if it is a {@link CompressionHead}.\n     */\n    getCompressedChildren(node?: CompressionHead): ArrayUtils.Tail<CompressionChild>;\n    getCompressedChildren(node: unknown): ArrayUtils.Tail<CompressionChild> | undefined {\n        if (this.isCompressionHead(node)) {\n            const items = [];\n            let next: TreeNode = node.children[0];\n            while (this.isCompressionChild(next)) {\n                items.push(next);\n                next = next.children[0];\n            }\n            return ArrayUtils.asTail(items);\n        }\n    }\n\n    /**\n     * @returns The {@link CompressionHead} of the node's compression chain, or undefined if the node is not a {@link CompressionParticipant}.\n     */\n    getCompressionHead(node?: TreeNode): CompressionHead | undefined {\n        while (this.isCompressionParticipant(node)) {\n            if (this.isCompressionHead(node)) {\n                return node;\n            }\n            node = node.parent;\n        }\n    }\n\n    /**\n     * @returns The compression chain of which the `node` is a part, or `undefined` if the `node` is not a {@link CompressionParticipant}\n     */\n    getCompressionChain(node?: TreeNode): ArrayUtils.HeadAndTail<CompressionParticipant> | undefined {\n        const head = this.getCompressionHead(node);\n        if (head) {\n            return ArrayUtils.asHeadAndTail([head as CompressionParticipant].concat(this.getCompressedChildren(head)));\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces, Container } from 'inversify';\nimport { TreeWidget, TreeProps, defaultTreeProps } from './tree-widget';\nimport { TreeModelImpl, TreeModel } from './tree-model';\nimport { TreeImpl, Tree } from './tree';\nimport { TreeSelectionService } from './tree-selection';\nimport { TreeSelectionServiceImpl } from './tree-selection-impl';\nimport { TreeExpansionService, TreeExpansionServiceImpl } from './tree-expansion';\nimport { TreeNavigationService } from './tree-navigation';\nimport { TreeDecoratorService, NoopTreeDecoratorService } from './tree-decorator';\nimport { TreeSearch } from './tree-search';\nimport { FuzzySearch } from './fuzzy-search';\nimport { SearchBox, SearchBoxFactory } from './search-box';\nimport { SearchBoxDebounce } from './search-box-debounce';\nimport { TreeFocusService, TreeFocusServiceImpl } from './tree-focus-service';\n\nexport function isTreeServices(candidate?: Partial<TreeProps> | Partial<TreeContainerProps>): candidate is TreeContainerProps {\n    if (candidate) {\n        const maybeServices = candidate as TreeContainerProps;\n        for (const key of Object.keys(maybeServices)) {\n            // This key is in both TreeProps and TreeContainerProps, so we have to handle it separately\n            if (key === 'search' && typeof maybeServices[key] === 'boolean') {\n                return false;\n            }\n            if (key in defaultImplementations) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n\nexport function createTreeContainer(parent: interfaces.Container, props?: Partial<TreeContainerProps>): Container;\n/**\n * @deprecated Please use TreeContainerProps instead of TreeProps\n * @since 1.23.0\n */\nexport function createTreeContainer(parent: interfaces.Container, props?: Partial<TreeProps>): Container;\nexport function createTreeContainer(parent: interfaces.Container, props?: Partial<TreeProps> | Partial<TreeContainerProps>): Container {\n    const child = new Container({ defaultScope: 'Singleton' });\n    child.parent = parent;\n    const overrideServices: Partial<TreeContainerProps> = isTreeServices(props) ? props : { props: props as Partial<TreeProps> | undefined };\n    for (const key of Object.keys(serviceIdentifiers) as (keyof TreeIdentifiers)[]) {\n        if (key === 'props') {\n            const { service, identifier } = getServiceAndIdentifier(key, overrideServices);\n            child.bind(identifier).toConstantValue({\n                ...defaultImplementations.props,\n                ...service\n            });\n        } else if (key === 'searchBoxFactory') {\n            const { service, identifier } = getServiceAndIdentifier(key, overrideServices);\n            child.bind(identifier).toFactory(context => service(context));\n        } else {\n            const { service, identifier } = getServiceAndIdentifier(key, overrideServices);\n            child.bind(service).toSelf().inSingletonScope();\n            if (identifier !== service) {\n                child.bind(identifier as interfaces.ServiceIdentifier<typeof service>).toService(service);\n            }\n        }\n    }\n    return child;\n}\n\nfunction getServiceAndIdentifier<Key extends keyof TreeIdentifiers>(\n    key: Key, overrides: Partial<TreeContainerProps>\n): { service: TreeContainerProps[Key], identifier: TreeIdentifiers[Key] } {\n    const override = overrides[key] as TreeContainerProps[Key] | undefined;\n    const service = override ?? defaultImplementations[key];\n    return {\n        service,\n        identifier: serviceIdentifiers[key]\n    };\n}\n\nexport interface SearchBoxFactoryFactory {\n    (context: interfaces.Context): SearchBoxFactory;\n}\n\nconst defaultSearchBoxFactoryFactory: SearchBoxFactoryFactory = () => options => {\n    const debounce = new SearchBoxDebounce(options);\n    return new SearchBox(options, debounce);\n};\n\ninterface TreeConstants {\n    searchBoxFactory: SearchBoxFactory,\n    props: TreeProps,\n}\n\ninterface TreeServices {\n    tree: Tree,\n    selectionService: TreeSelectionService,\n    expansionService: TreeExpansionService,\n    navigationService: TreeNavigationService,\n    model: TreeModel,\n    widget: TreeWidget,\n    search: TreeSearch,\n    fuzzy: FuzzySearch,\n    decoratorService: TreeDecoratorService,\n    focusService: TreeFocusService,\n}\n\ninterface TreeTypes extends TreeServices, TreeConstants { }\n\nexport type TreeIdentifiers = { [K in keyof TreeTypes]: interfaces.ServiceIdentifier<TreeTypes[K]>; };\ntype TreeServiceProviders = { [K in keyof TreeServices]: interfaces.Newable<TreeServices[K]> };\n\nexport interface TreeContainerProps extends TreeServiceProviders {\n    props: Partial<TreeProps>,\n    searchBoxFactory: SearchBoxFactoryFactory;\n}\n\nconst defaultImplementations: TreeContainerProps & { props: TreeProps } = {\n    tree: TreeImpl,\n    selectionService: TreeSelectionServiceImpl,\n    expansionService: TreeExpansionServiceImpl,\n    navigationService: TreeNavigationService,\n    model: TreeModelImpl,\n    widget: TreeWidget,\n    search: TreeSearch,\n    fuzzy: FuzzySearch,\n    decoratorService: NoopTreeDecoratorService,\n    focusService: TreeFocusServiceImpl,\n    props: defaultTreeProps,\n    searchBoxFactory: defaultSearchBoxFactoryFactory,\n};\n\nconst serviceIdentifiers: TreeIdentifiers = {\n    tree: Tree,\n    selectionService: TreeSelectionService,\n    expansionService: TreeExpansionService,\n    navigationService: TreeNavigationService,\n    model: TreeModel,\n    widget: TreeWidget,\n    props: TreeProps,\n    search: TreeSearch,\n    fuzzy: FuzzySearch,\n    searchBoxFactory: SearchBoxFactory,\n    decoratorService: TreeDecoratorService,\n    focusService: TreeFocusService\n};\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { Tree, TreeNode } from './tree';\nimport { Event, Emitter, Disposable, DisposableCollection, MaybePromise } from '../../common';\nimport { WidgetDecoration } from '../widget-decoration';\n\n/**\n * The {@link TreeDecorator} allows adapting the look and the style of the tree items within a widget. Changes are reflected in\n * the form of `decoration data`. This `decoration data` is a map storing {@link TreeDecoration.Data} for affected tree nodes (using the unique node id as key).\n * It is important to notice that there is no common contribution point for `TreeDecorators`. Instead, each {@link TreeDecoratorService} is\n * supposed to declare its own contribution provider for `TreeDecorators`.\n *\n * ### Example usage\n * A simple tree decorator that changes the background color of each tree node to `red`.\n *\n * ```typescript\n * @injectable()\n * export class MyTreeDecorator implements TreeDecorator {\n *     id = 'myTreeDecorator';\n *\n *     protected readonly emitter = new Emitter<(tree: Tree) => Map<string, TreeDecoration.Data>>();\n *\n *     get onDidChangeDecorations(): Event<(tree: Tree) => Map<string, TreeDecoration.Data>> {\n *         return this.emitter.event;\n *     }\n *\n *     decorations(tree: Tree): MaybePromise<Map<string, TreeDecoration.Data>> {\n *         const result = new Map();\n *\n *         if (tree.root === undefined) {\n *             return result;\n *         }\n *         for (const treeNode of new DepthFirstTreeIterator(tree.root)) {\n *             result.set(treeNode.id,<TreeDecoration.Data>{backgroundColor:'red'})\n *         }\n *         return result;\n *     }\n * }\n * ```\n */\nexport interface TreeDecorator {\n\n    /**\n     * The unique identifier of the decorator. Ought to be unique in the application.\n     */\n    readonly id: string;\n\n    /**\n     * Fired when this decorator has calculated all the `decoration data` for the tree nodes.\n     */\n    readonly onDidChangeDecorations: Event<(tree: Tree) => Map<string, TreeDecoration.Data>>;\n\n    /**\n     * Computes the current `decoration data` for the given tree. Might return a promise if the computation is handled asynchronously.\n     *\n     * @param tree the tree to decorate.\n     *\n     * @returns (a promise of) a map containing the current {@linkTreeDecoration.Data} for each node. Keys are the unique identifier of the tree nodes.\n     */\n    decorations(tree: Tree): MaybePromise<Map<string, TreeDecoration.Data>>;\n\n}\n\nexport const TreeDecoratorService = Symbol('TreeDecoratorService');\n\n/**\n * The {@link TreeDecoratorService} manages a set of known {link TreeDecorator}s and emits events when\n * any of the known decorators has changes. Typically, a `TreeDecoratorService` provides a contribution point that can be used to\n * register {@link TreeDecorator}s exclusively for this service.\n *\n * ### Example usage\n * ```typescript\n * export const MyTreeDecorator = Symbol('MyTreeDecorator');\n *\n * @injectable()\n * export class MyDecorationService extends AbstractTreeDecoratorService {\n *     constructor(@inject(ContributionProvider) @named(MyTreeDecorator) protected readonly contributions: ContributionProvider<TreeDecorator>) {\n *         super(contributions.getContributions());\n *     }\n * }\n * ```\n */\nexport interface TreeDecoratorService extends Disposable {\n\n    /**\n     * Fired when any of the available tree decorators has changes.\n     */\n    readonly onDidChangeDecorations: Event<void>;\n\n    /**\n     * Computes the decorations for the tree based on the actual state of this decorator service.\n     *\n     * @param tree the tree to decorate\n     *\n     * @returns (a promise of) the computed `decoration data`\n     */\n    getDecorations(tree: Tree): MaybePromise<Map<string, TreeDecoration.Data[]>>;\n\n    /**\n     * Transforms the `decoration data` into an object, so that it can be safely serialized into JSON.\n     * @param decorations the `decoration data` that should be deflated\n     *\n     * @returns the `decoration data` as serializable JSON object\n     */\n    deflateDecorators(decorations: Map<string, TreeDecoration.Data[]>): object;\n\n    /**\n     * Counterpart of the [deflateDecorators](#deflateDecorators) method. Restores the argument into a Map\n     * of tree node IDs and the corresponding decorations data array (`decoration data`).\n     *\n     * @returns the deserialized `decoration data\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    inflateDecorators(state: any): Map<string, TreeDecoration.Data[]>;\n\n}\n\n/**\n * The default tree decorator service. Does nothing at all. One has to rebind to a concrete implementation\n * if decorators have to be supported in the tree widget.\n */\n@injectable()\nexport class NoopTreeDecoratorService implements TreeDecoratorService {\n\n    protected readonly emitter = new Emitter<void>();\n    readonly onDidChangeDecorations = this.emitter.event;\n\n    dispose(): void {\n        this.emitter.dispose();\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getDecorations(): Map<any, any> {\n        return new Map();\n    }\n\n    deflateDecorators(): object {\n        return {};\n    }\n\n    inflateDecorators(): Map<string, TreeDecoration.Data[]> {\n        return new Map();\n    }\n\n}\n\n/**\n * Abstract decorator service implementation which emits events from all known tree decorators and caches the current state.\n */\n@injectable()\nexport abstract class AbstractTreeDecoratorService implements TreeDecoratorService {\n\n    protected readonly onDidChangeDecorationsEmitter = new Emitter<void>();\n    readonly onDidChangeDecorations = this.onDidChangeDecorationsEmitter.event;\n\n    protected readonly toDispose = new DisposableCollection();\n\n    constructor(protected readonly decorators: ReadonlyArray<TreeDecorator>) {\n        this.toDispose.push(this.onDidChangeDecorationsEmitter);\n        this.toDispose.pushAll(this.decorators.map(decorator =>\n            decorator.onDidChangeDecorations(data =>\n                this.onDidChangeDecorationsEmitter.fire(undefined)\n            ))\n        );\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    async getDecorations(tree: Tree): Promise<Map<string, TreeDecoration.Data[]>> {\n        const changes = new Map();\n        for (const decorator of this.decorators) {\n            for (const [id, data] of (await decorator.decorations(tree)).entries()) {\n                if (changes.has(id)) {\n                    changes.get(id)!.push(data);\n                } else {\n                    changes.set(id, [data]);\n                }\n            }\n        }\n        return changes;\n    }\n\n    deflateDecorators(decorations: Map<string, TreeDecoration.Data[]>): object {\n        // eslint-disable-next-line no-null/no-null\n        const state = Object.create(null);\n        for (const [id, data] of decorations) {\n            state[id] = data;\n        }\n        return state;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    inflateDecorators(state: any): Map<string, TreeDecoration.Data[]> {\n        const decorators = new Map<string, TreeDecoration.Data[]>();\n        for (const id of Object.keys(state)) {\n            decorators.set(id, state[id]);\n        }\n        return decorators;\n    }\n\n}\n\n/**\n * @deprecated import from `@theia/core/lib/browser/widget-decoration` instead.\n */\nexport import TreeDecoration = WidgetDecoration;\n\nexport interface DecoratedTreeNode extends TreeNode {\n    /**\n     * The additional tree decoration data attached to the tree node itself.\n     */\n    readonly decorationData: TreeDecoration.Data;\n}\nexport namespace DecoratedTreeNode {\n    /**\n     * Type-guard for decorated tree nodes.\n     */\n    export function is(node: TreeNode | undefined): node is DecoratedTreeNode {\n        return !!node && 'decorationData' in node;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { Emitter, Event, Disposable } from '../../common';\nimport { CompositeTreeNode, TreeNode, Tree } from './tree';\n\nexport const TreeExpansionService = Symbol('TreeExpansionService');\n\n/**\n * The tree expandable service.\n */\nexport interface TreeExpansionService extends Disposable {\n    /**\n     * Emit when the node is expanded or collapsed.\n     */\n    readonly onExpansionChanged: Event<Readonly<ExpandableTreeNode>>;\n    /**\n     * Expand a node for the given node id if it is valid and collapsed.\n     * Expanding a node refreshes all its children.\n     *\n     * Return a valid expanded refreshed node or `undefined` if such does not exist.\n     */\n    expandNode(node: Readonly<ExpandableTreeNode>): Promise<Readonly<ExpandableTreeNode> | undefined>;\n    /**\n     * If the given node is valid and expanded then collapse it.\n     *\n     * Return true if a node has been collapsed; otherwise false.\n     */\n    collapseNode(node: Readonly<ExpandableTreeNode>): Promise<boolean>;\n    /**\n     * If the given node is valid then collapse it recursively.\n     *\n     * Return true if a node has been collapsed; otherwise false.\n     */\n    collapseAll(node: Readonly<CompositeTreeNode>): Promise<boolean>;\n    /**\n     * If the given node is invalid then does nothing.\n     * If the given node is collapsed then expand it; otherwise collapse it.\n     */\n    toggleNodeExpansion(node: Readonly<ExpandableTreeNode>): Promise<void>;\n}\n\n/**\n * The expandable tree node.\n */\nexport interface ExpandableTreeNode extends CompositeTreeNode {\n    /**\n     * Test whether this tree node is expanded.\n     */\n    expanded: boolean;\n}\n\nexport namespace ExpandableTreeNode {\n    export function is(node: unknown): node is ExpandableTreeNode {\n        return !!node && CompositeTreeNode.is(node) && 'expanded' in node;\n    }\n\n    export function isExpanded(node: unknown): node is ExpandableTreeNode {\n        return ExpandableTreeNode.is(node) && node.expanded;\n    }\n\n    export function isCollapsed(node: unknown): node is ExpandableTreeNode {\n        return ExpandableTreeNode.is(node) && !node.expanded;\n    }\n}\n\n@injectable()\nexport class TreeExpansionServiceImpl implements TreeExpansionService {\n\n    @inject(Tree) protected readonly tree: Tree;\n    protected readonly onExpansionChangedEmitter = new Emitter<ExpandableTreeNode>();\n\n    @postConstruct()\n    protected init(): void {\n        this.tree.onNodeRefreshed(node => {\n            for (const child of node.children) {\n                if (ExpandableTreeNode.isExpanded(child)) {\n                    node.waitUntil(this.tree.refresh(child));\n                }\n            }\n        });\n    }\n\n    dispose(): void {\n        this.onExpansionChangedEmitter.dispose();\n    }\n\n    get onExpansionChanged(): Event<ExpandableTreeNode> {\n        return this.onExpansionChangedEmitter.event;\n    }\n\n    protected fireExpansionChanged(node: ExpandableTreeNode): void {\n        this.onExpansionChangedEmitter.fire(node);\n    }\n\n    async expandNode(raw: ExpandableTreeNode): Promise<ExpandableTreeNode | undefined> {\n        const node = this.tree.validateNode(raw);\n        if (ExpandableTreeNode.isCollapsed(node)) {\n            return this.doExpandNode(node);\n        }\n        return undefined;\n    }\n\n    protected async doExpandNode(node: ExpandableTreeNode): Promise<ExpandableTreeNode | undefined> {\n        const refreshed = await this.tree.refresh(node);\n        if (ExpandableTreeNode.is(refreshed)) {\n            refreshed.expanded = true;\n            this.fireExpansionChanged(refreshed);\n            return refreshed;\n        }\n        return undefined;\n    }\n\n    async collapseNode(raw: ExpandableTreeNode): Promise<boolean> {\n        const node = this.tree.validateNode(raw);\n        return this.doCollapseNode(node);\n    }\n\n    async collapseAll(raw: CompositeTreeNode): Promise<boolean> {\n        const node = this.tree.validateNode(raw);\n        return this.doCollapseAll(node);\n    }\n\n    protected doCollapseAll(node: TreeNode | undefined): boolean {\n        let result = false;\n        if (CompositeTreeNode.is(node)) {\n            for (const child of node.children) {\n                result = this.doCollapseAll(child) || result;\n            }\n        }\n        return this.doCollapseNode(node) || result;\n    }\n\n    protected doCollapseNode(node: TreeNode | undefined): boolean {\n        if (!ExpandableTreeNode.isExpanded(node)) {\n            return false;\n        }\n        node.expanded = false;\n        this.fireExpansionChanged(node);\n        return true;\n    }\n\n    async toggleNodeExpansion(node: ExpandableTreeNode): Promise<void> {\n        if (node.expanded) {\n            await this.collapseNode(node);\n        } else {\n            await this.expandNode(node);\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from 'inversify';\nimport { Emitter, Event } from '../../common';\nimport { Tree, TreeNode } from './tree';\nimport { SelectableTreeNode } from './tree-selection';\n\nexport interface TreeFocusService {\n    readonly focusedNode: SelectableTreeNode | undefined;\n    readonly onDidChangeFocus: Event<SelectableTreeNode | undefined>;\n    setFocus(node?: SelectableTreeNode): void;\n    hasFocus(node?: TreeNode): boolean;\n}\nexport const TreeFocusService = Symbol('TreeFocusService');\n\n@injectable()\nexport class TreeFocusServiceImpl implements TreeFocusService {\n    protected focusedId: string | undefined;\n    protected onDidChangeFocusEmitter = new Emitter<SelectableTreeNode | undefined>();\n    get onDidChangeFocus(): Event<SelectableTreeNode | undefined> { return this.onDidChangeFocusEmitter.event; }\n\n    @inject(Tree) protected readonly tree: Tree;\n\n    get focusedNode(): SelectableTreeNode | undefined {\n        const candidate = this.tree.getNode(this.focusedId);\n        if (SelectableTreeNode.is(candidate)) {\n            return candidate;\n        }\n    }\n\n    setFocus(node?: SelectableTreeNode): void {\n        if (node?.id !== this.focusedId) {\n            this.focusedId = node?.id;\n            this.onDidChangeFocusEmitter.fire(node);\n        }\n    }\n\n    hasFocus(node?: TreeNode): boolean {\n        return !!node && node?.id === this.focusedId;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { TreeNode, CompositeTreeNode } from './tree';\nimport { ExpandableTreeNode } from './tree-expansion';\n\nexport interface TreeIterator extends Iterator<TreeNode> {\n}\n\nexport namespace TreeIterator {\n\n    export interface Options {\n        readonly pruneCollapsed: boolean\n        readonly pruneSiblings: boolean\n    }\n\n    export const DEFAULT_OPTIONS: Options = {\n        pruneCollapsed: false,\n        pruneSiblings: false\n    };\n\n}\n\nexport abstract class AbstractTreeIterator implements TreeIterator, Iterable<TreeNode> {\n\n    protected readonly delegate: IterableIterator<TreeNode>;\n    protected readonly options: TreeIterator.Options;\n\n    constructor(protected readonly root: TreeNode, options?: Partial<TreeIterator.Options>) {\n        this.options = {\n            ...TreeIterator.DEFAULT_OPTIONS,\n            ...options\n        };\n        this.delegate = this.iterator(this.root);\n    }\n\n    // tslint:disable-next-line:typedef\n    [Symbol.iterator]() {\n        return this.delegate;\n    }\n\n    next(): IteratorResult<TreeNode> {\n        return this.delegate.next();\n    }\n\n    protected abstract iterator(node: TreeNode): IterableIterator<TreeNode>;\n\n    protected children(node: TreeNode): TreeNode[] | undefined {\n        if (!CompositeTreeNode.is(node)) {\n            return undefined;\n        }\n        if (this.options.pruneCollapsed && this.isCollapsed(node)) {\n            return undefined;\n        }\n        return node.children.slice();\n    }\n\n    protected isCollapsed(node: TreeNode): boolean {\n        return ExpandableTreeNode.isCollapsed(node);\n    }\n\n    protected isEmpty(nodes: TreeNode[] | undefined): boolean {\n        return nodes === undefined || nodes.length === 0;\n    }\n\n}\n\nexport class DepthFirstTreeIterator extends AbstractTreeIterator {\n\n    protected iterator(root: TreeNode): IterableIterator<TreeNode> {\n        return Iterators.depthFirst(root, this.children.bind(this));\n    }\n\n}\n\nexport class BreadthFirstTreeIterator extends AbstractTreeIterator {\n\n    protected iterator(root: TreeNode): IterableIterator<TreeNode> {\n        return Iterators.breadthFirst(root, this.children.bind(this));\n    }\n\n}\n\n/**\n * This tree iterator visits all nodes from top to bottom considering the following rules.\n *\n * Let assume the following tree:\n * ```\n *   R\n *   |\n *   +---1\n *   |   |\n *   |   +---1.1\n *   |   |\n *   |   +---1.2\n *   |   |\n *   |   +---1.3\n *   |   |    |\n *   |   |    +---1.3.1\n *   |   |    |\n *   |   |    +---1.3.2\n *   |   |\n *   |   +---1.4\n *   |\n *   +---2\n *       |\n *       +---2.1\n * ```\n * When selecting `1.2` as the root, the normal `DepthFirstTreeIterator` would stop on `1.2` as it does not have children,\n * but this iterator will visit the next sibling (`1.3` and `1.4` but **not** `1.1`) nodes. So the expected traversal order will be\n * `1.2`, `1.3`, `1.3.1`, `1.3.2`,  and `1.4` then jumps to `2` and continues with `2.1`.\n */\nexport class TopDownTreeIterator extends AbstractTreeIterator {\n\n    protected iterator(root: TreeNode): IterableIterator<TreeNode> {\n        const doNext = this.doNext.bind(this);\n        return (function* (): IterableIterator<TreeNode> {\n            let next = root;\n            while (next) {\n                yield next;\n                next = doNext(next);\n            }\n        }).bind(this)();\n    }\n\n    protected doNext(node: TreeNode): TreeNode | undefined {\n        return this.findFirstChild(node) || this.findNextSibling(node);\n    }\n\n    protected findFirstChild(node: TreeNode): TreeNode | undefined {\n        return (this.children(node) || [])[0];\n    }\n\n    protected findNextSibling(node: TreeNode | undefined): TreeNode | undefined {\n        if (!node) {\n            return undefined;\n        }\n        if (this.options.pruneSiblings && node === this.root) {\n            return undefined;\n        }\n        if (node.nextSibling) {\n            return node.nextSibling;\n        }\n        return this.findNextSibling(node.parent);\n    }\n\n}\n\n/**\n * Unlike other tree iterators, this does not visit all the nodes, it stops once it reaches the root node\n * while traversing up the tree hierarchy in an inverse pre-order fashion. This is the counterpart of the `TopDownTreeIterator`.\n */\nexport class BottomUpTreeIterator extends AbstractTreeIterator {\n\n    protected iterator(root: TreeNode): IterableIterator<TreeNode> {\n        const doNext = this.doNext.bind(this);\n        return (function* (): IterableIterator<TreeNode> {\n            let next = root;\n            while (next) {\n                yield next;\n                next = doNext(next);\n            }\n        }).bind(this)();\n    }\n\n    protected doNext(node: TreeNode): TreeNode | undefined {\n        const previousSibling = node.previousSibling;\n        const lastChild = this.lastChild(previousSibling);\n        return lastChild || node.parent;\n    }\n\n    protected lastChild(node: TreeNode | undefined): TreeNode | undefined {\n        const children = node ? this.children(node) : [];\n        if (this.isEmpty(children)) {\n            return node;\n        }\n        if (CompositeTreeNode.is(node)) {\n            const lastChild = CompositeTreeNode.getLastChild(node);\n            return this.lastChild(lastChild);\n        }\n        return undefined;\n    }\n\n}\n\nexport namespace Iterators {\n\n    /**\n     * Generator for depth first, pre-order tree traversal iteration.\n     */\n    export function* depthFirst<T>(root: T, children: (node: T) => T[] | undefined, include: (node: T) => boolean = () => true): IterableIterator<T> {\n        let stack: T[] = [];\n        stack.push(root);\n        while (stack.length > 0) {\n            const top = stack.pop()!;\n            yield top;\n            stack = stack.concat((children(top) || []).filter(include).reverse());\n        }\n    }\n\n    /**\n     * Generator for breadth first tree traversal iteration.\n     */\n    export function* breadthFirst<T>(root: T, children: (node: T) => T[] | undefined, include: (node: T) => boolean = () => true): IterableIterator<T> {\n        let queue: T[] = [];\n        queue.push(root);\n        while (queue.length > 0) {\n            const head = queue.shift()!;\n            yield head;\n            queue = queue.concat((children(head) || []).filter(include));\n        }\n    }\n\n    /**\n     * Returns with the iterator of the argument.\n     */\n    export function asIterator<T>(elements: ReadonlyArray<T>): IterableIterator<T> {\n        return elements.slice()[Symbol.iterator]();\n    }\n\n    /**\n     * Returns an iterator that cycles indefinitely over the elements of iterable.\n     *  - If `start` is given it starts the iteration from that element. Otherwise, it starts with the first element of the array.\n     *  - If `start` is given, it must contain by the `elements` array. Otherwise, an error will be thrown.\n     *\n     * **Warning**: Typical uses of the resulting iterator may produce an infinite loop. You should use an explicit break.\n     */\n    export function* cycle<T>(elements: ReadonlyArray<T>, start?: T): IterableIterator<T> {\n        const copy = elements.slice();\n        let index = !!start ? copy.indexOf(start) : 0;\n        if (index === -1) {\n            throw new Error(`${start} is not contained in ${copy}.`);\n        }\n        while (true) {\n            yield copy[index];\n            index++;\n            if (index === copy.length) {\n                index = 0;\n            }\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from 'inversify';\nimport { Event, Emitter, WaitUntilEvent } from '../../common/event';\nimport { DisposableCollection } from '../../common/disposable';\nimport { CancellationToken } from '../../common/cancellation';\nimport { ILogger } from '../../common/logger';\nimport { SelectionProvider } from '../../common/selection-service';\nimport { Tree, TreeNode, CompositeTreeNode } from './tree';\nimport { TreeSelectionService, SelectableTreeNode, TreeSelection } from './tree-selection';\nimport { TreeExpansionService, ExpandableTreeNode } from './tree-expansion';\nimport { TreeNavigationService } from './tree-navigation';\nimport { TreeIterator, BottomUpTreeIterator, TopDownTreeIterator, Iterators } from './tree-iterator';\nimport { TreeSearch } from './tree-search';\nimport { TreeFocusService } from './tree-focus-service';\n\n/**\n * The tree model.\n */\nexport const TreeModel = Symbol('TreeModel');\nexport interface TreeModel extends Tree, TreeSelectionService, TreeExpansionService {\n\n    /**\n     * Expands the given node. If the `node` argument is `undefined`, then expands the currently selected tree node.\n     * If multiple tree nodes are selected, expands the most recently selected tree node.\n     */\n    expandNode(node?: Readonly<ExpandableTreeNode>): Promise<Readonly<ExpandableTreeNode> | undefined>;\n\n    /**\n     * Collapses the given node. If the `node` argument is `undefined`, then collapses the currently selected tree node.\n     * If multiple tree nodes are selected, collapses the most recently selected tree node.\n     */\n    collapseNode(node?: Readonly<ExpandableTreeNode>): Promise<boolean>;\n\n    /**\n     * Collapses recursively. If the `node` argument is `undefined`, then collapses the currently selected tree node.\n     * If multiple tree nodes are selected, collapses the most recently selected tree node.\n     */\n    collapseAll(node?: Readonly<CompositeTreeNode>): Promise<boolean>;\n\n    /**\n     * Toggles the expansion state of the given node. If not give, then it toggles the expansion state of the currently selected node.\n     * If multiple nodes are selected, then the most recently selected tree node's expansion state will be toggled.\n     */\n    toggleNodeExpansion(node?: Readonly<ExpandableTreeNode>): Promise<void>;\n\n    /**\n     * Opens the given node or the currently selected on if the argument is `undefined`.\n     * If multiple nodes are selected, open the most recently selected node.\n     */\n    openNode(node?: Readonly<TreeNode> | undefined): void;\n\n    /**\n     * Event when a node should be opened.\n     */\n    readonly onOpenNode: Event<Readonly<TreeNode>>;\n\n    /**\n     * Selects the parent node relatively to the selected taking into account node expansion.\n     */\n    selectParent(): void;\n\n    /**\n     * Navigates to the given node if it is defined. This method accepts both the tree node and its ID as an argument.\n     * Navigation sets a node as a root node and expand it. Resolves to the node if the navigation was successful. Otherwise,\n     * resolves to `undefined`.\n     */\n    navigateTo(nodeOrId: Readonly<TreeNode> | string | undefined): Promise<TreeNode | undefined>;\n    /**\n     * Tests whether it is possible to navigate forward.\n     */\n    canNavigateForward(): boolean;\n\n    /**\n     * Tests whether it is possible to navigate backward.\n     */\n    canNavigateBackward(): boolean;\n\n    /**\n     * Navigates forward.\n     */\n    navigateForward(): Promise<void>;\n    /**\n     * Navigates backward.\n     */\n    navigateBackward(): Promise<void>;\n\n    /**\n     * Selects the previous tree node, regardless of its selection or visibility state.\n     */\n    selectPrev(): void;\n\n    /**\n     * Selects the previous node relatively to the currently selected one. This method takes the expansion state of the tree into consideration.\n     */\n    selectPrevNode(type?: TreeSelection.SelectionType): void;\n\n    /**\n     * Returns the previous tree node, regardless of its selection or visibility state.\n     */\n    getPrevNode(node?: TreeNode): TreeNode | undefined;\n\n    /**\n     * Returns the previous selectable tree node.\n     */\n    getPrevSelectableNode(node?: TreeNode): SelectableTreeNode | undefined;\n\n    /**\n     * Selects the next tree node, regardless of its selection or visibility state.\n     */\n    selectNext(): void;\n\n    /**\n     * Selects the next node relatively to the currently selected one. This method takes the expansion state of the tree into consideration.\n     */\n    selectNextNode(type?: TreeSelection.SelectionType): void;\n\n    /**\n     * Returns the next tree node, regardless of its selection or visibility state.\n     */\n    getNextNode(node?: TreeNode): TreeNode | undefined;\n\n    /**\n     * Returns the next selectable tree node.\n     */\n    getNextSelectableNode(node?: TreeNode): SelectableTreeNode | undefined;\n\n    /**\n     * Selects the given tree node. Has no effect when the node does not exist in the tree. Discards any previous selection state.\n     */\n    selectNode(node: Readonly<SelectableTreeNode>): void;\n\n    /**\n     * Selects the given node if it was not yet selected, or unselects it if it was. Keeps the previous selection state and updates it\n     * with the current toggle selection.\n     */\n    toggleNode(node: Readonly<SelectableTreeNode>): void;\n\n    /**\n     * Selects a range of tree nodes. The target of the selection range is the argument, the from tree node is the previous selected node.\n     * If no node was selected previously, invoking this method does nothing.\n     */\n    selectRange(node: Readonly<SelectableTreeNode>): void;\n\n    /**\n     * Returns the node currently in focus in this tree, or undefined if no node is focused.\n     */\n    getFocusedNode(): SelectableTreeNode | undefined\n}\n\n@injectable()\nexport class TreeModelImpl implements TreeModel, SelectionProvider<ReadonlyArray<Readonly<SelectableTreeNode>>> {\n\n    @inject(ILogger) protected readonly logger: ILogger;\n    @inject(Tree) protected readonly tree: Tree;\n    @inject(TreeSelectionService) protected readonly selectionService: TreeSelectionService;\n    @inject(TreeExpansionService) protected readonly expansionService: TreeExpansionService;\n    @inject(TreeNavigationService) protected readonly navigationService: TreeNavigationService;\n    @inject(TreeFocusService) protected readonly focusService: TreeFocusService;\n    @inject(TreeSearch) protected readonly treeSearch: TreeSearch;\n\n    protected readonly onChangedEmitter = new Emitter<void>();\n    protected readonly onOpenNodeEmitter = new Emitter<TreeNode>();\n    protected readonly toDispose = new DisposableCollection();\n\n    @postConstruct()\n    protected init(): void {\n        this.toDispose.push(this.tree);\n        this.toDispose.push(this.tree.onChanged(() => this.fireChanged()));\n\n        this.toDispose.push(this.selectionService);\n\n        this.toDispose.push(this.expansionService);\n        this.toDispose.push(this.expansionService.onExpansionChanged(node => {\n            this.fireChanged();\n            this.handleExpansion(node);\n        }));\n\n        this.toDispose.push(this.onOpenNodeEmitter);\n        this.toDispose.push(this.onChangedEmitter);\n        this.toDispose.push(this.treeSearch);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    protected handleExpansion(node: Readonly<ExpandableTreeNode>): void {\n        this.selectIfAncestorOfSelected(node);\n    }\n\n    /**\n     * Select the given node if it is the ancestor of a selected node.\n     */\n    protected selectIfAncestorOfSelected(node: Readonly<ExpandableTreeNode>): void {\n        if (!node.expanded && this.selectedNodes.some(selectedNode => CompositeTreeNode.isAncestor(node, selectedNode))) {\n            if (SelectableTreeNode.isVisible(node)) {\n                this.selectNode(node);\n            }\n        }\n    }\n\n    get root(): TreeNode | undefined {\n        return this.tree.root;\n    }\n\n    set root(root: TreeNode | undefined) {\n        this.tree.root = root;\n    }\n\n    get onChanged(): Event<void> {\n        return this.onChangedEmitter.event;\n    }\n\n    get onOpenNode(): Event<TreeNode> {\n        return this.onOpenNodeEmitter.event;\n    }\n\n    protected fireChanged(): void {\n        this.onChangedEmitter.fire(undefined);\n    }\n\n    get onNodeRefreshed(): Event<Readonly<CompositeTreeNode> & WaitUntilEvent> {\n        return this.tree.onNodeRefreshed;\n    }\n\n    getNode(id: string | undefined): TreeNode | undefined {\n        return this.tree.getNode(id);\n    }\n\n    getFocusedNode(): SelectableTreeNode | undefined {\n        return this.focusService.focusedNode;\n    }\n\n    validateNode(node: TreeNode | undefined): TreeNode | undefined {\n        return this.tree.validateNode(node);\n    }\n\n    async refresh(parent?: Readonly<CompositeTreeNode>): Promise<CompositeTreeNode | undefined> {\n        if (parent) {\n            return this.tree.refresh(parent);\n        }\n        return this.tree.refresh();\n    }\n\n    // tslint:disable-next-line:typedef\n    get selectedNodes() {\n        return this.selectionService.selectedNodes;\n    }\n\n    // tslint:disable-next-line:typedef\n    get onSelectionChanged() {\n        return this.selectionService.onSelectionChanged;\n    }\n\n    get onExpansionChanged(): Event<Readonly<ExpandableTreeNode>> {\n        return this.expansionService.onExpansionChanged;\n    }\n\n    async expandNode(raw?: Readonly<ExpandableTreeNode>): Promise<ExpandableTreeNode | undefined> {\n        for (const node of this.getExpansionCandidates(raw)) {\n            if (ExpandableTreeNode.is(node)) {\n                return this.expansionService.expandNode(node);\n            }\n        }\n        return undefined;\n    }\n\n    protected *getExpansionCandidates(raw?: Readonly<TreeNode>): IterableIterator<TreeNode | undefined> {\n        yield raw;\n        yield this.getFocusedNode();\n        yield* this.selectedNodes;\n    }\n\n    async collapseNode(raw?: Readonly<ExpandableTreeNode>): Promise<boolean> {\n        for (const node of this.getExpansionCandidates(raw)) {\n            if (ExpandableTreeNode.is(node)) {\n                return this.expansionService.collapseNode(node);\n            }\n        }\n        return false;\n    }\n\n    async collapseAll(raw?: Readonly<CompositeTreeNode>): Promise<boolean> {\n        const node = raw || this.getFocusedNode();\n        if (SelectableTreeNode.is(node)) {\n            this.selectNode(node);\n        }\n        if (CompositeTreeNode.is(node)) {\n            return this.expansionService.collapseAll(node);\n        }\n        return false;\n    }\n\n    async toggleNodeExpansion(raw?: Readonly<ExpandableTreeNode>): Promise<void> {\n        for (const node of raw ? [raw] : this.selectedNodes) {\n            if (ExpandableTreeNode.is(node)) {\n                await this.expansionService.toggleNodeExpansion(node);\n            }\n        }\n    }\n\n    selectPrev(): void {\n        const node = this.getPrevNode();\n        this.selectNodeIfSelectable(node);\n    }\n\n    selectPrevNode(type: TreeSelection.SelectionType = TreeSelection.SelectionType.DEFAULT): void {\n        const node = this.getPrevSelectableNode();\n        if (node) {\n            this.addSelection({ node, type });\n        }\n    }\n\n    getPrevNode(node: TreeNode | undefined = this.getFocusedNode()): TreeNode | undefined {\n        const iterator = this.createBackwardTreeIterator(node);\n        return iterator && this.doGetNode(iterator);\n    }\n\n    getPrevSelectableNode(node: TreeNode | undefined = this.getFocusedNode()): SelectableTreeNode | undefined {\n        if (!node) {\n            return this.getNextSelectableNode(this.root);\n        }\n        const iterator = this.createBackwardIterator(node);\n        return iterator && this.doGetNextNode(iterator, this.isVisibleSelectableNode.bind(this));\n    }\n\n    selectNext(): void {\n        const node = this.getNextNode();\n        this.selectNodeIfSelectable(node);\n    }\n\n    selectNextNode(type: TreeSelection.SelectionType = TreeSelection.SelectionType.DEFAULT): void {\n        const node = this.getNextSelectableNode();\n        if (node) {\n            this.addSelection({ node, type });\n        }\n    }\n\n    getNextNode(node: TreeNode | undefined = this.getFocusedNode()): TreeNode | undefined {\n        const iterator = this.createTreeIterator(node);\n        return iterator && this.doGetNode(iterator);\n    }\n\n    getNextSelectableNode(node: TreeNode | undefined = this.getFocusedNode() ?? this.root): SelectableTreeNode | undefined {\n        const iterator = this.createIterator(node);\n        return iterator && this.doGetNextNode(iterator, this.isVisibleSelectableNode.bind(this));\n    }\n\n    protected selectNodeIfSelectable(node: TreeNode | undefined): void {\n        if (SelectableTreeNode.is(node)) {\n            this.addSelection(node);\n        }\n    }\n\n    protected doGetNode(iterator: TreeIterator): TreeNode | undefined {\n        iterator.next();\n        const result = iterator.next();\n        return result.done ? undefined : result.value;\n    }\n\n    protected doGetNextNode<T extends TreeNode>(iterator: TreeIterator, criterion: (node: TreeNode) => node is T): T | undefined {\n        // Skip the first item. // TODO: clean this up, and skip the first item in a different way without loading everything.\n        iterator.next();\n        let result = iterator.next();\n        while (!result.done) {\n            if (criterion(result.value)) {\n                return result.value;\n            }\n            result = iterator.next();\n        }\n        return undefined;\n    }\n\n    protected isVisibleSelectableNode(node: TreeNode): node is SelectableTreeNode {\n        return SelectableTreeNode.isVisible(node);\n    }\n\n    protected createBackwardTreeIterator(node: TreeNode | undefined): TreeIterator | undefined {\n        const { filteredNodes } = this.treeSearch;\n        if (filteredNodes.length === 0) {\n            return node ? new BottomUpTreeIterator(node!, { pruneCollapsed: false }) : undefined;\n        }\n        if (node && filteredNodes.indexOf(node) === -1) {\n            return undefined;\n        }\n        return Iterators.cycle(filteredNodes.slice().reverse(), node);\n    }\n\n    protected createBackwardIterator(node: TreeNode | undefined): TreeIterator | undefined {\n        const { filteredNodes } = this.treeSearch;\n        if (filteredNodes.length === 0) {\n            return node ? new BottomUpTreeIterator(node!, { pruneCollapsed: true }) : undefined;\n        }\n        if (node && filteredNodes.indexOf(node) === -1) {\n            return undefined;\n        }\n        return Iterators.cycle(filteredNodes.slice().reverse(), node);\n    }\n\n    protected createTreeIterator(node: TreeNode | undefined): TreeIterator | undefined {\n        const { filteredNodes } = this.treeSearch;\n        if (filteredNodes.length === 0) {\n            return node && new TopDownTreeIterator(node, { pruneCollapsed: false });\n        }\n        if (node && filteredNodes.indexOf(node) === -1) {\n            return undefined;\n        }\n        return Iterators.cycle(filteredNodes, node);\n    }\n\n    protected createIterator(node: TreeNode | undefined): TreeIterator | undefined {\n        const { filteredNodes } = this.treeSearch;\n        if (filteredNodes.length === 0) {\n            return node && this.createForwardIteratorForNode(node);\n        }\n        if (node && filteredNodes.indexOf(node) === -1) {\n            return undefined;\n        }\n        return Iterators.cycle(filteredNodes, node);\n    }\n\n    protected createForwardIteratorForNode(node: TreeNode): TreeIterator {\n        return new TopDownTreeIterator(node, { pruneCollapsed: true });\n    }\n\n    openNode(raw?: TreeNode | undefined): void {\n        const node = raw ?? this.focusService.focusedNode;\n        if (node) {\n            this.doOpenNode(node);\n            this.onOpenNodeEmitter.fire(node);\n        }\n    }\n\n    protected doOpenNode(node: TreeNode): void {\n        if (ExpandableTreeNode.is(node)) {\n            this.toggleNodeExpansion(node);\n        }\n    }\n\n    selectParent(): void {\n        const node = this.getFocusedNode();\n        if (node) {\n            const parent = SelectableTreeNode.getVisibleParent(node);\n            if (parent) {\n                this.selectNode(parent);\n            }\n        }\n    }\n\n    async navigateTo(nodeOrId: TreeNode | string | undefined): Promise<TreeNode | undefined> {\n        if (nodeOrId) {\n            const node = typeof nodeOrId === 'string' ? this.getNode(nodeOrId) : nodeOrId;\n            if (node) {\n                this.navigationService.push(node);\n                await this.doNavigate(node);\n                return node;\n            }\n        }\n        return undefined;\n    }\n\n    canNavigateForward(): boolean {\n        return !!this.navigationService.next;\n    }\n\n    canNavigateBackward(): boolean {\n        return !!this.navigationService.prev;\n    }\n\n    async navigateForward(): Promise<void> {\n        const node = this.navigationService.advance();\n        if (node) {\n            await this.doNavigate(node);\n        }\n    }\n\n    async navigateBackward(): Promise<void> {\n        const node = this.navigationService.retreat();\n        if (node) {\n            await this.doNavigate(node);\n        }\n    }\n\n    protected async doNavigate(node: TreeNode): Promise<void> {\n        this.tree.root = node;\n        if (ExpandableTreeNode.is(node)) {\n            await this.expandNode(node);\n        }\n        if (SelectableTreeNode.is(node)) {\n            this.selectNode(node);\n        }\n    }\n\n    addSelection(selectionOrTreeNode: TreeSelection | Readonly<SelectableTreeNode>): void {\n        this.selectionService.addSelection(selectionOrTreeNode);\n    }\n\n    clearSelection(): void {\n        this.selectionService.clearSelection();\n    }\n\n    selectNode(node: Readonly<SelectableTreeNode>): void {\n        this.addSelection(node);\n    }\n\n    toggleNode(node: Readonly<SelectableTreeNode>): void {\n        this.addSelection({ node, type: TreeSelection.SelectionType.TOGGLE });\n    }\n\n    selectRange(node: Readonly<SelectableTreeNode>): void {\n        this.addSelection({ node, type: TreeSelection.SelectionType.RANGE });\n    }\n\n    storeState(): TreeModelImpl.State {\n        return {\n            selection: this.selectionService.storeState()\n        };\n    }\n\n    restoreState(state: TreeModelImpl.State): void {\n        if (state.selection) {\n            this.selectionService.restoreState(state.selection);\n        }\n    }\n\n    get onDidChangeBusy(): Event<TreeNode> {\n        return this.tree.onDidChangeBusy;\n    }\n\n    markAsBusy(node: Readonly<TreeNode>, ms: number, token: CancellationToken): Promise<void> {\n        return this.tree.markAsBusy(node, ms, token);\n    }\n\n    get onDidUpdate(): Event<TreeNode[]> {\n        return this.tree.onDidUpdate;\n    }\n\n    markAsChecked(node: TreeNode, checked: boolean): void {\n        this.tree.markAsChecked(node, checked);\n    }\n\n}\nexport namespace TreeModelImpl {\n    export interface State {\n        selection: object\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { TreeNode } from './tree';\n\n@injectable()\nexport class TreeNavigationService {\n\n    protected index: number = -1;\n    protected nodes: TreeNode[] = [];\n\n    get next(): TreeNode | undefined {\n        return this.nodes[this.index + 1];\n    }\n\n    get prev(): TreeNode | undefined {\n        return this.nodes[this.index - 1];\n    }\n\n    advance(): TreeNode | undefined {\n        const node = this.next;\n        if (node) {\n            this.index = this.index + 1;\n            return node;\n        }\n        return undefined;\n    }\n\n    retreat(): TreeNode | undefined {\n        const node = this.prev;\n        if (node) {\n            this.index = this.index - 1;\n            return node;\n        }\n        return undefined;\n    }\n\n    push(node: TreeNode): void {\n        this.nodes = this.nodes.slice(0, this.index + 1);\n        this.nodes.push(node);\n        this.index = this.index + 1;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2024 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from 'inversify';\nimport { PreferenceProxy, PreferenceContribution, PreferenceSchema } from '../preferences';\nimport { PreferenceProxyFactory } from '../preferences/injectable-preference-proxy';\nimport { nls } from '../../common/nls';\n\nexport const PREFERENCE_NAME_TREE_INDENT = 'workbench.tree.indent';\n\nexport const treePreferencesSchema: PreferenceSchema = {\n    type: 'object',\n    properties: {\n        [PREFERENCE_NAME_TREE_INDENT]: {\n            description: nls.localizeByDefault('Controls tree indentation in pixels.'),\n            type: 'number',\n            default: 8,\n            minimum: 4,\n            maximum: 40\n        },\n    }\n};\n\nexport class TreeConfiguration {\n    [PREFERENCE_NAME_TREE_INDENT]: number;\n}\n\nexport const TreePreferences = Symbol('treePreferences');\nexport type TreePreferences = PreferenceProxy<TreeConfiguration>;\n\nexport function bindTreePreferences(bind: interfaces.Bind): void {\n    bind(TreePreferences).toDynamicValue(ctx => {\n        const factory = ctx.container.get<PreferenceProxyFactory>(PreferenceProxyFactory);\n        return factory(treePreferencesSchema);\n    }).inSingletonScope();\n    bind(PreferenceContribution).toConstantValue({ schema: treePreferencesSchema });\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from 'inversify';\nimport { Disposable, DisposableCollection } from '../../common/disposable';\nimport { Event, Emitter } from '../../common/event';\nimport { Tree, TreeNode } from './tree';\nimport { TreeDecoration } from './tree-decorator';\nimport { FuzzySearch } from './fuzzy-search';\nimport { TopDownTreeIterator } from './tree-iterator';\nimport { LabelProvider } from '../label-provider';\n\n@injectable()\nexport class TreeSearch implements Disposable {\n\n    @inject(Tree)\n    protected readonly tree: Tree;\n\n    @inject(FuzzySearch)\n    protected readonly fuzzySearch: FuzzySearch;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    protected readonly disposables = new DisposableCollection();\n    protected readonly filteredNodesEmitter = new Emitter<ReadonlyArray<Readonly<TreeNode>>>();\n\n    protected _filterResult: FuzzySearch.Match<TreeNode>[] = [];\n    protected _filteredNodes: ReadonlyArray<Readonly<TreeNode>> = [];\n    protected _filteredNodesAndParents: Set<string> = new Set();\n\n    @postConstruct()\n    protected init(): void {\n        this.disposables.push(this.filteredNodesEmitter);\n    }\n\n    getHighlights(): Map<string, TreeDecoration.CaptionHighlight> {\n        return new Map(this._filterResult.map(m => [m.item.id, this.toCaptionHighlight(m)] as [string, TreeDecoration.CaptionHighlight]));\n    }\n\n    /**\n     * Resolves to all the visible tree nodes that match the search pattern.\n     */\n    async filter(pattern: string | undefined): Promise<ReadonlyArray<Readonly<TreeNode>>> {\n        const { root } = this.tree;\n        this._filteredNodesAndParents = new Set();\n        if (!pattern || !root) {\n            this._filterResult = [];\n            this._filteredNodes = [];\n            this.fireFilteredNodesChanged(this._filteredNodes);\n            return [];\n        }\n        const items = [...new TopDownTreeIterator(root)];\n        const transform = (node: TreeNode) => this.labelProvider.getName(node);\n        this._filterResult = await this.fuzzySearch.filter({\n            items,\n            pattern,\n            transform\n        });\n        this._filteredNodes = this._filterResult.map(({ item }) => {\n            this.addAllParentsToFilteredSet(item);\n            return item;\n        });\n        this.fireFilteredNodesChanged(this._filteredNodes);\n        return this._filteredNodes.slice();\n    }\n\n    protected addAllParentsToFilteredSet(node: TreeNode): void {\n        let toAdd: TreeNode | undefined = node;\n        while (toAdd && !this._filteredNodesAndParents.has(toAdd.id)) {\n            this._filteredNodesAndParents.add(toAdd.id);\n            toAdd = toAdd.parent;\n        };\n    }\n\n    /**\n     * Returns with the filtered nodes after invoking the `filter` method.\n     */\n    get filteredNodes(): ReadonlyArray<Readonly<TreeNode>> {\n        return this._filteredNodes.slice();\n    }\n\n    /**\n     * Event that is fired when the filtered nodes have been changed.\n     */\n    get onFilteredNodesChanged(): Event<ReadonlyArray<Readonly<TreeNode>>> {\n        return this.filteredNodesEmitter.event;\n    }\n\n    passesFilters(node: TreeNode): boolean {\n        return this._filteredNodesAndParents.has(node.id);\n    }\n\n    dispose(): void {\n        this.disposables.dispose();\n    }\n\n    protected fireFilteredNodesChanged(nodes: ReadonlyArray<Readonly<TreeNode>>): void {\n        this.filteredNodesEmitter.fire(nodes);\n    }\n\n    protected toCaptionHighlight(match: FuzzySearch.Match<TreeNode>): TreeDecoration.CaptionHighlight {\n        return {\n            ranges: match.ranges.map(this.mapRange.bind(this))\n        };\n    }\n\n    protected mapRange(range: FuzzySearch.Range): TreeDecoration.CaptionHighlight.Range {\n        const { offset, length } = range;\n        return {\n            offset,\n            length\n        };\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { Tree, TreeNode } from './tree';\nimport { Event, Emitter } from '../../common';\nimport { TreeSelectionState, FocusableTreeSelection } from './tree-selection-state';\nimport { TreeSelectionService, SelectableTreeNode, TreeSelection } from './tree-selection';\nimport { TreeFocusService } from './tree-focus-service';\n\n@injectable()\nexport class TreeSelectionServiceImpl implements TreeSelectionService {\n\n    @inject(Tree) protected readonly tree: Tree;\n    @inject(TreeFocusService) protected readonly focusService: TreeFocusService;\n\n    protected readonly onSelectionChangedEmitter = new Emitter<ReadonlyArray<Readonly<SelectableTreeNode>>>();\n\n    protected state: TreeSelectionState;\n\n    @postConstruct()\n    protected init(): void {\n        this.state = new TreeSelectionState(this.tree);\n    }\n\n    dispose(): void {\n        this.onSelectionChangedEmitter.dispose();\n    }\n\n    get selectedNodes(): ReadonlyArray<Readonly<SelectableTreeNode>> {\n        return this.state.selection();\n    }\n\n    get onSelectionChanged(): Event<ReadonlyArray<Readonly<SelectableTreeNode>>> {\n        return this.onSelectionChangedEmitter.event;\n    }\n\n    protected fireSelectionChanged(): void {\n        this.onSelectionChangedEmitter.fire(this.state.selection());\n    }\n\n    addSelection(selectionOrTreeNode: TreeSelection | Readonly<SelectableTreeNode>): void {\n        const selection = ((arg: TreeSelection | Readonly<SelectableTreeNode>): TreeSelection => {\n            const type = TreeSelection.SelectionType.DEFAULT;\n            if (TreeSelection.is(arg)) {\n                return {\n                    type,\n                    ...arg\n                };\n            }\n            return {\n                type,\n                node: arg\n            };\n        })(selectionOrTreeNode);\n\n        const node = this.validateNode(selection.node);\n        if (node === undefined) {\n            return;\n        }\n        Object.assign(selection, { node });\n\n        const newState = this.state.nextState(selection);\n        this.transiteTo(newState);\n    }\n\n    clearSelection(): void {\n        this.transiteTo(new TreeSelectionState(this.tree), false);\n    }\n\n    protected transiteTo(newState: TreeSelectionState, setFocus = true): void {\n        const oldNodes = this.state.selection();\n        const newNodes = newState.selection();\n\n        const toUnselect = this.difference(oldNodes, newNodes);\n        const toSelect = this.difference(newNodes, oldNodes);\n\n        this.unselect(toUnselect);\n        this.select(toSelect);\n        this.removeFocus(oldNodes, newNodes);\n        if (setFocus) {\n            this.addFocus(newState.node);\n        }\n\n        this.state = newState;\n        this.fireSelectionChanged();\n    }\n\n    protected unselect(nodes: ReadonlyArray<SelectableTreeNode>): void {\n        nodes.forEach(node => node.selected = false);\n    }\n\n    protected select(nodes: ReadonlyArray<SelectableTreeNode>): void {\n        nodes.forEach(node => node.selected = true);\n    }\n\n    protected removeFocus(...nodes: ReadonlyArray<SelectableTreeNode>[]): void {\n        nodes.forEach(node => node.forEach(n => n.focus = false));\n    }\n\n    protected addFocus(node: SelectableTreeNode | undefined): void {\n        if (node) {\n            node.focus = true;\n        }\n        this.focusService.setFocus(node);\n    }\n\n    /**\n     * Returns an array of the difference of two arrays. The returned array contains all elements that are contained by\n     * `left` and not contained by `right`. `right` may also contain elements not present in `left`: these are simply ignored.\n     */\n    protected difference<T>(left: ReadonlyArray<T>, right: ReadonlyArray<T>): ReadonlyArray<T> {\n        return left.filter(item => right.indexOf(item) === -1);\n    }\n\n    /**\n     * Returns a reference to the argument if the node exists in the tree. Otherwise, `undefined`.\n     */\n    protected validateNode(node: Readonly<TreeNode>): Readonly<TreeNode> | undefined {\n        const result = this.tree.validateNode(node);\n        return SelectableTreeNode.is(result) ? result : undefined;\n    }\n\n    storeState(): TreeSelectionServiceImpl.State {\n        return {\n            selectionStack: this.state.selectionStack.map(s => ({\n                focus: s.focus && s.focus.id || undefined,\n                node: s.node && s.node.id || undefined,\n                type: s.type\n            }))\n        };\n    }\n\n    restoreState(state: TreeSelectionServiceImpl.State): void {\n        const selectionStack: FocusableTreeSelection[] = [];\n        for (const selection of state.selectionStack) {\n            const node = selection.node && this.tree.getNode(selection.node) || undefined;\n            if (!SelectableTreeNode.is(node)) {\n                break;\n            }\n            const focus = selection.focus && this.tree.getNode(selection.focus) || undefined;\n            selectionStack.push({\n                node,\n                focus: SelectableTreeNode.is(focus) && focus || undefined,\n                type: selection.type\n            });\n        }\n        if (selectionStack.length) {\n            this.transiteTo(new TreeSelectionState(this.tree, selectionStack));\n        }\n    }\n\n}\nexport namespace TreeSelectionServiceImpl {\n    export interface State {\n        selectionStack: ReadonlyArray<FocusableTreeSelectionState>\n    }\n    export interface FocusableTreeSelectionState {\n        focus?: string\n        node?: string\n        type?: TreeSelection.SelectionType\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Tree, TreeNode } from './tree';\nimport { DepthFirstTreeIterator } from './tree-iterator';\nimport { TreeSelection, SelectableTreeNode } from './tree-selection';\n\n/**\n * A tree selection that might contain additional information about the tree node that has the focus.\n */\nexport interface FocusableTreeSelection extends TreeSelection {\n\n    /**\n     * The tree node that has the focus in the tree selection. In case of a range selection,\n     * the `focus` differs from the `node`.\n     */\n    readonly focus?: SelectableTreeNode;\n\n}\n\nexport namespace FocusableTreeSelection {\n\n    /**\n     * `true` if the argument is a focusable tree selection. Otherwise, `false`.\n     */\n    export function is(arg: unknown): arg is FocusableTreeSelection {\n        return TreeSelection.is(arg) && 'focus' in arg;\n    }\n\n    /**\n     * Returns with the tree node that has the focus if the argument is a focusable tree selection.\n     * Otherwise, returns `undefined`.\n     */\n    export function focus(arg: TreeSelection | undefined): SelectableTreeNode | undefined {\n        return is(arg) ? arg.focus : undefined;\n    }\n}\n\n/**\n * Class for representing and managing the selection state and the focus of a tree.\n */\nexport class TreeSelectionState {\n\n    constructor(\n        protected readonly tree: Tree,\n        readonly selectionStack: ReadonlyArray<FocusableTreeSelection> = []) {\n    }\n\n    nextState(selection: FocusableTreeSelection): TreeSelectionState {\n        const { node, type } = {\n            type: TreeSelection.SelectionType.DEFAULT,\n            ...selection\n        };\n        switch (type) {\n            case TreeSelection.SelectionType.DEFAULT: return this.handleDefault(this, node);\n            case TreeSelection.SelectionType.TOGGLE: return this.handleToggle(this, node);\n            case TreeSelection.SelectionType.RANGE: return this.handleRange(this, node);\n            default: throw new Error(`Unexpected tree selection type: ${type}.`);\n        }\n    }\n\n    selection(): ReadonlyArray<SelectableTreeNode> {\n        const copy = this.checkNoDefaultSelection(this.selectionStack);\n        const nodeIds = new Set<string>();\n        for (let i = 0; i < copy.length; i++) {\n            const { node, type } = copy[i];\n            if (TreeSelection.isRange(type)) {\n                const selection = copy[i];\n                for (const id of this.selectionRange(selection).map(n => n.id)) {\n                    nodeIds.add(id);\n                }\n            } else if (TreeSelection.isToggle(type)) {\n                if (nodeIds.has(node.id)) {\n                    nodeIds.delete(node.id);\n                } else {\n                    nodeIds.add(node.id);\n                }\n            }\n        }\n        return Array.from(nodeIds.keys()).map(id => this.tree.getNode(id)).filter(SelectableTreeNode.is).reverse();\n    }\n\n    get focus(): SelectableTreeNode | undefined {\n        const copy = this.checkNoDefaultSelection(this.selectionStack);\n        const candidate = copy[copy.length - 1]?.focus;\n        return this.toSelectableTreeNode(candidate);\n    }\n\n    get node(): SelectableTreeNode | undefined {\n        const copy = this.checkNoDefaultSelection(this.selectionStack);\n        return this.toSelectableTreeNode(copy[copy.length - 1]?.node);\n    }\n\n    protected handleDefault(state: TreeSelectionState, node: Readonly<SelectableTreeNode>): TreeSelectionState {\n        const { tree } = state;\n        return new TreeSelectionState(tree, [{\n            node,\n            type: TreeSelection.SelectionType.TOGGLE,\n            focus: node\n        }]);\n    }\n\n    protected handleToggle(state: TreeSelectionState, node: Readonly<SelectableTreeNode>): TreeSelectionState {\n        const { tree, selectionStack } = state;\n        const copy = this.checkNoDefaultSelection(selectionStack).slice();\n        const focus = (() => {\n            const allRanges = copy.filter(selection => TreeSelection.isRange(selection));\n            for (let i = allRanges.length - 1; i >= 0; i--) {\n                const latestRangeIndex = copy.indexOf(allRanges[i]);\n                const latestRangeSelection = copy[latestRangeIndex];\n                const latestRange = latestRangeSelection?.focus ? this.selectionRange(latestRangeSelection) : [];\n                if (latestRange.indexOf(node) !== -1) {\n                    if (this.focus === latestRangeSelection.focus) {\n                        return latestRangeSelection.focus || node;\n                    } else {\n                        return this.focus;\n                    }\n                }\n            }\n            return node;\n        })();\n        return new TreeSelectionState(tree, [...copy, {\n            node,\n            type: TreeSelection.SelectionType.TOGGLE,\n            focus\n        }]);\n    }\n\n    protected handleRange(state: TreeSelectionState, node: Readonly<SelectableTreeNode>): TreeSelectionState {\n        const { tree, selectionStack } = state;\n        const copy = this.checkNoDefaultSelection(selectionStack).slice();\n        let focus = FocusableTreeSelection.focus(copy[copy.length - 1]);\n\n        // Drop the previous range when we are trying to modify that.\n        if (TreeSelection.isRange(copy[copy.length - 1])) {\n            const range = this.selectionRange(copy.pop()!);\n            // And we drop all preceding individual nodes that were contained in the range we are dropping.\n            // That means, anytime we cover individual nodes with a range, they will belong to the range so we need to drop them now.\n            for (let i = copy.length - 1; i >= 0; i--) {\n                if (range.indexOf(copy[i].node) !== -1) {\n                    // Make sure to keep a reference to the focus while we are discarding previous elements. Otherwise, we lose this information.\n                    focus = copy[i].focus;\n                    copy.splice(i, 1);\n                }\n            }\n        }\n        return new TreeSelectionState(tree, [...copy, {\n            node,\n            type: TreeSelection.SelectionType.RANGE,\n            focus\n        }]);\n    }\n\n    /**\n     * Returns with an array of items representing the selection range. The from node is the `focus` the to node\n     * is the selected node itself on the tree selection. Both the `from` node and the `to` node are inclusive.\n     */\n    protected selectionRange(selection: FocusableTreeSelection): Readonly<SelectableTreeNode>[] {\n        const fromNode = selection.focus;\n        const toNode = selection.node;\n        if (fromNode === undefined) {\n            return [];\n        }\n        if (toNode === fromNode) {\n            return [toNode];\n        }\n        const { root } = this.tree;\n        if (root === undefined) {\n            return [];\n        }\n        const to = this.tree.validateNode(toNode);\n        if (to === undefined) {\n            return [];\n        }\n        const from = this.tree.validateNode(fromNode);\n        if (from === undefined) {\n            return [];\n        }\n        let started = false;\n        let finished = false;\n        const range = [];\n        for (const node of new DepthFirstTreeIterator(root, { pruneCollapsed: true })) {\n            if (finished) {\n                break;\n            }\n            // Only collect items which are between (inclusive) the `from` node and the `to` node.\n            if (node === from || node === to) {\n                if (started) {\n                    finished = true;\n                } else {\n                    started = true;\n                }\n            }\n            if (started) {\n                range.push(node);\n            }\n        }\n\n        // We need to reverse the selection range order.\n        if (range.indexOf(from) > range.indexOf(to)) {\n            range.reverse();\n        }\n        return range.filter(SelectableTreeNode.is);\n    }\n\n    protected toSelectableTreeNode(node: TreeNode | undefined): SelectableTreeNode | undefined {\n        if (!!node) {\n            const candidate = this.tree.getNode(node.id);\n            if (!!candidate) {\n                if (SelectableTreeNode.is(candidate)) {\n                    return candidate;\n                } else {\n                    console.warn(`Could not map to a selectable tree node. Node with ID: ${node.id} is not a selectable node.`);\n                }\n            } else {\n                console.warn(`Could not map to a selectable tree node. Node does not exist with ID: ${node.id}.`);\n            }\n        }\n        return undefined;\n    }\n\n    /**\n     * Checks whether the argument contains any `DEFAULT` tree selection type. If yes, throws an error, otherwise returns with a reference the argument.\n     */\n    protected checkNoDefaultSelection<T extends TreeSelection>(selections: ReadonlyArray<T>): ReadonlyArray<T> {\n        if (selections.some(selection => selection.type === undefined || selection.type === TreeSelection.SelectionType.DEFAULT)) {\n            throw new Error(`Unexpected DEFAULT selection type. [${selections.map(selection => `ID: ${selection.node.id} | ${selection.type}`).join(', ')}]`);\n        }\n        return selections;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { TreeNode } from './tree';\nimport { Event, Disposable, isObject, SelectionProvider } from '../../common';\n\n/**\n * The tree selection service.\n */\nexport const TreeSelectionService = Symbol('TreeSelectionService');\nexport interface TreeSelectionService extends Disposable, SelectionProvider<ReadonlyArray<Readonly<SelectableTreeNode>>> {\n\n    /**\n     * The tree selection, representing the selected nodes from the tree. If nothing is selected, the\n     * result will be empty.\n     */\n    readonly selectedNodes: ReadonlyArray<Readonly<SelectableTreeNode>>;\n\n    /**\n     * Emitted when the selection has changed in the tree.\n     */\n    readonly onSelectionChanged: Event<ReadonlyArray<Readonly<SelectableTreeNode>>>;\n\n    /**\n     * Registers the given selection into the tree selection service. If the selection state changes after adding the\n     * `selectionOrTreeNode` argument, a selection changed event will be fired. If the argument is a tree node,\n     * a it will be treated as a tree selection with the default selection type.\n     */\n    addSelection(selectionOrTreeNode: TreeSelection | Readonly<SelectableTreeNode>): void;\n\n    /**\n     * Clears all selected nodes\n     */\n    clearSelection(): void;\n\n    /**\n     * Store selection state.\n     */\n    storeState(): object;\n\n    /**\n     * Restore selection state.\n     */\n    restoreState(state: object): void;\n\n}\n\n/**\n * Representation of a tree selection.\n */\nexport interface TreeSelection {\n\n    /**\n     * The actual item that has been selected.\n     */\n    readonly node: Readonly<SelectableTreeNode>;\n\n    /**\n     * The optional tree selection type. Defaults to `SelectionType.DEFAULT`;\n     */\n    readonly type?: TreeSelection.SelectionType;\n\n}\n\nexport namespace TreeSelection {\n\n    /**\n     * Enumeration of selection types.\n     */\n    export enum SelectionType {\n        DEFAULT,\n        TOGGLE,\n        RANGE\n    }\n\n    export function is(arg: unknown): arg is TreeSelection {\n        return isObject(arg) && 'node' in arg;\n    }\n\n    export function isRange(arg: TreeSelection | SelectionType | undefined): boolean {\n        return isSelectionTypeOf(arg, SelectionType.RANGE);\n    }\n\n    export function isToggle(arg: TreeSelection | SelectionType | undefined): boolean {\n        return isSelectionTypeOf(arg, SelectionType.TOGGLE);\n    }\n\n    function isSelectionTypeOf(arg: TreeSelection | SelectionType | undefined, expected: SelectionType): boolean {\n        if (arg === undefined) {\n            return false;\n        }\n        const type = typeof arg === 'number' ? arg : arg.type;\n        return type === expected;\n    }\n\n}\n\n/**\n * A selectable tree node.\n */\nexport interface SelectableTreeNode extends TreeNode {\n\n    /**\n     * `true` if the tree node is selected. Otherwise, `false`.\n     */\n    selected: boolean;\n\n    /**\n     * @deprecated @since 1.27.0. Use TreeFocusService to track the focused node.\n     *\n     * `true` if the tree node has the focus. Otherwise, `false`. Defaults to `false`.\n     */\n    focus?: boolean;\n\n}\n\nexport namespace SelectableTreeNode {\n\n    export function is(node: unknown): node is SelectableTreeNode {\n        return TreeNode.is(node) && 'selected' in node;\n    }\n\n    export function isSelected(node: unknown): node is SelectableTreeNode {\n        return is(node) && node.selected;\n    }\n\n    /**\n     * @deprecated @since 1.27.0. Use TreeFocusService to track the focused node.\n     */\n    export function hasFocus(node: TreeNode | undefined): boolean {\n        return is(node) && node.focus === true;\n    }\n\n    export function isVisible(node: TreeNode | undefined): node is SelectableTreeNode {\n        return is(node) && TreeNode.isVisible(node);\n    }\n\n    export function getVisibleParent(node: TreeNode | undefined): SelectableTreeNode | undefined {\n        if (node) {\n            if (isVisible(node.parent)) {\n                return node.parent;\n            }\n            return getVisibleParent(node.parent);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 SAP SE or an SAP affiliate company and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\n// some code is copied and modified from: https://github.com/microsoft/vscode/blob/573e5145ae3b50523925a6f6315d373e649d1b06/src/vs/base/common/linkedText.ts\n\nimport React = require('react');\nimport { inject, injectable } from 'inversify';\nimport { CommandRegistry } from '../../common';\nimport { ContextKeyService } from '../context-key-service';\nimport { TreeModel } from './tree-model';\nimport { TreeWidget } from './tree-widget';\nimport { WindowService } from '../window/window-service';\n\ninterface ViewWelcome {\n    readonly view: string;\n    readonly content: string;\n    readonly when?: string;\n    readonly order: number;\n}\n\ninterface IItem {\n    readonly welcomeInfo: ViewWelcome;\n    visible: boolean;\n}\n\ninterface ILink {\n    readonly label: string;\n    readonly href: string;\n    readonly title?: string;\n}\n\ntype LinkedTextItem = string | ILink;\n\n@injectable()\nexport class TreeViewWelcomeWidget extends TreeWidget {\n\n    @inject(CommandRegistry)\n    protected readonly commands: CommandRegistry;\n\n    @inject(ContextKeyService)\n    protected readonly contextService: ContextKeyService;\n\n    @inject(WindowService)\n    protected readonly windowService: WindowService;\n\n    protected viewWelcomeNodes: React.ReactNode[] = [];\n    protected defaultItem: IItem | undefined;\n    protected items: IItem[] = [];\n    get visibleItems(): ViewWelcome[] {\n        const visibleItems = this.items.filter(v => v.visible);\n        if (visibleItems.length && this.defaultItem) {\n            return [this.defaultItem.welcomeInfo];\n        }\n        return visibleItems.map(v => v.welcomeInfo);\n    }\n\n    protected override renderTree(model: TreeModel): React.ReactNode {\n        if (this.shouldShowWelcomeView() && this.visibleItems.length) {\n            return this.renderViewWelcome();\n        }\n        return super.renderTree(model);\n    }\n\n    protected shouldShowWelcomeView(): boolean {\n        return false;\n    }\n\n    protected renderViewWelcome(): React.ReactNode {\n        return (\n            <div className='theia-WelcomeView'>\n                {...this.viewWelcomeNodes}\n            </div>\n        );\n    }\n\n    handleViewWelcomeContentChange(viewWelcomes: ViewWelcome[]): void {\n        this.items = [];\n        for (const welcomeInfo of viewWelcomes) {\n            if (welcomeInfo.when === 'default') {\n                this.defaultItem = { welcomeInfo, visible: true };\n            } else {\n                const visible = welcomeInfo.when === undefined || this.contextService.match(welcomeInfo.when);\n                this.items.push({ welcomeInfo, visible });\n            }\n        }\n        this.updateViewWelcomeNodes();\n        this.update();\n    }\n\n    handleWelcomeContextChange(): void {\n        let didChange = false;\n\n        for (const item of this.items) {\n            if (!item.welcomeInfo.when || item.welcomeInfo.when === 'default') {\n                continue;\n            }\n\n            const visible = item.welcomeInfo.when === undefined || this.contextService.match(item.welcomeInfo.when);\n\n            if (item.visible === visible) {\n                continue;\n            }\n\n            item.visible = visible;\n            didChange = true;\n        }\n\n        if (didChange) {\n            this.updateViewWelcomeNodes();\n            this.update();\n        }\n    }\n\n    protected updateViewWelcomeNodes(): void {\n        this.viewWelcomeNodes = [];\n        const items = this.visibleItems.sort((a, b) => a.order - b.order);\n\n        for (const [iIndex, { content }] of items.entries()) {\n            const lines = content.split('\\n');\n\n            for (let [lIndex, line] of lines.entries()) {\n                const lineKey = `${iIndex}-${lIndex}`;\n                line = line.trim();\n\n                if (!line) {\n                    continue;\n                }\n\n                const linkedTextItems = this.parseLinkedText(line);\n\n                if (linkedTextItems.length === 1 && typeof linkedTextItems[0] !== 'string') {\n                    this.viewWelcomeNodes.push(\n                        this.renderButtonNode(linkedTextItems[0], lineKey)\n                    );\n                } else {\n                    const linkedTextNodes: React.ReactNode[] = [];\n\n                    for (const [nIndex, node] of linkedTextItems.entries()) {\n                        const linkedTextKey = `${lineKey}-${nIndex}`;\n\n                        if (typeof node === 'string') {\n                            linkedTextNodes.push(\n                                this.renderTextNode(node, linkedTextKey)\n                            );\n                        } else {\n                            linkedTextNodes.push(\n                                this.renderCommandLinkNode(node, linkedTextKey)\n                            );\n                        }\n                    }\n\n                    this.viewWelcomeNodes.push(\n                        <div key={`line-${lineKey}`}>\n                            {...linkedTextNodes}\n                        </div>\n                    );\n                }\n            }\n        }\n    }\n\n    protected renderButtonNode(node: ILink, lineKey: string): React.ReactNode {\n        return (\n            <div key={`line-${lineKey}`} className='theia-WelcomeViewButtonWrapper'>\n                <button title={node.title}\n                    className='theia-button theia-WelcomeViewButton'\n                    disabled={!this.isEnabledClick(node.href)}\n                    onClick={e => this.openLinkOrCommand(e, node.href)}>\n                    {node.label}\n                </button>\n            </div>\n        );\n    }\n\n    protected renderTextNode(node: string, textKey: string): React.ReactNode {\n        return <span key={`text-${textKey}`}>{node}</span>;\n    }\n\n    protected renderCommandLinkNode(node: ILink, linkKey: string): React.ReactNode {\n        return (\n            <a key={`link-${linkKey}`}\n                className={this.getLinkClassName(node.href)}\n                title={node.title || ''}\n                onClick={e => this.openLinkOrCommand(e, node.href)}>\n                {node.label}\n            </a>\n        );\n    }\n\n    protected getLinkClassName(href: string): string {\n        const classNames = ['theia-WelcomeViewCommandLink'];\n        if (!this.isEnabledClick(href)) {\n            classNames.push('disabled');\n        }\n        return classNames.join(' ');\n    }\n\n    protected isEnabledClick(href: string): boolean {\n        if (href.startsWith('command:')) {\n            const command = href.replace('command:', '');\n            return this.commands.isEnabled(command);\n        }\n        return true;\n    }\n\n    protected openLinkOrCommand = (event: React.MouseEvent, href: string): void => {\n        event.stopPropagation();\n\n        if (href.startsWith('command:')) {\n            const command = href.replace('command:', '');\n            this.commands.executeCommand(command);\n        } else {\n            this.windowService.openNewWindow(href, { external: true });\n        }\n    };\n\n    protected parseLinkedText(text: string): LinkedTextItem[] {\n        const result: LinkedTextItem[] = [];\n\n        const linkRegex = /\\[([^\\]]+)\\]\\(((?:https?:\\/\\/|command:)[^\\)\\s]+)(?: (\"|')([^\\3]+)(\\3))?\\)/gi;\n        let index = 0;\n        let match: RegExpExecArray | null;\n\n        while (match = linkRegex.exec(text)) {\n            if (match.index - index > 0) {\n                result.push(text.substring(index, match.index));\n            }\n\n            const [, label, href, , title] = match;\n\n            if (title) {\n                result.push({ label, href, title });\n            } else {\n                result.push({ label, href });\n            }\n\n            index = match.index + match[0].length;\n        }\n\n        if (index < text.length) {\n            result.push(text.substring(index));\n        }\n\n        return result;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { TreeWidget } from './tree-widget';\nimport { SelectableTreeNode } from './tree-selection';\n\nexport type TreeWidgetSelection = ReadonlyArray<Readonly<SelectableTreeNode>> & {\n    source: TreeWidget\n};\nexport namespace TreeWidgetSelection {\n    export function isSource(selection: unknown, source: TreeWidget): selection is TreeWidgetSelection {\n        return getSource(selection) === source;\n    }\n    export function getSource(selection: unknown): TreeWidget | undefined {\n        return is(selection) ? selection.source : undefined;\n    }\n    export function is(selection: unknown): selection is TreeWidgetSelection {\n        return Array.isArray(selection) && ('source' in selection) && (selection as TreeWidgetSelection).source instanceof TreeWidget;\n    }\n\n    export function create(source: TreeWidget): TreeWidgetSelection {\n        const focusedNode = source.model.getFocusedNode();\n        const selectedNodes = source.model.selectedNodes;\n        const focusedIndex = selectedNodes.indexOf(focusedNode as SelectableTreeNode);\n        // Ensure that the focused node is at index 0 - used as default single selection.\n        if (focusedNode && focusedIndex > 0) {\n            const selection = [focusedNode, ...selectedNodes.slice(0, focusedIndex), ...selectedNodes.slice(focusedIndex + 1)];\n            return Object.assign(selection, { source });\n        }\n        return Object.assign(selectedNodes, { source });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { Message } from '@phosphor/messaging';\nimport { Disposable, MenuPath, SelectionService } from '../../common';\nimport { Key, KeyCode, KeyModifier } from '../keyboard/keys';\nimport { ContextMenuRenderer } from '../context-menu-renderer';\nimport { StatefulWidget } from '../shell';\nimport {\n    EXPANSION_TOGGLE_CLASS, SELECTED_CLASS, COLLAPSED_CLASS, FOCUS_CLASS, BUSY_CLASS, CODICON_TREE_ITEM_CLASSES, CODICON_LOADING_CLASSES, Widget, UnsafeWidgetUtilities\n} from '../widgets';\nimport { TreeNode, CompositeTreeNode } from './tree';\nimport { TreeModel } from './tree-model';\nimport { ExpandableTreeNode } from './tree-expansion';\nimport { SelectableTreeNode, TreeSelection } from './tree-selection';\nimport { TreeDecoratorService, TreeDecoration, DecoratedTreeNode } from './tree-decorator';\nimport { notEmpty } from '../../common/objects';\nimport { isOSX } from '../../common/os';\nimport { ReactWidget } from '../widgets/react-widget';\nimport * as React from 'react';\nimport { Virtuoso, VirtuosoHandle } from 'react-virtuoso';\nimport { TopDownTreeIterator } from './tree-iterator';\nimport { SearchBox, SearchBoxFactory, SearchBoxProps } from './search-box';\nimport { TreeSearch } from './tree-search';\nimport { ElementExt } from '@phosphor/domutils';\nimport { TreeWidgetSelection } from './tree-widget-selection';\nimport { MaybePromise } from '../../common/types';\nimport { LabelProvider } from '../label-provider';\nimport { CorePreferences } from '../core-preferences';\nimport { TreeFocusService } from './tree-focus-service';\nimport { useEffect } from 'react';\nimport { PreferenceService, PreferenceChange } from '../preferences';\nimport { PREFERENCE_NAME_TREE_INDENT } from './tree-preference';\n\nconst debounce = require('lodash.debounce');\n\nexport const TREE_CLASS = 'theia-Tree';\nexport const TREE_CONTAINER_CLASS = 'theia-TreeContainer';\nexport const TREE_NODE_CLASS = 'theia-TreeNode';\nexport const TREE_NODE_CONTENT_CLASS = 'theia-TreeNodeContent';\nexport const TREE_NODE_INFO_CLASS = 'theia-TreeNodeInfo';\nexport const TREE_NODE_TAIL_CLASS = 'theia-TreeNodeTail';\nexport const TREE_NODE_SEGMENT_CLASS = 'theia-TreeNodeSegment';\nexport const TREE_NODE_SEGMENT_GROW_CLASS = 'theia-TreeNodeSegmentGrow';\n\nexport const EXPANDABLE_TREE_NODE_CLASS = 'theia-ExpandableTreeNode';\nexport const COMPOSITE_TREE_NODE_CLASS = 'theia-CompositeTreeNode';\nexport const TREE_NODE_CAPTION_CLASS = 'theia-TreeNodeCaption';\nexport const TREE_NODE_INDENT_GUIDE_CLASS = 'theia-tree-node-indent';\n\nexport const TreeProps = Symbol('TreeProps');\n\n/**\n * Representation of tree properties.\n */\nexport interface TreeProps {\n\n    /**\n     * The path of the context menu that one can use to contribute context menu items to the tree widget.\n     */\n    readonly contextMenuPath?: MenuPath;\n\n    /**\n     * The size of the padding (in pixels) for the root node of the tree.\n     */\n    readonly leftPadding: number;\n\n    readonly expansionTogglePadding: number;\n\n    /**\n     * `true` if the tree widget support multi-selection. Otherwise, `false`. Defaults to `false`.\n     */\n    readonly multiSelect?: boolean;\n\n    /**\n     * `true` if the tree widget support searching. Otherwise, `false`. Defaults to `false`.\n     */\n    readonly search?: boolean\n\n    /**\n     * `true` if the tree widget should be virtualized searching. Otherwise, `false`. Defaults to `true`.\n     */\n    readonly virtualized?: boolean\n\n    /**\n     * `true` if the selected node should be auto scrolled only if the widget is active. Otherwise, `false`. Defaults to `false`.\n     */\n    readonly scrollIfActive?: boolean\n\n    /**\n     * `true` if a tree widget contributes to the global selection. Defaults to `false`.\n     */\n    readonly globalSelection?: boolean;\n\n    /**\n     *  `true` if the tree widget supports expansion only when clicking the expansion toggle. Defaults to `false`.\n     */\n    readonly expandOnlyOnExpansionToggleClick?: boolean;\n\n}\n\n/**\n * Representation of node properties.\n */\nexport interface NodeProps {\n\n    /**\n     * A root relative number representing the hierarchical depth of the actual node. Root is `0`, its children have `1` and so on.\n     */\n    readonly depth: number;\n\n}\n\n/**\n * The default tree properties.\n */\nexport const defaultTreeProps: TreeProps = {\n    leftPadding: 8,\n    expansionTogglePadding: 22\n};\n\nexport namespace TreeWidget {\n\n    /**\n     * Bare minimum common interface of the keyboard and the mouse event with respect to the key maskings.\n     */\n    export interface ModifierAwareEvent {\n        /**\n         * Determines if the modifier aware event has the `meta` key masking.\n         */\n        readonly metaKey: boolean;\n        /**\n         * Determines if the modifier aware event has the `ctrl` key masking.\n         */\n        readonly ctrlKey: boolean;\n        /**\n         * Determines if the modifier aware event has the `shift` key masking.\n         */\n        readonly shiftKey: boolean;\n    }\n\n}\n\n@injectable()\nexport class TreeWidget extends ReactWidget implements StatefulWidget {\n\n    protected searchBox: SearchBox;\n    protected searchHighlights: Map<string, TreeDecoration.CaptionHighlight>;\n\n    @inject(TreeDecoratorService)\n    protected readonly decoratorService: TreeDecoratorService;\n    @inject(TreeSearch)\n    protected readonly treeSearch: TreeSearch;\n    @inject(SearchBoxFactory)\n    protected readonly searchBoxFactory: SearchBoxFactory;\n    @inject(TreeFocusService)\n    protected readonly focusService: TreeFocusService;\n\n    protected decorations: Map<string, TreeDecoration.Data[]> = new Map();\n\n    @inject(SelectionService)\n    protected readonly selectionService: SelectionService;\n\n    @inject(PreferenceService)\n    protected readonly preferenceService: PreferenceService;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    @inject(CorePreferences)\n    protected readonly corePreferences: CorePreferences;\n\n    protected shouldScrollToRow = true;\n\n    protected treeIndent: number = 8;\n\n    constructor(\n        @inject(TreeProps) readonly props: TreeProps,\n        @inject(TreeModel) readonly model: TreeModel,\n        @inject(ContextMenuRenderer) protected readonly contextMenuRenderer: ContextMenuRenderer,\n    ) {\n        super();\n        this.scrollOptions = {\n            suppressScrollX: true,\n            minScrollbarLength: 35\n        };\n        this.addClass(TREE_CLASS);\n        this.node.tabIndex = 0;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.treeIndent = this.preferenceService.get(PREFERENCE_NAME_TREE_INDENT, this.treeIndent);\n        if (this.props.search) {\n            this.searchBox = this.searchBoxFactory({ ...SearchBoxProps.DEFAULT, showButtons: true, showFilter: true });\n            this.searchBox.node.addEventListener('focus', () => {\n                this.node.focus();\n            });\n            this.toDispose.pushAll([\n                this.searchBox,\n                this.searchBox.onTextChange(async data => {\n                    await this.treeSearch.filter(data);\n                    this.searchHighlights = this.treeSearch.getHighlights();\n                    this.searchBox.updateHighlightInfo({\n                        filterText: data,\n                        total: this.rows.size,\n                        matched: this.searchHighlights.size\n                    });\n                    this.update();\n                }),\n                this.searchBox.onClose(data => this.treeSearch.filter(undefined)),\n                this.searchBox.onNext(() => {\n                    // Enable next selection if there are currently highlights.\n                    if (this.searchHighlights.size > 1) {\n                        this.model.selectNextNode();\n                    }\n                }),\n                this.searchBox.onPrevious(() => {\n                    // Enable previous selection if there are currently highlights.\n                    if (this.searchHighlights.size > 1) {\n                        this.model.selectPrevNode();\n                    }\n                }),\n                this.searchBox.onFilterToggled(e => {\n                    this.updateRows();\n                }),\n                this.treeSearch,\n                this.treeSearch.onFilteredNodesChanged(nodes => {\n                    if (this.searchBox.isFiltering) {\n                        this.updateRows();\n                    }\n                    const node = nodes.find(SelectableTreeNode.is);\n                    if (node) {\n                        this.model.selectNode(node);\n                    }\n                }),\n            ]);\n        }\n        this.node.addEventListener('mousedown', this.handleMiddleClickEvent.bind(this));\n        this.node.addEventListener('mouseup', this.handleMiddleClickEvent.bind(this));\n        this.node.addEventListener('auxclick', this.handleMiddleClickEvent.bind(this));\n        this.toDispose.pushAll([\n            this.model,\n            this.model.onChanged(() => this.updateRows()),\n            this.model.onSelectionChanged(() => this.scheduleUpdateScrollToRow({ resize: false })),\n            this.focusService.onDidChangeFocus(() => this.scheduleUpdateScrollToRow({ resize: false })),\n            this.model.onDidChangeBusy(() => this.update()),\n            this.model.onDidUpdate(() => this.update()),\n            this.model.onNodeRefreshed(() => this.updateDecorations()),\n            this.model.onExpansionChanged(() => this.updateDecorations()),\n            this.decoratorService,\n            this.decoratorService.onDidChangeDecorations(() => this.updateDecorations()),\n            this.labelProvider.onDidChange(e => {\n                for (const row of this.rows.values()) {\n                    if (e.affects(row)) {\n                        this.update();\n                        return;\n                    }\n                }\n            }),\n            this.preferenceService.onPreferenceChanged((event: PreferenceChange) => {\n                if (event.preferenceName === PREFERENCE_NAME_TREE_INDENT) {\n                    this.treeIndent = event.newValue;\n                    this.update();\n                }\n            })\n        ]);\n        setTimeout(() => {\n            this.updateRows();\n            this.updateDecorations();\n        });\n        if (this.props.globalSelection) {\n            this.toDispose.pushAll([\n                this.model.onSelectionChanged(() => {\n                    if (this.node.contains(document.activeElement)) {\n                        this.updateGlobalSelection();\n                    }\n                }),\n                this.focusService.onDidChangeFocus(focus => {\n                    if (focus && this.node.contains(document.activeElement) && this.model.selectedNodes[0] !== focus && this.model.selectedNodes.includes(focus)) {\n                        this.updateGlobalSelection();\n                    }\n                }),\n                Disposable.create(() => {\n                    const selection = this.selectionService.selection;\n                    if (TreeWidgetSelection.isSource(selection, this)) {\n                        this.selectionService.selection = undefined;\n                    }\n                })\n            ]);\n        }\n        this.toDispose.push(this.corePreferences.onPreferenceChanged(preference => {\n            if (preference.preferenceName === 'workbench.tree.renderIndentGuides') {\n                this.update();\n            }\n        }));\n    }\n\n    /**\n     * Update the global selection for the tree.\n     */\n    protected updateGlobalSelection(): void {\n        this.selectionService.selection = TreeWidgetSelection.create(this);\n    }\n\n    protected rows = new Map<string, TreeWidget.NodeRow>();\n    protected updateRows = debounce(() => this.doUpdateRows(), 10);\n    protected doUpdateRows(): void {\n        const root = this.model.root;\n        const rowsToUpdate: Array<[string, TreeWidget.NodeRow]> = [];\n        if (root) {\n            const depths = new Map<CompositeTreeNode | undefined, number>();\n            let index = 0;\n            for (const node of new TopDownTreeIterator(root, {\n                pruneCollapsed: true,\n                pruneSiblings: true\n            })) {\n                if (this.shouldDisplayNode(node)) {\n                    const depth = this.getDepthForNode(node, depths);\n                    if (CompositeTreeNode.is(node)) {\n                        depths.set(node, depth);\n                    }\n                    rowsToUpdate.push([node.id, this.toNodeRow(node, index++, depth)]);\n                }\n            }\n        }\n        this.rows = new Map(rowsToUpdate);\n        this.updateScrollToRow();\n    }\n\n    protected getDepthForNode(node: TreeNode, depths: Map<CompositeTreeNode | undefined, number>): number {\n        const parentDepth = depths.get(node.parent);\n        return parentDepth === undefined ? 0 : TreeNode.isVisible(node.parent) ? parentDepth + 1 : parentDepth;\n    }\n\n    protected toNodeRow(node: TreeNode, index: number, depth: number): TreeWidget.NodeRow {\n        return { node, index, depth };\n    }\n\n    protected shouldDisplayNode(node: TreeNode): boolean {\n        return TreeNode.isVisible(node) && (!this.searchBox?.isFiltering || this.treeSearch.passesFilters(node));\n    }\n\n    /**\n     * Row index to ensure visibility.\n     * - Used to forcefully scroll if necessary.\n     */\n    protected scrollToRow: number | undefined;\n    /**\n     * Update the `scrollToRow`.\n     * @param updateOptions the tree widget force update options.\n     */\n    protected updateScrollToRow(): void {\n        this.scrollToRow = this.getScrollToRow();\n        this.update();\n    }\n\n    protected scheduleUpdateScrollToRow = debounce(this.updateScrollToRow);\n\n    /**\n     * Get the `scrollToRow`.\n     *\n     * @returns the `scrollToRow` if available.\n     */\n    protected getScrollToRow(): number | undefined {\n        if (!this.shouldScrollToRow) {\n            return undefined;\n        }\n        const { focusedNode } = this.focusService;\n        return focusedNode && this.rows.get(focusedNode.id)?.index;\n    }\n\n    /**\n     * Update tree decorations.\n     * - Updating decorations are debounced in order to limit the number of expensive updates.\n     */\n    protected readonly updateDecorations = debounce(() => this.doUpdateDecorations(), 150);\n    protected async doUpdateDecorations(): Promise<void> {\n        this.decorations = await this.decoratorService.getDecorations(this.model);\n        this.update();\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        this.node.focus({ preventScroll: true });\n    }\n\n    /**\n     * Actually focus the tree node.\n     */\n    protected doFocus(): void {\n        if (!this.model.selectedNodes.length) {\n            const node = this.getNodeToFocus();\n            if (SelectableTreeNode.is(node)) {\n                this.model.selectNode(node);\n            }\n        }\n    }\n\n    /**\n     * Get the tree node to focus.\n     *\n     * @returns the node to focus if available.\n     */\n    protected getNodeToFocus(): SelectableTreeNode | undefined {\n        const { focusedNode } = this.focusService;\n        if (focusedNode) {\n            return focusedNode;\n        }\n        const { root } = this.model;\n        if (SelectableTreeNode.isVisible(root)) {\n            return root;\n        }\n        return this.model.getNextSelectableNode(root);\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        if (!this.isAttached || !this.isVisible) {\n            return;\n        }\n        super.onUpdateRequest(msg);\n    }\n\n    protected override onResize(msg: Widget.ResizeMessage): void {\n        super.onResize(msg);\n        this.update();\n    }\n\n    protected render(): React.ReactNode {\n        return React.createElement('div', this.createContainerAttributes(), this.renderTree(this.model));\n    }\n\n    /**\n     * Create the container attributes for the widget.\n     */\n    protected createContainerAttributes(): React.HTMLAttributes<HTMLElement> {\n        const classNames = [TREE_CONTAINER_CLASS];\n        if (!this.rows.size) {\n            classNames.push('empty');\n        }\n        if (this.model.selectedNodes.length === 0 && !this.focusService.focusedNode) {\n            classNames.push('focused');\n        }\n        return {\n            className: classNames.join(' '),\n            onContextMenu: event => this.handleContextMenuEvent(this.getContainerTreeNode(), event)\n        };\n    }\n    /**\n     * Get the container tree node.\n     *\n     * @returns the tree node for the container if available.\n     */\n    protected getContainerTreeNode(): TreeNode | undefined {\n        return this.model.root;\n    }\n\n    protected ScrollingRowRenderer: React.FC<{ rows: TreeWidget.NodeRow[] }> = ({ rows }) => {\n        useEffect(() => this.scrollToSelected());\n        return <>{rows.map(row => <div key={row.index}>{this.renderNodeRow(row)}</div>)}</>;\n    };\n\n    protected view: TreeWidget.View | undefined;\n    /**\n     * Render the tree widget.\n     * @param model the tree model.\n     */\n    protected renderTree(model: TreeModel): React.ReactNode {\n        if (model.root) {\n            const rows = Array.from(this.rows.values());\n            if (this.props.virtualized === false) {\n                return <this.ScrollingRowRenderer rows={rows} />;\n            }\n            return <TreeWidget.View\n                ref={view => this.view = (view || undefined)}\n                width={this.node.offsetWidth}\n                height={this.node.offsetHeight}\n                rows={rows}\n                renderNodeRow={this.renderNodeRow}\n                scrollToRow={this.scrollToRow}\n            />;\n        }\n        // eslint-disable-next-line no-null/no-null\n        return null;\n    }\n\n    scrollArea: Element = this.node;\n    /**\n     * Scroll to the selected tree node.\n     */\n    protected scrollToSelected(): void {\n        if (this.props.scrollIfActive === true && !this.node.contains(document.activeElement)) {\n            return;\n        }\n        const focus = this.node.getElementsByClassName(FOCUS_CLASS)[0];\n        if (focus) {\n            ElementExt.scrollIntoViewIfNeeded(this.scrollArea, focus);\n        } else {\n            const selected = this.node.getElementsByClassName(SELECTED_CLASS)[0];\n            if (selected) {\n                ElementExt.scrollIntoViewIfNeeded(this.scrollArea, selected);\n            }\n        }\n    }\n\n    /**\n     * Render the node row.\n     */\n    protected readonly renderNodeRow = (row: TreeWidget.NodeRow) => this.doRenderNodeRow(row);\n    /**\n     * Actually render the node row.\n     */\n    protected doRenderNodeRow({ node, depth }: TreeWidget.NodeRow): React.ReactNode {\n        return <React.Fragment>\n            {this.renderIndent(node, { depth })}\n            {this.renderNode(node, { depth })}\n        </React.Fragment>;\n    }\n\n    /**\n     * Render the tree node given the node properties.\n     * @param node the tree node.\n     * @param props the node properties.\n     */\n    protected renderIcon(node: TreeNode, props: NodeProps): React.ReactNode {\n        // eslint-disable-next-line no-null/no-null\n        return null;\n    }\n\n    /**\n     * Toggle the node.\n     */\n    protected readonly toggle = (event: React.MouseEvent<HTMLElement>) => this.doToggle(event);\n    /**\n     * Actually toggle the tree node.\n     * @param event the mouse click event.\n     */\n    protected doToggle(event: React.MouseEvent<HTMLElement>): void {\n        const nodeId = event.currentTarget.getAttribute('data-node-id');\n        if (nodeId) {\n            const node = this.model.getNode(nodeId);\n            if (node && this.props.expandOnlyOnExpansionToggleClick) {\n                if (this.isExpandable(node) && !this.hasShiftMask(event) && !this.hasCtrlCmdMask(event)) {\n                    this.model.toggleNodeExpansion(node);\n                }\n            } else {\n                this.handleClickEvent(node, event);\n            }\n        }\n        event.stopPropagation();\n    }\n\n    /**\n     * Render the node expansion toggle.\n     * @param node the tree node.\n     * @param props the node properties.\n     */\n    protected renderExpansionToggle(node: TreeNode, props: NodeProps): React.ReactNode {\n        if (!this.isExpandable(node)) {\n            // eslint-disable-next-line no-null/no-null\n            return null;\n        }\n        const classes = [TREE_NODE_SEGMENT_CLASS, EXPANSION_TOGGLE_CLASS];\n        if (!node.expanded) {\n            classes.push(COLLAPSED_CLASS);\n        }\n        if (node.busy) {\n            classes.push(BUSY_CLASS, ...CODICON_LOADING_CLASSES);\n        } else {\n            classes.push(...CODICON_TREE_ITEM_CLASSES);\n        }\n        const className = classes.join(' ');\n        return <div\n            data-node-id={node.id}\n            className={className}\n            onClick={this.toggle}\n            onDoubleClick={this.handleExpansionToggleDblClickEvent}>\n        </div>;\n    }\n\n    /**\n     * Render the node expansion toggle.\n     * @param node the tree node.\n     * @param props the node properties.\n     */\n    protected renderCheckbox(node: TreeNode, props: NodeProps): React.ReactNode {\n        if (node.checkboxInfo === undefined) {\n            // eslint-disable-next-line no-null/no-null\n            return null;\n        }\n        return <input data-node-id={node.id}\n            readOnly\n            type='checkbox'\n            checked={!!node.checkboxInfo.checked}\n            title={node.checkboxInfo.tooltip}\n            aria-label={node.checkboxInfo.accessibilityInformation?.label}\n            role={node.checkboxInfo.accessibilityInformation?.role}\n            className='theia-input'\n            onClick={event => this.toggleChecked(event)} />;\n    }\n\n    protected toggleChecked(event: React.MouseEvent<HTMLElement>): void {\n        const nodeId = event.currentTarget.getAttribute('data-node-id');\n        if (nodeId) {\n            const node = this.model.getNode(nodeId);\n            if (node) {\n                this.model.markAsChecked(node, !node.checkboxInfo!.checked);\n            } else {\n                this.handleClickEvent(node, event);\n            }\n        }\n        event.preventDefault();\n        event.stopPropagation();\n    }\n    /**\n     * Render the tree node caption given the node properties.\n     * @param node the tree node.\n     * @param props the node properties.\n     */\n    protected renderCaption(node: TreeNode, props: NodeProps): React.ReactNode {\n        const attrs = this.getCaptionAttributes(node, props);\n        const children = this.getCaptionChildren(node, props);\n        return React.createElement('div', attrs, children);\n    }\n\n    protected getCaptionAttributes(node: TreeNode, props: NodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        const tooltip = this.getDecorationData(node, 'tooltip').filter(notEmpty).join('  ');\n        const classes = [TREE_NODE_SEGMENT_CLASS];\n        if (!this.hasTrailingSuffixes(node)) {\n            classes.push(TREE_NODE_SEGMENT_GROW_CLASS);\n        }\n        const className = classes.join(' ');\n        let attrs = this.decorateCaption(node, {\n            className, id: node.id\n        });\n        if (tooltip.length > 0) {\n            attrs = {\n                ...attrs,\n                title: tooltip\n            };\n        }\n        return attrs;\n    }\n\n    protected getCaptionChildren(node: TreeNode, props: NodeProps): React.ReactNode {\n        const children = [];\n        const caption = this.toNodeName(node);\n        const highlight = this.getDecorationData(node, 'highlight')[0];\n        if (highlight) {\n            children.push(this.toReactNode(caption, highlight));\n        }\n        const searchHighlight = this.searchHighlights ? this.searchHighlights.get(node.id) : undefined;\n        if (searchHighlight) {\n            children.push(...this.toReactNode(caption, searchHighlight));\n        } else if (!highlight) {\n            children.push(caption);\n        }\n        return children;\n    }\n\n    /**\n     * Update the node given the caption and highlight.\n     * @param caption the caption.\n     * @param highlight the tree decoration caption highlight.\n     */\n    protected toReactNode(caption: string, highlight: TreeDecoration.CaptionHighlight): React.ReactNode[] {\n        let style: React.CSSProperties = {};\n        if (highlight.color) {\n            style = {\n                ...style,\n                color: highlight.color\n            };\n        }\n        if (highlight.backgroundColor) {\n            style = {\n                ...style,\n                backgroundColor: highlight.backgroundColor\n            };\n        }\n        const createChildren = (fragment: TreeDecoration.CaptionHighlight.Fragment, index: number) => {\n            const { data } = fragment;\n            if (fragment.highlight) {\n                return <mark className={TreeDecoration.Styles.CAPTION_HIGHLIGHT_CLASS} style={style} key={index}>{data}</mark>;\n            } else {\n                return data;\n            }\n        };\n        return TreeDecoration.CaptionHighlight.split(caption, highlight).map(createChildren);\n    }\n\n    /**\n     * Decorate the tree caption.\n     * @param node the tree node.\n     * @param attrs the additional attributes.\n     */\n    protected decorateCaption(node: TreeNode, attrs: React.HTMLAttributes<HTMLElement>): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        const style = this.getDecorationData(node, 'fontData')\n            .filter(notEmpty)\n            .reverse()\n            .map(fontData => this.applyFontStyles({}, fontData))\n            .reduce((acc, current) => ({\n                ...acc,\n                ...current\n            }), {});\n        return {\n            ...attrs,\n            style\n        };\n    }\n\n    /**\n     * Determine if the tree node contains trailing suffixes.\n     * @param node the tree node.\n     *\n     * @returns `true` if the tree node contains trailing suffices.\n     */\n    protected hasTrailingSuffixes(node: TreeNode): boolean {\n        return this.getDecorationData(node, 'captionSuffixes').filter(notEmpty).reduce((acc, current) => acc.concat(current), []).length > 0;\n    }\n\n    /**\n     * Apply font styles to the tree.\n     * @param original the original css properties.\n     * @param fontData the optional `fontData`.\n     */\n    protected applyFontStyles(original: React.CSSProperties, fontData: TreeDecoration.FontData | undefined): React.CSSProperties {\n        if (fontData === undefined) {\n            return original;\n        }\n        const modified = { ...original }; // make a copy to mutate\n        const { color, style } = fontData;\n        if (color) {\n            modified.color = color;\n        }\n        if (style) {\n            (Array.isArray(style) ? style : [style]).forEach(s => {\n                switch (s) {\n                    case 'bold':\n                        modified.fontWeight = s;\n                        break;\n                    case 'normal':\n                    case 'oblique':\n                    case 'italic':\n                        modified.fontStyle = s;\n                        break;\n                    case 'underline':\n                    case 'line-through':\n                        modified.textDecoration = s;\n                        break;\n                    default:\n                        throw new Error(`Unexpected font style: \"${s}\".`);\n                }\n            });\n        }\n        return modified;\n    }\n\n    /**\n     * Render caption affixes for the given tree node.\n     * @param node the tree node.\n     * @param props the node properties.\n     * @param affixKey the affix key.\n     */\n    protected renderCaptionAffixes(node: TreeNode, props: NodeProps, affixKey: 'captionPrefixes' | 'captionSuffixes'): React.ReactNode {\n        const suffix = affixKey === 'captionSuffixes';\n        const affixClass = suffix ? TreeDecoration.Styles.CAPTION_SUFFIX_CLASS : TreeDecoration.Styles.CAPTION_PREFIX_CLASS;\n        const classes = [TREE_NODE_SEGMENT_CLASS, affixClass];\n        const affixes = this.getDecorationData(node, affixKey).filter(notEmpty).reduce((acc, current) => acc.concat(current), []);\n        const children: React.ReactNode[] = [];\n        for (let i = 0; i < affixes.length; i++) {\n            const affix = affixes[i];\n            if (suffix && i === affixes.length - 1) {\n                classes.push(TREE_NODE_SEGMENT_GROW_CLASS);\n            }\n            const style = this.applyFontStyles({}, affix.fontData);\n            const className = classes.join(' ');\n            const key = node.id + '_' + i;\n            const attrs = {\n                className,\n                style,\n                key\n            };\n            children.push(React.createElement('div', attrs, affix.data));\n        }\n        return <React.Fragment>{children}</React.Fragment>;\n    }\n\n    /**\n     * Decorate the tree node icon.\n     * @param node the tree node.\n     * @param icon the icon.\n     */\n    protected decorateIcon(node: TreeNode, icon: React.ReactNode): React.ReactNode {\n        if (!icon) {\n            return;\n        }\n        const overlayIcons: React.ReactNode[] = [];\n        // if multiple overlays have the same overlay.position attribute, we'll de-duplicate those and only process the first one from the decoration array\n        const seenPositions = new Set<TreeDecoration.IconOverlayPosition>();\n        const overlays = this.getDecorationData(node, 'iconOverlay').filter(notEmpty);\n\n        for (const overlay of overlays) {\n            if (!seenPositions.has(overlay.position)) {\n                seenPositions.add(overlay.position);\n                const iconClasses = [TreeDecoration.Styles.DECORATOR_SIZE_CLASS, TreeDecoration.IconOverlayPosition.getStyle(overlay.position)];\n                const style = (color?: string) => color === undefined ? {} : { color };\n\n                if (overlay.background) {\n                    overlayIcons.push(<span key={node.id + 'bg'} className={this.getIconClass(overlay.background.shape, iconClasses)}\n                        style={style(overlay.background.color)}></span>);\n                }\n\n                const overlayIcon = 'icon' in overlay ? overlay.icon : overlay.iconClass;\n                overlayIcons.push(<span key={node.id} className={this.getIconClass(overlayIcon, iconClasses)} style={style(overlay.color)}></span>);\n            }\n        }\n\n        if (overlayIcons.length > 0) {\n            return <div className={TreeDecoration.Styles.ICON_WRAPPER_CLASS}>{icon}{overlayIcons}</div>;\n        }\n\n        return icon;\n    }\n\n    /**\n     * Render the tree node tail decorations.\n     * @param node the tree node.\n     * @param props the node properties.\n     */\n    protected renderTailDecorations(node: TreeNode, props: NodeProps): React.ReactNode {\n        const tailDecorations = this.getDecorationData(node, 'tailDecorations').reduce((acc, current) => acc.concat(current), []);\n        if (tailDecorations.length === 0) {\n            return;\n        }\n        return this.renderTailDecorationsForNode(node, props, tailDecorations);\n    }\n\n    protected renderTailDecorationsForNode(node: TreeNode, props: NodeProps, tailDecorations: TreeDecoration.TailDecoration.AnyPartial[]): React.ReactNode {\n        let dotDecoration: TreeDecoration.TailDecoration.AnyPartial | undefined;\n        const otherDecorations: TreeDecoration.TailDecoration.AnyPartial[] = [];\n        tailDecorations.reverse().forEach(decoration => {\n            if (TreeDecoration.TailDecoration.isDotDecoration(decoration)) {\n                dotDecoration ||= decoration;\n            } else if (decoration.data || decoration.icon || decoration.iconClass) {\n                otherDecorations.push(decoration);\n            }\n        });\n        const decorationsToRender = dotDecoration ? [dotDecoration, ...otherDecorations] : otherDecorations;\n        return <React.Fragment>\n            {decorationsToRender.map((decoration, index) => {\n                const { tooltip, data, fontData, color, icon, iconClass } = decoration;\n                const iconToRender = icon ?? iconClass;\n                const className = [TREE_NODE_SEGMENT_CLASS, TREE_NODE_TAIL_CLASS, 'flex'].join(' ');\n                const style = fontData ? this.applyFontStyles({}, fontData) : color ? { color } : undefined;\n                const content = data ? data : iconToRender\n                    ? <span\n                        key={node.id + 'icon' + index}\n                        className={this.getIconClass(iconToRender, iconToRender === 'circle' ? [TreeDecoration.Styles.DECORATOR_SIZE_CLASS] : [])}\n                    ></span>\n                    : '';\n                return <div key={node.id + className + index} className={className} style={style} title={tooltip}>\n                    {content}{index !== decorationsToRender.length - 1 ? ',' : ''}\n                </div>;\n            })}\n        </React.Fragment>;\n    }\n\n    /**\n     * Determine the classes to use for an icon\n     * - Assumes a Font Awesome name when passed a single string, otherwise uses the passed string array\n     * @param iconName the icon name or list of icon names.\n     * @param additionalClasses additional CSS classes.\n     *\n     * @returns the icon class name.\n     */\n    protected getIconClass(iconName: string | string[], additionalClasses: string[] = []): string {\n        const iconClass = (typeof iconName === 'string') ? ['a', 'fa', `fa-${iconName}`] : ['a'].concat(iconName);\n        return iconClass.concat(additionalClasses).join(' ');\n    }\n\n    /**\n     * Render indent for the file tree based on the depth\n     * @param node the tree node.\n     * @param depth the depth of the tree node.\n     */\n    protected renderIndent(node: TreeNode, props: NodeProps): React.ReactNode {\n        const renderIndentGuides = this.corePreferences['workbench.tree.renderIndentGuides'];\n        if (renderIndentGuides === 'none') {\n            return undefined;\n        }\n\n        const indentDivs: React.ReactNode[] = [];\n        let current: TreeNode | undefined = node;\n        let depth = props.depth;\n        while (current && depth) {\n            if (this.shouldRenderIndent(current)) {\n                const classNames: string[] = [TREE_NODE_INDENT_GUIDE_CLASS];\n                if (this.needsActiveIndentGuideline(current)) {\n                    classNames.push('active');\n                } else {\n                    classNames.push(renderIndentGuides === 'onHover' ? 'hover' : 'always');\n                }\n                const paddingLeft = this.getDepthPadding(depth);\n                indentDivs.unshift(<div key={depth} className={classNames.join(' ')} style={{\n                    paddingLeft: `${paddingLeft}px`\n                }} />);\n                depth--;\n            }\n            current = current.parent;\n        }\n        return indentDivs;\n    }\n\n    /**\n     * Determines whether an indentation div should be rendered for the specified tree node.\n     * If there are multiple tree nodes inside of a single rendered row,\n     * this method should only return true for the first node.\n     */\n    protected shouldRenderIndent(node: TreeNode): boolean {\n        return true;\n    }\n\n    protected needsActiveIndentGuideline(node: TreeNode): boolean {\n        const parent = node.parent;\n        if (!parent || !this.isExpandable(parent)) {\n            return false;\n        }\n        if (SelectableTreeNode.isSelected(parent)) {\n            return true;\n        }\n        if (parent.expanded) {\n            for (const sibling of parent.children) {\n                if (SelectableTreeNode.isSelected(sibling) && !(this.isExpandable(sibling) && sibling.expanded)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Render the node given the tree node and node properties.\n     * @param node the tree node.\n     * @param props the node properties.\n     */\n    protected renderNode(node: TreeNode, props: NodeProps): React.ReactNode {\n        if (!TreeNode.isVisible(node)) {\n            return undefined;\n        }\n        const attributes = this.createNodeAttributes(node, props);\n        const content = <div className={TREE_NODE_CONTENT_CLASS}>\n            {this.renderExpansionToggle(node, props)}\n            {this.renderCheckbox(node, props)}\n            {this.decorateIcon(node, this.renderIcon(node, props))}\n            {this.renderCaptionAffixes(node, props, 'captionPrefixes')}\n            {this.renderCaption(node, props)}\n            {this.renderCaptionAffixes(node, props, 'captionSuffixes')}\n            {this.renderTailDecorations(node, props)}\n        </div>;\n        return React.createElement('div', attributes, content);\n    }\n\n    /**\n     * Create node attributes for the tree node given the node properties.\n     * @param node the tree node.\n     * @param props the node properties.\n     */\n    protected createNodeAttributes(node: TreeNode, props: NodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        const className = this.createNodeClassNames(node, props).join(' ');\n        const style = this.createNodeStyle(node, props);\n        return {\n            className,\n            style,\n            onClick: event => this.handleClickEvent(node, event),\n            onDoubleClick: event => this.handleDblClickEvent(node, event),\n            onAuxClick: event => this.handleAuxClickEvent(node, event),\n            onContextMenu: event => this.handleContextMenuEvent(node, event),\n        };\n    }\n\n    /**\n     * Create the node class names.\n     * @param node the tree node.\n     * @param props the node properties.\n     *\n     * @returns the list of tree node class names.\n     */\n    protected createNodeClassNames(node: TreeNode, props: NodeProps): string[] {\n        const classNames = [TREE_NODE_CLASS];\n        if (CompositeTreeNode.is(node)) {\n            classNames.push(COMPOSITE_TREE_NODE_CLASS);\n        }\n        if (this.isExpandable(node)) {\n            classNames.push(EXPANDABLE_TREE_NODE_CLASS);\n        }\n        if (this.rowIsSelected(node, props)) {\n            classNames.push(SELECTED_CLASS);\n        }\n        if (this.focusService.hasFocus(node)) {\n            classNames.push(FOCUS_CLASS);\n        }\n        return classNames;\n    }\n\n    protected rowIsSelected(node: TreeNode, props: NodeProps): boolean {\n        return SelectableTreeNode.isSelected(node);\n    }\n\n    /**\n     * Get the default node style.\n     * @param node the tree node.\n     * @param props the node properties.\n     *\n     * @returns the CSS properties if available.\n     */\n    protected getDefaultNodeStyle(node: TreeNode, props: NodeProps): React.CSSProperties | undefined {\n        const paddingLeft = this.getPaddingLeft(node, props) + 'px';\n        return { paddingLeft };\n    }\n\n    protected getPaddingLeft(node: TreeNode, props: NodeProps): number {\n        return this.getDepthPadding(props.depth) + (this.needsExpansionTogglePadding(node) ? this.props.expansionTogglePadding : 0);\n    }\n\n    /**\n     * If the node is a composite, a toggle will be rendered.\n     * Otherwise we need to add the width and the left, right padding => 18px\n     */\n    protected needsExpansionTogglePadding(node: TreeNode): boolean {\n        return !this.isExpandable(node);\n    }\n\n    /**\n     * Create the tree node style.\n     * @param node the tree node.\n     * @param props the node properties.\n     */\n    protected createNodeStyle(node: TreeNode, props: NodeProps): React.CSSProperties | undefined {\n        return this.decorateNodeStyle(node, this.getDefaultNodeStyle(node, props));\n    }\n\n    /**\n     * Decorate the node style.\n     * @param node the tree node.\n     * @param style the optional CSS properties.\n     *\n     * @returns the CSS styles if available.\n     */\n    protected decorateNodeStyle(node: TreeNode, style: React.CSSProperties | undefined): React.CSSProperties | undefined {\n        const backgroundColor = this.getDecorationData(node, 'backgroundColor').filter(notEmpty).shift();\n        if (backgroundColor) {\n            style = {\n                ...(style || {}),\n                backgroundColor\n            };\n        }\n        return style;\n    }\n\n    /**\n     * Determine if the tree node is expandable.\n     * @param node the tree node.\n     *\n     * @returns `true` if the tree node is expandable.\n     */\n    protected isExpandable(node: TreeNode): node is ExpandableTreeNode {\n        return ExpandableTreeNode.is(node);\n    }\n\n    /**\n     * Get the tree node decorations.\n     * @param node the tree node.\n     *\n     * @returns the list of tree decoration data.\n     */\n    protected getDecorations(node: TreeNode): TreeDecoration.Data[] {\n        const decorations: TreeDecoration.Data[] = [];\n        if (DecoratedTreeNode.is(node)) {\n            decorations.push(node.decorationData);\n        }\n        if (this.decorations.has(node.id)) {\n            decorations.push(...this.decorations.get(node.id)!);\n        }\n        return decorations.sort(TreeDecoration.Data.comparePriority);\n    }\n\n    /**\n     * Get the tree decoration data for the given key.\n     * @param node the tree node.\n     * @param key the tree decoration data key.\n     *\n     * @returns the tree decoration data at the given key.\n     */\n    protected getDecorationData<K extends keyof TreeDecoration.Data>(node: TreeNode, key: K): Required<Pick<TreeDecoration.Data, K>>[K][] {\n        return this.getDecorations(node).filter(data => data[key] !== undefined).map(data => data[key]);\n    }\n\n    /**\n     * Store the last scroll state.\n     */\n    protected lastScrollState: {\n        /**\n         * The scroll top value.\n         */\n        scrollTop: number,\n        /**\n         * The scroll left value.\n         */\n        scrollLeft: number\n    } | undefined;\n\n    /**\n     * Get the scroll container.\n     */\n    protected override getScrollContainer(): MaybePromise<HTMLElement> {\n        this.toDisposeOnDetach.push(Disposable.create(() => {\n            const { scrollTop, scrollLeft } = this.node;\n            this.lastScrollState = { scrollTop, scrollLeft };\n        }));\n        if (this.lastScrollState) {\n            const { scrollTop, scrollLeft } = this.lastScrollState;\n            this.node.scrollTop = scrollTop;\n            this.node.scrollLeft = scrollLeft;\n        }\n        return this.node;\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        const up = [\n            Key.ARROW_UP,\n            KeyCode.createKeyCode({ first: Key.ARROW_UP, modifiers: [KeyModifier.Shift] })\n        ];\n        const down = [\n            Key.ARROW_DOWN,\n            KeyCode.createKeyCode({ first: Key.ARROW_DOWN, modifiers: [KeyModifier.Shift] })\n        ];\n        if (this.props.search) {\n            if (this.searchBox.isAttached) {\n                Widget.detach(this.searchBox);\n            }\n            UnsafeWidgetUtilities.attach(this.searchBox, this.node.parentElement!);\n            this.addKeyListener(this.node, this.searchBox.keyCodePredicate.bind(this.searchBox), this.searchBox.handle.bind(this.searchBox));\n            this.toDisposeOnDetach.push(Disposable.create(() => {\n                Widget.detach(this.searchBox);\n            }));\n        }\n        super.onAfterAttach(msg);\n        this.addKeyListener(this.node, Key.ARROW_LEFT, event => this.handleLeft(event));\n        this.addKeyListener(this.node, Key.ARROW_RIGHT, event => this.handleRight(event));\n        this.addKeyListener(this.node, up, event => this.handleUp(event));\n        this.addKeyListener(this.node, down, event => this.handleDown(event));\n        this.addKeyListener(this.node, Key.ENTER, event => this.handleEnter(event));\n        this.addKeyListener(this.node, Key.SPACE, event => this.handleSpace(event));\n        this.addKeyListener(this.node, Key.ESCAPE, event => this.handleEscape(event));\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.addEventListener<any>(this.node, 'ps-scroll-y', (e: Event & { target: { scrollTop: number } }) => {\n            if (this.view && this.view.list) {\n                const { scrollTop } = e.target;\n                this.view.list.scrollTo({\n                    top: scrollTop\n                });\n            }\n        });\n    }\n\n    /**\n     * Handle the `left arrow` keyboard event.\n     * @param event the `left arrow` keyboard event.\n     */\n    protected async handleLeft(event: KeyboardEvent): Promise<void> {\n        if (!!this.props.multiSelect && (this.hasCtrlCmdMask(event) || this.hasShiftMask(event))) {\n            return;\n        }\n        if (!await this.model.collapseNode()) {\n            this.model.selectParent();\n        }\n    }\n\n    /**\n     * Handle the `right arrow` keyboard event.\n     * @param event the `right arrow` keyboard event.\n     */\n    protected async handleRight(event: KeyboardEvent): Promise<void> {\n        if (!!this.props.multiSelect && (this.hasCtrlCmdMask(event) || this.hasShiftMask(event))) {\n            return;\n        }\n        if (!await this.model.expandNode()) {\n            this.model.selectNextNode();\n        }\n    }\n\n    /**\n     * Handle the `up arrow` keyboard event.\n     * @param event the `up arrow` keyboard event.\n     */\n    protected handleUp(event: KeyboardEvent): void {\n        if (!!this.props.multiSelect && this.hasShiftMask(event)) {\n            this.model.selectPrevNode(TreeSelection.SelectionType.RANGE);\n        } else {\n            this.model.selectPrevNode();\n        }\n        this.node.focus();\n    }\n\n    /**\n     * Handle the `down arrow` keyboard event.\n     * @param event the `down arrow` keyboard event.\n     */\n    protected handleDown(event: KeyboardEvent): void {\n        if (!!this.props.multiSelect && this.hasShiftMask(event)) {\n            this.model.selectNextNode(TreeSelection.SelectionType.RANGE);\n        } else {\n            this.model.selectNextNode();\n        }\n        this.node.focus();\n    }\n\n    /**\n     * Handle the `enter key` keyboard event.\n     * - `enter` opens the tree node.\n     * @param event the `enter key` keyboard event.\n     */\n    protected handleEnter(event: KeyboardEvent): void {\n        this.model.openNode();\n    }\n\n    /**\n     * Handle the `space key` keyboard event.\n     * - If the element has a checkbox, it will be toggled.\n     * - Otherwise, it should be similar to a single-click action.\n     * @param event the `space key` keyboard event.\n     */\n    protected handleSpace(event: KeyboardEvent): void {\n        const { focusedNode } = this.focusService;\n        if (focusedNode && focusedNode.checkboxInfo) {\n            this.model.markAsChecked(focusedNode, !focusedNode.checkboxInfo.checked);\n        } else if (!this.props.multiSelect || (!event.ctrlKey && !event.metaKey && !event.shiftKey)) {\n            this.tapNode(focusedNode);\n        }\n    }\n\n    protected handleEscape(event: KeyboardEvent): void {\n        if (this.model.selectedNodes.length <= 1) {\n            this.focusService.setFocus(undefined);\n            this.node.focus();\n        }\n        this.model.clearSelection();\n    }\n\n    /**\n     * Handle the single-click mouse event.\n     * @param node the tree node if available.\n     * @param event the mouse single-click event.\n     */\n    protected handleClickEvent(node: TreeNode | undefined, event: React.MouseEvent<HTMLElement>): void {\n        if (node) {\n            event.stopPropagation();\n            const shiftMask = this.hasShiftMask(event);\n            const ctrlCmdMask = this.hasCtrlCmdMask(event);\n            if (this.props.multiSelect && (shiftMask || ctrlCmdMask) && SelectableTreeNode.is(node)) {\n                if (shiftMask) {\n                    this.model.selectRange(node);\n                } else if (ctrlCmdMask) {\n                    this.model.toggleNode(node);\n                }\n            } else {\n                this.tapNode(node);\n            }\n        }\n    }\n\n    /**\n     * The effective handler of an unmodified single-click event.\n     */\n    protected tapNode(node?: TreeNode): void {\n        if (SelectableTreeNode.is(node)) {\n            this.model.selectNode(node);\n        }\n        if (node && !this.props.expandOnlyOnExpansionToggleClick && this.isExpandable(node)) {\n            this.model.toggleNodeExpansion(node);\n        }\n    }\n\n    /**\n     * Handle the double-click mouse event.\n     * @param node the tree node if available.\n     * @param event the double-click mouse event.\n     */\n    protected handleDblClickEvent(node: TreeNode | undefined, event: React.MouseEvent<HTMLElement>): void {\n        this.model.openNode(node);\n        event.stopPropagation();\n    }\n\n    /**\n     * Handle the middle-click mouse event.\n     * @param node the tree node if available.\n     * @param event the middle-click mouse event.\n     */\n    protected handleAuxClickEvent(node: TreeNode | undefined, event: React.MouseEvent<HTMLElement>): void {\n        if (event.button === 1) {\n            this.model.openNode(node);\n            if (SelectableTreeNode.is(node)) {\n                this.model.selectNode(node);\n            }\n        }\n        event.stopPropagation();\n    }\n\n    /**\n     * Handle the middle-click mouse event.\n     * @param event the middle-click mouse event.\n     */\n    protected handleMiddleClickEvent(event: MouseEvent): void {\n        // Prevents auto-scrolling behavior when middle-clicking.\n        if (event.button === 1) {\n            event.preventDefault();\n        }\n    }\n\n    /**\n     * Handle the context menu click event.\n     * - The context menu click event is triggered by the right-click.\n     * @param node the tree node if available.\n     * @param event the right-click mouse event.\n     */\n    protected handleContextMenuEvent(node: TreeNode | undefined, event: React.MouseEvent<HTMLElement>): void {\n        if (SelectableTreeNode.is(node)) {\n            // Keep the selection for the context menu, if the widget support multi-selection and the right click happens on an already selected node.\n            if (!this.props.multiSelect || !node.selected) {\n                const type = !!this.props.multiSelect && this.hasCtrlCmdMask(event) ? TreeSelection.SelectionType.TOGGLE : TreeSelection.SelectionType.DEFAULT;\n                this.model.addSelection({ node, type });\n            }\n            this.focusService.setFocus(node);\n            const contextMenuPath = this.props.contextMenuPath;\n            if (contextMenuPath) {\n                const { x, y } = event.nativeEvent;\n                const args = this.toContextMenuArgs(node);\n                setTimeout(() => this.contextMenuRenderer.render({\n                    menuPath: contextMenuPath,\n                    anchor: { x, y },\n                    args\n                }), 10);\n            }\n        }\n        event.stopPropagation();\n        event.preventDefault();\n    }\n\n    /**\n     * Handle the double-click mouse event on the expansion toggle.\n     */\n    protected readonly handleExpansionToggleDblClickEvent = (event: React.MouseEvent<HTMLElement>) => this.doHandleExpansionToggleDblClickEvent(event);\n    /**\n     * Actually handle the double-click mouse event on the expansion toggle.\n     * @param event the double-click mouse event.\n     */\n    protected doHandleExpansionToggleDblClickEvent(event: React.MouseEvent<HTMLElement>): void {\n        if (this.props.expandOnlyOnExpansionToggleClick) {\n            // Ignore the double-click event.\n            event.stopPropagation();\n        }\n    }\n\n    /**\n     * Convert the tree node to context menu arguments.\n     * @param node the selectable tree node.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected toContextMenuArgs(node: SelectableTreeNode): any[] | undefined {\n        return undefined;\n    }\n\n    /**\n     * Determine if the tree modifier aware event has a `ctrlcmd` mask.\n     * @param event the tree modifier aware event.\n     *\n     * @returns `true` if the tree modifier aware event contains the `ctrlcmd` mask.\n     */\n    protected hasCtrlCmdMask(event: TreeWidget.ModifierAwareEvent): boolean {\n        return isOSX ? event.metaKey : event.ctrlKey;\n    }\n\n    /**\n     * Determine if the tree modifier aware event has a `shift` mask.\n     * @param event the tree modifier aware event.\n     *\n     * @returns `true` if the tree modifier aware event contains the `shift` mask.\n     */\n    protected hasShiftMask(event: TreeWidget.ModifierAwareEvent): boolean {\n        // Ctrl/Cmd mask overrules the Shift mask.\n        if (this.hasCtrlCmdMask(event)) {\n            return false;\n        }\n        return event.shiftKey;\n    }\n\n    /**\n     * Deflate the tree node for storage.\n     * @param node the tree node.\n     */\n    protected deflateForStorage(node: TreeNode): object {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const copy = Object.assign({}, node) as any;\n        if (copy.parent) {\n            delete copy.parent;\n        }\n        if ('previousSibling' in copy) {\n            delete copy.previousSibling;\n        }\n        if ('nextSibling' in copy) {\n            delete copy.nextSibling;\n        }\n        if ('busy' in copy) {\n            delete copy.busy;\n        }\n        if (CompositeTreeNode.is(node)) {\n            copy.children = [];\n            for (const child of node.children) {\n                copy.children.push(this.deflateForStorage(child));\n            }\n        }\n        return copy;\n    }\n\n    /**\n     * Inflate the tree node from storage.\n     * @param node the tree node.\n     * @param parent the optional tree node.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected inflateFromStorage(node: any, parent?: TreeNode): TreeNode {\n        if (node.selected) {\n            node.selected = false;\n        }\n        if (parent) {\n            node.parent = parent;\n        }\n        if (Array.isArray(node.children)) {\n            for (const child of node.children as TreeNode[]) {\n                this.inflateFromStorage(child, node);\n            }\n        }\n        return node;\n    }\n\n    /**\n     * Store the tree state.\n     */\n    storeState(): object {\n        const decorations = this.decoratorService.deflateDecorators(this.decorations);\n        let state: object = {\n            decorations\n        };\n        if (this.model.root) {\n            state = {\n                ...state,\n                root: this.deflateForStorage(this.model.root),\n                model: this.model.storeState(),\n                focusedNodeId: this.focusService.focusedNode?.id\n            };\n        }\n\n        return state;\n    }\n\n    /**\n     * Restore the state.\n     * @param oldState the old state object.\n     */\n    restoreState(oldState: object): void {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const { root, decorations, model, focusedNodeId } = (oldState as any);\n        if (root) {\n            this.model.root = this.inflateFromStorage(root);\n        }\n        if (decorations) {\n            this.decorations = this.decoratorService.inflateDecorators(decorations);\n        }\n        if (model) {\n            this.model.restoreState(model);\n        }\n        if (focusedNodeId) {\n            const candidate = this.model.getNode(focusedNodeId);\n            if (SelectableTreeNode.is(candidate)) {\n                this.focusService.setFocus(candidate);\n            }\n        }\n    }\n\n    protected toNodeIcon(node: TreeNode): string {\n        return this.labelProvider.getIcon(node);\n    }\n\n    protected toNodeName(node: TreeNode): string {\n        return this.labelProvider.getName(node);\n    }\n\n    protected toNodeDescription(node: TreeNode): string {\n        return this.labelProvider.getLongName(node);\n    }\n    protected getDepthPadding(depth: number): number {\n        if (depth === 1) {\n            return this.props.leftPadding;\n        }\n        return depth * this.treeIndent;\n    }\n}\nexport namespace TreeWidget {\n    /**\n     * Representation of a tree node row.\n     */\n    export interface NodeRow {\n        /**\n         * The node row index.\n         */\n        index: number\n        /**\n         * The actual node.\n         */\n        node: TreeNode\n        /**\n         * A root relative number representing the hierarchical depth of the actual node. Root is `0`, its children have `1` and so on.\n         */\n        depth: number\n    }\n    /**\n     * Representation of the tree view properties.\n     */\n    export interface ViewProps {\n        /**\n         * The width property.\n         */\n        width: number\n        /**\n         * The height property.\n         */\n        height: number\n        /**\n         * The scroll to row value.\n         */\n        scrollToRow?: number\n        /**\n         * The list of node rows.\n         */\n        rows: NodeRow[]\n        renderNodeRow: (row: NodeRow) => React.ReactNode\n    }\n    export class View extends React.Component<ViewProps> {\n        list: VirtuosoHandle | undefined;\n        override render(): React.ReactNode {\n            const { rows, width, height, scrollToRow } = this.props;\n            return <Virtuoso\n                ref={list => {\n                    this.list = (list || undefined);\n                    if (this.list && scrollToRow !== undefined) {\n                        this.list.scrollIntoView({\n                            index: scrollToRow,\n                            align: 'center'\n                        });\n                    }\n                }}\n                totalCount={rows.length}\n                itemContent={index => this.props.renderNodeRow(rows[index])}\n                width={width}\n                height={height}\n                // This is a pixel value, it will scan 200px to the top and bottom of the current view\n                overscan={500}\n            />;\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { Event, Emitter, WaitUntilEvent } from '../../common/event';\nimport { Disposable, DisposableCollection } from '../../common/disposable';\nimport { CancellationToken, CancellationTokenSource } from '../../common/cancellation';\nimport { timeout } from '../../common/promise-util';\nimport { isObject, Mutable } from '../../common';\nimport { AccessibilityInformation } from '../../common/accessibility';\n\nexport const Tree = Symbol('Tree');\n\n/**\n * The tree - an abstract data type.\n */\nexport interface Tree extends Disposable {\n    /**\n     * A root node of this tree.\n     * Undefined if there is no root node.\n     * Setting a root node refreshes the tree.\n     */\n    root: TreeNode | undefined;\n    /**\n     * Emit when the tree is changed.\n     */\n    readonly onChanged: Event<void>;\n    /**\n     * Return a node for the given identifier or undefined if such does not exist.\n     */\n    getNode(id: string | undefined): TreeNode | undefined;\n    /**\n     * Return a valid node in this tree matching to the given; otherwise undefined.\n     */\n    validateNode(node: TreeNode | undefined): TreeNode | undefined;\n    /**\n     * Refresh children of the root node.\n     *\n     * Return a valid refreshed composite root or `undefined` if such does not exist.\n     */\n    refresh(): Promise<Readonly<CompositeTreeNode> | undefined>;\n    /**\n     * Refresh children of a node for the give node id if it is valid.\n     *\n     * Return a valid refreshed composite node or `undefined` if such does not exist.\n     */\n    refresh(parent: Readonly<CompositeTreeNode>): Promise<Readonly<CompositeTreeNode> | undefined>;\n    /**\n     * Emit when the children of the given node are refreshed.\n     */\n    readonly onNodeRefreshed: Event<Readonly<CompositeTreeNode> & WaitUntilEvent>;\n    /**\n     * Emits when the busy state of the given node is changed.\n     */\n    readonly onDidChangeBusy: Event<TreeNode>;\n    /**\n     * Marks the give node as busy after a specified number of milliseconds.\n     * A token source of the given token should be canceled to unmark.\n     */\n    markAsBusy(node: Readonly<TreeNode>, ms: number, token: CancellationToken): Promise<void>;\n\n    /**\n     * An update to the tree node occurred, but the tree structure remains unchanged\n     */\n    readonly onDidUpdate: Event<TreeNode[]>;\n\n    markAsChecked(node: TreeNode, checked: boolean): void;\n}\n\nexport interface TreeViewItemCheckboxInfo {\n    checked: boolean;\n    tooltip?: string;\n    accessibilityInformation?: AccessibilityInformation\n}\n\n/**\n * The tree node.\n */\nexport interface TreeNode {\n    /**\n     * An unique id of this node.\n     */\n    readonly id: string;\n    /**\n     * A human-readable name of this tree node.\n     *\n     * @deprecated use `LabelProvider.getName` instead or move this property to your tree node type\n     */\n    readonly name?: string;\n    /**\n     * A css string for this tree node icon.\n     *\n     * @deprecated use `LabelProvider.getIcon` instead or move this property to your tree node type\n     */\n    readonly icon?: string;\n    /**\n     * A human-readable description of this tree node.\n     *\n     * @deprecated use `LabelProvider.getLongName` instead or move this property to your tree node type\n     */\n    readonly description?: string;\n    /**\n     * Test whether this node should be rendered.\n     * If undefined then node will be rendered.\n     */\n    readonly visible?: boolean;\n    /**\n     * A parent node of this tree node.\n     * Undefined if this node is root.\n     */\n    readonly parent: Readonly<CompositeTreeNode> | undefined;\n    /**\n     * A previous sibling of this tree node.\n     */\n    readonly previousSibling?: TreeNode;\n    /**\n     * A next sibling of this tree node.\n     */\n    readonly nextSibling?: TreeNode;\n    /**\n     * Whether this node is busy. Greater than 0 then busy; otherwise not.\n     */\n    readonly busy?: number;\n\n    /**\n     * Whether this node is checked.\n     */\n    readonly checkboxInfo?: TreeViewItemCheckboxInfo;\n}\n\nexport namespace TreeNode {\n    export function is(node: unknown): node is TreeNode {\n        return isObject(node) && 'id' in node && 'parent' in node;\n    }\n\n    export function equals(left: TreeNode | undefined, right: TreeNode | undefined): boolean {\n        return left === right || (!!left && !!right && left.id === right.id);\n    }\n\n    export function isVisible(node: TreeNode | undefined): boolean {\n        return !!node && (node.visible === undefined || node.visible);\n    }\n}\n\n/**\n * The composite tree node.\n */\nexport interface CompositeTreeNode extends TreeNode {\n    /**\n     * Child nodes of this tree node.\n     */\n    children: ReadonlyArray<TreeNode>;\n}\n\nexport namespace CompositeTreeNode {\n    export function is(node: unknown): node is CompositeTreeNode {\n        return isObject(node) && 'children' in node;\n    }\n\n    export function getFirstChild(parent: CompositeTreeNode): TreeNode | undefined {\n        return parent.children[0];\n    }\n\n    export function getLastChild(parent: CompositeTreeNode): TreeNode | undefined {\n        return parent.children[parent.children.length - 1];\n    }\n\n    export function isAncestor(parent: CompositeTreeNode, child: TreeNode | undefined): boolean {\n        if (!child) {\n            return false;\n        }\n        if (TreeNode.equals(parent, child.parent)) {\n            return true;\n        }\n        return isAncestor(parent, child.parent);\n    }\n\n    export function indexOf(parent: CompositeTreeNode, node: TreeNode | undefined): number {\n        if (!node) {\n            return -1;\n        }\n        return parent.children.findIndex(child => TreeNode.equals(node, child));\n    }\n\n    export function addChildren(parent: CompositeTreeNode, children: TreeNode[]): CompositeTreeNode {\n        for (const child of children) {\n            addChild(parent, child);\n        }\n        return parent;\n    }\n\n    export function addChild(parent: CompositeTreeNode, child: TreeNode): CompositeTreeNode {\n        const children = parent.children as TreeNode[];\n        const index = children.findIndex(value => value.id === child.id);\n        if (index !== -1) {\n            children.splice(index, 1, child);\n            setParent(child, index, parent);\n        } else {\n            children.push(child);\n            setParent(child, parent.children.length - 1, parent);\n        }\n        return parent;\n    }\n\n    export function removeChild(parent: CompositeTreeNode, child: TreeNode): void {\n        const children = parent.children as TreeNode[];\n        const index = children.findIndex(value => value.id === child.id);\n        if (index === -1) {\n            return;\n        }\n        children.splice(index, 1);\n        const { previousSibling, nextSibling } = child;\n        if (previousSibling) {\n            Object.assign(previousSibling, { nextSibling });\n        }\n        if (nextSibling) {\n            Object.assign(nextSibling, { previousSibling });\n        }\n    }\n\n    export function setParent(child: TreeNode, index: number, parent: CompositeTreeNode): void {\n        const previousSibling = parent.children[index - 1];\n        const nextSibling = parent.children[index + 1];\n        Object.assign(child, { parent, previousSibling, nextSibling });\n        if (previousSibling) {\n            Object.assign(previousSibling, { nextSibling: child });\n        }\n        if (nextSibling) {\n            Object.assign(nextSibling, { previousSibling: child });\n        }\n    }\n}\n\n/**\n * A default implementation of the tree.\n */\n@injectable()\nexport class TreeImpl implements Tree {\n\n    protected _root: TreeNode | undefined;\n    protected readonly onChangedEmitter = new Emitter<void>();\n    protected readonly onNodeRefreshedEmitter = new Emitter<CompositeTreeNode & WaitUntilEvent>();\n    protected readonly toDispose = new DisposableCollection();\n\n    protected readonly onDidChangeBusyEmitter = new Emitter<TreeNode>();\n    readonly onDidChangeBusy = this.onDidChangeBusyEmitter.event;\n    protected readonly onDidUpdateEmitter = new Emitter<TreeNode[]>();\n    readonly onDidUpdate = this.onDidUpdateEmitter.event;\n\n    protected nodes: {\n        [id: string]: Mutable<TreeNode> | undefined\n    } = {};\n\n    constructor() {\n        this.toDispose.push(this.onChangedEmitter);\n        this.toDispose.push(this.onNodeRefreshedEmitter);\n        this.toDispose.push(this.onDidChangeBusyEmitter);\n    }\n\n    dispose(): void {\n        this.nodes = {};\n        this.toDispose.dispose();\n    }\n\n    get root(): TreeNode | undefined {\n        return this._root;\n    }\n\n    protected toDisposeOnSetRoot = new DisposableCollection();\n    set root(root: TreeNode | undefined) {\n        this.toDisposeOnSetRoot.dispose();\n        const cancelRefresh = new CancellationTokenSource();\n        this.toDisposeOnSetRoot.push(cancelRefresh);\n        this.nodes = {};\n        this._root = root;\n        this.addNode(root);\n        this.refresh(undefined, cancelRefresh.token);\n    }\n\n    get onChanged(): Event<void> {\n        return this.onChangedEmitter.event;\n    }\n\n    protected fireChanged(): void {\n        this.onChangedEmitter.fire(undefined);\n    }\n\n    get onNodeRefreshed(): Event<CompositeTreeNode & WaitUntilEvent> {\n        return this.onNodeRefreshedEmitter.event;\n    }\n\n    protected async fireNodeRefreshed(parent: CompositeTreeNode): Promise<void> {\n        await WaitUntilEvent.fire(this.onNodeRefreshedEmitter, parent);\n        this.fireChanged();\n    }\n\n    getNode(id: string | undefined): TreeNode | undefined {\n        return id !== undefined ? this.nodes[id] : undefined;\n    }\n\n    validateNode(node: TreeNode | undefined): TreeNode | undefined {\n        const id = !!node ? node.id : undefined;\n        return this.getNode(id);\n    }\n\n    async refresh(raw?: CompositeTreeNode, cancellationToken?: CancellationToken): Promise<CompositeTreeNode | undefined> {\n        const parent = !raw ? this._root : this.validateNode(raw);\n        let result: CompositeTreeNode | undefined;\n        if (CompositeTreeNode.is(parent)) {\n            const busySource = new CancellationTokenSource();\n            this.doMarkAsBusy(parent, 800, busySource.token);\n            try {\n                result = parent;\n                const children = await this.resolveChildren(parent);\n                if (cancellationToken?.isCancellationRequested) { return; }\n                result = await this.setChildren(parent, children);\n                if (cancellationToken?.isCancellationRequested) { return; }\n            } finally {\n                busySource.cancel();\n            }\n        }\n        this.fireChanged();\n        return result;\n    }\n\n    protected resolveChildren(parent: CompositeTreeNode): Promise<TreeNode[]> {\n        return Promise.resolve(Array.from(parent.children));\n    }\n\n    protected async setChildren(parent: CompositeTreeNode, children: TreeNode[]): Promise<CompositeTreeNode | undefined> {\n        const root = this.getRootNode(parent);\n        if (this.nodes[root.id] && this.nodes[root.id] !== root) {\n            console.error(`Child node '${parent.id}' does not belong to this '${root.id}' tree.`);\n            return undefined;\n        }\n        this.removeNode(parent);\n        parent.children = children;\n        this.addNode(parent);\n        await this.fireNodeRefreshed(parent);\n        return parent;\n    }\n\n    protected removeNode(node: TreeNode | undefined): void {\n        if (CompositeTreeNode.is(node)) {\n            node.children.forEach(child => this.removeNode(child));\n        }\n        if (node) {\n            delete this.nodes[node.id];\n        }\n    }\n\n    protected getRootNode(node: TreeNode): TreeNode {\n        if (node.parent === undefined) {\n            return node;\n        } else {\n            return this.getRootNode(node.parent);\n        }\n    }\n\n    protected addNode(node: TreeNode | undefined): void {\n        if (node) {\n            this.nodes[node.id] = node;\n        }\n        if (CompositeTreeNode.is(node)) {\n            const { children } = node;\n            children.forEach((child, index) => {\n                CompositeTreeNode.setParent(child, index, node);\n                this.addNode(child);\n            });\n        }\n    }\n\n    async markAsBusy(raw: TreeNode, ms: number, token: CancellationToken): Promise<void> {\n        const node = this.validateNode(raw);\n        if (node) {\n            await this.doMarkAsBusy(node, ms, token);\n        }\n    }\n\n    markAsChecked(node: Mutable<TreeNode>, checked: boolean): void {\n        node.checkboxInfo!.checked = checked;\n        this.onDidUpdateEmitter.fire([node]);\n    }\n\n    protected async doMarkAsBusy(node: Mutable<TreeNode>, ms: number, token: CancellationToken): Promise<void> {\n        try {\n            token.onCancellationRequested(() => this.doResetBusy(node));\n            await timeout(ms, token);\n            if (token.isCancellationRequested) { return; }\n            this.doSetBusy(node);\n        } catch {\n            /* no-op */\n        }\n    }\n    protected doSetBusy(node: Mutable<TreeNode>): void {\n        const oldBusy = node.busy || 0;\n        node.busy = oldBusy + 1;\n        if (oldBusy === 0) {\n            this.onDidChangeBusyEmitter.fire(node);\n        }\n    }\n    protected doResetBusy(node: Mutable<TreeNode>): void {\n        const oldBusy = node.busy || 0;\n        if (oldBusy > 0) {\n            node.busy = oldBusy - 1;\n            if (node.busy === 0) {\n                this.onDidChangeBusyEmitter.fire(node);\n            }\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from 'inversify';\nimport URI from '../common/uri';\nimport { MaybePromise, SelectionService, UNTITLED_SCHEME, UriSelection } from '../common';\nimport { EnvVariablesServer } from '../common/env-variables';\nimport { FrontendApplication } from './frontend-application';\nimport { FrontendApplicationContribution } from './frontend-application-contribution';\nimport { Widget } from './widgets';\nimport { Navigatable } from './navigatable-types';\n\n@injectable()\nexport class UserWorkingDirectoryProvider implements FrontendApplicationContribution {\n    @inject(SelectionService) protected readonly selectionService: SelectionService;\n    @inject(EnvVariablesServer) protected readonly envVariables: EnvVariablesServer;\n\n    protected lastOpenResource: URI | undefined;\n\n    configure(app: FrontendApplication): void {\n        app.shell.onDidChangeCurrentWidget(e => this.setLastOpenResource(e.newValue ?? undefined));\n        this.setLastOpenResource(app.shell.currentWidget);\n    }\n\n    protected setLastOpenResource(widget?: Widget): void {\n        if (Navigatable.is(widget)) {\n            const uri = widget.getResourceUri();\n            if (uri && uri.scheme !== UNTITLED_SCHEME) {\n                this.lastOpenResource = uri;\n            }\n        }\n    }\n\n    /**\n     * @returns A {@link URI} that represents a good guess about the directory in which the user is currently operating.\n     *\n     * Factors considered may include the current widget, current selection, user home directory, or other application state.\n     */\n    async getUserWorkingDir(): Promise<URI> {\n        return await this.getFromSelection()\n            ?? this.getFromUserHome();\n    }\n\n    protected getFromSelection(): MaybePromise<URI | undefined> {\n        const uri = UriSelection.getUri(this.selectionService.selection);\n        if (uri?.scheme === UNTITLED_SCHEME) {\n            // An untitled file is not a valid working directory context.\n            return undefined;\n        }\n        return this.ensureIsDirectory(uri);\n    }\n\n    protected getFromLastOpenResource(): MaybePromise<URI | undefined> {\n        return this.ensureIsDirectory(this.lastOpenResource);\n    }\n\n    protected getFromUserHome(): MaybePromise<URI> {\n        return this.envVariables.getHomeDirUri().then(home => new URI(home));\n    }\n\n    protected ensureIsDirectory(uri?: URI): MaybePromise<URI | undefined> {\n        return uri?.parent;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018-2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces, injectable, inject, postConstruct } from 'inversify';\nimport { IIterator, toArray, find, some, every, map, ArrayExt } from '@phosphor/algorithm';\nimport {\n    Widget, EXPANSION_TOGGLE_CLASS, COLLAPSED_CLASS, CODICON_TREE_ITEM_CLASSES, MessageLoop, Message, SplitPanel,\n    BaseWidget, addEventListener, SplitLayout, LayoutItem, PanelLayout, addKeyListener, waitForRevealed, UnsafeWidgetUtilities, DockPanel, PINNED_CLASS\n} from './widgets';\nimport { Event as CommonEvent, Emitter } from '../common/event';\nimport { Disposable, DisposableCollection } from '../common/disposable';\nimport { CommandRegistry } from '../common/command';\nimport { MenuModelRegistry, MenuPath, MenuAction } from '../common/menu';\nimport { ApplicationShell, StatefulWidget, SplitPositionHandler, SplitPositionOptions, SIDE_PANEL_TOOLBAR_CONTEXT_MENU } from './shell';\nimport { MAIN_AREA_ID, BOTTOM_AREA_ID } from './shell/theia-dock-panel';\nimport { FrontendApplicationStateService } from './frontend-application-state';\nimport { ContextMenuRenderer, Anchor } from './context-menu-renderer';\nimport { parseCssMagnitude } from './browser';\nimport { TabBarToolbarRegistry, TabBarToolbarFactory, TabBarToolbar, TabBarDelegator, TabBarToolbarItem } from './shell/tab-bar-toolbar';\nimport { isEmpty, isObject, nls } from '../common';\nimport { WidgetManager } from './widget-manager';\nimport { Key } from './keys';\nimport { ProgressBarFactory } from './progress-bar-factory';\nimport { Drag, IDragEvent } from '@phosphor/dragdrop';\nimport { MimeData } from '@phosphor/coreutils';\nimport { ElementExt } from '@phosphor/domutils';\nimport { TabBarDecoratorService } from './shell/tab-bar-decorator';\n\nexport interface ViewContainerTitleOptions {\n    label: string;\n    caption?: string;\n    iconClass?: string;\n    closeable?: boolean;\n}\n\n@injectable()\nexport class ViewContainerIdentifier {\n    id: string;\n    progressLocationId?: string;\n}\n\nexport interface DescriptionWidget {\n    description: string;\n    onDidChangeDescription: CommonEvent<void>;\n}\n\nexport interface BadgeWidget {\n    badge?: number;\n    badgeTooltip?: string;\n    onDidChangeBadge: CommonEvent<void>;\n    onDidChangeBadgeTooltip: CommonEvent<void>;\n}\n\nexport namespace DescriptionWidget {\n    export function is(arg: unknown): arg is DescriptionWidget {\n        return isObject(arg) && 'onDidChangeDescription' in arg;\n    }\n}\n\nexport namespace BadgeWidget {\n    export function is(arg: unknown): arg is BadgeWidget {\n        return isObject(arg) && 'onDidChangeBadge' in arg && 'onDidChangeBadgeTooltip' in arg;\n    }\n}\n\n/**\n * A widget that may change it's internal structure dynamically.\n * Current use is to update the toolbar when a contributed view is constructed \"lazily\".\n */\nexport interface DynamicToolbarWidget {\n    onDidChangeToolbarItems: CommonEvent<void>;\n}\n\nexport namespace DynamicToolbarWidget {\n    export function is(arg: unknown): arg is DynamicToolbarWidget {\n        return isObject(arg) && 'onDidChangeToolbarItems' in arg;\n    }\n}\n\n/**\n * A view container holds an arbitrary number of widgets inside a split panel.\n * Each widget is wrapped in a _part_ that displays the widget title and toolbar\n * and allows to collapse / expand the widget content.\n */\n@injectable()\nexport class ViewContainer extends BaseWidget implements StatefulWidget, ApplicationShell.TrackableWidgetProvider, TabBarDelegator {\n\n    protected panel: SplitPanel;\n\n    protected currentPart: ViewContainerPart | undefined;\n\n    /**\n     * Disable dragging parts from/to this view container.\n     */\n    disableDNDBetweenContainers = false;\n\n    @inject(FrontendApplicationStateService)\n    protected readonly applicationStateService: FrontendApplicationStateService;\n\n    @inject(ContextMenuRenderer)\n    protected readonly contextMenuRenderer: ContextMenuRenderer;\n\n    @inject(CommandRegistry)\n    protected readonly commandRegistry: CommandRegistry;\n\n    @inject(MenuModelRegistry)\n    protected readonly menuRegistry: MenuModelRegistry;\n\n    @inject(WidgetManager)\n    protected readonly widgetManager: WidgetManager;\n\n    @inject(SplitPositionHandler)\n    protected readonly splitPositionHandler: SplitPositionHandler;\n\n    @inject(ViewContainerIdentifier)\n    readonly options: ViewContainerIdentifier;\n\n    @inject(TabBarToolbarRegistry)\n    protected readonly toolbarRegistry: TabBarToolbarRegistry;\n\n    @inject(TabBarToolbarFactory)\n    protected readonly toolbarFactory: TabBarToolbarFactory;\n\n    protected readonly onDidChangeTrackableWidgetsEmitter = new Emitter<Widget[]>();\n    readonly onDidChangeTrackableWidgets = this.onDidChangeTrackableWidgetsEmitter.event;\n\n    @inject(ProgressBarFactory)\n    protected readonly progressBarFactory: ProgressBarFactory;\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(TabBarDecoratorService)\n    protected readonly decoratorService: TabBarDecoratorService;\n\n    @postConstruct()\n    protected init(): void {\n        this.id = this.options.id;\n        this.addClass('theia-view-container');\n        const layout = new PanelLayout();\n        this.layout = layout;\n        this.panel = new SplitPanel({\n            layout: new ViewContainerLayout({\n                renderer: SplitPanel.defaultRenderer,\n                orientation: this.orientation,\n                spacing: 2,\n                headerSize: ViewContainerPart.HEADER_HEIGHT,\n                animationDuration: 200\n            }, this.splitPositionHandler)\n        });\n        this.panel.node.tabIndex = -1;\n        this.configureLayout(layout);\n\n        const { commandRegistry, menuRegistry, contextMenuRenderer } = this;\n        this.toDispose.pushAll([\n            addEventListener(this.node, 'contextmenu', event => {\n                if (event.button === 2 && every(this.containerLayout.iter(), part => !!part.isHidden)) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    contextMenuRenderer.render({ menuPath: this.contextMenuPath, anchor: event });\n                }\n            }),\n            commandRegistry.registerCommand({ id: this.globalHideCommandId }, {\n                execute: (anchor: Anchor) => {\n                    const toHide = this.findPartForAnchor(anchor);\n                    if (toHide && toHide.canHide) {\n                        toHide.hide();\n                    }\n                },\n                isVisible: (anchor: Anchor) => {\n                    const toHide = this.findPartForAnchor(anchor);\n                    if (toHide) {\n                        return toHide.canHide && !toHide.isHidden;\n                    } else {\n                        return some(this.containerLayout.iter(), part => !part.isHidden);\n                    }\n                }\n            }),\n            menuRegistry.registerMenuAction([...this.contextMenuPath, '0_global'], {\n                commandId: this.globalHideCommandId,\n                label: nls.localizeByDefault('Hide')\n            }),\n            this.onDidChangeTrackableWidgetsEmitter,\n            this.onDidChangeTrackableWidgets(() => this.decoratorService.fireDidChangeDecorations())\n        ]);\n        if (this.options.progressLocationId) {\n            this.toDispose.push(this.progressBarFactory({ container: this.node, insertMode: 'prepend', locationId: this.options.progressLocationId }));\n        }\n    }\n\n    protected configureLayout(layout: PanelLayout): void {\n        layout.addWidget(this.panel);\n    }\n\n    protected readonly toDisposeOnCurrentPart = new DisposableCollection();\n\n    protected updateCurrentPart(part?: ViewContainerPart): void {\n        if (part && this.getParts().indexOf(part) !== -1) {\n            this.currentPart = part;\n        }\n        if (this.currentPart && !this.currentPart.isDisposed) {\n            return;\n        }\n        const visibleParts = this.getParts().filter(p => !p.isHidden);\n        const expandedParts = visibleParts.filter(p => !p.collapsed);\n        this.currentPart = expandedParts[0] || visibleParts[0];\n    }\n\n    protected updateSplitterVisibility(): void {\n        const className = 'p-first-visible';\n        let firstFound = false;\n        for (const part of this.getParts()) {\n            if (!part.isHidden && !firstFound) {\n                part.addClass(className);\n                firstFound = true;\n            } else {\n                part.removeClass(className);\n            }\n        }\n    }\n\n    protected titleOptions: ViewContainerTitleOptions | undefined;\n\n    setTitleOptions(titleOptions: ViewContainerTitleOptions | undefined): void {\n        this.titleOptions = titleOptions;\n        this.updateTitle();\n    }\n\n    protected readonly toDisposeOnUpdateTitle = new DisposableCollection();\n\n    protected _tabBarDelegate: Widget = this;\n    updateTabBarDelegate(): void {\n        const visibleParts = this.getParts().filter(part => !part.isHidden);\n        if (visibleParts.length === 1) {\n            this._tabBarDelegate = visibleParts[0].wrapped;\n        } else {\n            this._tabBarDelegate = this;\n        }\n    }\n\n    getTabBarDelegate(): Widget | undefined {\n        return this._tabBarDelegate;\n    }\n\n    protected updateTitle(): void {\n        this.toDisposeOnUpdateTitle.dispose();\n        this.toDispose.push(this.toDisposeOnUpdateTitle);\n        this.updateTabBarDelegate();\n        let title = Object.assign({}, this.titleOptions);\n        if (isEmpty(title)) {\n            return;\n        }\n        const allParts = this.getParts();\n        const visibleParts = allParts.filter(part => !part.isHidden);\n        this.title.label = title.label;\n        // If there's only one visible part - inline it's title into the container title except in case the part\n        // isn't originally belongs to this container but there are other **original** hidden parts.\n        if (visibleParts.length === 1 && (visibleParts[0].originalContainerId === this.id || !this.findOriginalPart())) {\n            const part = visibleParts[0];\n            this.toDisposeOnUpdateTitle.push(part.onTitleChanged(() => this.updateTitle()));\n            const partLabel = part.wrapped.title.label;\n            // Change the container title if it contains only one part that originally belongs to another container.\n            if (allParts.length === 1 && part.originalContainerId !== this.id && !this.isCurrentTitle(part.originalContainerTitle)) {\n                title = Object.assign({}, part.originalContainerTitle);\n                this.setTitleOptions(title);\n                return;\n            }\n            if (partLabel) {\n                if (this.title.label && this.title.label !== partLabel) {\n                    this.title.label += ': ' + partLabel;\n                } else {\n                    this.title.label = partLabel;\n                }\n            }\n            part.collapsed = false;\n            part.hideTitle();\n        } else {\n            visibleParts.forEach(part => part.showTitle());\n            // If at least one part originally belongs to this container the title should return to its original value.\n            const originalPart = this.findOriginalPart();\n            if (originalPart && !this.isCurrentTitle(originalPart.originalContainerTitle)) {\n                title = Object.assign({}, originalPart.originalContainerTitle);\n                this.setTitleOptions(title);\n                return;\n            }\n        }\n        this.updateToolbarItems(allParts);\n        this.title.caption = title?.caption || title?.label;\n        if (title.iconClass) {\n            this.title.iconClass = title.iconClass;\n        }\n        if (this.title.className.includes(PINNED_CLASS)) {\n            this.title.closable &&= false;\n        } else if (title.closeable !== undefined) {\n            this.title.closable = title.closeable;\n        }\n    }\n\n    protected updateToolbarItems(allParts: ViewContainerPart[]): void {\n        if (allParts.length > 1) {\n            const group = this.getToggleVisibilityGroupLabel();\n            for (const part of allParts) {\n                const existingId = this.toggleVisibilityCommandId(part);\n                const { caption, label, dataset: { visibilityCommandLabel } } = part.wrapped.title;\n                this.registerToolbarItem(existingId, { tooltip: visibilityCommandLabel || caption || label, group });\n            }\n        }\n    }\n\n    protected getToggleVisibilityGroupLabel(): string {\n        return 'view';\n    }\n\n    protected registerToolbarItem(commandId: string, options?: Partial<Omit<TabBarToolbarItem, 'id' | 'command'>>): void {\n        const newId = `${this.id}-tabbar-toolbar-${commandId}`;\n        const existingHandler = this.commandRegistry.getAllHandlers(commandId)[0];\n        const existingCommand = this.commandRegistry.getCommand(commandId);\n        if (existingHandler && existingCommand) {\n            this.toDisposeOnUpdateTitle.push(this.commandRegistry.registerCommand({ ...existingCommand, id: newId }, {\n                execute: (_widget, ...args) => this.commandRegistry.executeCommand(commandId, ...args),\n                isToggled: (_widget, ...args) => this.commandRegistry.isToggled(commandId, ...args),\n                isEnabled: (_widget, ...args) => this.commandRegistry.isEnabled(commandId, ...args),\n                isVisible: (widget, ...args) => widget === this.getTabBarDelegate() && this.commandRegistry.isVisible(commandId, ...args),\n            }));\n            this.toDisposeOnUpdateTitle.push(this.toolbarRegistry.registerItem({\n                ...options,\n                id: newId,\n                command: newId,\n            }));\n        }\n    }\n\n    protected findOriginalPart(): ViewContainerPart | undefined {\n        return this.getParts().find(part => part.originalContainerId === this.id);\n    }\n\n    protected isCurrentTitle(titleOptions: ViewContainerTitleOptions | undefined): boolean {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return (!!titleOptions && !!this.titleOptions && Object.keys(titleOptions).every(key => (titleOptions as any)[key] === (this.titleOptions as any)[key]))\n            || (!titleOptions && !this.titleOptions);\n    }\n\n    protected findPartForAnchor(anchor: Anchor): ViewContainerPart | undefined {\n        const element = document.elementFromPoint(anchor.x, anchor.y);\n        if (element instanceof Element) {\n            const closestPart = ViewContainerPart.closestPart(element);\n            if (closestPart && closestPart.id) {\n                return find(this.containerLayout.iter(), part => part.id === closestPart.id);\n            }\n        }\n        return undefined;\n    }\n\n    protected readonly toRemoveWidgets = new Map<string, DisposableCollection>();\n\n    protected createPartId(widget: Widget): string {\n        const description = this.widgetManager.getDescription(widget);\n        return widget.id || JSON.stringify(description);\n    }\n\n    addWidget(widget: Widget, options?: ViewContainer.Factory.WidgetOptions, originalContainerId?: string, originalContainerTitle?: ViewContainerTitleOptions): Disposable {\n        const existing = this.toRemoveWidgets.get(widget.id);\n        if (existing) {\n            return existing;\n        }\n        const partId = this.createPartId(widget);\n        const newPart = this.createPart(widget, partId, originalContainerId || this.id, originalContainerTitle || this.titleOptions, options);\n        return this.attachNewPart(newPart);\n    }\n\n    protected attachNewPart(newPart: ViewContainerPart, insertIndex?: number): Disposable {\n        const toRemoveWidget = new DisposableCollection();\n        this.toDispose.push(toRemoveWidget);\n        this.toRemoveWidgets.set(newPart.wrapped.id, toRemoveWidget);\n        toRemoveWidget.push(Disposable.create(() => this.toRemoveWidgets.delete(newPart.wrapped.id)));\n        this.registerPart(newPart);\n        if (insertIndex !== undefined || (newPart.options && newPart.options.order !== undefined)) {\n            const index = insertIndex ?? this.getParts().findIndex(part => part.options.order === undefined || part.options.order > newPart.options.order!);\n            if (index >= 0) {\n                this.containerLayout.insertWidget(index, newPart);\n            } else {\n                this.containerLayout.addWidget(newPart);\n            }\n        } else {\n            this.containerLayout.addWidget(newPart);\n        }\n        this.refreshMenu(newPart);\n        this.updateTitle();\n        this.updateCurrentPart();\n        this.updateSplitterVisibility();\n        this.update();\n        this.fireDidChangeTrackableWidgets();\n        toRemoveWidget.pushAll([\n            Disposable.create(() => {\n                if (newPart.currentViewContainerId === this.id) {\n                    newPart.dispose();\n                }\n                this.unregisterPart(newPart);\n                if (!newPart.isDisposed && this.getPartIndex(newPart.id) > -1) {\n                    this.containerLayout.removeWidget(newPart);\n                }\n                if (!this.isDisposed) {\n                    this.update();\n                    this.updateTitle();\n                    this.updateCurrentPart();\n                    this.updateSplitterVisibility();\n                    this.fireDidChangeTrackableWidgets();\n                }\n            }),\n            this.registerDND(newPart),\n            newPart.onDidChangeVisibility(() => {\n                this.updateTitle();\n                this.updateCurrentPart();\n                this.updateSplitterVisibility();\n                this.containerLayout.updateSashes();\n            }),\n            newPart.onCollapsed(() => {\n                this.containerLayout.updateCollapsed(newPart, this.enableAnimation);\n                this.containerLayout.updateSashes();\n                this.updateCurrentPart();\n            }),\n            newPart.onContextMenu(event => {\n                if (event.button === 2) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    this.contextMenuRenderer.render({ menuPath: this.contextMenuPath, anchor: event });\n                }\n            }),\n            newPart.onTitleChanged(() => this.refreshMenu(newPart)),\n            newPart.onDidFocus(() => this.updateCurrentPart(newPart))\n        ]);\n\n        newPart.disposed.connect(() => toRemoveWidget.dispose());\n        return toRemoveWidget;\n    }\n\n    protected createPart(widget: Widget, partId: string, originalContainerId: string, originalContainerTitle?: ViewContainerTitleOptions,\n        options?: ViewContainer.Factory.WidgetOptions): ViewContainerPart {\n\n        return new ViewContainerPart(widget, partId, this.id, originalContainerId, originalContainerTitle, this.toolbarRegistry, this.toolbarFactory, options);\n    }\n\n    removeWidget(widget: Widget): boolean {\n        const disposable = this.toRemoveWidgets.get(widget.id);\n        if (disposable) {\n            disposable.dispose();\n            return true;\n        }\n        return false;\n    }\n\n    getParts(): ViewContainerPart[] {\n        return this.containerLayout.widgets;\n    }\n\n    protected getPartIndex(partId: string | undefined): number {\n        if (partId) {\n            return this.getParts().findIndex(part => part.id === partId);\n        }\n        return -1;\n    }\n\n    getPartFor(widget: Widget): ViewContainerPart | undefined {\n        return this.getParts().find(p => p.wrapped.id === widget.id);\n    }\n\n    get containerLayout(): ViewContainerLayout {\n        const layout = this.panel.layout;\n        if (layout instanceof ViewContainerLayout) {\n            return layout;\n        }\n        throw new Error('view container is disposed');\n    }\n\n    protected get orientation(): SplitLayout.Orientation {\n        return ViewContainer.getOrientation(this.node);\n    }\n\n    protected get enableAnimation(): boolean {\n        return this.applicationStateService.state === 'ready';\n    }\n\n    protected lastVisibleState: ViewContainer.State | undefined;\n\n    storeState(): ViewContainer.State {\n        if (!this.isVisible && this.lastVisibleState) {\n            return this.lastVisibleState;\n        }\n        return this.doStoreState();\n    }\n    protected doStoreState(): ViewContainer.State {\n        const parts = this.getParts();\n        const availableSize = this.containerLayout.getAvailableSize();\n        const orientation = this.orientation;\n        const partStates = parts.map(part => {\n            let size = this.containerLayout.getPartSize(part);\n            if (size && size > ViewContainerPart.HEADER_HEIGHT && orientation === 'vertical') {\n                size -= ViewContainerPart.HEADER_HEIGHT;\n            }\n            return <ViewContainerPart.State>{\n                widget: part.wrapped,\n                partId: part.partId,\n                collapsed: part.collapsed,\n                hidden: part.isHidden,\n                relativeSize: size && availableSize ? size / availableSize : undefined,\n                originalContainerId: part.originalContainerId,\n                originalContainerTitle: part.originalContainerTitle\n            };\n        });\n        return { parts: partStates, title: this.titleOptions };\n    }\n\n    restoreState(state: ViewContainer.State): void {\n        this.lastVisibleState = state;\n        this.doRestoreState(state);\n    }\n    protected doRestoreState(state: ViewContainer.State): void {\n        this.setTitleOptions(state.title);\n        // restore widgets\n        for (const part of state.parts) {\n            if (part.widget) {\n                this.addWidget(part.widget, undefined, part.originalContainerId, part.originalContainerTitle || {} as ViewContainerTitleOptions);\n            }\n        }\n        const partStates = state.parts.filter(partState => some(this.containerLayout.iter(), p => p.partId === partState.partId));\n\n        // Reorder the parts according to the stored state\n        for (let index = 0; index < partStates.length; index++) {\n            const partState = partStates[index];\n            const widget = this.getParts().find(part => part.partId === partState.partId);\n            if (widget) {\n                this.containerLayout.insertWidget(index, widget);\n            }\n        }\n\n        // Restore visibility and collapsed state\n        const parts = this.getParts();\n        for (let index = 0; index < parts.length; index++) {\n            const part = parts[index];\n            const partState = partStates.find(s => part.partId === s.partId);\n            if (partState) {\n                part.setHidden(partState.hidden);\n                part.collapsed = partState.collapsed || !partState.relativeSize;\n            } else if (part.canHide) {\n                part.hide();\n            }\n            this.refreshMenu(part);\n        }\n\n        // Restore part sizes\n        waitForRevealed(this).then(() => {\n            this.containerLayout.setPartSizes(partStates.map(partState => partState.relativeSize));\n            this.updateSplitterVisibility();\n        });\n    }\n\n    /**\n     * Register a command to toggle the visibility of the new part.\n     */\n    protected registerPart(toRegister: ViewContainerPart): void {\n        const commandId = this.toggleVisibilityCommandId(toRegister);\n        this.commandRegistry.registerCommand({ id: commandId }, {\n            execute: () => {\n                const toHide = find(this.containerLayout.iter(), part => part.id === toRegister.id);\n                if (toHide) {\n                    toHide.setHidden(!toHide.isHidden);\n                }\n            },\n            isToggled: () => {\n                if (!toRegister.canHide) {\n                    return true;\n                }\n                const widgetToToggle = find(this.containerLayout.iter(), part => part.id === toRegister.id);\n                if (widgetToToggle) {\n                    return !widgetToToggle.isHidden;\n                }\n                return false;\n            },\n            isEnabled: arg => toRegister.canHide && (!this.titleOptions || !(arg instanceof Widget) || (arg instanceof ViewContainer && arg.id === this.id)),\n            isVisible: arg => !this.titleOptions || !(arg instanceof Widget) || (arg instanceof ViewContainer && arg.id === this.id)\n        });\n    }\n\n    /**\n     * Register a menu action to toggle the visibility of the new part.\n     * The menu action is unregistered first to enable refreshing the order of menu actions.\n     */\n    protected refreshMenu(part: ViewContainerPart): void {\n        const commandId = this.toggleVisibilityCommandId(part);\n        this.menuRegistry.unregisterMenuAction(commandId);\n        if (!part.wrapped.title.label) {\n            return;\n        }\n        const { dataset: { visibilityCommandLabel }, caption, label } = part.wrapped.title;\n        const action: MenuAction = {\n            commandId: commandId,\n            label: visibilityCommandLabel || caption || label,\n            order: this.getParts().indexOf(part).toString()\n        };\n        this.menuRegistry.registerMenuAction([...this.contextMenuPath, '1_widgets'], action);\n        if (this.titleOptions) {\n            this.menuRegistry.registerMenuAction([...SIDE_PANEL_TOOLBAR_CONTEXT_MENU, 'navigation'], action);\n        }\n    }\n\n    protected unregisterPart(part: ViewContainerPart): void {\n        const commandId = this.toggleVisibilityCommandId(part);\n        this.commandRegistry.unregisterCommand(commandId);\n        this.menuRegistry.unregisterMenuAction(commandId);\n    }\n\n    protected get contextMenuPath(): MenuPath {\n        return [`${this.id}-context-menu`];\n    }\n\n    protected toggleVisibilityCommandId(part: ViewContainerPart): string {\n        return `${this.id}:toggle-visibility-${part.id}`;\n    }\n\n    protected get globalHideCommandId(): string {\n        return `${this.id}:toggle-visibility`;\n    }\n\n    protected moveBefore(toMovedId: string, moveBeforeThisId: string): void {\n        const parts = this.getParts();\n        const indexToMove = parts.findIndex(part => part.id === toMovedId);\n        const targetIndex = parts.findIndex(part => part.id === moveBeforeThisId);\n        if (indexToMove >= 0 && targetIndex >= 0) {\n            this.containerLayout.insertWidget(targetIndex, parts[indexToMove]);\n            for (let index = Math.min(indexToMove, targetIndex); index < parts.length; index++) {\n                this.refreshMenu(parts[index]);\n                this.activate();\n            }\n        }\n        this.updateSplitterVisibility();\n    }\n\n    getTrackableWidgets(): Widget[] {\n        return this.getParts().map(w => w.wrapped);\n    }\n\n    protected fireDidChangeTrackableWidgets(): void {\n        this.onDidChangeTrackableWidgetsEmitter.fire(this.getTrackableWidgets());\n    }\n\n    activateWidget(id: string): Widget | undefined {\n        const part = this.revealPart(id);\n        if (!part) {\n            return undefined;\n        }\n        this.updateCurrentPart(part);\n        part.collapsed = false;\n        return part.wrapped;\n    }\n\n    revealWidget(id: string): Widget | undefined {\n        const part = this.revealPart(id);\n        return part && part.wrapped;\n    }\n\n    protected revealPart(id: string): ViewContainerPart | undefined {\n        const part = this.getParts().find(p => p.wrapped.id === id);\n        if (!part) {\n            return undefined;\n        }\n        part.setHidden(false);\n        return part;\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        if (this.currentPart) {\n            this.currentPart.activate();\n        } else {\n            this.panel.node.focus({ preventScroll: true });\n        }\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        const orientation = this.orientation;\n        this.containerLayout.orientation = orientation;\n        if (orientation === 'horizontal') {\n            for (const part of this.getParts()) {\n                part.collapsed = false;\n            }\n        }\n        super.onAfterAttach(msg);\n    }\n\n    protected override onBeforeHide(msg: Message): void {\n        super.onBeforeHide(msg);\n        this.lastVisibleState = this.storeState();\n    }\n\n    protected override onAfterShow(msg: Message): void {\n        super.onAfterShow(msg);\n        this.updateTitle();\n        this.lastVisibleState = undefined;\n    }\n\n    protected override onBeforeAttach(msg: Message): void {\n        super.onBeforeAttach(msg);\n        this.node.addEventListener('p-dragenter', this, true);\n        this.node.addEventListener('p-dragover', this, true);\n        this.node.addEventListener('p-dragleave', this, true);\n        this.node.addEventListener('p-drop', this, true);\n    }\n\n    protected override onAfterDetach(msg: Message): void {\n        super.onAfterDetach(msg);\n        this.node.removeEventListener('p-dragenter', this, true);\n        this.node.removeEventListener('p-dragover', this, true);\n        this.node.removeEventListener('p-dragleave', this, true);\n        this.node.removeEventListener('p-drop', this, true);\n    }\n\n    handleEvent(event: Event): void {\n        switch (event.type) {\n            case 'p-dragenter':\n                this.handleDragEnter(event as IDragEvent);\n                break;\n            case 'p-dragover':\n                this.handleDragOver(event as IDragEvent);\n                break;\n            case 'p-dragleave':\n                this.handleDragLeave(event as IDragEvent);\n                break;\n            case 'p-drop':\n                this.handleDrop(event as IDragEvent);\n                break;\n        }\n    }\n\n    handleDragEnter(event: IDragEvent): void {\n        if (event.mimeData.hasData('application/vnd.phosphor.view-container-factory')) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    }\n\n    toDisposeOnDragEnd = new DisposableCollection();\n    handleDragOver(event: IDragEvent): void {\n        const factory = event.mimeData.getData('application/vnd.phosphor.view-container-factory');\n        const widget = factory && factory();\n        if (!(widget instanceof ViewContainerPart)) {\n            return;\n        }\n        event.preventDefault();\n        event.stopPropagation();\n\n        const sameContainers = this.id === widget.currentViewContainerId;\n        const targetPart = ArrayExt.findFirstValue(this.getParts(), (p => ElementExt.hitTest(p.node, event.clientX, event.clientY)));\n        if (!targetPart && sameContainers) {\n            event.dropAction = 'none';\n            return;\n        }\n        if (targetPart) {\n            // add overlay class style to the `targetPart` node.\n            targetPart.node.classList.add('drop-target');\n            this.toDisposeOnDragEnd.push(Disposable.create(() => targetPart.node.classList.remove('drop-target')));\n        } else {\n            // show panel overlay.\n            const dockPanel = this.getDockPanel();\n            if (dockPanel) {\n                dockPanel.overlay.show({ top: 0, bottom: 0, right: 0, left: 0 });\n                this.toDisposeOnDragEnd.push(Disposable.create(() => dockPanel.overlay.hide(100)));\n            }\n        }\n\n        const isDraggingOutsideDisabled = this.disableDNDBetweenContainers || widget.viewContainer?.disableDNDBetweenContainers\n            || widget.options.disableDraggingToOtherContainers;\n        if (isDraggingOutsideDisabled && !sameContainers) {\n            const { target } = event;\n            if (target instanceof HTMLElement) {\n                target.classList.add('theia-cursor-no-drop');\n                this.toDisposeOnDragEnd.push(Disposable.create(() => {\n                    target.classList.remove('theia-cursor-no-drop');\n                }));\n            }\n            event.dropAction = 'none';\n            return;\n        };\n\n        event.dropAction = event.proposedAction;\n    };\n\n    handleDragLeave(event: IDragEvent): void {\n        this.toDisposeOnDragEnd.dispose();\n        if (event.mimeData.hasData('application/vnd.phosphor.view-container-factory')) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n    };\n\n    handleDrop(event: IDragEvent): void {\n        this.toDisposeOnDragEnd.dispose();\n        const factory = event.mimeData.getData('application/vnd.phosphor.view-container-factory');\n        const draggedPart = factory && factory();\n        if (!(draggedPart instanceof ViewContainerPart)) {\n            event.dropAction = 'none';\n            return;\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        const parts = this.getParts();\n        const toIndex = ArrayExt.findFirstIndex(parts, part => ElementExt.hitTest(part.node, event.clientX, event.clientY));\n        if (draggedPart.currentViewContainerId !== this.id) {\n            this.attachNewPart(draggedPart, toIndex > -1 ? toIndex + 1 : toIndex);\n            draggedPart.onPartMoved(this);\n        } else {\n            this.moveBefore(draggedPart.id, parts[toIndex].id);\n        }\n        event.dropAction = event.proposedAction;\n    }\n\n    protected registerDND(part: ViewContainerPart): Disposable {\n        part.headerElement.draggable = true;\n\n        return new DisposableCollection(\n            addEventListener(part.headerElement, 'dragstart',\n                event => {\n                    event.preventDefault();\n                    const mimeData = new MimeData();\n                    mimeData.setData('application/vnd.phosphor.view-container-factory', () => part);\n                    const clonedHeader = part.headerElement.cloneNode(true) as HTMLElement;\n                    clonedHeader.style.width = part.node.style.width;\n                    clonedHeader.style.opacity = '0.6';\n                    const drag = new Drag({\n                        mimeData,\n                        dragImage: clonedHeader,\n                        proposedAction: 'move',\n                        supportedActions: 'move'\n                    });\n                    part.node.classList.add('p-mod-hidden');\n                    drag.start(event.clientX, event.clientY).then(dropAction => {\n                        // The promise is resolved when the drag has ended\n                        if (dropAction === 'move' && part.currentViewContainerId !== this.id) {\n                            this.removeWidget(part.wrapped);\n                            this.lastVisibleState = this.doStoreState();\n                        }\n                    });\n                    setTimeout(() => { part.node.classList.remove('p-mod-hidden'); }, 0);\n                }, false));\n    }\n\n    protected getDockPanel(): DockPanel | undefined {\n        let panel: DockPanel | undefined;\n        let parent = this.parent;\n        while (!panel && parent) {\n            if (this.isSideDockPanel(parent)) {\n                panel = parent as DockPanel;\n            } else {\n                parent = parent.parent;\n            }\n        }\n        return panel;\n    }\n\n    protected isSideDockPanel(widget: Widget): boolean {\n        const { leftPanelHandler, rightPanelHandler } = this.shell;\n        if (widget instanceof DockPanel && (widget.id === rightPanelHandler.dockPanel.id || widget.id === leftPanelHandler.dockPanel.id)) {\n            return true;\n        }\n        return false;\n    }\n\n}\n\nexport namespace ViewContainer {\n\n    export const Factory = Symbol('ViewContainerFactory');\n    export interface Factory {\n        (options: ViewContainerIdentifier): ViewContainer;\n    }\n\n    export namespace Factory {\n\n        export interface WidgetOptions {\n            readonly order?: number;\n            readonly weight?: number;\n            readonly initiallyCollapsed?: boolean;\n            readonly canHide?: boolean;\n            readonly initiallyHidden?: boolean;\n            /**\n             * Disable dragging this part from its original container to other containers,\n             * But allow dropping parts from other containers on it,\n             * This option only applies to the `ViewContainerPart` and has no effect on the ViewContainer.\n             */\n            readonly disableDraggingToOtherContainers?: boolean;\n        }\n\n        export interface WidgetDescriptor {\n            readonly widget: Widget | interfaces.ServiceIdentifier<Widget>;\n            readonly options?: WidgetOptions;\n        }\n\n    }\n\n    export interface State {\n        title?: ViewContainerTitleOptions;\n        parts: ViewContainerPart.State[]\n    }\n\n    export function getOrientation(node: HTMLElement): 'horizontal' | 'vertical' {\n        if (node.closest(`#${MAIN_AREA_ID}`) || node.closest(`#${BOTTOM_AREA_ID}`)) {\n            return 'horizontal';\n        }\n        return 'vertical';\n    }\n}\n\n/**\n * Wrapper around a widget held by a view container. Adds a header to display the\n * title, toolbar, and collapse / expand handle.\n */\nexport class ViewContainerPart extends BaseWidget {\n\n    protected readonly header: HTMLElement;\n    protected readonly body: HTMLElement;\n    protected readonly collapsedEmitter = new Emitter<boolean>();\n    protected readonly contextMenuEmitter = new Emitter<MouseEvent>();\n\n    protected readonly onTitleChangedEmitter = new Emitter<void>();\n    readonly onTitleChanged = this.onTitleChangedEmitter.event;\n    protected readonly onDidFocusEmitter = new Emitter<this>();\n    readonly onDidFocus = this.onDidFocusEmitter.event;\n    protected readonly onPartMovedEmitter = new Emitter<ViewContainer>();\n    readonly onDidMove = this.onPartMovedEmitter.event;\n    protected readonly onDidChangeDescriptionEmitter = new Emitter<void>();\n    readonly onDidChangeDescription = this.onDidChangeDescriptionEmitter.event;\n    protected readonly onDidChangeBadgeEmitter = new Emitter<void>();\n    readonly onDidChangeBadge = this.onDidChangeBadgeEmitter.event;\n    protected readonly onDidChangeBadgeTooltipEmitter = new Emitter<void>();\n    readonly onDidChangeBadgeTooltip = this.onDidChangeBadgeTooltipEmitter.event;\n\n    protected readonly toolbar: TabBarToolbar;\n\n    protected _collapsed: boolean;\n\n    uncollapsedSize: number | undefined;\n    animatedSize: number | undefined;\n\n    protected readonly toNoDisposeWrapped: Disposable;\n\n    constructor(\n        readonly wrapped: Widget,\n        readonly partId: string,\n        protected currentContainerId: string,\n        readonly originalContainerId: string,\n        readonly originalContainerTitle: ViewContainerTitleOptions | undefined,\n        protected readonly toolbarRegistry: TabBarToolbarRegistry,\n        protected readonly toolbarFactory: TabBarToolbarFactory,\n        readonly options: ViewContainer.Factory.WidgetOptions = {}\n    ) {\n        super();\n        wrapped.parent = this;\n        wrapped.disposed.connect(() => this.dispose());\n        this.id = `${originalContainerId}--${wrapped.id}`;\n        this.addClass('part');\n\n        const fireTitleChanged = () => this.onTitleChangedEmitter.fire(undefined);\n        this.wrapped.title.changed.connect(fireTitleChanged);\n        this.toDispose.push(Disposable.create(() => this.wrapped.title.changed.disconnect(fireTitleChanged)));\n\n        if (DescriptionWidget.is(this.wrapped)) {\n            this.wrapped?.onDidChangeDescription(() => this.onDidChangeDescriptionEmitter.fire(), undefined, this.toDispose);\n        }\n\n        if (BadgeWidget.is(this.wrapped)) {\n            this.wrapped.onDidChangeBadge(() => this.onDidChangeBadgeEmitter.fire(), undefined, this.toDispose);\n            this.wrapped.onDidChangeBadgeTooltip(() => this.onDidChangeBadgeTooltipEmitter.fire(), undefined, this.toDispose);\n        }\n\n        if (DynamicToolbarWidget.is(this.wrapped)) {\n            this.wrapped.onDidChangeToolbarItems(() => {\n                this.toolbar.updateTarget(this.wrapped);\n                this.viewContainer?.update();\n            });\n        }\n\n        const { header, body, disposable } = this.createContent();\n        this.header = header;\n        this.body = body;\n\n        this.toNoDisposeWrapped = this.toDispose.push(wrapped);\n        this.toolbar = this.toolbarFactory();\n        this.toolbar.addClass('theia-view-container-part-title');\n\n        this.toDispose.pushAll([\n            disposable,\n            this.toolbar,\n            this.toolbarRegistry.onDidChange(() => this.toolbar.updateTarget(this.wrapped)),\n            this.collapsedEmitter,\n            this.contextMenuEmitter,\n            this.onTitleChangedEmitter,\n            this.onDidChangeDescriptionEmitter,\n            this.onDidChangeBadgeEmitter,\n            this.onDidChangeBadgeTooltipEmitter,\n            this.registerContextMenu(),\n            this.onDidFocusEmitter,\n            // focus event does not bubble, capture it\n            addEventListener(this.node, 'focus', () => this.onDidFocusEmitter.fire(this), true)\n        ]);\n        this.scrollOptions = {\n            suppressScrollX: true,\n            minScrollbarLength: 35\n        };\n        this.collapsed = !!options.initiallyCollapsed;\n        if (options.initiallyHidden && this.canHide) {\n            this.hide();\n        }\n    }\n\n    get viewContainer(): ViewContainer | undefined {\n        return this.parent ? this.parent.parent as ViewContainer : undefined;\n    }\n\n    get currentViewContainerId(): string {\n        return this.currentContainerId;\n    }\n\n    get headerElement(): HTMLElement {\n        return this.header;\n    }\n\n    get collapsed(): boolean {\n        return this._collapsed;\n    }\n\n    set collapsed(collapsed: boolean) {\n        // Cannot collapse/expand if the orientation of the container is `horizontal`.\n        const orientation = ViewContainer.getOrientation(this.node);\n        if (this._collapsed === collapsed || (orientation === 'horizontal' && collapsed)) {\n            return;\n        }\n        this._collapsed = collapsed;\n        this.node.classList.toggle('collapsed', collapsed);\n\n        if (collapsed && this.wrapped.node.contains(document.activeElement)) {\n            this.header.focus();\n        }\n        this.wrapped.setHidden(collapsed);\n        const toggleIcon = this.header.querySelector(`span.${EXPANSION_TOGGLE_CLASS}`);\n        if (toggleIcon) {\n            if (collapsed) {\n                toggleIcon.classList.add(COLLAPSED_CLASS);\n            } else {\n                toggleIcon.classList.remove(COLLAPSED_CLASS);\n            }\n        }\n        this.update();\n        this.collapsedEmitter.fire(collapsed);\n    }\n\n    onPartMoved(newContainer: ViewContainer): void {\n        this.currentContainerId = newContainer.id;\n        this.onPartMovedEmitter.fire(newContainer);\n    }\n\n    override setHidden(hidden: boolean): void {\n        if (!this.canHide) {\n            return;\n        }\n        super.setHidden(hidden);\n    }\n\n    get canHide(): boolean {\n        return this.options.canHide === undefined || this.options.canHide;\n    }\n\n    get onCollapsed(): CommonEvent<boolean> {\n        return this.collapsedEmitter.event;\n    }\n\n    get onContextMenu(): CommonEvent<MouseEvent> {\n        return this.contextMenuEmitter.event;\n    }\n\n    get minSize(): number {\n        const style = getComputedStyle(this.body);\n        if (ViewContainer.getOrientation(this.node) === 'horizontal') {\n            return parseCssMagnitude(style.minWidth, 0);\n        } else {\n            return parseCssMagnitude(style.minHeight, 0);\n        }\n    }\n\n    protected readonly toShowHeader = new DisposableCollection();\n    showTitle(): void {\n        this.toShowHeader.dispose();\n    }\n\n    hideTitle(): void {\n        if (this.titleHidden) {\n            return;\n        }\n        const display = this.header.style.display;\n        const height = this.body.style.height;\n        this.body.style.height = '100%';\n        this.header.style.display = 'none';\n        this.toShowHeader.push(Disposable.create(() => {\n            this.header.style.display = display;\n            this.body.style.height = height;\n        }));\n    }\n\n    get titleHidden(): boolean {\n        return !this.toShowHeader.disposed || this.collapsed;\n    }\n\n    protected override getScrollContainer(): HTMLElement {\n        return this.body;\n    }\n\n    protected registerContextMenu(): Disposable {\n        return new DisposableCollection(\n            addEventListener(this.header, 'contextmenu', event => {\n                this.contextMenuEmitter.fire(event);\n            })\n        );\n    }\n\n    protected createContent(): { header: HTMLElement, body: HTMLElement, disposable: Disposable } {\n        const disposable = new DisposableCollection();\n        const { header, disposable: headerDisposable } = this.createHeader();\n        const body = document.createElement('div');\n        body.classList.add('body');\n        this.node.appendChild(header);\n        this.node.appendChild(body);\n        disposable.push(headerDisposable);\n        return {\n            header,\n            body,\n            disposable,\n        };\n    }\n\n    protected createHeader(): { header: HTMLElement, disposable: Disposable } {\n        const disposable = new DisposableCollection();\n        const header = document.createElement('div');\n        header.tabIndex = 0;\n        header.classList.add('theia-header', 'header', 'theia-view-container-part-header');\n        disposable.push(addEventListener(header, 'click', event => {\n            if (this.toolbar && this.toolbar.shouldHandleMouseEvent(event)) {\n                return;\n            }\n            this.collapsed = !this.collapsed;\n        }));\n        disposable.push(addKeyListener(header, Key.ARROW_LEFT, () => this.collapsed = true));\n        disposable.push(addKeyListener(header, Key.ARROW_RIGHT, () => this.collapsed = false));\n        disposable.push(addKeyListener(header, Key.ENTER, () => this.collapsed = !this.collapsed));\n\n        const toggleIcon = document.createElement('span');\n        toggleIcon.classList.add(EXPANSION_TOGGLE_CLASS, ...CODICON_TREE_ITEM_CLASSES);\n        if (this.collapsed) {\n            toggleIcon.classList.add(COLLAPSED_CLASS);\n        }\n        header.appendChild(toggleIcon);\n\n        const title = document.createElement('span');\n        title.classList.add('label', 'noselect');\n\n        const description = document.createElement('span');\n        description.classList.add('description');\n\n        const badgeSpan = document.createElement('span');\n        badgeSpan.classList.add('notification-count');\n\n        const badgeContainer = document.createElement('div');\n        badgeContainer.classList.add('notification-count-container');\n        badgeContainer.appendChild(badgeSpan);\n        const badgeContainerDisplay = badgeContainer.style.display;\n\n        const updateTitle = () => {\n            if (this.currentContainerId !== this.originalContainerId && this.originalContainerTitle?.label) {\n                // Creating a title in format: <original_container_title>: <part_title>.\n                title.innerText = this.originalContainerTitle.label + ': ' + this.wrapped.title.label;\n            } else {\n                title.innerText = this.wrapped.title.label;\n            }\n        };\n        const updateCaption = () => title.title = this.wrapped.title.caption || this.wrapped.title.label;\n        const updateDescription = () => {\n            description.innerText = DescriptionWidget.is(this.wrapped) && !this.collapsed && this.wrapped.description || '';\n        };\n        const updateBadge = () => {\n            if (BadgeWidget.is(this.wrapped)) {\n                const visibleToolBarItems = this.toolbarRegistry.visibleItems(this.wrapped).length > 0;\n                const badge = this.wrapped.badge;\n                if (badge && !visibleToolBarItems) {\n                    badgeSpan.innerText = badge.toString();\n                    badgeSpan.title = this.wrapped.badgeTooltip || '';\n                    badgeContainer.style.display = badgeContainerDisplay;\n                    return;\n                }\n            }\n            badgeContainer.style.display = 'none';\n        };\n\n        updateTitle();\n        updateCaption();\n        updateDescription();\n        updateBadge();\n\n        disposable.pushAll([\n            this.onTitleChanged(updateTitle),\n            this.onTitleChanged(updateCaption),\n            this.onDidMove(updateTitle),\n            this.onDidChangeDescription(updateDescription),\n            this.onDidChangeBadge(updateBadge),\n            this.onDidChangeBadgeTooltip(updateBadge),\n            this.onCollapsed(updateDescription)\n        ]);\n        header.appendChild(title);\n        header.appendChild(description);\n        header.appendChild(badgeContainer);\n\n        return {\n            header,\n            disposable\n        };\n    }\n\n    protected handleResize(): void {\n        const handleMouseEnter = () => {\n            this.node?.classList.add('no-pointer-events');\n            setTimeout(() => {\n                this.node?.classList.remove('no-pointer-events');\n                this.node?.removeEventListener('mouseenter', handleMouseEnter);\n            }, 100);\n        };\n        this.node?.addEventListener('mouseenter', handleMouseEnter);\n    }\n\n    protected override onResize(msg: Widget.ResizeMessage): void {\n        this.handleResize();\n        if (this.wrapped.isAttached && !this.collapsed) {\n            MessageLoop.sendMessage(this.wrapped, Widget.ResizeMessage.UnknownSize);\n        }\n        super.onResize(msg);\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        if (this.wrapped.isAttached && !this.collapsed) {\n            MessageLoop.sendMessage(this.wrapped, msg);\n        }\n        super.onUpdateRequest(msg);\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        if (!this.wrapped.isAttached) {\n            UnsafeWidgetUtilities.attach(this.wrapped, this.body);\n        }\n        UnsafeWidgetUtilities.attach(this.toolbar, this.header);\n        super.onAfterAttach(msg);\n    }\n\n    protected override onBeforeDetach(msg: Message): void {\n        super.onBeforeDetach(msg);\n        if (this.toolbar.isAttached) {\n            Widget.detach(this.toolbar);\n        }\n        if (this.wrapped.isAttached) {\n            UnsafeWidgetUtilities.detach(this.wrapped);\n        }\n    }\n\n    protected override onBeforeShow(msg: Message): void {\n        if (this.wrapped.isAttached && !this.collapsed) {\n            MessageLoop.sendMessage(this.wrapped, msg);\n        }\n        super.onBeforeShow(msg);\n    }\n\n    protected override onAfterShow(msg: Message): void {\n        super.onAfterShow(msg);\n        if (this.wrapped.isAttached && !this.collapsed) {\n            MessageLoop.sendMessage(this.wrapped, msg);\n        }\n    }\n\n    protected override onBeforeHide(msg: Message): void {\n        if (this.wrapped.isAttached && !this.collapsed) {\n            MessageLoop.sendMessage(this.wrapped, msg);\n        }\n        super.onBeforeShow(msg);\n    }\n\n    protected override onAfterHide(msg: Message): void {\n        super.onAfterHide(msg);\n        if (this.wrapped.isAttached && !this.collapsed) {\n            MessageLoop.sendMessage(this.wrapped, msg);\n        }\n    }\n\n    protected override onChildRemoved(msg: Widget.ChildMessage): void {\n        super.onChildRemoved(msg);\n        // if wrapped is not disposed, but detached then we should not dispose it, but only get rid of this part\n        this.toNoDisposeWrapped.dispose();\n        this.dispose();\n    }\n\n    protected override onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        if (this.collapsed) {\n            this.header.focus();\n        } else {\n            this.wrapped.activate();\n        }\n    }\n}\n\nexport namespace ViewContainerPart {\n\n    /**\n     * Make sure to adjust the `line-height` of the `.theia-view-container .part > .header` CSS class when modifying this, and vice versa.\n     */\n    export const HEADER_HEIGHT = 22;\n\n    export interface State {\n        widget?: Widget\n        partId: string;\n        collapsed: boolean;\n        hidden: boolean;\n        relativeSize?: number;\n        description?: string;\n        /** The original container to which this part belongs */\n        originalContainerId: string;\n        originalContainerTitle?: ViewContainerTitleOptions;\n    }\n\n    export function closestPart(element: Element | EventTarget | null, selector: string = 'div.part'): Element | undefined {\n        if (element instanceof Element) {\n            const part = element.closest(selector);\n            if (part instanceof Element) {\n                return part;\n            }\n        }\n        return undefined;\n    }\n}\n\nexport class ViewContainerLayout extends SplitLayout {\n\n    constructor(protected options: ViewContainerLayout.Options, protected readonly splitPositionHandler: SplitPositionHandler) {\n        super(options);\n    }\n\n    protected get items(): ReadonlyArray<LayoutItem & ViewContainerLayout.Item> {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return (this as any)._items as Array<LayoutItem & ViewContainerLayout.Item>;\n    }\n\n    override iter(): IIterator<ViewContainerPart> {\n        return map(this.items, item => item.widget);\n    }\n\n    // @ts-expect-error TS2611 `SplitLayout.widgets` is declared as `readonly widgets` but is implemented as a getter.\n    get widgets(): ViewContainerPart[] {\n        return toArray(this.iter());\n    }\n\n    override attachWidget(index: number, widget: ViewContainerPart): void {\n        super.attachWidget(index, widget);\n        if (index > -1 && this.parent && this.parent.node.contains(this.widgets[index + 1]?.node)) {\n            // Set the correct attach index to the DOM elements.\n            const ref = this.widgets[index + 1].node;\n            this.parent.node.insertBefore(widget.node, ref);\n            this.parent.node.insertBefore(this.handles[index], ref);\n            this.parent.fit();\n        }\n    }\n\n    getPartSize(part: ViewContainerPart): number | undefined {\n        if (part.collapsed || part.isHidden) {\n            return part.uncollapsedSize;\n        }\n        if (this.orientation === 'horizontal') {\n            return part.node.offsetWidth;\n        } else {\n            return part.node.offsetHeight;\n        }\n    }\n\n    /**\n     * Set the sizes of the view container parts according to the given weights\n     * by moving the split handles. This is similar to `setRelativeSizes` defined\n     * in `SplitLayout`, but here we properly consider the collapsed / expanded state.\n     */\n    setPartSizes(weights: (number | undefined)[]): void {\n        const parts = this.widgets;\n        const availableSize = this.getAvailableSize();\n\n        // Sum up the weights of visible parts\n        let totalWeight = 0;\n        let weightCount = 0;\n        for (let index = 0; index < weights.length && index < parts.length; index++) {\n            const part = parts[index];\n            const weight = weights[index];\n            if (weight && !part.isHidden && !part.collapsed) {\n                totalWeight += weight;\n                weightCount++;\n            }\n        }\n        if (weightCount === 0 || availableSize === 0) {\n            return;\n        }\n\n        // Add the average weight for visible parts without weight\n        const averageWeight = totalWeight / weightCount;\n        for (let index = 0; index < weights.length && index < parts.length; index++) {\n            const part = parts[index];\n            const weight = weights[index];\n            if (!weight && !part.isHidden && !part.collapsed) {\n                totalWeight += averageWeight;\n            }\n        }\n\n        // Apply the weights to compute actual sizes\n        let position = 0;\n        for (let index = 0; index < weights.length && index < parts.length - 1; index++) {\n            const part = parts[index];\n            if (!part.isHidden) {\n                if (this.orientation === 'vertical') {\n                    position += this.options.headerSize;\n                }\n                const weight = weights[index];\n                if (part.collapsed) {\n                    if (weight) {\n                        part.uncollapsedSize = weight / totalWeight * availableSize;\n                    }\n                } else {\n                    let contentSize = (weight || averageWeight) / totalWeight * availableSize;\n                    const minSize = part.minSize;\n                    if (contentSize < minSize) {\n                        contentSize = minSize;\n                    }\n                    position += contentSize;\n                }\n                this.setHandlePosition(index, position);\n                position += this.spacing;\n            }\n        }\n    }\n\n    /**\n     * Determine the size of the split panel area that is available for widget content,\n     * i.e. excluding part headers and split handles.\n     */\n    getAvailableSize(): number {\n        if (!this.parent || !this.parent.isAttached) {\n            return 0;\n        }\n        const parts = this.widgets;\n        const visiblePartCount = parts.filter(part => !part.isHidden).length;\n        let availableSize: number;\n        if (this.orientation === 'horizontal') {\n            availableSize = this.parent.node.offsetWidth;\n        } else {\n            availableSize = this.parent.node.offsetHeight;\n            availableSize -= visiblePartCount * this.options.headerSize;\n        }\n        availableSize -= (visiblePartCount - 1) * this.spacing;\n        if (availableSize < 0) {\n            return 0;\n        }\n        return availableSize;\n    }\n\n    /**\n     * Update a view container part that has been collapsed or expanded. The transition\n     * to the new state is animated.\n     */\n    updateCollapsed(part: ViewContainerPart, enableAnimation: boolean): void {\n        const index = this.items.findIndex(item => item.widget === part);\n        if (index < 0 || !this.parent || part.isHidden) {\n            return;\n        }\n        // Do not store the height of the \"stretched item\". Otherwise, we mess up the \"hint height\".\n        // Store the height only if there are other expanded items.\n        const currentSize = this.orientation === 'horizontal' ? part.node.offsetWidth : part.node.offsetHeight;\n        if (part.collapsed && this.items.some(item => !item.widget.collapsed && !item.widget.isHidden)) {\n            part.uncollapsedSize = currentSize;\n        }\n\n        if (!enableAnimation || this.options.animationDuration <= 0) {\n            MessageLoop.postMessage(this.parent, Widget.Msg.FitRequest);\n            return;\n        }\n        let startTime: number | undefined = undefined;\n        const duration = this.options.animationDuration;\n        const direction = part.collapsed ? 'collapse' : 'expand';\n        let fullSize: number;\n        if (direction === 'collapse') {\n            fullSize = currentSize - this.options.headerSize;\n        } else {\n            fullSize = Math.max((part.uncollapsedSize || 0) - this.options.headerSize, part.minSize);\n            if (this.items.filter(item => !item.widget.collapsed && !item.widget.isHidden).length === 1) {\n                // Expand to full available size\n                fullSize = Math.max(fullSize, this.getAvailableSize());\n            }\n        }\n\n        // The update function is called on every animation frame until the predefined duration has elapsed.\n        const updateFunc = (time: number) => {\n            if (!this.parent) {\n                part.animatedSize = undefined;\n                return;\n            }\n            if (startTime === undefined) {\n                startTime = time;\n            }\n            if (time - startTime < duration) {\n                // Render an intermediate state for the animation\n                const t = this.tween((time - startTime) / duration);\n                if (direction === 'collapse') {\n                    part.animatedSize = (1 - t) * fullSize;\n                } else {\n                    part.animatedSize = t * fullSize;\n                }\n                requestAnimationFrame(updateFunc);\n            } else {\n                // The animation is finished\n                if (direction === 'collapse') {\n                    part.animatedSize = undefined;\n                } else {\n                    part.animatedSize = fullSize;\n                    // Request another frame to reset the part to variable size\n                    requestAnimationFrame(() => {\n                        part.animatedSize = undefined;\n                        if (this.parent) {\n                            MessageLoop.sendMessage(this.parent, Widget.Msg.FitRequest);\n                        }\n                    });\n                }\n            }\n            MessageLoop.sendMessage(this.parent, Widget.Msg.FitRequest);\n        };\n        requestAnimationFrame(updateFunc);\n    }\n\n    updateSashes(): void {\n        const { widgets, handles } = this;\n        if (widgets.length !== handles.length) {\n            console.warn('Unexpected mismatch between number of widgets and number of handles.');\n            return;\n        }\n        const firstUncollapsed = this.getFirstUncollapsedWidgetIndex();\n        const lastUncollapsed = firstUncollapsed === undefined ? undefined : this.getLastUncollapsedWidgetIndex();\n        const allHidden = firstUncollapsed === lastUncollapsed;\n        for (const [index, handle] of this.handles.entries()) {\n            // The or clauses are added for type checking. If they're true, allHidden will also have been true.\n            if (allHidden || firstUncollapsed === undefined || lastUncollapsed === undefined) {\n                handle.classList.add('sash-hidden');\n            } else if (index < lastUncollapsed && index >= firstUncollapsed) {\n                handle.classList.remove('sash-hidden');\n            } else {\n                handle.classList.add('sash-hidden');\n            }\n        }\n    }\n\n    protected getFirstUncollapsedWidgetIndex(): number | undefined {\n        const index = this.widgets.findIndex(widget => !widget.collapsed && !widget.isHidden);\n        return index === -1 ? undefined : index;\n    }\n\n    protected getLastUncollapsedWidgetIndex(): number | undefined {\n        for (let i = this.widgets.length - 1; i >= 0; i--) {\n            if (!this.widgets[i].collapsed && !this.widgets[i].isHidden) {\n                return i;\n            }\n        }\n    }\n\n    protected override onFitRequest(msg: Message): void {\n        for (const part of this.widgets) {\n            const style = part.node.style;\n            if (part.animatedSize !== undefined) {\n                // The part size has been fixed for animating the transition to collapsed / expanded state\n                const fixedSize = `${this.options.headerSize + part.animatedSize}px`;\n                style.minHeight = fixedSize;\n                style.maxHeight = fixedSize;\n            } else if (part.collapsed) {\n                // The part size is fixed to the header size\n                const fixedSize = `${this.options.headerSize}px`;\n                style.minHeight = fixedSize;\n                style.maxHeight = fixedSize;\n            } else {\n                const minSize = `${this.options.headerSize + part.minSize}px`;\n                style.minHeight = minSize;\n                style.maxHeight = '';\n            }\n        }\n        super.onFitRequest(msg);\n    }\n\n    /**\n     * Sinusoidal tween function for smooth animation.\n     */\n    protected tween(t: number): number {\n        return 0.5 * (1 - Math.cos(Math.PI * t));\n    }\n\n    setHandlePosition(index: number, position: number): Promise<void> {\n        const options: SplitPositionOptions = {\n            referenceWidget: this.widgets[index],\n            duration: 0\n        };\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return this.splitPositionHandler.setSplitHandlePosition(this.parent as SplitPanel, index, position, options) as Promise<any>;\n    }\n\n}\n\nexport namespace ViewContainerLayout {\n\n    export interface Options extends SplitLayout.IOptions {\n        headerSize: number;\n        animationDuration: number;\n    }\n\n    export interface Item {\n        readonly widget: ViewContainerPart;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * Namespace for the decoration data and the styling refinements for the decorated widgets.\n */\nexport namespace WidgetDecoration {\n\n    /**\n     * CSS styles for the decorators.\n     */\n    export namespace Styles {\n        export const CAPTION_HIGHLIGHT_CLASS = 'theia-caption-highlight';\n        export const CAPTION_PREFIX_CLASS = 'theia-caption-prefix';\n        export const CAPTION_SUFFIX_CLASS = 'theia-caption-suffix';\n        export const ICON_WRAPPER_CLASS = 'theia-icon-wrapper';\n        export const DECORATOR_SIZE_CLASS = 'theia-decorator-size';\n        export const DECORATOR_SIDEBAR_SIZE_CLASS = 'theia-decorator-sidebar-size';\n        export const TOP_RIGHT_CLASS = 'theia-top-right';\n        export const BOTTOM_RIGHT_CLASS = 'theia-bottom-right';\n        export const BOTTOM_RIGHT_SIDEBAR_CLASS = 'theia-bottom-right-sidebar';\n        export const BOTTOM_LEFT_CLASS = 'theia-bottom-left';\n        export const TOP_LEFT_CLASS = 'theia-top-left';\n    }\n    /**\n     * For the sake of simplicity, we have merged the `font-style`, `font-weight`, and the `text-decoration` together.\n     */\n    export type FontStyle = 'normal' | 'bold' | 'italic' | 'oblique' | 'underline' | 'line-through';\n    /**\n     * A string that could be:\n     *\n     *  - one of the browser colors, (E.g.: `blue`, `red`, `magenta`),\n     *  - the case insensitive hexadecimal color code, (for instance, `#ee82ee`, `#20B2AA`, `#f09` ), or\n     *  - either the `rgb()` or the `rgba()` functions.\n     *\n     * For more details, see: https://developer.mozilla.org/en-US/docs/Web/CSS/color_value.\n     *\n     * Note, it is highly recommended to use one of the predefined colors of Theia, so the desired color will\n     * look nice with both the `light` and the `dark` theme too.\n     */\n    export type Color = string;\n    /**\n     * Encapsulates styling information of the font.\n     */\n    export interface FontData {\n        /**\n         * Zero to any font style.\n         */\n        readonly style?: FontStyle | FontStyle[];\n        /**\n         * The color of the font.\n         */\n        readonly color?: Color;\n    }\n    /**\n     * Arbitrary information that has to be shown either before or after the caption as a prefix or a suffix.\n     */\n    export interface CaptionAffix {\n        /**\n         * The text content of the prefix or the suffix.\n         */\n        readonly data: string;\n        /**\n         * Font data for customizing the prefix of the suffix.\n         */\n        readonly fontData?: FontData;\n    }\n    export interface BaseTailDecoration {\n        /**\n         * Optional tooltip for the tail decoration.\n         */\n        readonly tooltip?: string;\n    }\n    /**\n     * Unlike caption suffixes, tail decorations appears right-aligned after the caption and the caption suffixes (is any).\n     */\n    export interface TailDecoration extends BaseTailDecoration {\n        /**\n         * The text content of the tail decoration.\n         */\n        readonly data: string;\n        /**\n         * Font data for customizing the content.\n         */\n        readonly fontData?: FontData;\n    }\n\n    export namespace TailDecoration {\n        /**\n         * Combines all fields of all `TailDecoration` variants\n         */\n        export type AnyPartial = Partial<TailDecoration & TailDecorationIcon & TailDecorationIconClass>;\n        /**\n         * Represents any permissible concrete `TailDecoration` variation.\n         */\n        export type AnyConcrete = TailDecoration | TailDecorationIcon | TailDecorationIconClass;\n        export function isDotDecoration(decoration: AnyPartial): decoration is TailDecorationIcon {\n            return decoration.icon === 'circle';\n        }\n    }\n    export interface TailDecorationIcon extends BaseTailDecoration {\n        /**\n         * This should be the name of the Font Awesome icon with out the `fa fa-` prefix, just the name, for instance `paw`.\n         * For the existing icons, see here: https://fontawesome.com/v4.7.0/icons/.\n         */\n        readonly icon: string;\n        /**\n         * The color of the icon.\n         */\n        readonly color?: Color;\n    }\n    export interface TailDecorationIconClass extends BaseTailDecoration {\n        /**\n         * This should be the entire Font Awesome class array, for instance ['fa', 'fa-paw']\n         * For the existing icons, see here: https://fontawesome.com/v4.7.0/icons/.\n         */\n        readonly iconClass: string[];\n        /**\n         * The color of the icon.\n         */\n        readonly color?: Color;\n    }\n    /**\n     * Enumeration for the quadrant to overlay the image on.\n     */\n    export enum IconOverlayPosition {\n        /**\n         * Overlays the top right quarter of the original image.\n         */\n        TOP_RIGHT,\n        /**\n         * Overlays the bottom right of the original image.\n         */\n        BOTTOM_RIGHT,\n        /**\n         * Overlays the bottom left segment of the original image.\n         */\n        BOTTOM_LEFT,\n        /**\n         * Occupies the top left quarter of the original icon.\n         */\n        TOP_LEFT\n    }\n    export namespace IconOverlayPosition {\n        /**\n         * Returns with the CSS class style for the enum.\n         */\n        export function getStyle(position: IconOverlayPosition, inSideBar?: boolean): string {\n            switch (position) {\n                case IconOverlayPosition.TOP_RIGHT:\n                    return WidgetDecoration.Styles.TOP_RIGHT_CLASS;\n                case IconOverlayPosition.BOTTOM_RIGHT:\n                    return inSideBar ? WidgetDecoration.Styles.BOTTOM_RIGHT_SIDEBAR_CLASS : WidgetDecoration.Styles.BOTTOM_RIGHT_CLASS;\n                case IconOverlayPosition.BOTTOM_LEFT:\n                    return WidgetDecoration.Styles.BOTTOM_LEFT_CLASS;\n                case IconOverlayPosition.TOP_LEFT:\n                    return WidgetDecoration.Styles.TOP_LEFT_CLASS;\n            }\n        }\n    }\n    /**\n     * A shape that can be optionally rendered behind the overlay icon. Can be used to further refine colors.\n     */\n    export interface IconOverlayBackground {\n        /**\n         * Either `circle` or `square`.\n         */\n        readonly shape: 'circle' | 'square';\n        /**\n         * The color of the background shape.\n         */\n        readonly color?: Color;\n    }\n    /**\n     * Has not effect if the widget being decorated has no associated icon.\n     */\n    export interface BaseOverlay {\n        /**\n         * The position where the decoration will be placed on the top of the original icon.\n         */\n        readonly position: IconOverlayPosition;\n        /**\n         * The color of the overlaying icon. If not specified, then the default icon color will be used.\n         */\n        readonly color?: Color;\n        /**\n         * The optional background color of the overlay icon.\n         */\n        readonly background?: IconOverlayBackground;\n    }\n    export interface IconOverlay extends BaseOverlay {\n        /**\n         * This should be the name of the Font Awesome icon with out the `fa fa-` prefix, just the name, for instance `paw`.\n         * For the existing icons, see here: https://fontawesome.com/v4.7.0/icons/.\n         */\n        readonly icon: string;\n    }\n    export interface IconClassOverlay extends BaseOverlay {\n        /**\n         * This should be the entire Font Awesome class array, for instance ['fa', 'fa-paw']\n         * For the existing icons, see here: https://fontawesome.com/v4.7.0/icons/.\n         */\n        readonly iconClass: string[];\n    }\n    /**\n     * The caption highlighting with the highlighted ranges and an optional background color.\n     */\n    export interface CaptionHighlight {\n        /**\n         * The ranges to highlight in the caption.\n         */\n        readonly ranges: CaptionHighlight.Range[];\n        /**\n         * The optional color of the text data that is being highlighted. Falls back to the default `mark` color values defined under a widget segment class.\n         */\n        readonly color?: Color;\n        /**\n         * The optional background color of the text data that is being highlighted.\n         */\n        readonly backgroundColor?: Color;\n    }\n    export namespace CaptionHighlight {\n        /**\n         * A pair of offset and length that has to be highlighted as a range.\n         */\n        export interface Range {\n            /**\n             * Zero based offset of the highlighted region.\n             */\n            readonly offset: number;\n            /**\n             * The length of the highlighted region.\n             */\n            readonly length: number;\n        }\n        export namespace Range {\n            /**\n             * `true` if the `arg` is contained in the range. The ranges are closed ranges, hence the check is inclusive.\n             */\n            export function contains(arg: number, range: Range): boolean {\n                return arg >= range.offset && arg <= (range.offset + range.length);\n            }\n        }\n        /**\n         * The result of a caption splitting based on the highlighting information.\n         */\n        export interface Fragment {\n            /**\n             * The text data of the fragment.\n             */\n            readonly data: string;\n            /**\n             * Has to be highlighted if defined.\n             */\n            readonly highlight?: true;\n        }\n        /**\n         * Splits the `caption` argument based on the ranges from the `highlight` argument.\n         */\n        export function split(caption: string, highlight: CaptionHighlight): Fragment[] {\n            const result: Fragment[] = [];\n            const ranges = highlight.ranges.slice();\n            const containerOf = (index: number) => ranges.findIndex(range => Range.contains(index, range));\n            let data = '';\n            for (let i = 0; i < caption.length; i++) {\n                const containerIndex = containerOf(i);\n                if (containerIndex === -1) {\n                    data += caption[i];\n                } else {\n                    if (data.length > 0) {\n                        result.push({ data });\n                    }\n                    const { length } = ranges.splice(containerIndex, 1).shift()!;\n                    result.push({ data: caption.substring(i, i + length), highlight: true });\n                    data = '';\n                    i = i + length - 1;\n                }\n            }\n            if (data.length > 0) {\n                result.push({ data });\n            }\n            if (ranges.length !== 0) {\n                throw new Error('Error occurred when splitting the caption. There was a mismatch between the caption and the corresponding highlighting ranges.');\n            }\n            return result;\n        }\n    }\n    /**\n     * Encapsulates styling information that has to be applied on the widget which we decorate.\n     */\n    export interface Data {\n        /**\n         * The higher number has higher priority. If not specified, treated as `0`.\n         * When multiple decorators are available for the same item, and decoration data cannot be merged together,\n         * then the higher priority item will be applied on the decorated element and the lower priority will be ignored.\n         */\n        readonly priority?: number;\n        /**\n         * The font data for the caption.\n         */\n        readonly fontData?: FontData;\n        /**\n         * The background color of the entire row.\n         */\n        readonly backgroundColor?: Color;\n        /**\n         * Optional, leading prefixes right before the caption.\n         */\n        readonly captionPrefixes?: CaptionAffix[];\n        /**\n         * Suffixes that might come after the caption as an additional information.\n         */\n        readonly captionSuffixes?: CaptionAffix[];\n        /**\n         * Optional right-aligned decorations that appear after the widget caption and after the caption suffixes (is any).\n         */\n        readonly tailDecorations?: Array<TailDecoration | TailDecorationIcon | TailDecorationIconClass>;\n        /**\n         * Custom tooltip for the decorated item. Tooltip will be appended to the original tooltip, if any.\n         */\n        readonly tooltip?: string;\n        /**\n         * Sets the color of the icon. Ignored if the decorated item has no icon.\n         */\n        readonly iconColor?: Color;\n        /**\n         * Has not effect if given, but the widget does not have an associated image.\n         */\n        readonly iconOverlay?: IconOverlay | IconClassOverlay;\n        /**\n         * An array of ranges to highlight the caption.\n         */\n        readonly highlight?: CaptionHighlight;\n        /**\n         * A count badge for widgets.\n         */\n        readonly badge?: number;\n    }\n    export namespace Data {\n        /**\n         * Compares the decoration data based on the priority. Lowest priorities come first (i.e. left.priority - right.priority).\n         */\n        export const comparePriority = (left: Data, right: Data): number => (left.priority || 0) - (right.priority || 0);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, named, injectable } from 'inversify';\nimport { Widget } from '@phosphor/widgets';\nimport { ILogger, Emitter, Event, ContributionProvider, MaybePromise, WaitUntilEvent } from '../common';\nimport stableJsonStringify = require('fast-json-stable-stringify');\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nexport const WidgetFactory = Symbol('WidgetFactory');\n\n/**\n * A {@link WidgetFactory} is used to create new widgets. Factory-specific information (options) can be passed as serializable JSON data.\n * The common {@link WidgetManager} collects  `WidgetFactory` contributions and delegates to the corresponding factory when\n * a widget should be created or restored. To identify widgets the `WidgetManager` uses a description composed of the factory id and the options.\n * The `WidgetFactory` does support both, synchronous and asynchronous widget creation.\n *\n * ### Example usage\n *\n * ```typescript\n * export class MyWidget extends BaseWidget {\n * }\n *\n * @injectable()\n * export class MyWidgetFactory implements WidgetFactory {\n *     id = 'myWidgetFactory';\n *\n *     createWidget(): MaybePromise<Widget> {\n *         return new MyWidget();\n *    }\n * }\n * ```\n */\nexport interface WidgetFactory {\n\n    /**\n     * The factory id.\n     */\n    readonly id: string;\n\n    /**\n     * Creates a widget using the given options.\n     * @param options factory specific information as serializable JSON data.\n     *\n     * @returns the newly created widget or a promise of the widget\n     */\n    createWidget(options?: any): MaybePromise<Widget>;\n}\n\n/**\n * Representation of the `WidgetConstructionOptions`.\n * Defines a serializable description to create widgets.\n */\nexport interface WidgetConstructionOptions {\n    /**\n     * The id of the widget factory to use.\n     */\n    factoryId: string,\n\n    /**\n     * The widget factory specific information.\n     */\n    options?: any\n}\n\n/**\n * Representation of a `willCreateWidgetEvent`.\n */\nexport interface WillCreateWidgetEvent extends WaitUntilEvent {\n    /**\n     * The widget which will be created.\n     */\n    readonly widget: Widget;\n    /**\n     * The widget factory id.\n     */\n    readonly factoryId: string;\n}\n\n/**\n * Representation of a `didCreateWidgetEvent`.\n */\nexport interface DidCreateWidgetEvent {\n    /**\n     * The widget which was created.\n     */\n    readonly widget: Widget;\n    /**\n     * The widget factory id.\n     */\n    readonly factoryId: string;\n}\n\n/**\n * The {@link WidgetManager} is the common component responsible for creating and managing widgets. Additional widget factories\n * can be registered by using the {@link WidgetFactory} contribution point. To identify a widget, created by a factory, the factory id and\n * the creation options are used. This key is commonly referred to as `description` of the widget.\n */\n@injectable()\nexport class WidgetManager {\n\n    protected _cachedFactories: Map<string, WidgetFactory>;\n    protected readonly widgets = new Map<string, Widget>();\n    protected readonly pendingWidgetPromises = new Map<string, MaybePromise<Widget>>();\n\n    @inject(ContributionProvider) @named(WidgetFactory)\n    protected readonly factoryProvider: ContributionProvider<WidgetFactory>;\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    protected readonly onWillCreateWidgetEmitter = new Emitter<WillCreateWidgetEvent>();\n    /**\n     * An event can be used to participate in the widget creation.\n     * Listeners may not dispose the given widget.\n     */\n    readonly onWillCreateWidget: Event<WillCreateWidgetEvent> = this.onWillCreateWidgetEmitter.event;\n\n    protected readonly onDidCreateWidgetEmitter = new Emitter<DidCreateWidgetEvent>();\n\n    readonly onDidCreateWidget: Event<DidCreateWidgetEvent> = this.onDidCreateWidgetEmitter.event;\n\n    /**\n     * Get the list of widgets created by the given widget factory.\n     * @param factoryId the widget factory id.\n     *\n     * @returns the list of widgets created by the factory with the given id.\n     */\n    getWidgets(factoryId: string): Widget[] {\n        const result: Widget[] = [];\n        for (const [key, widget] of this.widgets.entries()) {\n            if (this.fromKey(key).factoryId === factoryId) {\n                result.push(widget);\n            }\n        }\n        return result;\n    }\n\n    /**\n     * Try to get the existing widget for the given description.\n     * @param factoryId The widget factory id.\n     * @param options The widget factory specific information.\n     *\n     * @returns the widget if available, else `undefined`.\n     *\n     * The widget is 'available' if it has been created with the same {@link factoryId} and {@link options} by the {@link WidgetManager}.\n     * If the widget's creation is asynchronous, it is only available when the associated `Promise` is resolved.\n     */\n    tryGetWidget<T extends Widget>(factoryId: string, options?: any): T | undefined {\n        const key = this.toKey({ factoryId, options });\n        const existing = this.widgets.get(key);\n        if (existing instanceof Widget) {\n            return existing as T;\n        }\n        return undefined;\n    }\n\n    /**\n     * Try to get the existing widget for the given description.\n     * @param factoryId The widget factory id.\n     * @param options The widget factory specific information.\n     *\n     * @returns A promise that resolves to the widget, if any exists. The promise may be pending, so be cautious when assuming that it will not reject.\n     */\n    tryGetPendingWidget<T extends Widget>(factoryId: string, options?: any): MaybePromise<T> | undefined {\n        const key = this.toKey({ factoryId, options });\n        return this.doGetWidget(key);\n    }\n\n    /**\n     * Get the widget for the given description.\n     * @param factoryId The widget factory id.\n     * @param options The widget factory specific information.\n     *\n     * @returns a promise resolving to the widget if available, else `undefined`.\n     */\n    async getWidget<T extends Widget>(factoryId: string, options?: any): Promise<T | undefined> {\n        const key = this.toKey({ factoryId, options });\n        const pendingWidget = this.doGetWidget<T>(key);\n        const widget = pendingWidget && await pendingWidget;\n        return widget;\n    }\n\n    /**\n     * Finds a widget that matches the given test predicate.\n     * @param factoryId The widget factory id.\n     * @param predicate The test predicate.\n     *\n     * @returns a promise resolving to the widget if available, else `undefined`.\n     */\n    async findWidget<T extends Widget>(factoryId: string, predicate: (options?: any) => boolean): Promise<T | undefined> {\n        for (const [key, widget] of this.widgets.entries()) {\n            if (this.testPredicate(key, factoryId, predicate)) {\n                return widget as T;\n            }\n        }\n        for (const [key, widget] of this.pendingWidgetPromises.entries()) {\n            if (this.testPredicate(key, factoryId, predicate)) {\n                return widget as T;\n            }\n        }\n    }\n\n    protected testPredicate(key: string, factoryId: string, predicate: (options?: any) => boolean): boolean {\n        const constructionOptions = this.fromKey(key);\n        return constructionOptions.factoryId === factoryId && predicate(constructionOptions.options);\n    }\n\n    protected doGetWidget<T extends Widget>(key: string): MaybePromise<T> | undefined {\n        const pendingWidget = this.widgets.get(key) ?? this.pendingWidgetPromises.get(key);\n        if (pendingWidget) {\n            return pendingWidget as MaybePromise<T>;\n        }\n        return undefined;\n    }\n\n    /**\n     * Creates a new widget or returns the existing widget for the given description.\n     * @param factoryId the widget factory id.\n     * @param options the widget factory specific information.\n     *\n     * @returns a promise resolving to the widget.\n     */\n    async getOrCreateWidget<T extends Widget>(factoryId: string, options?: any): Promise<T> {\n        const key = this.toKey({ factoryId, options });\n        const existingWidget = this.doGetWidget<T>(key);\n        if (existingWidget) {\n            return existingWidget;\n        }\n        const factory = this.factories.get(factoryId);\n        if (!factory) {\n            throw Error(\"No widget factory '\" + factoryId + \"' has been registered.\");\n        }\n        try {\n            const widgetPromise = factory.createWidget(options);\n            this.pendingWidgetPromises.set(key, widgetPromise);\n            const widget = await widgetPromise;\n            await WaitUntilEvent.fire(this.onWillCreateWidgetEmitter, { factoryId, widget });\n            this.widgets.set(key, widget);\n            widget.disposed.connect(() => this.widgets.delete(key));\n            this.onDidCreateWidgetEmitter.fire({ factoryId, widget });\n            return widget as T;\n        } finally {\n            this.pendingWidgetPromises.delete(key);\n        }\n    }\n\n    /**\n     * Get the widget construction options.\n     * @param widget the widget.\n     *\n     * @returns the widget construction options if the widget was created through the manager, else `undefined`.\n     */\n    getDescription(widget: Widget): WidgetConstructionOptions | undefined {\n        for (const [key, aWidget] of this.widgets.entries()) {\n            if (aWidget === widget) {\n                return this.fromKey(key);\n            }\n        }\n        return undefined;\n    }\n\n    /**\n     * Convert the widget construction options to string.\n     * @param options the widget construction options.\n     *\n     * @returns the widget construction options represented as a string.\n     */\n    protected toKey(options: WidgetConstructionOptions): string {\n        return stableJsonStringify(options);\n    }\n\n    /**\n     * Convert the key into the widget construction options object.\n     * @param key the key.\n     *\n     * @returns the widget construction options object.\n     */\n    protected fromKey(key: string): WidgetConstructionOptions {\n        return JSON.parse(key);\n    }\n\n    protected get factories(): Map<string, WidgetFactory> {\n        if (!this._cachedFactories) {\n            this._cachedFactories = new Map();\n            for (const factory of this.factoryProvider.getContributions()) {\n                if (factory.id) {\n                    this._cachedFactories.set(factory.id, factory);\n                } else {\n                    this.logger.error('Invalid ID for factory: ' + factory + \". ID was: '\" + factory.id + \"'.\");\n                }\n            }\n        }\n        return this._cachedFactories;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, postConstruct, injectable } from 'inversify';\nimport URI from '../common/uri';\nimport { MaybePromise, Emitter, Event } from '../common';\nimport { BaseWidget } from './widgets';\nimport { ApplicationShell } from './shell';\nimport { OpenHandler, OpenerOptions } from './opener-service';\nimport { WidgetManager } from './widget-manager';\n\nexport type WidgetOpenMode = 'open' | 'reveal' | 'activate';\n/**\n * `WidgetOpenerOptions` define serializable generic options used by the {@link WidgetOpenHandler}.\n */\nexport interface WidgetOpenerOptions extends OpenerOptions {\n    /**\n     * Determines whether the widget should be only opened, revealed or activated.\n     * By default is `activate`.\n     */\n    mode?: WidgetOpenMode;\n    /**\n     * Specify how an opened widget should be added to the shell.\n     * By default to the main area.\n     */\n    widgetOptions?: ApplicationShell.WidgetOptions;\n}\n\n/**\n * Generic base class for {@link OpenHandler}s that are opening a widget for a given {@link URI}.\n */\n@injectable()\nexport abstract class WidgetOpenHandler<W extends BaseWidget> implements OpenHandler {\n\n    @inject(ApplicationShell)\n    protected readonly shell: ApplicationShell;\n\n    @inject(WidgetManager)\n    protected readonly widgetManager: WidgetManager;\n\n    protected readonly onCreatedEmitter = new Emitter<W>();\n    /**\n     * Emit when a new widget is created.\n     */\n    readonly onCreated: Event<W> = this.onCreatedEmitter.event;\n\n    @postConstruct()\n    protected init(): void {\n        this.widgetManager.onDidCreateWidget(({ factoryId, widget }) => {\n            if (factoryId === this.id) {\n                this.onCreatedEmitter.fire(widget as W);\n            }\n        });\n    }\n\n    /**\n     * The widget open handler id.\n     *\n     * #### Implementation\n     * - A widget factory for this id should be registered.\n     * - Subclasses should not implement `WidgetFactory`\n     * to avoid exposing capabilities to create a widget outside of `WidgetManager`.\n     */\n    abstract readonly id: string;\n    abstract canHandle(uri: URI, options?: WidgetOpenerOptions): MaybePromise<number>;\n\n    /**\n     * Open a widget for the given uri and options.\n     * Reject if the given options are not widget options or a widget cannot be opened.\n     * @param uri the uri of the resource that should be opened.\n     * @param options the widget opener options.\n     *\n     * @returns promise of the widget that resolves when the widget has been opened.\n     */\n    async open(uri: URI, options?: WidgetOpenerOptions): Promise<W> {\n        const widget = await this.getOrCreateWidget(uri, options);\n        await this.doOpen(widget, options);\n        return widget;\n    }\n    protected async doOpen(widget: W, options?: WidgetOpenerOptions): Promise<void> {\n        const op: WidgetOpenerOptions = {\n            mode: 'activate',\n            ...options\n        };\n        if (!widget.isAttached) {\n            this.shell.addWidget(widget, op.widgetOptions || { area: 'main' });\n        }\n        if (op.mode === 'activate') {\n            await this.shell.activateWidget(widget.id);\n        } else if (op.mode === 'reveal') {\n            await this.shell.revealWidget(widget.id);\n        }\n    }\n\n    /**\n     * Tries to get an existing widget for the given uri.\n     * @param uri the uri of the widget.\n     *\n     * @returns a promise that resolves to the existing widget or `undefined` if no widget for the given uri exists.\n     */\n    getByUri(uri: URI): Promise<W | undefined> {\n        return this.getWidget(uri);\n    }\n\n    /**\n     * Return an existing widget for the given uri or creates a new one.\n     *\n     * It does not open a widget, use {@link WidgetOpenHandler#open} instead.\n     * @param uri uri of the widget.\n     *\n     * @returns a promise of the existing or newly created widget.\n     */\n    getOrCreateByUri(uri: URI): Promise<W> {\n        return this.getOrCreateWidget(uri);\n    }\n\n    /**\n     * Retrieves all open widgets that have been opened by this handler.\n     *\n     * @returns all open widgets for this open handler.\n     */\n    get all(): W[] {\n        return this.widgetManager.getWidgets(this.id) as W[];\n    }\n\n    protected tryGetPendingWidget(uri: URI, options?: WidgetOpenerOptions): MaybePromise<W> | undefined {\n        const factoryOptions = this.createWidgetOptions(uri, options);\n        return this.widgetManager.tryGetPendingWidget(this.id, factoryOptions);\n    }\n\n    protected getWidget(uri: URI, options?: WidgetOpenerOptions): Promise<W | undefined> {\n        const widgetOptions = this.createWidgetOptions(uri, options);\n        return this.widgetManager.getWidget<W>(this.id, widgetOptions);\n    }\n\n    protected getOrCreateWidget(uri: URI, options?: WidgetOpenerOptions): Promise<W> {\n        const widgetOptions = this.createWidgetOptions(uri, options);\n        return this.widgetManager.getOrCreateWidget<W>(this.id, widgetOptions);\n    }\n\n    protected abstract createWidgetOptions(uri: URI, options?: WidgetOpenerOptions): Object;\n\n    /**\n     * Closes all widgets that have been opened by this open handler.\n     * @param options the close options that should be applied to all widgets.\n     *\n     * @returns a promise of all closed widgets that resolves after they have been closed.\n     */\n    async closeAll(options?: ApplicationShell.CloseOptions): Promise<W[]> {\n        return this.shell.closeMany(this.all, options) as Promise<W[]>;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { isFunction, isObject } from '../../common';\n\nexport interface EnhancedPreviewWidget {\n    getEnhancedPreviewNode(): Node | undefined;\n}\n\nexport namespace EnhancedPreviewWidget {\n    export function is(arg: unknown): arg is EnhancedPreviewWidget {\n        return isObject<EnhancedPreviewWidget>(arg) && isFunction(arg.getEnhancedPreviewNode);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 STMicroelectronics, Ericsson, ARM, EclipseSource and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Widget } from './widget';\n\n/**\n * A contract for widgets that are extractable to a secondary window.\n */\nexport interface ExtractableWidget extends Widget {\n    /** Set to `true` to mark the widget to be extractable. */\n    isExtractable: boolean;\n    /** The secondary window that the window was extracted to or `undefined` if it is not yet extracted. */\n    secondaryWindow: Window | undefined;\n}\n\nexport namespace ExtractableWidget {\n    export function is(widget: unknown): widget is ExtractableWidget {\n        return widget instanceof Widget && widget.hasOwnProperty('isExtractable') && (widget as ExtractableWidget).isExtractable === true;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './widget';\nexport * from './react-renderer';\nexport * from './react-widget';\nexport * from './extractable-widget';\n","// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { isFunction, isObject } from '../../common';\n\nexport interface PreviewableWidget {\n    loaded?: boolean;\n    getPreviewNode(): Node | undefined;\n}\n\nexport namespace PreviewableWidget {\n    export function is(arg: unknown): arg is PreviewableWidget {\n        return isObject<PreviewableWidget>(arg) && isFunction(arg.getPreviewNode);\n    }\n    export function isPreviewable(arg: unknown): arg is PreviewableWidget {\n        return isObject<PreviewableWidget>(arg) && isFunction(arg.getPreviewNode) && arg.loaded === true;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, optional } from 'inversify';\nimport * as React from 'react';\nimport { createRoot, Root } from 'react-dom/client';\nimport { Disposable, DisposableCollection } from '../../common';\n\nexport type RendererHost = HTMLElement;\nexport const RendererHost = Symbol('RendererHost');\n\n@injectable()\nexport class ReactRenderer implements Disposable {\n    protected readonly toDispose = new DisposableCollection();\n    readonly host: HTMLElement;\n    protected hostRoot: Root;\n\n    constructor(\n        @inject(RendererHost) @optional() host?: RendererHost\n    ) {\n        this.host = host || document.createElement('div');\n        this.hostRoot = createRoot(this.host);\n        this.toDispose.push(Disposable.create(() => this.hostRoot.unmount()));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    render(): void {\n        this.hostRoot.render(<React.Fragment>{this.doRender()}</React.Fragment>);\n    }\n\n    protected doRender(): React.ReactNode {\n        return undefined;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from 'react';\nimport { injectable, unmanaged } from 'inversify';\nimport { Disposable } from '../../common';\nimport { BaseWidget, Message } from './widget';\nimport { Widget } from '@phosphor/widgets';\nimport { createRoot, Root } from 'react-dom/client';\n\n@injectable()\nexport abstract class ReactWidget extends BaseWidget {\n\n    protected nodeRoot: Root;\n\n    constructor(@unmanaged() options?: Widget.IOptions) {\n        super(options);\n        this.scrollOptions = {\n            suppressScrollX: true,\n            minScrollbarLength: 35,\n        };\n        this.nodeRoot = createRoot(this.node);\n        this.toDispose.push(Disposable.create(() => this.nodeRoot.unmount()));\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        super.onUpdateRequest(msg);\n        this.nodeRoot.render(<React.Fragment>{this.render()}</React.Fragment>);\n    }\n\n    /**\n     * Render the React widget in the DOM.\n     * - If the widget has been previously rendered,\n     * any subsequent calls will perform an update and only\n     * change the DOM if absolutely necessary.\n     */\n    protected abstract render(): React.ReactNode;\n}\n","// *****************************************************************************\n// Copyright (C) 2022 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport * as DOMPurify from 'dompurify';\nimport { codicon } from './widget';\nimport { measureTextHeight, measureTextWidth } from '../browser';\n\nimport '../../../src/browser/style/select-component.css';\n\nexport interface SelectOption {\n    value?: string\n    label?: string\n    separator?: boolean\n    disabled?: boolean\n    detail?: string\n    description?: string\n    markdown?: boolean\n    userData?: string\n}\n\nexport interface SelectComponentProps {\n    options: readonly SelectOption[]\n    defaultValue?: string | number\n    onChange?: (option: SelectOption, index: number) => void,\n    onBlur?: () => void,\n    onFocus?: () => void,\n    alignment?: 'left' | 'right';\n}\n\nexport interface SelectComponentState {\n    dimensions?: DOMRect\n    selected: number\n    original: number\n    hover: number\n}\n\nexport const SELECT_COMPONENT_CONTAINER = 'select-component-container';\n\nexport class SelectComponent extends React.Component<SelectComponentProps, SelectComponentState> {\n    protected dropdownElement: HTMLElement;\n    protected fieldRef = React.createRef<HTMLDivElement>();\n    protected dropdownRef = React.createRef<HTMLDivElement>();\n    protected mountedListeners: Map<string, EventListenerOrEventListenerObject> = new Map();\n    protected optimalWidth = 0;\n    protected optimalHeight = 0;\n\n    constructor(props: SelectComponentProps) {\n        super(props);\n        let selected = 0;\n        if (typeof props.defaultValue === 'number') {\n            selected = props.defaultValue;\n        } else if (typeof props.defaultValue === 'string') {\n            selected = Math.max(props.options.findIndex(e => e.value === props.defaultValue), 0);\n        }\n        this.state = {\n            selected,\n            original: selected,\n            hover: selected\n        };\n\n        let list = document.getElementById(SELECT_COMPONENT_CONTAINER);\n        if (!list) {\n            list = document.createElement('div');\n            list.id = SELECT_COMPONENT_CONTAINER;\n            list.className = 'theia-select-component-container';\n            document.body.appendChild(list);\n        }\n        this.dropdownElement = list;\n    }\n\n    get options(): readonly SelectOption[] {\n        return this.props.options;\n    }\n\n    get value(): string | number | undefined {\n        return this.props.options[this.state.selected].value ?? this.state.selected;\n    }\n\n    set value(value: string | number | undefined) {\n        let index = -1;\n        if (typeof value === 'number') {\n            index = value;\n        } else if (typeof value === 'string') {\n            index = this.props.options.findIndex(e => e.value === value);\n        }\n        if (index >= 0) {\n            this.setState({\n                selected: index,\n                original: index,\n                hover: index\n            });\n        }\n    }\n\n    protected get alignLeft(): boolean {\n        return this.props.alignment !== 'right';\n    }\n\n    protected getOptimalWidth(): number {\n        const textWidth = measureTextWidth(this.props.options.map(e => e.label || e.value || '' + (e.detail || '')));\n        return Math.ceil(textWidth + 16);\n    }\n\n    protected getOptimalHeight(maxWidth?: number): number {\n        const firstLine = this.props.options.find(e => e.label || e.value || e.detail);\n        if (!firstLine) {\n            return 0;\n        }\n        if (maxWidth) {\n            maxWidth = Math.ceil(maxWidth) + 10; // Increase width by 10 due to side padding\n        }\n        const descriptionHeight = measureTextHeight(this.props.options.map(e => e.description || ''), { maxWidth: `${maxWidth}px` }) + 18;\n        const singleLineHeight = measureTextHeight(firstLine.label || firstLine.value || firstLine.detail || '') + 6;\n        const optimal = descriptionHeight + singleLineHeight * this.props.options.length;\n        return optimal + 20; // Just to be safe, add another 20 pixels here\n    }\n\n    protected attachListeners(): void {\n        const hide = (event: MouseEvent) => {\n            if (!this.dropdownRef.current?.contains(event.target as Node)) {\n                this.hide();\n            }\n        };\n        this.mountedListeners.set('scroll', hide);\n        this.mountedListeners.set('wheel', hide);\n\n        let parent = this.fieldRef.current?.parentElement;\n        while (parent) {\n            // Workaround for perfect scrollbar, since using `overflow: hidden`\n            // neither triggers the `scroll`, `wheel` nor `blur` event\n            if (parent.classList.contains('ps')) {\n                parent.addEventListener('ps-scroll-y', hide);\n            }\n            parent = parent.parentElement;\n        }\n\n        for (const [key, listener] of this.mountedListeners.entries()) {\n            window.addEventListener(key, listener);\n        }\n    }\n\n    override componentWillUnmount(): void {\n        if (this.mountedListeners.size > 0) {\n            const eventListener = this.mountedListeners.get('scroll')!;\n            let parent = this.fieldRef.current?.parentElement;\n            while (parent) {\n                parent.removeEventListener('ps-scroll-y', eventListener);\n                parent = parent.parentElement;\n            }\n            for (const [key, listener] of this.mountedListeners.entries()) {\n                window.removeEventListener(key, listener);\n            }\n        }\n    }\n\n    override render(): React.ReactNode {\n        const { options } = this.props;\n        let { selected } = this.state;\n        if (options[selected]?.separator) {\n            selected = this.nextNotSeparator('forwards');\n        }\n        const selectedItemLabel = options[selected]?.label ?? options[selected]?.value;\n        return <>\n            <div\n                key=\"select-component\"\n                ref={this.fieldRef}\n                tabIndex={0}\n                className=\"theia-select-component\"\n                onClick={e => this.handleClickEvent(e)}\n                onBlur={\n                    () => {\n                        this.hide();\n                        this.props.onBlur?.();\n                    }\n                }\n                onFocus={() => this.props.onFocus?.()}\n                onKeyDown={e => this.handleKeypress(e)}\n            >\n                <div key=\"label\" className=\"theia-select-component-label\">{selectedItemLabel}</div>\n                <div key=\"icon\" className={`theia-select-component-chevron ${codicon('chevron-down')}`} />\n            </div>\n            {ReactDOM.createPortal(this.renderDropdown(), this.dropdownElement)}\n        </>;\n    }\n\n    protected nextNotSeparator(direction: 'forwards' | 'backwards'): number {\n        const { options } = this.props;\n        const step = direction === 'forwards' ? 1 : -1;\n        const length = this.props.options.length;\n        let selected = this.state.selected;\n        let count = 0;\n        do {\n            selected = (selected + step) % length;\n            if (selected < 0) {\n                selected = length - 1;\n            }\n            count++;\n        }\n        while (options[selected]?.separator && count < length);\n        return selected;\n    }\n\n    protected handleKeypress(ev: React.KeyboardEvent<HTMLDivElement>): void {\n        if (!this.fieldRef.current) {\n            return;\n        }\n        if (ev.key === 'ArrowUp') {\n            const selected = this.nextNotSeparator('backwards');\n            this.setState({\n                selected,\n                hover: selected\n            });\n        } else if (ev.key === 'ArrowDown') {\n            if (this.state.dimensions) {\n                const selected = this.nextNotSeparator('forwards');\n                this.setState({\n                    selected,\n                    hover: selected\n                });\n            } else {\n                this.toggleVisibility();\n                this.setState({\n                    selected: 0,\n                    hover: 0,\n                });\n            }\n        } else if (ev.key === 'Enter') {\n            if (!this.state.dimensions) {\n                this.toggleVisibility();\n            } else {\n                const selected = this.state.selected;\n                this.selectOption(selected, this.props.options[selected]);\n            }\n        } else if (ev.key === 'Escape' || ev.key === 'Tab') {\n            this.hide();\n        }\n        ev.stopPropagation();\n        ev.nativeEvent.stopImmediatePropagation();\n    }\n\n    protected handleClickEvent(event: React.MouseEvent<HTMLElement>): void {\n        this.toggleVisibility();\n        event.stopPropagation();\n        event.nativeEvent.stopImmediatePropagation();\n    }\n\n    protected toggleVisibility(): void {\n        if (!this.fieldRef.current) {\n            return;\n        }\n        if (!this.state.dimensions) {\n            const rect = this.fieldRef.current.getBoundingClientRect();\n            this.setState({ dimensions: rect });\n        } else {\n            this.hide();\n        }\n    }\n\n    protected hide(index?: number): void {\n        const selectedIndex = index === undefined ? this.state.original : index;\n        this.setState({\n            dimensions: undefined,\n            selected: selectedIndex,\n            original: selectedIndex,\n            hover: selectedIndex\n        });\n    }\n\n    protected renderDropdown(): React.ReactNode {\n        if (!this.state.dimensions) {\n            return;\n        }\n\n        const shellArea = document.getElementById('theia-app-shell')!.getBoundingClientRect();\n        const maxWidth = this.alignLeft ? shellArea.width - this.state.dimensions.left : this.state.dimensions.right;\n        if (this.mountedListeners.size === 0) {\n            // Only attach our listeners once we render our dropdown menu\n            this.attachListeners();\n            // We can now also calculate the optimal width\n            this.optimalWidth = this.getOptimalWidth();\n            this.optimalHeight = this.getOptimalHeight(Math.max(this.state.dimensions.width, this.optimalWidth));\n        }\n        const availableTop = this.state.dimensions.top - shellArea.top;\n        const availableBottom = shellArea.top + shellArea.height - this.state.dimensions.bottom;\n        // prefer rendering to the bottom unless there is not enough space and more content can be shown to the top\n        const invert = availableBottom < this.optimalHeight && (availableBottom - this.optimalHeight) < (availableTop - this.optimalHeight);\n\n        const { options } = this.props;\n        const { hover } = this.state;\n        const description = options[hover].description;\n        const markdown = options[hover].markdown;\n        const items = options.map((item, i) => this.renderOption(i, item));\n        if (description) {\n            let descriptionNode: React.ReactNode | undefined;\n            const className = 'theia-select-component-description';\n            if (markdown) {\n                descriptionNode = <div key=\"description\" className={className}\n                    dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(description) }} />; // eslint-disable-line react/no-danger\n            } else {\n                descriptionNode = <div key=\"description\" className={className}>\n                    {description}\n                </div>;\n            }\n            if (invert) {\n                items.unshift(descriptionNode);\n            } else {\n                items.push(descriptionNode);\n            }\n        }\n\n        return <div key=\"dropdown\" className=\"theia-select-component-dropdown\" style={{\n            top: invert ? 'none' : this.state.dimensions.bottom,\n            bottom: invert ? shellArea.top + shellArea.height - this.state.dimensions.top : 'none',\n            left: this.alignLeft ? this.state.dimensions.left : 'none',\n            right: this.alignLeft ? 'none' : shellArea.width - this.state.dimensions.right,\n            width: Math.min(Math.max(this.state.dimensions.width, this.optimalWidth), maxWidth),\n            maxHeight: shellArea.height - (invert ? shellArea.height - this.state.dimensions.bottom : this.state.dimensions.top) - this.state.dimensions.height,\n            position: 'absolute'\n        }} ref={this.dropdownRef}>\n            {items}\n        </div>;\n    }\n\n    protected renderOption(index: number, option: SelectOption): React.ReactNode {\n        if (option.separator) {\n            return <div key={index} className=\"theia-select-component-separator\" />;\n        }\n        const selected = this.state.hover;\n        return (\n            <div\n                key={index}\n                className={`theia-select-component-option${index === selected ? ' selected' : ''}`}\n                onMouseOver={() => {\n                    this.setState({\n                        hover: index\n                    });\n                }}\n                onMouseDown={() => {\n                    this.selectOption(index, option);\n                }}\n            >\n                <div key=\"value\" className=\"theia-select-component-option-value\">{option.label ?? option.value}</div>\n                {option.detail && <div key=\"detail\" className=\"theia-select-component-option-detail\">{option.detail}</div>}\n            </div>\n        );\n    }\n\n    protected selectOption(index: number, option: SelectOption): void {\n        this.props.onChange?.(option, index);\n        this.hide(index);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { injectable, decorate, unmanaged } from 'inversify';\nimport { Title, Widget } from '@phosphor/widgets';\nimport { Message, MessageLoop } from '@phosphor/messaging';\nimport { Emitter, Event, Disposable, DisposableCollection, MaybePromise, isObject } from '../../common';\nimport { KeyCode, KeysOrKeyCodes } from '../keyboard/keys';\n\nimport PerfectScrollbar from 'perfect-scrollbar';\nimport { PreviewableWidget } from '../widgets/previewable-widget';\n\ndecorate(injectable(), Widget);\ndecorate(unmanaged(), Widget, 0);\n\nexport * from '@phosphor/widgets';\nexport * from '@phosphor/messaging';\n\nexport const ACTION_ITEM = 'action-label';\n\nexport function codiconArray(name: string, actionItem = false): string[] {\n    const array = ['codicon', `codicon-${name}`];\n    if (actionItem) {\n        array.push(ACTION_ITEM);\n    }\n    return array;\n}\n\nexport function codicon(name: string, actionItem = false): string {\n    return `codicon codicon-${name}${actionItem ? ` ${ACTION_ITEM}` : ''}`;\n}\n\nexport const DISABLED_CLASS = 'theia-mod-disabled';\nexport const EXPANSION_TOGGLE_CLASS = 'theia-ExpansionToggle';\nexport const CODICON_TREE_ITEM_CLASSES = codiconArray('chevron-down');\nexport const COLLAPSED_CLASS = 'theia-mod-collapsed';\nexport const BUSY_CLASS = 'theia-mod-busy';\nexport const CODICON_LOADING_CLASSES = codiconArray('loading');\nexport const SELECTED_CLASS = 'theia-mod-selected';\nexport const FOCUS_CLASS = 'theia-mod-focus';\nexport const PINNED_CLASS = 'theia-mod-pinned';\nexport const LOCKED_CLASS = 'theia-mod-locked';\nexport const DEFAULT_SCROLL_OPTIONS: PerfectScrollbar.Options = {\n    suppressScrollX: true,\n    minScrollbarLength: 35,\n};\n\n/**\n * At a number of places in the code, we have effectively reimplemented Phosphor's Widget.attach and Widget.detach,\n * but omitted the checks that Phosphor expects to be performed for those operations. That is a bad idea, because it\n * means that we are telling widgets that they are attached or detached when not all the conditions that should apply\n * do apply. We should explicitly mark those locations so that we know where we should go fix them later.\n */\nexport namespace UnsafeWidgetUtilities {\n    /**\n     * Ordinarily, the following checks should be performed before detaching a widget:\n     * It should not be the child of another widget\n     * It should be attached and it should be a child of document.body\n     */\n    export function detach(widget: Widget): void {\n        MessageLoop.sendMessage(widget, Widget.Msg.BeforeDetach);\n        widget.node.remove();\n        MessageLoop.sendMessage(widget, Widget.Msg.AfterDetach);\n    };\n    /**\n     * @param ref The child of the host element to insert the widget before.\n     * Ordinarily the following checks should be performed:\n     * The widget should have no parent\n     * The widget should not be attached, and its node should not be a child of document.body\n     * The host should be a child of document.body\n     * We often violate the last condition.\n     */\n    // eslint-disable-next-line no-null/no-null\n    export function attach(widget: Widget, host: HTMLElement, ref: HTMLElement | null = null): void {\n        MessageLoop.sendMessage(widget, Widget.Msg.BeforeAttach);\n        host.insertBefore(widget.node, ref);\n        MessageLoop.sendMessage(widget, Widget.Msg.AfterAttach);\n    };\n}\n\n@injectable()\nexport class BaseWidget extends Widget implements PreviewableWidget {\n\n    protected readonly onScrollYReachEndEmitter = new Emitter<void>();\n    readonly onScrollYReachEnd: Event<void> = this.onScrollYReachEndEmitter.event;\n    protected readonly onScrollUpEmitter = new Emitter<void>();\n    readonly onScrollUp: Event<void> = this.onScrollUpEmitter.event;\n    protected readonly onDidChangeVisibilityEmitter = new Emitter<boolean>();\n    readonly onDidChangeVisibility = this.onDidChangeVisibilityEmitter.event;\n    protected readonly onDidDisposeEmitter = new Emitter<void>();\n    readonly onDidDispose = this.onDidDisposeEmitter.event;\n\n    protected readonly toDispose = new DisposableCollection(\n        this.onDidDisposeEmitter,\n        Disposable.create(() => this.onDidDisposeEmitter.fire()),\n        this.onScrollYReachEndEmitter,\n        this.onScrollUpEmitter,\n        this.onDidChangeVisibilityEmitter\n    );\n    protected readonly toDisposeOnDetach = new DisposableCollection();\n    protected scrollBar?: PerfectScrollbar;\n    protected scrollOptions?: PerfectScrollbar.Options;\n\n    constructor(options?: Widget.IOptions) {\n        super(options);\n    }\n\n    override dispose(): void {\n        if (this.isDisposed) {\n            return;\n        }\n        super.dispose();\n        this.toDispose.dispose();\n    }\n\n    protected override onCloseRequest(msg: Message): void {\n        super.onCloseRequest(msg);\n        this.dispose();\n    }\n\n    protected override onBeforeAttach(msg: Message): void {\n        if (this.title.iconClass === '') {\n            this.title.iconClass = 'no-icon';\n        }\n        super.onBeforeAttach(msg);\n    }\n\n    protected override onAfterDetach(msg: Message): void {\n        if (this.title.iconClass === 'no-icon') {\n            this.title.iconClass = '';\n        }\n        super.onAfterDetach(msg);\n    }\n\n    protected override onBeforeDetach(msg: Message): void {\n        this.toDisposeOnDetach.dispose();\n        super.onBeforeDetach(msg);\n    }\n\n    protected override onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n        if (this.scrollOptions) {\n            (async () => {\n                const container = await this.getScrollContainer();\n                container.style.overflow = 'hidden';\n                this.scrollBar = new PerfectScrollbar(container, this.scrollOptions);\n                this.disableScrollBarFocus(container);\n                this.toDisposeOnDetach.push(addEventListener(container, <any>'ps-y-reach-end', () => { this.onScrollYReachEndEmitter.fire(undefined); }));\n                this.toDisposeOnDetach.push(addEventListener(container, <any>'ps-scroll-up', () => { this.onScrollUpEmitter.fire(undefined); }));\n                this.toDisposeOnDetach.push(Disposable.create(() => {\n                    if (this.scrollBar) {\n                        this.scrollBar.destroy();\n                        this.scrollBar = undefined;\n                    }\n                    container.style.overflow = 'initial';\n                }));\n            })();\n        }\n    }\n\n    protected getScrollContainer(): MaybePromise<HTMLElement> {\n        return this.node;\n    }\n\n    protected disableScrollBarFocus(scrollContainer: HTMLElement): void {\n        for (const thumbs of [scrollContainer.getElementsByClassName('ps__thumb-x'), scrollContainer.getElementsByClassName('ps__thumb-y')]) {\n            for (let i = 0; i < thumbs.length; i++) {\n                const element = thumbs.item(i);\n                if (element) {\n                    element.removeAttribute('tabIndex');\n                }\n            }\n        }\n    }\n\n    protected override onUpdateRequest(msg: Message): void {\n        super.onUpdateRequest(msg);\n        if (this.scrollBar) {\n            this.scrollBar.update();\n        }\n    }\n\n    protected addUpdateListener<K extends keyof HTMLElementEventMap>(element: HTMLElement, type: K, useCapture?: boolean): void {\n        this.addEventListener(element, type, e => {\n            this.update();\n            e.preventDefault();\n        }, useCapture);\n    }\n\n    protected addEventListener<K extends keyof HTMLElementEventMap>(element: HTMLElement, type: K, listener: EventListenerOrEventListenerObject<K>, useCapture?: boolean): void {\n        this.toDisposeOnDetach.push(addEventListener(element, type, listener, useCapture));\n    }\n\n    protected addKeyListener<K extends keyof HTMLElementEventMap>(\n        element: HTMLElement,\n        keysOrKeyCodes: KeyCode.Predicate | KeysOrKeyCodes,\n        action: (event: KeyboardEvent) => boolean | void | Object, ...additionalEventTypes: K[]): void {\n        this.toDisposeOnDetach.push(addKeyListener(element, keysOrKeyCodes, action, ...additionalEventTypes));\n    }\n\n    protected addClipboardListener<K extends 'cut' | 'copy' | 'paste'>(element: HTMLElement, type: K, listener: EventListenerOrEventListenerObject<K>): void {\n        this.toDisposeOnDetach.push(addClipboardListener(element, type, listener));\n    }\n\n    getPreviewNode(): Node | undefined {\n        return this.node;\n    }\n\n    override setFlag(flag: Widget.Flag): void {\n        super.setFlag(flag);\n        if (flag === Widget.Flag.IsVisible) {\n            this.onDidChangeVisibilityEmitter.fire(this.isVisible);\n        }\n    }\n\n    override clearFlag(flag: Widget.Flag): void {\n        super.clearFlag(flag);\n        if (flag === Widget.Flag.IsVisible) {\n            this.onDidChangeVisibilityEmitter.fire(this.isVisible);\n        }\n    }\n}\n\nexport function setEnabled(element: HTMLElement, enabled: boolean): void {\n    element.classList.toggle(DISABLED_CLASS, !enabled);\n    element.tabIndex = enabled ? 0 : -1;\n}\n\nexport function createIconButton(...classNames: string[]): HTMLSpanElement {\n    const icon = document.createElement('i');\n    icon.classList.add(...classNames);\n    const button = document.createElement('span');\n    button.tabIndex = 0;\n    button.appendChild(icon);\n    return button;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type EventListener<K extends keyof HTMLElementEventMap> = (this: HTMLElement, event: HTMLElementEventMap[K]) => any;\nexport interface EventListenerObject<K extends keyof HTMLElementEventMap> {\n    handleEvent(evt: HTMLElementEventMap[K]): void;\n}\nexport namespace EventListenerObject {\n    export function is<K extends keyof HTMLElementEventMap>(listener: unknown): listener is EventListenerObject<K> {\n        return isObject(listener) && 'handleEvent' in listener;\n    }\n}\nexport type EventListenerOrEventListenerObject<K extends keyof HTMLElementEventMap> = EventListener<K> | EventListenerObject<K>;\nexport function addEventListener<K extends keyof HTMLElementEventMap>(\n    element: HTMLElement, type: K, listener: EventListenerOrEventListenerObject<K>, useCapture?: boolean\n): Disposable {\n    element.addEventListener(type, listener, useCapture);\n    return Disposable.create(() =>\n        element.removeEventListener(type, listener, useCapture)\n    );\n}\n\nexport function addKeyListener<K extends keyof HTMLElementEventMap>(\n    element: HTMLElement,\n    keysOrKeyCodes: KeyCode.Predicate | KeysOrKeyCodes,\n    action: (event: KeyboardEvent) => boolean | void | Object, ...additionalEventTypes: K[]): Disposable {\n\n    const toDispose = new DisposableCollection();\n    const keyCodePredicate = (() => {\n        if (typeof keysOrKeyCodes === 'function') {\n            return keysOrKeyCodes;\n        } else {\n            return (actual: KeyCode) => KeysOrKeyCodes.toKeyCodes(keysOrKeyCodes).some(k => k.equals(actual));\n        }\n    })();\n    toDispose.push(addEventListener(element, 'keydown', e => {\n        const kc = KeyCode.createKeyCode(e);\n        if (keyCodePredicate(kc)) {\n            const result = action(e);\n            if (typeof result !== 'boolean' || result) {\n                e.stopPropagation();\n                e.preventDefault();\n            }\n        }\n    }));\n    for (const type of additionalEventTypes) {\n        toDispose.push(addEventListener(element, type, e => {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const event = (type as any)['keydown'];\n            const result = action(event);\n            if (typeof result !== 'boolean' || result) {\n                e.stopPropagation();\n                e.preventDefault();\n            }\n        }));\n    }\n    return toDispose;\n}\n\nexport function addClipboardListener<K extends 'cut' | 'copy' | 'paste'>(element: HTMLElement, type: K, listener: EventListenerOrEventListenerObject<K>): Disposable {\n    const documentListener = (e: ClipboardEvent) => {\n        const activeElement = document.activeElement;\n        if (activeElement && element.contains(activeElement)) {\n            if (EventListenerObject.is(listener)) {\n                listener.handleEvent(e);\n            } else {\n                listener.bind(element)(e);\n            }\n        }\n    };\n    document.addEventListener(type, documentListener);\n    return Disposable.create(() =>\n        document.removeEventListener(type, documentListener)\n    );\n}\n\n/**\n * Resolves when the given widget is detached and hidden.\n */\nexport function waitForClosed(widget: Widget): Promise<void> {\n    return waitForVisible(widget, false, false);\n}\n\n/**\n * Resolves when the given widget is attached and visible.\n */\nexport function waitForRevealed(widget: Widget): Promise<void> {\n    return waitForVisible(widget, true, true);\n}\n\n/**\n * Resolves when the given widget is hidden regardless of attachment.\n */\nexport function waitForHidden(widget: Widget): Promise<void> {\n    return waitForVisible(widget, false);\n}\n\nfunction waitForVisible(widget: Widget, visible: boolean, attached?: boolean): Promise<void> {\n    if ((typeof attached !== 'boolean' || widget.isAttached === attached) &&\n        (widget.isVisible === visible || (widget.node.style.visibility !== 'hidden') === visible)\n    ) {\n        return new Promise(resolve => window.requestAnimationFrame(() => resolve()));\n    }\n    return new Promise(resolve => {\n        const waitFor = () => window.requestAnimationFrame(() => {\n            if ((typeof attached !== 'boolean' || widget.isAttached === attached) &&\n                (widget.isVisible === visible || (widget.node.style.visibility !== 'hidden') === visible)) {\n                window.requestAnimationFrame(() => resolve());\n            } else {\n                waitFor();\n            }\n        });\n        waitFor();\n    });\n}\n\nexport function isPinned(title: Title<Widget>): boolean {\n    const pinnedState = !title.closable && title.className.includes(PINNED_CLASS);\n    return pinnedState;\n}\n\nexport function unpin(title: Title<Widget>): void {\n    title.closable = true;\n    title.className = title.className.replace(PINNED_CLASS, '').trim();\n}\n\nexport function pin(title: Title<Widget>): void {\n    title.closable = false;\n    if (!title.className.includes(PINNED_CLASS)) {\n        title.className += ` ${PINNED_CLASS}`;\n    }\n}\n\nexport function isLocked(title: Title<Widget>): boolean {\n    return title.className.includes(LOCKED_CLASS);\n}\n\nexport function lock(title: Title<Widget>): void {\n    if (!title.className.includes(LOCKED_CLASS)) {\n        title.className += ` ${LOCKED_CLASS}`;\n    }\n}\n\nexport function unlock(title: Title<Widget>): void {\n    title.className = title.className.replace(LOCKED_CLASS, '').trim();\n}\n\nexport function togglePinned(title?: Title<Widget>): void {\n    if (title) {\n        if (isPinned(title)) {\n            unpin(title);\n        } else {\n            pin(title);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 STMicroelectronics, Ericsson, ARM, EclipseSource and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ApplicationShell } from '../shell';\nimport { ExtractableWidget } from '../widgets';\n\nexport const SecondaryWindowService = Symbol('SecondaryWindowService');\n\n/**\n * Service for opening new secondary windows to contain widgets extracted from the application shell.\n *\n * @experimental The functionality provided by this service and its implementation is still under development. Use with caution.\n */\nexport interface SecondaryWindowService {\n    /**\n     * Creates a new secondary window for a widget to be extracted from the application shell.\n     * The created window is closed automatically when the current theia instance is closed.\n     *\n     * @param onClose optional callback that is invoked when the secondary window is closed\n     * @returns the created window or `undefined` if it could not be created\n     */\n    createSecondaryWindow(widget: ExtractableWidget, shell: ApplicationShell): Window | undefined;\n\n    /** Handles focussing the given secondary window in the browser and on Electron. */\n    focus(win: Window): void;\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { StopReason } from '../../common/frontend-application-state';\nimport { Event } from '../../common/event';\nimport { NewWindowOptions, WindowSearchParams } from '../../common/window';\n\nexport interface WindowReloadOptions {\n    search?: WindowSearchParams,\n    hash?: string\n}\n\n/**\n * Service for opening new browser windows.\n */\nexport const WindowService = Symbol('WindowService');\n\nexport interface WindowService {\n    /**\n     * Opens a new window and loads the content from the given URL.\n     * In a browser, opening a new Theia tab or open a link is the same thing.\n     * But in Electron, we want to open links in a browser, not in Electron.\n     */\n    openNewWindow(url: string, options?: NewWindowOptions): undefined;\n\n    /**\n     * Opens a new default window.\n     * - In electron and in the browser it will open the default window without a pre-defined content.\n     */\n    openNewDefaultWindow(params?: WindowReloadOptions): void;\n\n    /**\n     * Reveal and focuses the current window\n     */\n    focus(): void;\n\n    /**\n     * Fires when the `window` unloads. The unload event is inevitable. On this event, the frontend application can save its state and release resource.\n     * Saving the state and releasing any resources must be a synchronous call. Any asynchronous calls invoked after emitting this event might be ignored.\n     */\n    readonly onUnload: Event<void>;\n\n    /**\n     * Checks `FrontendApplicationContribution#willStop` for impediments to shutdown and runs any actions returned.\n     * Can be used safely in browser and Electron when triggering reload or shutdown programmatically.\n     * Should _only_ be called before a shutdown - if this returns `true`, `FrontendApplicationContribution#willStop`\n     * will not be called again in the current session. I.e. if this return `true`, the shutdown should proceed without\n     * further condition.\n     */\n    isSafeToShutDown(reason: StopReason): Promise<boolean>;\n\n    /**\n     * Will prevent subsequent checks of `FrontendApplicationContribution#willStop`. Should only be used after requesting\n     * user confirmation.\n     *\n     * This is primarily intended programmatic restarts due to e.g. change of display language. It allows for a single confirmation\n     * of intent, rather than one warning and then several warnings from other contributions.\n     */\n    setSafeToShutDown(): void;\n\n    /**\n     * Reloads the window according to platform.\n     */\n    reload(params?: WindowReloadOptions): void;\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nexport interface ApplicationError<C extends number, D> extends Error {\n    readonly code: C\n    readonly data: D\n    toJson(): ApplicationError.Literal<D>\n}\nexport namespace ApplicationError {\n    export interface Literal<D> {\n        message: string\n        data: D\n        stack?: string\n    }\n    export interface Constructor<C extends number, D> {\n        (...args: any[]): ApplicationError<C, D>;\n        code: C;\n        is(arg: object | undefined): arg is ApplicationError<C, D>\n    }\n    const codes = new Set<number>();\n    export function declare<C extends number, D>(code: C, factory: (...args: any[]) => Literal<D>): Constructor<C, D> {\n        if (codes.has(code)) {\n            throw new Error(`An application error for '${code}' code is already declared`);\n        }\n        codes.add(code);\n        const constructorOpt = Object.assign((...args: any[]) => new Impl(code, factory(...args), constructorOpt), {\n            code,\n            is(arg: object | undefined): arg is ApplicationError<C, D> {\n                return arg instanceof Impl && arg.code === code;\n            }\n        });\n        return constructorOpt;\n    }\n    export function is<C extends number, D>(arg: object | undefined): arg is ApplicationError<C, D> {\n        return arg instanceof Impl;\n    }\n    export function fromJson<C extends number, D>(code: C, raw: Literal<D>): ApplicationError<C, D> {\n        return new Impl(code, raw);\n    }\n    class Impl<C extends number, D> extends Error implements ApplicationError<C, D>  {\n        readonly data: D;\n        constructor(\n            readonly code: C,\n            raw: ApplicationError.Literal<D>,\n            constructorOpt?: Function\n        ) {\n            super(raw.message);\n            this.data = raw.data;\n            Object.setPrototypeOf(this, Impl.prototype);\n            if (raw.stack) {\n                this.stack = raw.stack;\n            } else if (Error.captureStackTrace && constructorOpt) {\n                Error.captureStackTrace(this, constructorOpt);\n            }\n        }\n        toJson(): ApplicationError.Literal<D> {\n            const { message, data, stack } = this;\n            return { message, data, stack };\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { OS } from './os';\n\nexport const applicationPath = '/services/application';\n\nexport const ApplicationServer = Symbol('ApplicationServer');\n\nexport interface ApplicationServer {\n    getExtensionsInfos(): Promise<ExtensionInfo[]>;\n    getApplicationInfo(): Promise<ApplicationInfo | undefined>;\n    getApplicationRoot(): Promise<string>;\n    /**\n     * @deprecated since 1.25.0. Use `OS.backend.type()` instead.\n     */\n    getBackendOS(): Promise<OS.Type>;\n}\n\nexport interface ExtensionInfo {\n    name: string;\n    version: string;\n}\n\nexport interface ApplicationInfo {\n    name: string;\n    version: string;\n}\n","// *****************************************************************************\n// Copyright (C) 2023 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport namespace ArrayUtils {\n    export interface Head<T> extends Array<T> {\n        head(): T;\n    }\n\n    export interface Tail<T> extends Array<T> {\n        tail(): T;\n    }\n\n    export interface Children<T> extends Array<T> {\n        children(): Tail<T>\n    }\n\n    export const TailImpl = {\n        tail<T>(this: Array<T>): T {\n            return this[this.length - 1];\n        },\n    };\n\n    export const HeadAndChildrenImpl = {\n        head<T>(this: Array<T>): T {\n            return this[0];\n        },\n\n        children<T>(this: Array<T>): Tail<T> {\n            return Object.assign(this.slice(1), TailImpl);\n        }\n    };\n\n    export interface HeadAndTail<T> extends Head<T>, Tail<T>, Children<T> { }\n\n    export function asTail<T>(array: Array<T>): Tail<T> {\n        return Object.assign(array, TailImpl);\n    }\n\n    export function asHeadAndTail<T>(array: Array<T>): HeadAndTail<T> {\n        return Object.assign(array, HeadAndChildrenImpl, TailImpl);\n    }\n\n    export enum Sort {\n        LeftBeforeRight = -1,\n        RightBeforeLeft = 1,\n        Equal = 0,\n    }\n\n    // Copied from https://github.com/microsoft/vscode/blob/9c29becfad5f68270b9b23efeafb147722c5feba/src/vs/base/common/arrays.ts\n    /**\n     * Performs a binary search algorithm over a sorted collection. Useful for cases\n     * when we need to perform a binary search over something that isn't actually an\n     * array, and converting data to an array would defeat the use of binary search\n     * in the first place.\n     *\n     * @param length The collection length.\n     * @param compareToKey A function that takes an index of an element in the\n     *   collection and returns zero if the value at this index is equal to the\n     *   search key, a negative number if the value precedes the search key in the\n     *   sorting order, or a positive number if the search key precedes the value.\n     * @return A non-negative index of an element, if found. If not found, the\n     *   result is -(n+1) (or ~n, using bitwise notation), where n is the index\n     *   where the key should be inserted to maintain the sorting order.\n     */\n    export function binarySearch2(length: number, compareToKey: (index: number) => number): number {\n        let low = 0;\n        let high = length - 1;\n\n        while (low <= high) {\n            const mid = ((low + high) / 2) | 0;\n            const comp = compareToKey(mid);\n            if (comp < 0) {\n                low = mid + 1;\n            } else if (comp > 0) {\n                high = mid - 1;\n            } else {\n                return mid;\n            }\n        }\n        return -(low + 1);\n    }\n\n    export function partition<T>(array: T[], filter: (e: T, idx: number, arr: T[]) => boolean | undefined): [T[], T[]] {\n        const pass: T[] = [];\n        const fail: T[] = [];\n        array.forEach((e, idx, arr) => (filter(e, idx, arr) ? pass : fail).push(e));\n        return [pass, fail];\n    }\n\n    /**\n     * @returns New array with all falsy values removed. The original array IS NOT modified.\n     */\n    export function coalesce<T>(array: ReadonlyArray<T | undefined | null>): T[] {\n        return <T[]>array.filter(e => !!e);\n    }\n\n    /**\n     * groups array elements through a comparator function\n     * @param data array of elements to group\n     * @param compare comparator function: return of 0 means should group, anything above means not group\n     * @returns array of arrays with grouped elements\n     */\n    export function groupBy<T>(data: ReadonlyArray<T>, compare: (a: T, b: T) => number): T[][] {\n        const result: T[][] = [];\n        let currentGroup: T[] | undefined = undefined;\n        for (const element of data.slice(0).sort(compare)) {\n            if (!currentGroup || compare(currentGroup[0], element) !== 0) {\n                currentGroup = [element];\n                result.push(currentGroup);\n            } else {\n                currentGroup.push(element);\n            }\n        }\n        return result;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/base/common/buffer.ts\n\n/* eslint-disable no-null/no-null */\n\nimport { Buffer as SaferBuffer } from 'safer-buffer';\nimport * as iconv from 'iconv-lite';\nimport * as streams from './stream';\n\nconst hasBuffer = (typeof Buffer !== 'undefined');\nconst hasTextEncoder = (typeof TextEncoder !== 'undefined');\nconst hasTextDecoder = (typeof TextDecoder !== 'undefined');\n\nlet textEncoder: TextEncoder | null;\nlet textDecoder: TextDecoder | null;\n\nexport class BinaryBuffer {\n\n    static alloc(byteLength: number): BinaryBuffer {\n        if (hasBuffer) {\n            return new BinaryBuffer(Buffer.allocUnsafe(byteLength));\n        } else {\n            return new BinaryBuffer(new Uint8Array(byteLength));\n        }\n    }\n\n    static wrap(actual: Uint8Array): BinaryBuffer {\n        if (hasBuffer && !(Buffer.isBuffer(actual))) {\n            // https://nodejs.org/dist/latest-v10.x/docs/api/buffer.html#buffer_class_method_buffer_from_arraybuffer_byteoffset_length\n            // Create a zero-copy Buffer wrapper around the ArrayBuffer pointed to by the Uint8Array\n            actual = Buffer.from(actual.buffer, actual.byteOffset, actual.byteLength);\n        }\n        return new BinaryBuffer(actual);\n    }\n\n    static fromString(source: string): BinaryBuffer {\n        if (hasBuffer) {\n            return new BinaryBuffer(Buffer.from(source));\n        } else if (hasTextEncoder) {\n            if (!textEncoder) {\n                textEncoder = new TextEncoder();\n            }\n            return new BinaryBuffer(textEncoder.encode(source));\n        } else {\n            return new BinaryBuffer(iconv.encode(source, 'utf8'));\n        }\n    }\n\n    static concat(buffers: BinaryBuffer[], totalLength?: number): BinaryBuffer {\n        if (typeof totalLength === 'undefined') {\n            totalLength = 0;\n            for (let i = 0, len = buffers.length; i < len; i++) {\n                totalLength += buffers[i].byteLength;\n            }\n        }\n\n        const ret = BinaryBuffer.alloc(totalLength);\n        let offset = 0;\n        for (let i = 0, len = buffers.length; i < len; i++) {\n            const element = buffers[i];\n            ret.set(element, offset);\n            offset += element.byteLength;\n        }\n\n        return ret;\n    }\n\n    readonly buffer: Uint8Array;\n    readonly byteLength: number;\n\n    private constructor(buffer: Uint8Array) {\n        this.buffer = buffer;\n        this.byteLength = this.buffer.byteLength;\n    }\n\n    toString(): string {\n        if (hasBuffer) {\n            return this.buffer.toString();\n        } else if (hasTextDecoder) {\n            if (!textDecoder) {\n                textDecoder = new TextDecoder();\n            }\n            return textDecoder.decode(this.buffer);\n        } else {\n            return iconv.decode(SaferBuffer.from(this.buffer), 'utf8');\n        }\n    }\n\n    slice(start?: number, end?: number): BinaryBuffer {\n        // IMPORTANT: use subarray instead of slice because TypedArray#slice\n        // creates shallow copy and NodeBuffer#slice doesn't. The use of subarray\n        // ensures the same, performant, behaviour.\n        return new BinaryBuffer(this.buffer.subarray(start, end));\n    }\n\n    set(array: BinaryBuffer, offset?: number): void;\n    set(array: Uint8Array, offset?: number): void;\n    set(array: BinaryBuffer | Uint8Array, offset?: number): void {\n        if (array instanceof BinaryBuffer) {\n            this.buffer.set(array.buffer, offset);\n        } else {\n            this.buffer.set(array, offset);\n        }\n    }\n\n    readUInt32BE(offset: number): number {\n        return (\n            this.buffer[offset] * 2 ** 24\n            + this.buffer[offset + 1] * 2 ** 16\n            + this.buffer[offset + 2] * 2 ** 8\n            + this.buffer[offset + 3]\n        );\n    }\n\n    writeUInt32BE(value: number, offset: number): void {\n        this.buffer[offset + 3] = value;\n        value = value >>> 8;\n        this.buffer[offset + 2] = value;\n        value = value >>> 8;\n        this.buffer[offset + 1] = value;\n        value = value >>> 8;\n        this.buffer[offset] = value;\n    }\n\n    readUInt32LE(offset: number): number {\n        return (\n            ((this.buffer[offset + 0] << 0) >>> 0) |\n            ((this.buffer[offset + 1] << 8) >>> 0) |\n            ((this.buffer[offset + 2] << 16) >>> 0) |\n            ((this.buffer[offset + 3] << 24) >>> 0)\n        );\n    }\n\n    writeUInt32LE(value: number, offset: number): void {\n        this.buffer[offset + 0] = (value & 0b11111111);\n        value = value >>> 8;\n        this.buffer[offset + 1] = (value & 0b11111111);\n        value = value >>> 8;\n        this.buffer[offset + 2] = (value & 0b11111111);\n        value = value >>> 8;\n        this.buffer[offset + 3] = (value & 0b11111111);\n    }\n\n    readUInt8(offset: number): number {\n        return this.buffer[offset];\n    }\n\n    writeUInt8(value: number, offset: number): void {\n        this.buffer[offset] = value;\n    }\n\n}\n\nexport interface BinaryBufferReadable extends streams.Readable<BinaryBuffer> { }\nexport namespace BinaryBufferReadable {\n    export function toBuffer(readable: BinaryBufferReadable): BinaryBuffer {\n        return streams.consumeReadable<BinaryBuffer>(readable, chunks => BinaryBuffer.concat(chunks));\n    }\n    export function fromBuffer(buffer: BinaryBuffer): BinaryBufferReadable {\n        return streams.toReadable<BinaryBuffer>(buffer);\n    }\n    export function fromReadable(readable: streams.Readable<string>): BinaryBufferReadable {\n        return {\n            read(): BinaryBuffer | null {\n                const value = readable.read();\n\n                if (typeof value === 'string') {\n                    return BinaryBuffer.fromString(value);\n                }\n\n                return null;\n            }\n        };\n    }\n}\n\nexport interface BinaryBufferReadableStream extends streams.ReadableStream<BinaryBuffer> { }\nexport namespace BinaryBufferReadableStream {\n    export function toBuffer(stream: BinaryBufferReadableStream): Promise<BinaryBuffer> {\n        return streams.consumeStream<BinaryBuffer>(stream, chunks => BinaryBuffer.concat(chunks));\n    }\n    export function fromBuffer(buffer: BinaryBuffer): BinaryBufferReadableStream {\n        return streams.toStream<BinaryBuffer>(buffer, chunks => BinaryBuffer.concat(chunks));\n    }\n}\n\nexport interface BinaryBufferReadableBufferedStream extends streams.ReadableBufferedStream<BinaryBuffer> { }\nexport namespace BinaryBufferReadableBufferedStream {\n    export async function toBuffer(bufferedStream: streams.ReadableBufferedStream<BinaryBuffer>): Promise<BinaryBuffer> {\n        if (bufferedStream.ended) {\n            return BinaryBuffer.concat(bufferedStream.buffer);\n        }\n\n        return BinaryBuffer.concat([\n\n            // Include already read chunks...\n            ...bufferedStream.buffer,\n\n            // ...and all additional chunks\n            await BinaryBufferReadableStream.toBuffer(bufferedStream.stream)\n        ]);\n    }\n}\n\nexport interface BinaryBufferWriteableStream extends streams.WriteableStream<BinaryBuffer> { }\nexport namespace BinaryBufferWriteableStream {\n    export function create(options?: streams.WriteableStreamOptions): BinaryBufferWriteableStream {\n        return streams.newWriteableStream<BinaryBuffer>(chunks => BinaryBuffer.concat(chunks), options);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation and others. All rights reserved.\n *  Licensed under the MIT License. See https://github.com/Microsoft/vscode/blob/master/LICENSE.txt for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { Event, Emitter } from './event';\nimport { isBoolean, isObject } from './types';\nimport { Disposable } from './disposable';\n\nexport interface CancellationToken {\n    readonly isCancellationRequested: boolean;\n    /*\n     * An event emitted when cancellation is requested\n     * @event\n     */\n    readonly onCancellationRequested: Event<void>;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst shortcutEvent: Event<void> = Object.freeze(Object.assign(function (callback: any, context?: any): any {\n    const handle = setTimeout(callback.bind(context), 0);\n    return { dispose(): void { clearTimeout(handle); } };\n}, {\n    get maxListeners(): number { return 0; },\n    set maxListeners(maxListeners: number) { }\n}));\n\nexport namespace CancellationToken {\n\n    export const None: CancellationToken = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: Event.None\n    });\n\n    export const Cancelled: CancellationToken = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: shortcutEvent\n    });\n\n    export function is(value: unknown): value is CancellationToken {\n        return isObject<CancellationToken>(value) && (value === CancellationToken.None\n            || value === CancellationToken.Cancelled\n            || (isBoolean(value.isCancellationRequested) && !!value.onCancellationRequested));\n    }\n}\n\nexport class CancellationError extends Error {\n    constructor() {\n        super('Canceled');\n        this.name = this.message;\n    }\n}\n\nclass MutableToken implements CancellationToken {\n\n    private _isCancelled: boolean = false;\n    private _emitter: Emitter<void> | undefined;\n\n    public cancel(): void {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this._emitter = undefined;\n            }\n        }\n    }\n\n    get isCancellationRequested(): boolean {\n        return this._isCancelled;\n    }\n\n    get onCancellationRequested(): Event<void> {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new Emitter<void>();\n        }\n        return this._emitter.event;\n    }\n\n    public dispose(): void {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\n\nexport class CancellationTokenSource {\n\n    private _token: CancellationToken;\n    private _parentListener?: Disposable = undefined;\n\n    constructor(parent?: CancellationToken) {\n        this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);\n    }\n\n    get token(): CancellationToken {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n\n    cancel(): void {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        } else if (this._token !== CancellationToken.Cancelled) {\n            (<MutableToken>this._token).cancel();\n        }\n    }\n\n    dispose(): void {\n        this.cancel();\n        this._parentListener?.dispose();\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n\n        } else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\n\nconst cancelledMessage = 'Cancelled';\n\nexport function cancelled(): Error {\n    return new Error(cancelledMessage);\n}\n\nexport function isCancelled(err: Error | undefined): boolean {\n    return !!err && err.message === cancelledMessage;\n}\n\nexport function checkCancelled(token?: CancellationToken): void {\n    if (!!token && token.isCancellationRequested) {\n        throw cancelled();\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * Either be a reference to an existing color or a color value as a hex string, rgba, or hsla.\n */\nexport type Color = string | RGBA | HSLA | ColorTransformation;\nexport namespace Color {\n    export function rgba(r: number, g: number, b: number, a: number = 1): Color {\n        return { r, g, b, a };\n    }\n    export function hsla(h: number, s: number, l: number, a: number = 1): Color {\n        return { h, s, l, a };\n    }\n    export const white = rgba(255, 255, 255, 1);\n    export const black = rgba(0, 0, 0, 1);\n    export function transparent(v: string, f: number): ColorTransformation {\n        return { v, f, kind: 'transparent' };\n    }\n    export function lighten(v: string, f: number): ColorTransformation {\n        return { v, f, kind: 'lighten' };\n    }\n    export function darken(v: string, f: number): ColorTransformation {\n        return { v, f, kind: 'darken' };\n    }\n}\nexport interface ColorTransformation {\n    kind: 'transparent' | 'lighten' | 'darken'\n    v: string\n    f: number\n}\nexport interface RGBA {\n    /**\n     * Red: integer in [0-255]\n     */\n    readonly r: number;\n\n    /**\n     * Green: integer in [0-255]\n     */\n    readonly g: number;\n\n    /**\n     * Blue: integer in [0-255]\n     */\n    readonly b: number;\n\n    /**\n     * Alpha: float in [0-1]\n     */\n    readonly a: number;\n}\nexport interface HSLA {\n    /**\n     * Hue: integer in [0, 360]\n     */\n    readonly h: number;\n    /**\n     * Saturation: float in [0, 1]\n     */\n    readonly s: number;\n    /**\n     * Luminosity: float in [0, 1]\n     */\n    readonly l: number;\n    /**\n     * Alpha: float in [0, 1]\n     */\n    readonly a: number;\n}\n\nexport interface ColorDefaults {\n    light?: Color\n    dark?: Color\n    /** @deprecated @since 1.28.0 Please use hcDark and hcLight. This field will be ignored unless `hcDark` is absent. */\n    hc?: Color\n    hcDark?: Color;\n    hcLight?: Color;\n}\n\nexport interface ColorDefinition {\n    id: string\n    defaults?: ColorDefaults\n    description: string\n}\n\nexport interface ColorCssVariable {\n    name: string\n    value: string\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, named } from 'inversify';\nimport { Event, Emitter, WaitUntilEvent } from './event';\nimport { Disposable, DisposableCollection } from './disposable';\nimport { ContributionProvider } from './contribution-provider';\nimport { nls } from './nls';\nimport debounce = require('p-debounce');\nimport { isObject } from './types';\n\n/**\n * A command is a unique identifier of a function\n * which can be executed by a user via a keyboard shortcut,\n * a menu action or directly.\n */\nexport interface Command {\n    /**\n     * A unique identifier of this command.\n     */\n    id: string;\n    /**\n     * A label of this command.\n     */\n    label?: string;\n    originalLabel?: string;\n    /**\n     * An icon class of this command.\n     */\n    iconClass?: string;\n    /**\n     * A category of this command.\n     */\n    category?: string;\n    originalCategory?: string;\n}\n\nexport namespace Command {\n    /* Determine whether object is a Command */\n    export function is(arg: unknown): arg is Command {\n        return isObject(arg) && 'id' in arg;\n    }\n\n    /** Utility function to easily translate commands */\n    export function toLocalizedCommand(command: Command, nlsLabelKey: string = command.id, nlsCategoryKey?: string): Command {\n        return {\n            ...command,\n            label: command.label && nls.localize(nlsLabelKey, command.label),\n            originalLabel: command.label,\n            category: nlsCategoryKey && command.category && nls.localize(nlsCategoryKey, command.category) || command.category,\n            originalCategory: command.category,\n        };\n    }\n\n    export function toDefaultLocalizedCommand(command: Command): Command {\n        return {\n            ...command,\n            label: command.label && nls.localizeByDefault(command.label),\n            originalLabel: command.label,\n            category: command.category && nls.localizeByDefault(command.category),\n            originalCategory: command.category,\n        };\n    }\n\n    /** Comparator function for when sorting commands */\n    export function compareCommands(a: Command, b: Command): number {\n        if (a.label && b.label) {\n            const aCommand = (a.category ? `${a.category}: ${a.label}` : a.label).toLowerCase();\n            const bCommand = (b.category ? `${b.category}: ${b.label}` : b.label).toLowerCase();\n            return (aCommand).localeCompare(bCommand);\n        } else {\n            return 0;\n        }\n    }\n\n    /**\n     * Determine if two commands are equal.\n     *\n     * @param a the first command for comparison.\n     * @param b the second command for comparison.\n     */\n    export function equals(a: Command, b: Command): boolean {\n        return (\n            a.id === b.id &&\n            a.label === b.label &&\n            a.iconClass === b.iconClass &&\n            a.category === b.category\n        );\n    }\n}\n\n/**\n * A command handler is an implementation of a command.\n *\n * A command can have multiple handlers\n * but they should be active in different contexts,\n * otherwise first active will be executed.\n */\nexport interface CommandHandler {\n    /**\n     * Execute this handler.\n     *\n     * Don't call it directly, use `CommandService.executeCommand` instead.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    execute(...args: any[]): any;\n    /**\n     * Test whether this handler is enabled (active).\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isEnabled?(...args: any[]): boolean;\n    onDidChangeEnabled?: Event<void>;\n    /**\n     * Test whether menu items for this handler should be visible.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isVisible?(...args: any[]): boolean;\n    /**\n     * Test whether menu items for this handler should be toggled.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isToggled?(...args: any[]): boolean;\n}\n\nexport const CommandContribution = Symbol('CommandContribution');\n/**\n * The command contribution should be implemented to register custom commands and handler.\n */\nexport interface CommandContribution {\n    /**\n     * Register commands and handlers.\n     */\n    registerCommands(commands: CommandRegistry): void;\n}\n\nexport interface CommandEvent {\n    commandId: string;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    args: any[]\n}\n\nexport interface WillExecuteCommandEvent extends WaitUntilEvent, CommandEvent {\n}\n\nexport const commandServicePath = '/services/commands';\nexport const CommandService = Symbol('CommandService');\n/**\n * The command service should be used to execute commands.\n */\nexport interface CommandService {\n    /**\n     * Execute the active handler for the given command and arguments.\n     *\n     * Reject if a command cannot be executed.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    executeCommand<T>(command: string, ...args: any[]): Promise<T | undefined>;\n    /**\n     * An event is emitted when a command is about to be executed.\n     *\n     * It can be used to install or activate a command handler.\n     */\n    readonly onWillExecuteCommand: Event<WillExecuteCommandEvent>;\n    /**\n     * An event is emitted when a command was executed.\n     */\n    readonly onDidExecuteCommand: Event<CommandEvent>;\n}\n\n/**\n * The command registry manages commands and handlers.\n */\n@injectable()\nexport class CommandRegistry implements CommandService {\n\n    protected readonly _commands: { [id: string]: Command } = {};\n    protected readonly _handlers: { [id: string]: CommandHandler[] } = {};\n\n    protected readonly toUnregisterCommands = new Map<string, Disposable>();\n\n    // List of recently used commands.\n    protected _recent: string[] = [];\n\n    protected readonly onWillExecuteCommandEmitter = new Emitter<WillExecuteCommandEvent>();\n    readonly onWillExecuteCommand = this.onWillExecuteCommandEmitter.event;\n\n    protected readonly onDidExecuteCommandEmitter = new Emitter<CommandEvent>();\n    readonly onDidExecuteCommand = this.onDidExecuteCommandEmitter.event;\n\n    protected readonly onCommandsChangedEmitter = new Emitter<void>();\n    readonly onCommandsChanged = this.onCommandsChangedEmitter.event;\n\n    constructor(\n        @inject(ContributionProvider) @named(CommandContribution)\n        protected readonly contributionProvider: ContributionProvider<CommandContribution>\n    ) { }\n\n    onStart(): void {\n        const contributions = this.contributionProvider.getContributions();\n        for (const contrib of contributions) {\n            contrib.registerCommands(this);\n        }\n    }\n\n    *getAllCommands(): IterableIterator<Readonly<Command & { handlers: CommandHandler[] }>> {\n        for (const command of Object.values(this._commands)) {\n            yield { ...command, handlers: this._handlers[command.id] ?? [] };\n        }\n    }\n\n    /**\n     * Register the given command and handler if present.\n     *\n     * Throw if a command is already registered for the given command identifier.\n     */\n    registerCommand(command: Command, handler?: CommandHandler): Disposable {\n        if (this._commands[command.id]) {\n            console.warn(`A command ${command.id} is already registered.`);\n            return Disposable.NULL;\n        }\n        const toDispose = new DisposableCollection(this.doRegisterCommand(command));\n        if (handler) {\n            toDispose.push(this.registerHandler(command.id, handler));\n        }\n        this.toUnregisterCommands.set(command.id, toDispose);\n        toDispose.push(Disposable.create(() => this.toUnregisterCommands.delete(command.id)));\n        return toDispose;\n    }\n\n    protected doRegisterCommand(command: Command): Disposable {\n        this._commands[command.id] = command;\n        return {\n            dispose: () => {\n                delete this._commands[command.id];\n            }\n        };\n    }\n\n    /**\n     * Unregister command from the registry\n     *\n     * @param command\n     */\n    unregisterCommand(command: Command): void;\n    /**\n     * Unregister command from the registry\n     *\n     * @param id\n     */\n    unregisterCommand(id: string): void;\n    unregisterCommand(commandOrId: Command | string): void {\n        const id = Command.is(commandOrId) ? commandOrId.id : commandOrId;\n        const toUnregister = this.toUnregisterCommands.get(id);\n        if (toUnregister) {\n            toUnregister.dispose();\n        }\n    }\n\n    /**\n     * Register the given handler for the given command identifier.\n     *\n     * If there is already a handler for the given command\n     * then the given handler is registered as more specific, and\n     * has higher priority during enablement, visibility and toggle state evaluations.\n     */\n    registerHandler(commandId: string, handler: CommandHandler): Disposable {\n        let handlers = this._handlers[commandId];\n        if (!handlers) {\n            this._handlers[commandId] = handlers = [];\n        }\n        handlers.unshift(handler);\n        this.fireDidChange();\n        return {\n            dispose: () => {\n                const idx = handlers.indexOf(handler);\n                if (idx >= 0) {\n                    handlers.splice(idx, 1);\n                    this.fireDidChange();\n                }\n            }\n        };\n    }\n\n    protected fireDidChange = debounce(() => this.doFireDidChange(), 0);\n\n    protected doFireDidChange(): void {\n        this.onCommandsChangedEmitter.fire();\n    }\n\n    /**\n     * Test whether there is an active handler for the given command.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isEnabled(command: string, ...args: any[]): boolean {\n        return typeof this.getActiveHandler(command, ...args) !== 'undefined';\n    }\n\n    /**\n     * Test whether there is a visible handler for the given command.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isVisible(command: string, ...args: any[]): boolean {\n        return typeof this.getVisibleHandler(command, ...args) !== 'undefined';\n    }\n\n    /**\n     * Test whether there is a toggled handler for the given command.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    isToggled(command: string, ...args: any[]): boolean {\n        return typeof this.getToggledHandler(command, ...args) !== 'undefined';\n    }\n\n    /**\n     * Execute the active handler for the given command and arguments.\n     *\n     * Reject if a command cannot be executed.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    async executeCommand<T>(commandId: string, ...args: any[]): Promise<T | undefined> {\n        const handler = this.getActiveHandler(commandId, ...args);\n        if (handler) {\n            await this.fireWillExecuteCommand(commandId, args);\n            const result = await handler.execute(...args);\n            this.onDidExecuteCommandEmitter.fire({ commandId, args });\n            return result;\n        }\n        throw Object.assign(new Error(`The command '${commandId}' cannot be executed. There are no active handlers available for the command.`), { code: 'NO_ACTIVE_HANDLER' });\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected async fireWillExecuteCommand(commandId: string, args: any[] = []): Promise<void> {\n        await WaitUntilEvent.fire(this.onWillExecuteCommandEmitter, { commandId, args }, 30000);\n    }\n\n    /**\n     * Get a visible handler for the given command or `undefined`.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getVisibleHandler(commandId: string, ...args: any[]): CommandHandler | undefined {\n        const handlers = this._handlers[commandId];\n        if (handlers) {\n            for (const handler of handlers) {\n                try {\n                    if (!handler.isVisible || handler.isVisible(...args)) {\n                        return handler;\n                    }\n                } catch (error) {\n                    console.error(error);\n                }\n            }\n        }\n        return undefined;\n    }\n\n    /**\n     * Get an active handler for the given command or `undefined`.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getActiveHandler(commandId: string, ...args: any[]): CommandHandler | undefined {\n        const handlers = this._handlers[commandId];\n        if (handlers) {\n            for (const handler of handlers) {\n                try {\n                    if (!handler.isEnabled || handler.isEnabled(...args)) {\n                        return handler;\n                    }\n                } catch (error) {\n                    console.error(error);\n                }\n            }\n        }\n        return undefined;\n    }\n\n    /**\n     * Get a toggled handler for the given command or `undefined`.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getToggledHandler(commandId: string, ...args: any[]): CommandHandler | undefined {\n        const handlers = this._handlers[commandId];\n        if (handlers) {\n            for (const handler of handlers) {\n                try {\n                    if (handler.isToggled && handler.isToggled(...args)) {\n                        return handler;\n                    }\n                } catch (error) {\n                    console.error(error);\n                }\n            }\n        }\n        return undefined;\n    }\n\n    /**\n     * Returns with all handlers for the given command. If the command does not have any handlers,\n     * or the command is not registered, returns an empty array.\n     */\n    getAllHandlers(commandId: string): CommandHandler[] {\n        const handlers = this._handlers[commandId];\n        return handlers ? handlers.slice() : [];\n    }\n\n    /**\n     * Get all registered commands.\n     */\n    get commands(): Command[] {\n        return Object.values(this._commands);\n    }\n\n    /**\n     * Get a command for the given command identifier.\n     */\n    getCommand(id: string): Command | undefined {\n        return this._commands[id];\n    }\n\n    /**\n     * Get all registered commands identifiers.\n     */\n    get commandIds(): string[] {\n        return Object.keys(this._commands);\n    }\n\n    /**\n     * Get the list of recently used commands.\n     */\n    get recent(): Command[] {\n        const commands: Command[] = [];\n        for (const recentId of this._recent) {\n            const command = this.getCommand(recentId);\n            if (command) {\n                commands.push(command);\n            }\n        }\n        return commands;\n    }\n\n    /**\n     * Set the list of recently used commands.\n     * @param commands the list of recently used commands.\n     */\n    set recent(commands: Command[]) {\n        this._recent = Array.from(new Set(commands.map(e => e.id)));\n    }\n\n    /**\n     * Adds a command to recently used list.\n     * Prioritizes commands that were recently executed to be most recent.\n     *\n     * @param recent a recent command, or array of recent commands.\n     */\n    addRecentCommand(recent: Command | Command[]): void {\n        for (const recentCommand of Array.isArray(recent) ? recent : [recent]) {\n            // Determine if the command currently exists in the recently used list.\n            const index = this._recent.findIndex(commandId => commandId === recentCommand.id);\n            // If the command exists, remove it from the array so it can later be placed at the top.\n            if (index >= 0) { this._recent.splice(index, 1); }\n            // Add the recent command to the beginning of the array (most recent).\n            this._recent.unshift(recentCommand.id);\n        }\n    }\n\n    /**\n     * Clear the list of recently used commands.\n     */\n    clearCommandHistory(): void {\n        this.recent = [];\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2021 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, multiInject, optional } from 'inversify';\nimport { ContributionFilterRegistry, ContributionType, FilterContribution } from './contribution-filter';\nimport { Filter } from './filter';\n\n/**\n * Registry of contribution filters.\n *\n * Implement/bind to the `FilterContribution` interface/symbol to register your contribution filters.\n */\n@injectable()\nexport class ContributionFilterRegistryImpl implements ContributionFilterRegistry {\n\n    protected initialized = false;\n    protected genericFilters: Filter<Object>[] = [];\n    protected typeToFilters = new Map<ContributionType, Filter<Object>[]>();\n\n    constructor(\n        @multiInject(FilterContribution) @optional() contributions: FilterContribution[] = []\n    ) {\n        for (const contribution of contributions) {\n            contribution.registerContributionFilters(this);\n        }\n        this.initialized = true;\n    }\n\n    addFilters(types: '*' | ContributionType[], filters: Filter<Object>[]): void {\n        if (this.initialized) {\n            throw new Error('cannot add filters after initialization is done.');\n        } else if (types === '*') {\n            this.genericFilters.push(...filters);\n        } else {\n            for (const type of types) {\n                this.getOrCreate(type).push(...filters);\n            }\n        }\n    }\n\n    applyFilters<T extends Object>(toFilter: T[], type: ContributionType): T[] {\n        const filters = this.getFilters(type);\n        if (filters.length === 0) {\n            return toFilter;\n        }\n        return toFilter.filter(\n            object => filters.every(filter => filter(object))\n        );\n    }\n\n    protected getOrCreate(type: ContributionType): Filter<Object>[] {\n        let value = this.typeToFilters.get(type);\n        if (value === undefined) {\n            this.typeToFilters.set(type, value = []);\n        }\n        return value;\n    }\n\n    protected getFilters(type: ContributionType): Filter<Object>[] {\n        return [\n            ...this.typeToFilters.get(type) || [],\n            ...this.genericFilters\n        ];\n    }\n}\n\n","// *****************************************************************************\n// Copyright (C) 2021 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from 'inversify';\nimport { Filter } from './filter';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type ContributionType = interfaces.ServiceIdentifier<any>;\n\nexport const ContributionFilterRegistry = Symbol('ContributionFilterRegistry');\nexport interface ContributionFilterRegistry {\n\n    /**\n     * Add filters to be applied for every type of contribution.\n     */\n    addFilters(types: '*', filters: Filter<Object>[]): void;\n\n    /**\n     * Given a list of contribution types, register filters to apply.\n     * @param types types for which to register the filters.\n     */\n    addFilters(types: ContributionType[], filters: Filter<Object>[]): void;\n\n    /**\n     * Applies the filters for the given contribution type. Generic filters will be applied on any given type.\n     * @param toFilter the elements to filter\n     * @param type the contribution type for which potentially filters were registered\n     * @returns the filtered elements\n     */\n    applyFilters<T extends Object>(toFilter: T[], type: ContributionType): T[]\n}\n\nexport const FilterContribution = Symbol('FilterContribution');\n/**\n * Register filters to remove contributions.\n */\nexport interface FilterContribution {\n    /**\n     * Use the registry to register your contribution filters.\n     * * Note that filtering contributions based on their class (constructor) name is discouraged.\n     * Class names are minified in production builds and therefore not reliable.\n     * Use instance of checks or direct constructor comparison instead:\n     *\n     * ```ts\n     * registry.addFilters('*', [\n     *     contrib => !(contrib instanceof SampleFilteredCommandContribution)\n     * ]);\n     * ```\n     */\n    registerContributionFilters(registry: ContributionFilterRegistry): void;\n}\n","// *****************************************************************************\n// Copyright (C) 2021 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport const Filter = Symbol('Filter');\n\n/**\n * @param toTest Object that should be tested\n * @returns `true` if the object passes the test, `false` otherwise.\n */\nexport type Filter<T extends Object> = (toTest: T) => boolean;\n","// *****************************************************************************\n// Copyright (C) 2021 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './contribution-filter';\nexport * from './contribution-filter-registry';\nexport * from './filter';\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { interfaces } from 'inversify';\nimport { ContributionFilterRegistry } from './contribution-filter';\n\nexport const ContributionProvider = Symbol('ContributionProvider');\n\nexport interface ContributionProvider<T extends object> {\n\n    /**\n     * @param recursive `true` if the contributions should be collected from the parent containers as well. Otherwise, `false`. It is `false` by default.\n     */\n    getContributions(recursive?: boolean): T[]\n}\n\nclass ContainerBasedContributionProvider<T extends object> implements ContributionProvider<T> {\n\n    protected services: T[] | undefined;\n\n    constructor(\n        protected readonly serviceIdentifier: interfaces.ServiceIdentifier<T>,\n        protected readonly container: interfaces.Container\n    ) { }\n\n    getContributions(recursive?: boolean): T[] {\n        if (this.services === undefined) {\n            const currentServices: T[] = [];\n            let filterRegistry: ContributionFilterRegistry | undefined;\n            let currentContainer: interfaces.Container | null = this.container;\n            // eslint-disable-next-line no-null/no-null\n            while (currentContainer !== null) {\n                if (currentContainer.isBound(this.serviceIdentifier)) {\n                    try {\n                        currentServices.push(...currentContainer.getAll(this.serviceIdentifier));\n                    } catch (error) {\n                        console.error(error);\n                    }\n                }\n                if (filterRegistry === undefined && currentContainer.isBound(ContributionFilterRegistry)) {\n                    filterRegistry = currentContainer.get(ContributionFilterRegistry);\n                }\n                // eslint-disable-next-line no-null/no-null\n                currentContainer = recursive === true ? currentContainer.parent : null;\n            }\n\n            this.services = filterRegistry ? filterRegistry.applyFilters(currentServices, this.serviceIdentifier) : currentServices;\n\n        }\n        return this.services;\n    }\n}\n\nexport type Bindable = interfaces.Bind | interfaces.Container;\nexport namespace Bindable {\n    export function isContainer(arg: Bindable): arg is interfaces.Container {\n        return typeof arg !== 'function'\n            // https://github.com/eclipse-theia/theia/issues/3204#issue-371029654\n            // In InversifyJS `4.14.0` containers no longer have a property `guid`.\n            && ('guid' in arg || 'parent' in arg);\n    }\n}\n\nexport function bindContributionProvider(bindable: Bindable, id: symbol): void {\n    const bindingToSyntax = (Bindable.isContainer(bindable) ? bindable.bind(ContributionProvider) : bindable(ContributionProvider));\n    bindingToSyntax\n        .toDynamicValue(ctx => new ContainerBasedContributionProvider(id, ctx.container))\n        .inSingletonScope().whenTargetNamed(id);\n}\n\n/**\n * Helper function to bind a service to a list of contributions easily.\n * @param bindable a Container or the bind function directly.\n * @param service an already bound service to refer the contributions to.\n * @param contributions array of contribution identifiers to bind the service to.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function bindContribution(bindable: Bindable, service: interfaces.ServiceIdentifier<any>, contributions: interfaces.ServiceIdentifier<any>[]): void {\n    const bind: interfaces.Bind = Bindable.isContainer(bindable) ? bindable.bind.bind(bindable) : bindable;\n    for (const contribution of contributions) {\n        bind(contribution).toService(service);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Event, Emitter } from './event';\nimport { isFunction, isObject } from './types';\n\nexport interface Disposable {\n    /**\n     * Dispose this object.\n     */\n    dispose(): void;\n}\n\nexport namespace Disposable {\n    export function is(arg: unknown): arg is Disposable {\n        return isObject<Disposable>(arg) && isFunction(arg.dispose);\n    }\n    export function create(func: () => void): Disposable {\n        return { dispose: func };\n    }\n    /** Always provides a reference to a new disposable. */\n    export declare const NULL: Disposable;\n}\n\n/**\n * Ensures that every reference to {@link Disposable.NULL} returns a new object,\n * as sharing a disposable between multiple {@link DisposableCollection} can have unexpected side effects\n */\nObject.defineProperty(Disposable, 'NULL', {\n    configurable: false,\n    enumerable: true,\n    get(): Disposable {\n        return { dispose: () => { } };\n    }\n});\n\n/**\n * Utility for tracking a collection of Disposable objects.\n *\n * This utility provides a number of benefits over just using an array of\n * Disposables:\n *\n * - the collection is auto-pruned when an element it contains is disposed by\n * any code that has a reference to it\n * - you can register to be notified when all elements in the collection have\n * been disposed [1]\n * - you can conveniently dispose all elements by calling dispose()\n * on the collection\n *\n * Unlike an array, however, this utility does not give you direct access to\n * its elements.\n *\n * Being notified when all elements are disposed is simple:\n * ```\n * const dc = new DisposableCollection(myDisposables);\n * dc.onDispose(() => {\n *    console.log('All elements in the collection have been disposed');\n * });\n * ```\n *\n * [1] The collection will notify only once. It will continue to function in so\n * far as accepting new Disposables and pruning them when they are disposed, but\n * such activity will never result in another notification.\n */\nexport class DisposableCollection implements Disposable {\n\n    protected readonly disposables: Disposable[] = [];\n    protected readonly onDisposeEmitter = new Emitter<void>();\n\n    constructor(...toDispose: Disposable[]) {\n        toDispose.forEach(d => this.push(d));\n    }\n\n    /**\n     * This event is fired only once\n     * on first dispose of not empty collection.\n     */\n    get onDispose(): Event<void> {\n        return this.onDisposeEmitter.event;\n    }\n\n    protected checkDisposed(): void {\n        if (this.disposed && !this.disposingElements) {\n            this.onDisposeEmitter.fire(undefined);\n            this.onDisposeEmitter.dispose();\n        }\n    }\n\n    get disposed(): boolean {\n        return this.disposables.length === 0;\n    }\n\n    private disposingElements = false;\n    dispose(): void {\n        if (this.disposed || this.disposingElements) {\n            return;\n        }\n        this.disposingElements = true;\n        while (!this.disposed) {\n            try {\n                this.disposables.pop()!.dispose();\n            } catch (e) {\n                console.error(e);\n            }\n        }\n        this.disposingElements = false;\n        this.checkDisposed();\n    }\n\n    push(disposable: Disposable): Disposable {\n        const disposables = this.disposables;\n        disposables.push(disposable);\n        const originalDispose = disposable.dispose.bind(disposable);\n        const toRemove = Disposable.create(() => {\n            const index = disposables.indexOf(disposable);\n            if (index !== -1) {\n                disposables.splice(index, 1);\n            }\n            this.checkDisposed();\n        });\n        disposable.dispose = () => {\n            toRemove.dispose();\n            disposable.dispose = originalDispose;\n            originalDispose();\n        };\n        return toRemove;\n    }\n\n    pushAll(disposables: Disposable[]): Disposable[] {\n        return disposables.map(disposable =>\n            this.push(disposable)\n        );\n    }\n\n}\n\nexport type DisposableGroup = { push(disposable: Disposable): void } | { add(disposable: Disposable): void };\nexport namespace DisposableGroup {\n    export function canPush(candidate?: DisposableGroup): candidate is { push(disposable: Disposable): void } {\n        return Boolean(candidate && (candidate as { push(): void }).push);\n    }\n    export function canAdd(candidate?: DisposableGroup): candidate is { add(disposable: Disposable): void } {\n        return Boolean(candidate && (candidate as { add(): void }).add);\n    }\n}\n\nexport function disposableTimeout(...args: Parameters<typeof setTimeout>): Disposable {\n    const handle = setTimeout(...args);\n    return { dispose: () => clearTimeout(handle) };\n}\n\n/**\n * Wrapper for a {@link Disposable} that is not available immediately.\n */\nexport class DisposableWrapper implements Disposable {\n\n    private disposed = false;\n    private disposable: Disposable | undefined = undefined;\n\n    set(disposable: Disposable): void {\n        if (this.disposed) {\n            disposable.dispose();\n        } else {\n            this.disposable = disposable;\n        }\n    }\n\n    dispose(): void {\n        this.disposed = true;\n        if (this.disposable) {\n            this.disposable.dispose();\n            this.disposable = undefined;\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/workbench/services/textfile/common/encoding.ts\n\n/* eslint-disable no-null/no-null */\n\nimport * as iconv from 'iconv-lite';\nimport { Buffer } from 'safer-buffer';\nimport { injectable } from 'inversify';\nimport { BinaryBuffer, BinaryBufferReadableStream, BinaryBufferReadable } from './buffer';\nimport { UTF8, UTF8_with_bom, UTF16be, UTF16le, UTF16be_BOM, UTF16le_BOM, UTF8_BOM } from './encodings';\nimport { newWriteableStream, ReadableStream, Readable } from './stream';\n\nconst ZERO_BYTE_DETECTION_BUFFER_MAX_LEN = 512;   // number of bytes to look at to decide about a file being binary or not\nconst NO_ENCODING_GUESS_MIN_BYTES = 512;          // when not auto guessing the encoding, small number of bytes are enough\nconst AUTO_ENCODING_GUESS_MIN_BYTES = 512 * 8;    // with auto guessing we want a lot more content to be read for guessing\nconst AUTO_ENCODING_GUESS_MAX_BYTES = 512 * 128;  // set an upper limit for the number of bytes we pass on to jschardet\n\n// we explicitly ignore a specific set of encodings from auto guessing\n// - ASCII: we never want this encoding (most UTF-8 files would happily detect as\n//          ASCII files and then you could not type non-ASCII characters anymore)\n// - UTF-16: we have our own detection logic for UTF-16\n// - UTF-32: we do not support this encoding in VSCode\nconst IGNORE_ENCODINGS = ['ascii', 'utf-16', 'utf-32'];\n\nexport interface ResourceEncoding {\n    encoding: string\n    hasBOM: boolean\n}\n\nexport interface DetectedEncoding {\n    encoding?: string\n    seemsBinary?: boolean\n}\n\nexport interface DecodeStreamOptions {\n    guessEncoding?: boolean;\n    minBytesRequiredForDetection?: number;\n\n    overwriteEncoding(detectedEncoding: string | undefined): Promise<string>;\n}\nexport interface DecodeStreamResult {\n    stream: ReadableStream<string>;\n    detected: DetectedEncoding;\n}\n\n@injectable()\nexport class EncodingService {\n\n    encode(value: string, options?: ResourceEncoding): BinaryBuffer {\n        let encoding = options?.encoding;\n        const addBOM = options?.hasBOM;\n        encoding = this.toIconvEncoding(encoding);\n        if (encoding === UTF8 && !addBOM) {\n            return BinaryBuffer.fromString(value);\n        }\n        const buffer = iconv.encode(value, encoding, { addBOM });\n        return BinaryBuffer.wrap(buffer);\n    }\n\n    decode(value: BinaryBuffer, encoding?: string): string {\n        const buffer = Buffer.from(value.buffer);\n        encoding = this.toIconvEncoding(encoding);\n        return iconv.decode(buffer, encoding);\n    }\n\n    exists(encoding: string): boolean {\n        encoding = this.toIconvEncoding(encoding);\n        return iconv.encodingExists(encoding);\n    }\n\n    toIconvEncoding(encoding?: string): string {\n        if (encoding === UTF8_with_bom || !encoding) {\n            return UTF8; // iconv does not distinguish UTF 8 with or without BOM, so we need to help it\n        }\n        return encoding;\n    }\n\n    async toResourceEncoding(encoding: string, options: {\n        overwriteEncoding?: boolean,\n        read: (length: number) => Promise<Uint8Array>\n    }): Promise<ResourceEncoding> {\n        // Some encodings come with a BOM automatically\n        if (encoding === UTF16be || encoding === UTF16le || encoding === UTF8_with_bom) {\n            return { encoding, hasBOM: true };\n        }\n\n        // Ensure that we preserve an existing BOM if found for UTF8\n        // unless we are instructed to overwrite the encoding\n        const overwriteEncoding = options?.overwriteEncoding;\n        if (!overwriteEncoding && encoding === UTF8) {\n            try {\n                // stream here to avoid fetching the whole content on write\n                const buffer = await options.read(UTF8_BOM.length);\n                if (this.detectEncodingByBOMFromBuffer(Buffer.from(buffer), buffer.byteLength) === UTF8_with_bom) {\n                    return { encoding, hasBOM: true };\n                }\n            } catch (error) {\n                // ignore - file might not exist\n            }\n        }\n\n        return { encoding, hasBOM: false };\n    }\n\n    async detectEncoding(data: BinaryBuffer, autoGuessEncoding?: boolean): Promise<DetectedEncoding> {\n        const buffer = Buffer.from(data.buffer);\n        const bytesRead = data.byteLength;\n        // Always first check for BOM to find out about encoding\n        let encoding = this.detectEncodingByBOMFromBuffer(buffer, bytesRead);\n\n        // Detect 0 bytes to see if file is binary or UTF-16 LE/BE\n        // unless we already know that this file has a UTF-16 encoding\n        let seemsBinary = false;\n        if (encoding !== UTF16be && encoding !== UTF16le && buffer) {\n            let couldBeUTF16LE = true; // e.g. 0xAA 0x00\n            let couldBeUTF16BE = true; // e.g. 0x00 0xAA\n            let containsZeroByte = false;\n\n            // This is a simplified guess to detect UTF-16 BE or LE by just checking if\n            // the first 512 bytes have the 0-byte at a specific location. For UTF-16 LE\n            // this would be the odd byte index and for UTF-16 BE the even one.\n            // Note: this can produce false positives (a binary file that uses a 2-byte\n            // encoding of the same format as UTF-16) and false negatives (a UTF-16 file\n            // that is using 4 bytes to encode a character).\n            for (let i = 0; i < bytesRead && i < ZERO_BYTE_DETECTION_BUFFER_MAX_LEN; i++) {\n                const isEndian = (i % 2 === 1); // assume 2-byte sequences typical for UTF-16\n                const isZeroByte = (buffer.readUInt8(i) === 0);\n\n                if (isZeroByte) {\n                    containsZeroByte = true;\n                }\n\n                // UTF-16 LE: expect e.g. 0xAA 0x00\n                if (couldBeUTF16LE && (isEndian && !isZeroByte || !isEndian && isZeroByte)) {\n                    couldBeUTF16LE = false;\n                }\n\n                // UTF-16 BE: expect e.g. 0x00 0xAA\n                if (couldBeUTF16BE && (isEndian && isZeroByte || !isEndian && !isZeroByte)) {\n                    couldBeUTF16BE = false;\n                }\n\n                // Return if this is neither UTF16-LE nor UTF16-BE and thus treat as binary\n                if (isZeroByte && !couldBeUTF16LE && !couldBeUTF16BE) {\n                    break;\n                }\n            }\n\n            // Handle case of 0-byte included\n            if (containsZeroByte) {\n                if (couldBeUTF16LE) {\n                    encoding = UTF16le;\n                } else if (couldBeUTF16BE) {\n                    encoding = UTF16be;\n                } else {\n                    seemsBinary = true;\n                }\n            }\n        }\n\n        // Auto guess encoding if configured\n        if (autoGuessEncoding && !seemsBinary && !encoding && buffer) {\n            const guessedEncoding = await this.guessEncodingByBuffer(buffer.slice(0, bytesRead));\n            return {\n                seemsBinary: false,\n                encoding: guessedEncoding\n            };\n        }\n\n        return { seemsBinary, encoding };\n    }\n\n    protected detectEncodingByBOMFromBuffer(buffer: Buffer, bytesRead: number): typeof UTF8_with_bom | typeof UTF16le | typeof UTF16be | undefined {\n        if (!buffer || bytesRead < UTF16be_BOM.length) {\n            return undefined;\n        }\n\n        const b0 = buffer.readUInt8(0);\n        const b1 = buffer.readUInt8(1);\n\n        // UTF-16 BE\n        if (b0 === UTF16be_BOM[0] && b1 === UTF16be_BOM[1]) {\n            return UTF16be;\n        }\n\n        // UTF-16 LE\n        if (b0 === UTF16le_BOM[0] && b1 === UTF16le_BOM[1]) {\n            return UTF16le;\n        }\n\n        if (bytesRead < UTF8_BOM.length) {\n            return undefined;\n        }\n\n        const b2 = buffer.readUInt8(2);\n\n        // UTF-8\n        if (b0 === UTF8_BOM[0] && b1 === UTF8_BOM[1] && b2 === UTF8_BOM[2]) {\n            return UTF8_with_bom;\n        }\n\n        return undefined;\n    }\n\n    protected async guessEncodingByBuffer(buffer: Buffer): Promise<string | undefined> {\n        const jschardet = await import('jschardet');\n\n        const guessed = jschardet.detect(buffer.slice(0, AUTO_ENCODING_GUESS_MAX_BYTES)); // ensure to limit buffer for guessing due to https://github.com/aadsm/jschardet/issues/53\n        if (!guessed || !guessed.encoding) {\n            return undefined;\n        }\n\n        const enc = guessed.encoding.toLowerCase();\n        if (0 <= IGNORE_ENCODINGS.indexOf(enc)) {\n            return undefined; // see comment above why we ignore some encodings\n        }\n\n        return this.toIconvEncoding(guessed.encoding);\n    }\n\n    decodeStream(source: BinaryBufferReadableStream, options: DecodeStreamOptions): Promise<DecodeStreamResult> {\n        const minBytesRequiredForDetection = options.minBytesRequiredForDetection ?? options.guessEncoding ? AUTO_ENCODING_GUESS_MIN_BYTES : NO_ENCODING_GUESS_MIN_BYTES;\n\n        return new Promise<DecodeStreamResult>((resolve, reject) => {\n            const target = newWriteableStream<string>(strings => strings.join(''));\n\n            const bufferedChunks: BinaryBuffer[] = [];\n            let bytesBuffered = 0;\n\n            let decoder: iconv.DecoderStream | undefined = undefined;\n\n            const createDecoder = async () => {\n                try {\n\n                    // detect encoding from buffer\n                    const detected = await this.detectEncoding(BinaryBuffer.concat(bufferedChunks), options.guessEncoding);\n\n                    // ensure to respect overwrite of encoding\n                    detected.encoding = await options.overwriteEncoding(detected.encoding);\n\n                    // decode and write buffered content\n                    decoder = iconv.getDecoder(this.toIconvEncoding(detected.encoding));\n                    const decoded = decoder.write(Buffer.from(BinaryBuffer.concat(bufferedChunks).buffer));\n                    target.write(decoded);\n\n                    bufferedChunks.length = 0;\n                    bytesBuffered = 0;\n\n                    // signal to the outside our detected encoding and final decoder stream\n                    resolve({\n                        stream: target,\n                        detected\n                    });\n                } catch (error) {\n                    reject(error);\n                }\n            };\n\n            // Stream error: forward to target\n            source.on('error', error => target.error(error));\n\n            // Stream data\n            source.on('data', async chunk => {\n\n                // if the decoder is ready, we just write directly\n                if (decoder) {\n                    target.write(decoder.write(Buffer.from(chunk.buffer)));\n                } else {\n                    bufferedChunks.push(chunk);\n                    bytesBuffered += chunk.byteLength;\n\n                    // buffered enough data for encoding detection, create stream\n                    if (bytesBuffered >= minBytesRequiredForDetection) {\n\n                        // pause stream here until the decoder is ready\n                        source.pause();\n\n                        await createDecoder();\n\n                        // resume stream now that decoder is ready but\n                        // outside of this stack to reduce recursion\n                        setTimeout(() => source.resume());\n                    }\n                }\n            });\n\n            // Stream end\n            source.on('end', async () => {\n\n                // we were still waiting for data to do the encoding\n                // detection. thus, wrap up starting the stream even\n                // without all the data to get things going\n                if (!decoder) {\n                    await createDecoder();\n                }\n\n                // end the target with the remainders of the decoder\n                target.end(decoder?.end());\n            });\n        });\n    }\n\n    encodeStream(value: string | Readable<string>, options?: ResourceEncoding): Promise<BinaryBuffer | BinaryBufferReadable>\n    encodeStream(value?: string | Readable<string>, options?: ResourceEncoding): Promise<BinaryBuffer | BinaryBufferReadable | undefined>;\n    async encodeStream(value: string | Readable<string> | undefined, options?: ResourceEncoding): Promise<BinaryBuffer | BinaryBufferReadable | undefined> {\n        let encoding = options?.encoding;\n        const addBOM = options?.hasBOM;\n        encoding = this.toIconvEncoding(encoding);\n        if (encoding === UTF8 && !addBOM) {\n            return value === undefined ? undefined : typeof value === 'string' ?\n                BinaryBuffer.fromString(value) : BinaryBufferReadable.fromReadable(value);\n        }\n\n        value = value || '';\n        const readable = typeof value === 'string' ? Readable.fromString(value) : value;\n        const encoder = iconv.getEncoder(encoding, { addBOM });\n\n        let bytesWritten = false;\n        let done = false;\n\n        return {\n            read(): BinaryBuffer | null {\n                if (done) {\n                    return null;\n                }\n\n                const chunk = readable.read();\n                if (typeof chunk !== 'string') {\n                    done = true;\n\n                    // If we are instructed to add a BOM but we detect that no\n                    // bytes have been written, we must ensure to return the BOM\n                    // ourselves so that we comply with the contract.\n                    if (!bytesWritten && addBOM) {\n                        switch (encoding) {\n                            case UTF8:\n                            case UTF8_with_bom:\n                                return BinaryBuffer.wrap(Uint8Array.from(UTF8_BOM));\n                            case UTF16be:\n                                return BinaryBuffer.wrap(Uint8Array.from(UTF16be_BOM));\n                            case UTF16le:\n                                return BinaryBuffer.wrap(Uint8Array.from(UTF16le_BOM));\n                        }\n                    }\n\n                    const leftovers = encoder.end();\n                    if (leftovers && leftovers.length > 0) {\n                        bytesWritten = true;\n                        return BinaryBuffer.wrap(leftovers);\n                    }\n\n                    return null;\n                }\n\n                bytesWritten = true;\n\n                return BinaryBuffer.wrap(encoder.write(chunk));\n            }\n        };\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport const UTF8 = 'utf8';\nexport const UTF8_with_bom = 'utf8bom';\nexport const UTF16be = 'utf16be';\nexport const UTF16le = 'utf16le';\n\nexport const UTF16be_BOM = [0xFE, 0xFF];\nexport const UTF16le_BOM = [0xFF, 0xFE];\nexport const UTF8_BOM = [0xEF, 0xBB, 0xBF];\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport const envVariablesPath = '/services/envs';\n\nexport const EnvVariablesServer = Symbol('EnvVariablesServer');\nexport interface EnvVariablesServer {\n    getExecPath(): Promise<string>\n    getVariables(): Promise<EnvVariable[]>\n    getValue(key: string): Promise<EnvVariable | undefined>\n    getConfigDirUri(): Promise<string>;\n    /**\n     * Resolves to a URI representing the current user's home directory.\n     */\n    getHomeDirUri(): Promise<string>;\n    /**\n     * Resolves to an array of URIs pointing to the available drives on the filesystem.\n     */\n    getDrives(): Promise<string[]>;\n}\n\nexport interface EnvVariable {\n    readonly name: string\n    readonly value: string | undefined\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './env-variables-protocol';\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { Disposable, DisposableGroup, DisposableCollection } from './disposable';\nimport { MaybePromise } from './types';\n\n/**\n * Represents a typed event.\n */\nexport interface Event<T> {\n\n    /**\n     *\n     * @param listener The listener function will be call when the event happens.\n     * @param thisArgs The 'this' which will be used when calling the event listener.\n     * @param disposables An array to which a {{IDisposable}} will be added.\n     * @return a disposable to remove the listener again.\n     */\n    (listener: (e: T) => any, thisArgs?: any, disposables?: DisposableGroup): Disposable;\n}\n\nexport namespace Event {\n    const _disposable = { dispose(): void { } };\n    export function getMaxListeners(event: Event<unknown>): number {\n        const { maxListeners } = event as any;\n        return typeof maxListeners === 'number' ? maxListeners : 0;\n    }\n    export function setMaxListeners<N extends number>(event: Event<unknown>, maxListeners: N): N {\n        if (typeof (event as any).maxListeners === 'number') {\n            return (event as any).maxListeners = maxListeners;\n        }\n        return maxListeners;\n    }\n    export function addMaxListeners(event: Event<unknown>, add: number): number {\n        if (typeof (event as any).maxListeners === 'number') {\n            return (event as any).maxListeners += add;\n        }\n        return add;\n    }\n    export const None: Event<any> = Object.assign(function (): { dispose(): void } { return _disposable; }, {\n        get maxListeners(): number { return 0; },\n        set maxListeners(maxListeners: number) { }\n    });\n\n    /**\n     * Given an event, returns another event which only fires once.\n     */\n    export function once<T>(event: Event<T>): Event<T> {\n        return (listener, thisArgs = undefined, disposables?) => {\n            // we need this, in case the event fires during the listener call\n            let didFire = false;\n            let result: Disposable | undefined = undefined;\n            result = event(e => {\n                if (didFire) {\n                    return;\n                } else if (result) {\n                    result.dispose();\n                } else {\n                    didFire = true;\n                }\n\n                return listener.call(thisArgs, e);\n            }, undefined, disposables);\n\n            if (didFire) {\n                result.dispose();\n            }\n\n            return result;\n        };\n    }\n\n    export function toPromise<T>(event: Event<T>): Promise<T> {\n        return new Promise(resolve => once(event)(resolve));\n    }\n\n    /**\n     * Given an event and a `map` function, returns another event which maps each element\n     * through the mapping function.\n     */\n    export function map<I, O>(event: Event<I>, mapFunc: (i: I) => O): Event<O> {\n        return Object.assign((listener: (e: O) => any, thisArgs?: any, disposables?: Disposable[]) => event(i => listener.call(thisArgs, mapFunc(i)), undefined, disposables), {\n            get maxListeners(): number { return 0; },\n            set maxListeners(maxListeners: number) { }\n        });\n    }\n\n    /**\n     * Given a collection of events, returns a single event which emits whenever any of the provided events emit.\n     */\n    export function any<T>(...events: Event<T>[]): Event<T>;\n    export function any(...events: Event<any>[]): Event<void>;\n    export function any<T>(...events: Event<T>[]): Event<T> {\n        return (listener, thisArgs = undefined, disposables?: Disposable[]) =>\n            new DisposableCollection(...events.map(event => event(e => listener.call(thisArgs, e), undefined, disposables)));\n    }\n}\n\ntype Callback = (...args: any[]) => any;\nclass CallbackList implements Iterable<Callback> {\n\n    private _callbacks: Function[] | undefined;\n    private _contexts: any[] | undefined;\n\n    get length(): number {\n        return this._callbacks && this._callbacks.length || 0;\n    }\n\n    public add(callback: Function, context: any = undefined, bucket?: Disposable[]): void {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts!.push(context);\n\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n\n    public remove(callback: Function, context: any = undefined): void {\n        if (!this._callbacks) {\n            return;\n        }\n\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0; i < this._callbacks.length; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts![i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts!.splice(i, 1);\n                    return;\n                } else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n\n    // tslint:disable-next-line:typedef\n    public [Symbol.iterator]() {\n        if (!this._callbacks) {\n            return [][Symbol.iterator]();\n        }\n        const callbacks = this._callbacks.slice(0);\n        const contexts = this._contexts!.slice(0);\n\n        return callbacks.map((callback, i) =>\n            (...args: any[]) => callback.apply(contexts[i], args)\n        )[Symbol.iterator]();\n    }\n\n    public invoke(...args: any[]): any[] {\n        const ret: any[] = [];\n        for (const callback of this) {\n            try {\n                ret.push(callback(...args));\n            } catch (e) {\n                console.error(e);\n            }\n        }\n        return ret;\n    }\n\n    public isEmpty(): boolean {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n\n    public dispose(): void {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\n\nexport interface EmitterOptions {\n    onFirstListenerAdd?: Function;\n    onLastListenerRemove?: Function;\n}\n\nexport class Emitter<T = any> {\n\n    private static LEAK_WARNING_THRESHHOLD = 175;\n\n    private static _noop = function (): void { };\n\n    private _event: Event<T>;\n    protected _callbacks: CallbackList | undefined;\n    private _disposed = false;\n\n    private _leakingStacks: Map<string, number> | undefined;\n    private _leakWarnCountdown = 0;\n\n    constructor(\n        private _options?: EmitterOptions\n    ) { }\n\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event(): Event<T> {\n        if (!this._event) {\n            this._event = Object.assign((listener: (e: T) => any, thisArgs?: any, disposables?: DisposableGroup) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const removeMaxListenersCheck = this.checkMaxListeners(Event.getMaxListeners(this._event));\n\n                const result: Disposable = {\n                    dispose: () => {\n                        if (removeMaxListenersCheck) {\n                            removeMaxListenersCheck();\n                        }\n                        result.dispose = Emitter._noop;\n                        if (!this._disposed) {\n                            this._callbacks!.remove(listener, thisArgs);\n                            result.dispose = Emitter._noop;\n                            if (this._options && this._options.onLastListenerRemove && this._callbacks!.isEmpty()) {\n                                this._options.onLastListenerRemove(this);\n                            }\n                        }\n                    }\n                };\n                if (DisposableGroup.canPush(disposables)) {\n                    disposables.push(result);\n                } else if (DisposableGroup.canAdd(disposables)) {\n                    disposables.add(result);\n                }\n\n                return result;\n            }, {\n                maxListeners: Emitter.LEAK_WARNING_THRESHHOLD\n            });\n        }\n        return this._event;\n    }\n\n    protected checkMaxListeners(maxListeners: number): (() => void) | undefined {\n        if (maxListeners === 0 || !this._callbacks) {\n            return undefined;\n        }\n        const listenerCount = this._callbacks.length;\n        if (listenerCount <= maxListeners) {\n            return undefined;\n        }\n\n        const popStack = this.pushLeakingStack();\n\n        this._leakWarnCountdown -= 1;\n        if (this._leakWarnCountdown <= 0) {\n            // only warn on first exceed and then every time the limit\n            // is exceeded by 50% again\n            this._leakWarnCountdown = maxListeners * 0.5;\n\n            let topStack: string;\n            let topCount = 0;\n            this._leakingStacks!.forEach((stackCount, stack) => {\n                if (!topStack || topCount < stackCount) {\n                    topStack = stack;\n                    topCount = stackCount;\n                }\n            });\n\n            // eslint-disable-next-line max-len\n            console.warn(`Possible Emitter memory leak detected. ${listenerCount} listeners added. Use event.maxListeners to increase the limit (${maxListeners}). MOST frequent listener (${topCount}):`);\n            console.warn(topStack!);\n        }\n\n        return popStack;\n    }\n\n    protected pushLeakingStack(): () => void {\n        if (!this._leakingStacks) {\n            this._leakingStacks = new Map();\n        }\n        const stack = new Error().stack!.split('\\n').slice(3).join('\\n');\n        const count = (this._leakingStacks.get(stack) || 0);\n        this._leakingStacks.set(stack, count + 1);\n        return () => this.popLeakingStack(stack);\n    }\n\n    protected popLeakingStack(stack: string): void {\n        if (!this._leakingStacks) {\n            return;\n        }\n        const count = (this._leakingStacks.get(stack) || 0);\n        this._leakingStacks.set(stack, count - 1);\n    }\n\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event: T): any {\n        if (this._callbacks) {\n            return this._callbacks.invoke(event);\n        }\n    }\n\n    /**\n     * Process each listener one by one.\n     * Return `false` to stop iterating over the listeners, `true` to continue.\n     */\n    async sequence(processor: (listener: (e: T) => any) => MaybePromise<boolean>): Promise<void> {\n        if (this._callbacks) {\n            for (const listener of this._callbacks) {\n                if (!await processor(listener)) {\n                    break;\n                }\n            }\n        }\n    }\n\n    dispose(): void {\n        if (this._leakingStacks) {\n            this._leakingStacks.clear();\n            this._leakingStacks = undefined;\n        }\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n        this._disposed = true;\n    }\n}\n\nexport type WaitUntilData<T> = Omit<T, 'waitUntil' | 'token'>;\n\nexport interface WaitUntilEvent {\n    /**\n     * A cancellation token.\n     */\n    token: CancellationToken;\n    /**\n     * Allows to pause the event loop until the provided thenable resolved.\n     *\n     * *Note:* It can only be called during event dispatch and not in an asynchronous manner\n     *\n     * @param thenable A thenable that delays execution.\n     */\n    waitUntil(thenable: Promise<any>): void;\n}\nexport namespace WaitUntilEvent {\n    /**\n     * Fire all listeners in the same tick.\n     *\n     * Use `AsyncEmitter.fire` to fire listeners async one after another.\n     */\n    export async function fire<T extends WaitUntilEvent>(\n        emitter: Emitter<T>,\n        event: WaitUntilData<T>,\n        timeout?: number,\n        token = CancellationToken.None\n    ): Promise<void> {\n        const waitables: Promise<void>[] = [];\n        const asyncEvent = Object.assign(event, {\n            token,\n            waitUntil: (thenable: Promise<any>) => {\n                if (Object.isFrozen(waitables)) {\n                    throw new Error('waitUntil cannot be called asynchronously.');\n                }\n                waitables.push(thenable);\n            }\n        }) as T;\n        try {\n            emitter.fire(asyncEvent);\n            // Asynchronous calls to `waitUntil` should fail.\n            Object.freeze(waitables);\n        } finally {\n            delete (asyncEvent as any)['waitUntil'];\n        }\n        if (!waitables.length) {\n            return;\n        }\n        if (timeout !== undefined) {\n            await Promise.race([Promise.all(waitables), new Promise(resolve => setTimeout(resolve, timeout))]);\n        } else {\n            await Promise.all(waitables);\n        }\n    }\n}\n\nimport { CancellationToken } from './cancellation';\n\nexport class AsyncEmitter<T extends WaitUntilEvent> extends Emitter<T> {\n\n    protected deliveryQueue: Promise<void> | undefined;\n\n    /**\n     * Fire listeners async one after another.\n     */\n    override fire(event: WaitUntilData<T>, token: CancellationToken = CancellationToken.None,\n        promiseJoin?: (p: Promise<any>, listener: Function) => Promise<any>): Promise<void> {\n        const callbacks = this._callbacks;\n        if (!callbacks) {\n            return Promise.resolve();\n        }\n        const listeners = [...callbacks];\n        if (this.deliveryQueue) {\n            return this.deliveryQueue = this.deliveryQueue.then(() => this.deliver(listeners, event, token, promiseJoin));\n        }\n        return this.deliveryQueue = this.deliver(listeners, event, token, promiseJoin);\n    }\n\n    protected async deliver(listeners: Callback[], event: WaitUntilData<T>, token: CancellationToken,\n        promiseJoin?: (p: Promise<any>, listener: Function) => Promise<any>): Promise<void> {\n        for (const listener of listeners) {\n            if (token.isCancellationRequested) {\n                return;\n            }\n            const waitables: Promise<void>[] = [];\n            const asyncEvent = Object.assign(event, {\n                token,\n                waitUntil: (thenable: Promise<any>) => {\n                    if (Object.isFrozen(waitables)) {\n                        throw new Error('waitUntil cannot be called asynchronously.');\n                    }\n                    if (promiseJoin) {\n                        thenable = promiseJoin(thenable, listener);\n                    }\n                    waitables.push(thenable);\n                }\n            }) as T;\n            try {\n                listener(event);\n                // Asynchronous calls to `waitUntil` should fail.\n                Object.freeze(waitables);\n            } catch (e) {\n                console.error(e);\n            } finally {\n                delete (asyncEvent as any)['waitUntil'];\n            }\n            if (!waitables.length) {\n                continue;\n            }\n            try {\n                await Promise.all(waitables);\n            } catch (e) {\n                console.error(e);\n            }\n        }\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport type FrontendApplicationState =\n    'init'\n    | 'started_contributions'\n    | 'attached_shell'\n    | 'initialized_layout'\n    | 'ready'\n    | 'closing_window';\n\nexport enum StopReason {\n    /**\n     * Closing the window with no prospect of restart.\n     */\n    Close,\n    /**\n     * Reload without closing the window.\n     */\n    Reload,\n    /**\n     * Reload that includes closing the window.\n     */\n    Restart,\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n// copied from https://github.com/Microsoft/vscode/blob/bf7ac9201e7a7d01741d4e6e64b5dc9f3197d97b/src/vs/base/common/glob.ts\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n'use strict';\n\nimport * as strings from './strings';\nimport * as paths from './paths';\nimport { CharCode } from './char-code';\n\n/* eslint-disable @typescript-eslint/no-shadow, no-null/no-null */\nexport interface IExpression {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [pattern: string]: boolean | SiblingClause | any;\n}\n\nexport interface IRelativePattern {\n    base: string;\n    pattern: string;\n    pathToRelative(from: string, to: string): string;\n}\n\nexport function getEmptyExpression(): IExpression {\n    return Object.create(null);\n}\n\nexport interface SiblingClause {\n    when: string;\n}\n\nconst GLOBSTAR = '**';\nconst GLOB_SPLIT = '/';\nconst PATH_REGEX = '[/\\\\\\\\]';        // any slash or backslash\nconst NO_PATH_REGEX = '[^/\\\\\\\\]';    // any non-slash and non-backslash\nconst ALL_FORWARD_SLASHES = /\\//g;\n\nfunction starsToRegExp(starCount: number): string {\n    switch (starCount) {\n        case 0:\n            return '';\n        case 1:\n            return `${NO_PATH_REGEX}*?`; // 1 star matches any number of characters except path separator (/ and \\) - non greedy (?)\n        default:\n            // Matches:  (Path Sep OR Path Val followed by Path Sep OR Path Sep followed by Path Val) 0-many times\n            // Group is non capturing because we don't need to capture at all (?:...)\n            // Overall we use non-greedy matching because it could be that we match too much\n            return `(?:${PATH_REGEX}|${NO_PATH_REGEX}+${PATH_REGEX}|${PATH_REGEX}${NO_PATH_REGEX}+)*?`;\n    }\n}\n\nexport function splitGlobAware(pattern: string, splitChar: string): string[] {\n    if (!pattern) {\n        return [];\n    }\n\n    const segments: string[] = [];\n\n    let inBraces = false;\n    let inBrackets = false;\n\n    let char: string;\n    let curVal = '';\n    for (let i = 0; i < pattern.length; i++) {\n        char = pattern[i];\n\n        switch (char) {\n            case splitChar:\n                if (!inBraces && !inBrackets) {\n                    segments.push(curVal);\n                    curVal = '';\n\n                    continue;\n                }\n                break;\n            case '{':\n                inBraces = true;\n                break;\n            case '}':\n                inBraces = false;\n                break;\n            case '[':\n                inBrackets = true;\n                break;\n            case ']':\n                inBrackets = false;\n                break;\n        }\n\n        curVal += char;\n    }\n\n    // Tail\n    if (curVal) {\n        segments.push(curVal);\n    }\n\n    return segments;\n}\n\nfunction parseRegExp(pattern: string): string {\n    if (!pattern) {\n        return '';\n    }\n\n    let regEx = '';\n\n    // Split up into segments for each slash found\n    // eslint-disable-next-line prefer-const\n    let segments = splitGlobAware(pattern, GLOB_SPLIT);\n\n    // Special case where we only have globstars\n    if (segments.every(s => s === GLOBSTAR)) {\n        regEx = '.*';\n    }\n\n    // Build regex over segments\n    // tslint:disable-next-line:one-line\n    else {\n        let previousSegmentWasGlobStar = false;\n        segments.forEach((segment, index) => {\n\n            // Globstar is special\n            if (segment === GLOBSTAR) {\n\n                // if we have more than one globstar after another, just ignore it\n                if (!previousSegmentWasGlobStar) {\n                    regEx += starsToRegExp(2);\n                    previousSegmentWasGlobStar = true;\n                }\n\n                return;\n            }\n\n            // States\n            let inBraces = false;\n            let braceVal = '';\n\n            let inBrackets = false;\n            let bracketVal = '';\n\n            let char: string;\n            for (let i = 0; i < segment.length; i++) {\n                char = segment[i];\n\n                // Support brace expansion\n                if (char !== '}' && inBraces) {\n                    braceVal += char;\n                    continue;\n                }\n\n                // Support brackets\n                if (inBrackets && (char !== ']' || !bracketVal) /* ] is literally only allowed as first character in brackets to match it */) {\n                    let res: string;\n\n                    // range operator\n                    if (char === '-') {\n                        res = char;\n                    }\n\n                    // negation operator (only valid on first index in bracket)\n                    // tslint:disable-next-line:one-line\n                    else if ((char === '^' || char === '!') && !bracketVal) {\n                        res = '^';\n                    }\n\n                    // glob split matching is not allowed within character ranges\n                    // see http://man7.org/linux/man-pages/man7/glob.7.html\n                    // tslint:disable-next-line:one-line\n                    else if (char === GLOB_SPLIT) {\n                        res = '';\n                    }\n\n                    // anything else gets escaped\n                    // tslint:disable-next-line:one-line\n                    else {\n                        res = strings.escapeRegExpCharacters(char);\n                    }\n\n                    bracketVal += res;\n                    continue;\n                }\n\n                switch (char) {\n                    case '{':\n                        inBraces = true;\n                        continue;\n\n                    case '[':\n                        inBrackets = true;\n                        continue;\n\n                    case '}':\n                        // eslint-disable-next-line prefer-const\n                        let choices = splitGlobAware(braceVal, ',');\n\n                        // Converts {foo,bar} => [foo|bar]\n                        // eslint-disable-next-line prefer-const\n                        let braceRegExp = `(?:${choices.map(c => parseRegExp(c)).join('|')})`;\n\n                        regEx += braceRegExp;\n\n                        inBraces = false;\n                        braceVal = '';\n\n                        break;\n\n                    case ']':\n                        regEx += ('[' + bracketVal + ']');\n\n                        inBrackets = false;\n                        bracketVal = '';\n\n                        break;\n\n                    case '?':\n                        regEx += NO_PATH_REGEX; // 1 ? matches any single character except path separator (/ and \\)\n                        continue;\n\n                    case '*':\n                        regEx += starsToRegExp(1);\n                        continue;\n\n                    default:\n                        regEx += strings.escapeRegExpCharacters(char);\n                }\n            }\n\n            // Tail: Add the slash we had split on if there is more to come and the remaining pattern is not a globstar\n            // For example if pattern: some/**/*.js we want the \"/\" after some to be included in the RegEx to prevent\n            // a folder called \"something\" to match as well.\n            // However, if pattern: some/**, we tolerate that we also match on \"something\" because our globstar behavior\n            // is to match 0-N segments.\n            if (index < segments.length - 1 && (segments[index + 1] !== GLOBSTAR || index + 2 < segments.length)) {\n                regEx += PATH_REGEX;\n            }\n\n            // reset state\n            previousSegmentWasGlobStar = false;\n        });\n    }\n\n    return regEx;\n}\n\n// regexes to check for trivial glob patterns that just check for String#endsWith\nconst T1 = /^\\*\\*\\/\\*\\.[\\w\\.-]+$/;                                        // **/*.something\nconst T2 = /^\\*\\*\\/([\\w\\.-]+)\\/?$/;                                            // **/something\nconst T3 = /^{\\*\\*\\/[\\*\\.]?[\\w\\.-]+\\/?(,\\*\\*\\/[\\*\\.]?[\\w\\.-]+\\/?)*}$/;     // {**/*.something,**/*.else} or {**/package.json,**/project.json}\nconst T3_2 = /^{\\*\\*\\/[\\*\\.]?[\\w\\.-]+(\\/(\\*\\*)?)?(,\\*\\*\\/[\\*\\.]?[\\w\\.-]+(\\/(\\*\\*)?)?)*}$/;     // Like T3, with optional trailing /**\nconst T4 = /^\\*\\*((\\/[\\w\\.-]+)+)\\/?$/;                                        // **/something/else\nconst T5 = /^([\\w\\.-]+(\\/[\\w\\.-]+)*)\\/?$/;                                    // something/else\n\nexport type ParsedPattern = (path: string, basename?: string) => boolean;\n\n// The ParsedExpression returns a Promise iff hasSibling returns a Promise.\n// eslint-disable-next-line max-len\nexport type ParsedExpression = (path: string, basename?: string, hasSibling?: (name: string) => boolean | Promise<boolean>) => string | Promise<string> /* the matching pattern */;\n\nexport interface IGlobOptions {\n    /**\n     * Simplify patterns for use as exclusion filters during tree traversal to skip entire subtrees. Cannot be used outside of a tree traversal.\n     */\n    trimForExclusions?: boolean;\n}\n\ninterface ParsedStringPattern {\n    (path: string, basename: string): string | Promise<string> /* the matching pattern */;\n    basenames?: string[];\n    patterns?: string[];\n    allBasenames?: string[];\n    allPaths?: string[];\n}\ninterface ParsedExpressionPattern {\n    (path: string, basename: string, name: string, hasSibling: (name: string) => boolean | Promise<boolean>): string | Promise<string> /* the matching pattern */;\n    requiresSiblings?: boolean;\n    allBasenames?: string[];\n    allPaths?: string[];\n}\n\nconst CACHE = new Map<string, ParsedStringPattern>();  // new LRUCache<string, ParsedStringPattern>(10000); // bounded to 10000 elements\n\nconst FALSE = function (): boolean {\n    return false;\n};\n\nconst NULL = function (): string {\n    return null!;\n};\n\nfunction parsePattern(arg1: string | IRelativePattern, options: IGlobOptions): ParsedStringPattern {\n    if (!arg1) {\n        return NULL;\n    }\n\n    // Handle IRelativePattern\n    let pattern: string;\n    if (typeof arg1 !== 'string') {\n        pattern = arg1.pattern;\n    } else {\n        pattern = arg1;\n    }\n\n    // Whitespace trimming\n    pattern = pattern.trim();\n\n    // Check cache\n    const patternKey = `${pattern}_${!!options.trimForExclusions}`;\n    let parsedPattern = CACHE.get(patternKey);\n    if (parsedPattern) {\n        return wrapRelativePattern(parsedPattern, arg1);\n    }\n\n    // Check for Trivias\n    let match: RegExpExecArray;\n    if (T1.test(pattern)) { // common pattern: **/*.txt just need endsWith check\n        const base = pattern.substring(4); // '**/*'.length === 4\n        parsedPattern = function (path, basename): string {\n            return path && strings.endsWith(path, base) ? pattern : null!;\n        };\n    } else if (match = T2.exec(trimForExclusions(pattern, options))!) { // common pattern: **/some.txt just need basename check\n        parsedPattern = trivia2(match[1], pattern);\n    } else if ((options.trimForExclusions ? T3_2 : T3).test(pattern)) { // repetition of common patterns (see above) {**/*.txt,**/*.png}\n        parsedPattern = trivia3(pattern, options);\n    } else if (match = T4.exec(trimForExclusions(pattern, options))!) { // common pattern: **/something/else just need endsWith check\n        parsedPattern = trivia4and5(match[1].substring(1), pattern, true);\n    } else if (match = T5.exec(trimForExclusions(pattern, options))!) { // common pattern: something/else just need equals check\n        parsedPattern = trivia4and5(match[1], pattern, false);\n    }\n\n    // Otherwise convert to pattern\n    // tslint:disable-next-line:one-line\n    else {\n        parsedPattern = toRegExp(pattern);\n    }\n\n    // Cache\n    CACHE.set(patternKey, parsedPattern);\n\n    return wrapRelativePattern(parsedPattern, arg1);\n}\n\nfunction wrapRelativePattern(parsedPattern: ParsedStringPattern, arg2: string | IRelativePattern): ParsedStringPattern {\n    if (typeof arg2 === 'string') {\n        return parsedPattern;\n    }\n\n    return function (path, basename): string | Promise<string> {\n        if (!paths.isEqualOrParent(path, arg2.base)) {\n            return null!;\n        }\n\n        return parsedPattern(paths.normalize(arg2.pathToRelative(arg2.base, path)), basename);\n    };\n}\n\nfunction trimForExclusions(pattern: string, options: IGlobOptions): string {\n    return options.trimForExclusions && strings.endsWith(pattern, '/**') ? pattern.substring(0, pattern.length - 2) : pattern; // dropping **, tailing / is dropped later\n}\n\n// common pattern: **/some.txt just need basename check\nfunction trivia2(base: string, originalPattern: string): ParsedStringPattern {\n    const slashBase = `/${base}`;\n    const backslashBase = `\\\\${base}`;\n    const parsedPattern: ParsedStringPattern = function (path, basename): string {\n        if (!path) {\n            return null!;\n        }\n        if (basename) {\n            return basename === base ? originalPattern : null!;\n        }\n        return path === base || strings.endsWith(path, slashBase) || strings.endsWith(path, backslashBase) ? originalPattern : null!;\n    };\n    const basenames = [base];\n    parsedPattern.basenames = basenames;\n    parsedPattern.patterns = [originalPattern];\n    parsedPattern.allBasenames = basenames;\n    return parsedPattern;\n}\n\n// repetition of common patterns (see above) {**/*.txt,**/*.png}\nfunction trivia3(pattern: string, options: IGlobOptions): ParsedStringPattern {\n    const parsedPatterns = aggregateBasenameMatches(pattern.slice(1, -1).split(',')\n        .map(pattern => parsePattern(pattern, options))\n        .filter(pattern => pattern !== NULL), pattern);\n    const n = parsedPatterns.length;\n    if (!n) {\n        return NULL;\n    }\n    if (n === 1) {\n        return <ParsedStringPattern>parsedPatterns[0];\n    }\n    const parsedPattern: ParsedStringPattern = function (path: string, basename: string): string {\n        for (let i = 0, n = parsedPatterns.length; i < n; i++) {\n            if ((<ParsedStringPattern>parsedPatterns[i])(path, basename)) {\n                return pattern;\n            }\n        }\n        return null!;\n    };\n    const withBasenames = parsedPatterns.find(pattern => !!(<ParsedStringPattern>pattern).allBasenames);\n    // const withBasenames = arrays.first(parsedPatterns, pattern => !!(<ParsedStringPattern>pattern).allBasenames);\n    if (withBasenames) {\n        parsedPattern.allBasenames = (<ParsedStringPattern>withBasenames).allBasenames;\n    }\n    const allPaths = parsedPatterns.reduce((all, current) => current.allPaths ? all.concat(current.allPaths) : all, <string[]>[]);\n    if (allPaths.length) {\n        parsedPattern.allPaths = allPaths;\n    }\n    return parsedPattern;\n}\n\n// common patterns: **/something/else just need endsWith check, something/else just needs and equals check\nfunction trivia4and5(path: string, pattern: string, matchPathEnds: boolean): ParsedStringPattern {\n    const nativePath = paths.nativeSep !== paths.sep ? path.replace(ALL_FORWARD_SLASHES, paths.nativeSep) : path;\n    const nativePathEnd = paths.nativeSep + nativePath;\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    const parsedPattern: ParsedStringPattern = matchPathEnds ? function (path, basename): string {\n        return path && (path === nativePath || strings.endsWith(path, nativePathEnd)) ? pattern : null!;\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n    } : function (path, basename): string {\n        return path && path === nativePath ? pattern : null!;\n    };\n    parsedPattern.allPaths = [(matchPathEnds ? '*/' : './') + path];\n    return parsedPattern;\n}\n\nfunction toRegExp(pattern: string): ParsedStringPattern {\n    try {\n        const regExp = new RegExp(`^${parseRegExp(pattern)}$`);\n        return function (path: string, basename: string): string {\n            regExp.lastIndex = 0; // reset RegExp to its initial state to reuse it!\n            return path && regExp.test(path) ? pattern : null!;\n        };\n    } catch (error) {\n        return NULL;\n    }\n}\n\n/**\n * Simplified glob matching. Supports a subset of glob patterns:\n * - * matches anything inside a path segment\n * - ? matches 1 character inside a path segment\n * - ** matches anything including an empty path segment\n * - simple brace expansion ({js,ts} => js or ts)\n * - character ranges (using [...])\n */\nexport function match(pattern: string | IRelativePattern, path: string): boolean;\nexport function match(expression: IExpression, path: string, hasSibling?: (name: string) => boolean): string /* the matching pattern */;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function match(arg1: string | IExpression | IRelativePattern, path: string, hasSibling?: (name: string) => boolean): any {\n    if (!arg1 || !path) {\n        return false;\n    }\n\n    return parse(<IExpression>arg1)(path, undefined, hasSibling);\n}\n\n/**\n * Simplified glob matching. Supports a subset of glob patterns:\n * - * matches anything inside a path segment\n * - ? matches 1 character inside a path segment\n * - ** matches anything including an empty path segment\n * - simple brace expansion ({js,ts} => js or ts)\n * - character ranges (using [...])\n */\nexport function parse(pattern: string | IRelativePattern, options?: IGlobOptions): ParsedPattern;\nexport function parse(expression: IExpression, options?: IGlobOptions): ParsedExpression;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function parse(arg1: string | IExpression | IRelativePattern, options: IGlobOptions = {}): any {\n    if (!arg1) {\n        return FALSE;\n    }\n\n    // Glob with String\n    if (typeof arg1 === 'string' || isRelativePattern(arg1)) {\n        const parsedPattern = parsePattern(arg1 as string | IRelativePattern, options);\n        if (parsedPattern === NULL) {\n            return FALSE;\n        }\n        const resultPattern = function (path: string, basename: string): boolean {\n            return !!parsedPattern(path, basename);\n        };\n        if (parsedPattern.allBasenames) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (<ParsedStringPattern><any>resultPattern).allBasenames = parsedPattern.allBasenames;\n        }\n        if (parsedPattern.allPaths) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            (<ParsedStringPattern><any>resultPattern).allPaths = parsedPattern.allPaths;\n        }\n        return resultPattern;\n    }\n\n    // Glob with Expression\n    return parsedExpression(<IExpression>arg1, options);\n}\n\nexport function hasSiblingPromiseFn(siblingsFn?: () => Promise<string[]>): ((name: string) => Promise<boolean>) | undefined {\n    if (!siblingsFn) {\n        return undefined;\n    }\n\n    let siblings: Promise<Record<string, true>>;\n    return (name: string) => {\n        if (!siblings) {\n            siblings = (siblingsFn() || Promise.resolve([]))\n                .then(list => list ? listToMap(list) : {});\n        }\n        return siblings.then(map => !!map[name]);\n    };\n}\n\nexport function hasSiblingFn(siblingsFn?: () => string[]): ((name: string) => boolean) | undefined {\n    if (!siblingsFn) {\n        return undefined;\n    }\n\n    let siblings: Record<string, true>;\n    return (name: string) => {\n        if (!siblings) {\n            const list = siblingsFn();\n            siblings = list ? listToMap(list) : {};\n        }\n        return !!siblings[name];\n    };\n}\n\nfunction listToMap(list: string[]): Record<string, true> {\n    const map: Record<string, true> = {};\n    for (const key of list) {\n        map[key] = true;\n    }\n    return map;\n}\n\nexport function isRelativePattern(obj: unknown): obj is IRelativePattern {\n    const rp = obj as IRelativePattern;\n\n    return !!rp && typeof rp === 'object' && typeof rp.base === 'string' && typeof rp.pattern === 'string' && typeof rp.pathToRelative === 'function';\n}\n\n/**\n * Same as `parse`, but the ParsedExpression is guaranteed to return a Promise\n */\nexport function parseToAsync(expression: IExpression, options?: IGlobOptions): ParsedExpression {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    const parsedExpression = parse(expression, options);\n    return (path: string, basename?: string, hasSibling?: (name: string) => boolean | Promise<boolean>): string | Promise<string> => {\n        const result = parsedExpression(path, basename, hasSibling);\n        return result instanceof Promise ? result : Promise.resolve(result);\n    };\n}\n\nexport function getBasenameTerms(patternOrExpression: ParsedPattern | ParsedExpression): string[] {\n    return (<ParsedStringPattern>patternOrExpression).allBasenames || [];\n}\n\nexport function getPathTerms(patternOrExpression: ParsedPattern | ParsedExpression): string[] {\n    return (<ParsedStringPattern>patternOrExpression).allPaths || [];\n}\n\nfunction parsedExpression(expression: IExpression, options: IGlobOptions): ParsedExpression {\n    const parsedPatterns = aggregateBasenameMatches(Object.getOwnPropertyNames(expression)\n        .map(pattern => parseExpressionPattern(pattern, expression[pattern], options))\n        .filter(pattern => pattern !== NULL));\n\n    const n = parsedPatterns.length;\n    if (!n) {\n        return NULL;\n    }\n\n    if (!parsedPatterns.some(parsedPattern => (<ParsedExpressionPattern>parsedPattern).requiresSiblings!)) {\n        if (n === 1) {\n            return <ParsedStringPattern>parsedPatterns[0];\n        }\n\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        const resultExpression: ParsedStringPattern = function (path: string, basename: string): string | Promise<string> {\n            // eslint-disable-next-line @typescript-eslint/no-shadow\n            // tslint:disable-next-line:one-variable-per-declaration\n            for (let i = 0, n = parsedPatterns.length; i < n; i++) {\n                // Pattern matches path\n                const result = (<ParsedStringPattern>parsedPatterns[i])(path, basename);\n                if (result) {\n                    return result;\n                }\n            }\n\n            return null!;\n        };\n\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        const withBasenames = parsedPatterns.find(pattern => !!(<ParsedStringPattern>pattern).allBasenames);\n        if (withBasenames) {\n            resultExpression.allBasenames = (<ParsedStringPattern>withBasenames).allBasenames;\n        }\n\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        const allPaths = parsedPatterns.reduce((all, current) => current.allPaths ? all.concat(current.allPaths) : all, <string[]>[]);\n        if (allPaths.length) {\n            resultExpression.allPaths = allPaths;\n        }\n\n        return resultExpression;\n    }\n\n    const resultExpression: ParsedStringPattern = function (path: string, basename: string, hasSibling?: (name: string) => boolean | Promise<boolean>): string | Promise<string> {\n        let name: string = null!;\n\n        // eslint-disable-next-line @typescript-eslint/no-shadow\n        for (let i = 0, n = parsedPatterns.length; i < n; i++) {\n            // Pattern matches path\n            const parsedPattern = (<ParsedExpressionPattern>parsedPatterns[i]);\n            if (parsedPattern.requiresSiblings && hasSibling) {\n                if (!basename) {\n                    basename = paths.basename(path);\n                }\n                if (!name) {\n                    name = basename.substring(0, basename.length - paths.extname(path).length);\n                }\n            }\n            const result = parsedPattern(path, basename, name, hasSibling!);\n            if (result) {\n                return result;\n            }\n        }\n\n        return null!;\n    };\n\n    const withBasenames = parsedPatterns.find(pattern => !!(<ParsedStringPattern>pattern).allBasenames);\n    if (withBasenames) {\n        resultExpression.allBasenames = (<ParsedStringPattern>withBasenames).allBasenames;\n    }\n\n    const allPaths = parsedPatterns.reduce((all, current) => current.allPaths ? all.concat(current.allPaths) : all, <string[]>[]);\n    if (allPaths.length) {\n        resultExpression.allPaths = allPaths;\n    }\n\n    return resultExpression;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction parseExpressionPattern(pattern: string, value: any, options: IGlobOptions): (ParsedStringPattern | ParsedExpressionPattern) {\n    if (value === false) {\n        return NULL; // pattern is disabled\n    }\n\n    const parsedPattern = parsePattern(pattern, options);\n    if (parsedPattern === NULL) {\n        return NULL;\n    }\n\n    // Expression Pattern is <boolean>\n    if (typeof value === 'boolean') {\n        return parsedPattern;\n    }\n\n    // Expression Pattern is <SiblingClause>\n    if (value) {\n        const when = (<SiblingClause>value).when;\n        if (typeof when === 'string') {\n            const result: ParsedExpressionPattern = (path: string, basename: string, name: string, hasSibling: (name: string) => boolean | Promise<boolean>) => {\n                if (!hasSibling || !parsedPattern(path, basename)) {\n                    return null!;\n                }\n\n                const clausePattern = when.replace('$(basename)', name);\n                const matched = hasSibling(clausePattern);\n                return matched instanceof Promise ?\n                    matched.then(m => m ? pattern : null!) :\n                    matched ? pattern : null!;\n            };\n            result.requiresSiblings = true;\n            return result;\n        }\n    }\n\n    // Expression is Anything\n    return parsedPattern;\n}\n\nfunction aggregateBasenameMatches(parsedPatterns: (ParsedStringPattern | ParsedExpressionPattern)[], result?: string): (ParsedStringPattern | ParsedExpressionPattern)[] {\n    const basenamePatterns = parsedPatterns.filter(parsedPattern => !!(<ParsedStringPattern>parsedPattern).basenames);\n    if (basenamePatterns.length < 2) {\n        return parsedPatterns;\n    }\n\n    const basenames = basenamePatterns.reduce<string[]>((all, current) => all.concat((<ParsedStringPattern>current).basenames!), []);\n    let patterns: string[];\n    if (result) {\n        patterns = [];\n        // tslint:disable-next-line:one-variable-per-declaration\n        for (let i = 0, n = basenames.length; i < n; i++) {\n            patterns.push(result);\n        }\n    } else {\n        patterns = basenamePatterns.reduce((all, current) => all.concat((<ParsedStringPattern>current).patterns!), <string[]>[]);\n    }\n    const aggregate: ParsedStringPattern = function (path, basename): string {\n        if (!path) {\n            return null!;\n        }\n        if (!basename) {\n            let i: number;\n            for (i = path.length; i > 0; i--) {\n                const ch = path.charCodeAt(i - 1);\n                if (ch === CharCode.Slash || ch === CharCode.Backslash) {\n                    break;\n                }\n            }\n            basename = path.substring(i);\n        }\n        const index = basenames.indexOf(basename);\n        return index !== -1 ? patterns[index] : null!;\n    };\n    aggregate.basenames = basenames;\n    aggregate.patterns = patterns;\n    aggregate.allBasenames = basenames;\n\n    const aggregatedPatterns = parsedPatterns.filter(parsedPattern => !(<ParsedStringPattern>parsedPattern).basenames);\n    aggregatedPatterns.push(aggregate);\n    return aggregatedPatterns;\n}\n","// *****************************************************************************\n// Copyright (C) 2021 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport const localizationPath = '/services/i18n';\n\nexport const AsyncLocalizationProvider = Symbol('AsyncLocalizationProvider');\nexport interface AsyncLocalizationProvider {\n    getCurrentLanguage(): Promise<string>\n    setCurrentLanguage(languageId: string): Promise<void>\n    getAvailableLanguages(): Promise<LanguageInfo[]>\n    loadLocalization(languageId: string): Promise<Localization>\n}\n\nexport interface Localization extends LanguageInfo {\n    translations: { [key: string]: string };\n}\n\nexport interface LanguageInfo {\n    languageId: string;\n    languageName?: string;\n    languagePack?: boolean;\n    localizedLanguageName?: string;\n}\n\nexport type FormatType = string | number | boolean | undefined;\n\nexport namespace Localization {\n\n    const formatRegexp = /{([^}]+)}/g;\n\n    export function format(message: string, args: FormatType[]): string;\n    export function format(message: string, args: Record<string | number, FormatType>): string;\n    export function format(message: string, args: Record<string | number, FormatType> | FormatType[]): string {\n        return message.replace(formatRegexp, (match, group) => (args[group] ?? match) as string);\n    }\n\n    export function localize(localization: Localization | undefined, key: string, defaultValue: string, ...args: FormatType[]): string {\n        let value = defaultValue;\n        if (localization) {\n            const translation = localization.translations[key];\n            if (translation) {\n                value = normalize(translation);\n            }\n        }\n        return format(value, args);\n    }\n\n    /**\n     * This function normalizes values from VSCode's localizations, which often contain additional mnemonics (`&&`).\n     * The normalization removes the mnemonics from the input string.\n     *\n     * @param value Localization value coming from VSCode\n     * @returns A normalized localized value\n     */\n    export function normalize(value: string): string {\n        return value.replace(/&&/g, '');\n    }\n\n    export function transformKey(key: string): string {\n        let nlsKey = key;\n        const keySlashIndex = key.lastIndexOf('/');\n        if (keySlashIndex >= 0) {\n            nlsKey = key.substring(keySlashIndex + 1);\n        }\n        return nlsKey;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport { environment } from '@theia/application-package/lib/environment';\nexport * from './application-error';\nexport * from './cancellation';\nexport * from './command';\nexport * from './contribution-filter';\nexport * from './contribution-provider';\nexport * from './disposable';\nexport * from './event';\nexport * from './logger';\nexport * from './lsp-types';\nexport * from './menu';\nexport * from './message-rpc';\nexport * from './message-service';\nexport * from './message-service-protocol';\nexport * from './messaging';\nexport * from './nls';\nexport * from './numbers';\nexport * from './objects';\nexport * from './os';\nexport * from './path';\nexport * from './performance';\nexport * from './progress-service';\nexport * from './progress-service-protocol';\nexport * from './quick-pick-service';\nexport * from './reference';\nexport * from './resource';\nexport * from './selection';\nexport * from './selection-service';\nexport * from './strings';\nexport * from './telemetry';\nexport * from './types';\nexport { default as URI } from './uri';\nexport * from './uuid';\nexport * from './view-column';\nexport * from './version';\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { isObject } from './types';\n\n/**\n * A Keybinding binds a specific key sequence ({@link Keybinding#keybinding}) to trigger a command ({@link Keybinding#command}). A Keybinding optionally may\n * define a \"when clause\" ({@link Keybinding#when}) to specify in which context it becomes active.\n * @see KeyBindingRegistry\n */\nexport interface Keybinding {\n    /**\n     * Unique command identifier of the command to be triggered by this keybinding.\n     */\n    command: string;\n    /**\n     * The key sequence for the keybinding as defined in packages/keymaps/README.md.\n     */\n    keybinding: string;\n    /**\n     * The optional keybinding context where this binding belongs to.\n     * If not specified, then this keybinding context belongs to the NOOP\n     * keybinding context.\n     *\n     * @deprecated use `when` closure instead\n     */\n    context?: string;\n    /**\n     * An optional clause defining the condition when the keybinding is active, e.g. based on the current focus.\n     * See {@link https://code.visualstudio.com/docs/getstarted/keybindings#_when-clause-contexts} for more details.\n     */\n    when?: string;\n\n    /**\n     * Optional arguments that will be passed to the command when it gets triggered via this keybinding.\n     * Needs to be specified when the triggered command expects arguments to be passed to the command handler.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    args?: any;\n}\nexport namespace Keybinding {\n\n    /**\n     * Compares two keybindings for equality.\n     * Can optionally ignore the keybinding and/or args property in the comparison.\n     * @param a The first Keybinding in the comparison\n     * @param b The second Keybinding in the comparison\n     * @param ignoreKeybinding Ignore the 'keybinding' property in the comparison\n     * @param ignoreArgs Ignore the 'args' property in the comparison\n     */\n    export function equals(a: Keybinding, b: Keybinding, ignoreKeybinding: boolean = false, ignoreArgs: boolean = false): boolean {\n        if (a.command === b.command &&\n            (a.context || '') === (b.context || '') &&\n            (a.when || '') === (b.when || '') &&\n            (ignoreKeybinding || a.keybinding === b.keybinding) &&\n            (ignoreArgs || (a.args || '') === (b.args || ''))) {\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Returns a new object only containing properties which\n     * are described on the `Keybinding` API.\n     *\n     * @param binding the binding to create an API object for.\n     */\n    export function apiObjectify(binding: Keybinding | RawKeybinding): Keybinding {\n        return {\n            command: binding.command,\n            keybinding: retrieveKeybinding(binding),\n            context: binding.context,\n            when: binding.when,\n            args: binding.args\n        };\n    }\n\n    export function retrieveKeybinding(binding: Partial<Keybinding & RawKeybinding>): string {\n        return binding.keybinding ?? binding.key ?? '';\n    }\n\n    /**\n     * Returns with the string representation of the binding.\n     * Any additional properties which are not described on\n     * the `Keybinding` API will be ignored.\n     *\n     * @param binding the binding to stringify.\n     */\n    export function stringify(binding: Keybinding): string {\n        return JSON.stringify(apiObjectify(binding));\n    }\n\n    /* Determine whether object is a KeyBinding */\n    export function is(arg: unknown): arg is Keybinding {\n        return isObject(arg) && 'command' in arg && 'keybinding' in arg;\n    }\n\n    export function replaceKeybinding(keybindings: Keybinding[], oldKeybinding: Keybinding, newKeybinding: Keybinding): boolean {\n        const indexOld = keybindings.findIndex(keybinding => Keybinding.equals(keybinding, oldKeybinding, false, true));\n        if (indexOld >= 0) {\n            const indexNew = keybindings.findIndex(keybinding => Keybinding.equals(keybinding, newKeybinding, false, true));\n            if (indexNew >= 0 && indexNew !== indexOld) {\n                // if keybindings already contain the new keybinding, remove the old keybinding and update the new one\n                keybindings.splice(indexOld, 1);\n                keybindings[indexNew] = newKeybinding;\n            } else {\n                keybindings[indexOld] = newKeybinding;\n            }\n            return true;\n        }\n        return false;\n    }\n\n    export function addKeybinding(keybindings: Keybinding[], newKeybinding: Keybinding): void {\n        const index = keybindings.findIndex(keybinding => Keybinding.equals(keybinding, newKeybinding, false, true));\n        if (index >= 0) {\n            // if keybindings already contain the new keybinding, update it\n            keybindings[index] = newKeybinding;\n        } else {\n            keybindings.push(newKeybinding);\n        }\n    }\n}\n\n/**\n * @internal\n *\n * Optional representation of key sequence as found in `keymaps.json` file.\n * Use `keybinding` as the official representation.\n */\nexport interface RawKeybinding extends Omit<Keybinding, 'keybinding'> {\n    key: string;\n}\n\nexport namespace RawKeybinding {\n    export function is(candidate: unknown): candidate is RawKeybinding {\n        return isObject(candidate) && 'command' in candidate && 'key' in candidate;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport type { IKeyboardLayoutInfo, IKeyboardMapping } from 'native-keymap';\nimport { Event } from '../event';\n\nexport const keyboardPath = '/services/keyboard';\n\nexport const KeyboardLayoutProvider = Symbol('KeyboardLayoutProvider');\n\nexport interface KeyboardLayoutProvider {\n    getNativeLayout(): Promise<NativeKeyboardLayout>;\n}\n\nexport const KeyboardLayoutChangeNotifier = Symbol('KeyboardLayoutChangeNotifier');\n\nexport interface KeyboardLayoutChangeNotifier {\n    onDidChangeNativeLayout: Event<NativeKeyboardLayout>;\n}\n\nexport interface KeyValidationInput {\n    code: string;\n    character: string;\n    shiftKey?: boolean;\n    ctrlKey?: boolean;\n    altKey?: boolean;\n}\n\nexport const KeyValidator = Symbol('KeyValidator');\n\nexport interface KeyValidator {\n    validateKey(input: KeyValidationInput): void;\n}\n\nexport interface NativeKeyboardLayout {\n    info: IKeyboardLayoutInfo;\n    mapping: IKeyboardMapping;\n}\n","// *****************************************************************************\n// Copyright (C) 2017-2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { nls } from './nls';\nimport { isOSX } from './os';\nimport { isObject } from './types';\n\nexport type KeySequence = KeyCode[];\nexport namespace KeySequence {\n\n    export function equals(a: KeySequence, b: KeySequence): boolean {\n        if (a.length !== b.length) {\n            return false;\n        }\n\n        for (let i = 0; i < a.length; i++) {\n            if (!a[i].equals(b[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    export enum CompareResult {\n        NONE = 0,\n        PARTIAL,\n        SHADOW,\n        FULL\n    }\n\n    /* Compares two KeySequences, returns:\n     * FULL if the KeySequences are the same.\n     * PARTIAL if the KeySequence a part of b.\n     * SHADOW if the KeySequence b part of a.\n     * NONE if the KeySequences are not the same at all.\n     */\n    export function compare(a: KeySequence, b: KeySequence): CompareResult {\n        let first = a;\n        let second = b;\n        let shadow = false;\n\n        if (b.length < a.length) {\n            first = b;\n            second = a;\n            shadow = true;\n        }\n\n        for (let i = 0; i < first.length; i++) {\n            if (first[i].equals(second[i]) === false) {\n                return KeySequence.CompareResult.NONE;\n            }\n        }\n        if (first.length < second.length) {\n            if (shadow === false) {\n                return KeySequence.CompareResult.PARTIAL;\n            } else {\n                return KeySequence.CompareResult.SHADOW;\n            }\n        }\n        return KeySequence.CompareResult.FULL;\n    }\n\n    export function parse(keybinding: string): KeySequence {\n        const keyCodes = [];\n        const rawKeyCodes = keybinding.trim().split(/\\s+/g);\n        for (const rawKeyCode of rawKeyCodes) {\n            const keyCode = KeyCode.parse(rawKeyCode);\n            if (keyCode !== undefined) {\n                keyCodes.push(keyCode);\n            }\n        }\n        return keyCodes;\n    }\n}\n\n/**\n * The key sequence for this binding. This key sequence should consist of one or more key strokes. Key strokes\n * consist of one or more keys held down at the same time. This should be zero or more modifier keys, and zero or one other key.\n * Since `M2+M3+<Key>` (Alt+Shift+<Key>) is reserved on MacOS X for writing special characters, such bindings are commonly\n * undefined for platform MacOS X and redefined as `M1+M3+<Key>`. The rule applies on the `M3+M2+<Key>` sequence.\n */\nexport interface Keystroke {\n    readonly first?: Key;\n    readonly modifiers?: KeyModifier[];\n}\n\nexport interface KeyCodeSchema {\n    key?: Partial<Key>;\n    ctrl?: boolean;\n    shift?: boolean;\n    alt?: boolean;\n    meta?: boolean;\n    character?: string;\n}\n\n/**\n * Representation of a pressed key combined with key modifiers.\n */\nexport class KeyCode {\n\n    public readonly key: Key | undefined;\n    public readonly ctrl: boolean;\n    public readonly shift: boolean;\n    public readonly alt: boolean;\n    public readonly meta: boolean;\n    public readonly character: string | undefined;\n\n    public constructor(schema: KeyCodeSchema) {\n        const key = schema.key;\n        if (key) {\n            if (key.code && key.keyCode && key.easyString) {\n                this.key = key as Key;\n            } else if (key.code) {\n                this.key = Key.getKey(key.code);\n            } else if (key.keyCode) {\n                this.key = Key.getKey(key.keyCode);\n            }\n        }\n        this.ctrl = !!schema.ctrl;\n        this.shift = !!schema.shift;\n        this.alt = !!schema.alt;\n        this.meta = !!schema.meta;\n        this.character = schema.character;\n    }\n\n    /**\n     * Return true if this KeyCode only contains modifiers.\n     */\n    public isModifierOnly(): boolean {\n        return this.key === undefined;\n    }\n\n    /**\n     * Return true if the given KeyCode is equal to this one.\n     */\n    equals(other: KeyCode): boolean {\n        if (this.key && (!other.key || this.key.code !== other.key.code) || !this.key && other.key) {\n            return false;\n        }\n        return this.ctrl === other.ctrl && this.alt === other.alt && this.shift === other.shift && this.meta === other.meta;\n    }\n\n    /*\n     * Return a keybinding string compatible with the `Keybinding.keybinding` property.\n     */\n    toString(): string {\n        const result = [];\n        if (this.meta) {\n            result.push(SpecialCases.META);\n        }\n        if (this.shift) {\n            result.push(Key.SHIFT_LEFT.easyString);\n        }\n        if (this.alt) {\n            result.push(Key.ALT_LEFT.easyString);\n        }\n        if (this.ctrl) {\n            result.push(Key.CONTROL_LEFT.easyString);\n        }\n        if (this.key) {\n            result.push(this.key.easyString);\n        }\n        return result.join('+');\n    }\n\n    /**\n     * Create a KeyCode from one of several input types.\n     */\n    public static createKeyCode(input: KeyboardEvent | Keystroke | KeyCodeSchema | string, eventDispatch: 'code' | 'keyCode' = 'code'): KeyCode {\n        if (typeof input === 'string') {\n            const parts = input.split('+');\n            if (!KeyCode.isModifierString(parts[0])) {\n                return KeyCode.createKeyCode({\n                    first: Key.getKey(parts[0]),\n                    modifiers: parts.slice(1) as KeyModifier[]\n                });\n            }\n            return KeyCode.createKeyCode({ modifiers: parts as KeyModifier[] });\n        } else if (KeyCode.isKeyboardEvent(input)) {\n            const key = KeyCode.toKey(input, eventDispatch);\n            return new KeyCode({\n                key: Key.isModifier(key.code) ? undefined : key,\n                meta: isOSX && input.metaKey,\n                shift: input.shiftKey,\n                alt: input.altKey,\n                ctrl: input.ctrlKey,\n                character: KeyCode.toCharacter(input)\n            });\n        } else if ((input as Keystroke).first || (input as Keystroke).modifiers) {\n            const keystroke = input as Keystroke;\n            const schema: KeyCodeSchema = {\n                key: keystroke.first\n            };\n            if (keystroke.modifiers) {\n                if (isOSX) {\n                    schema.meta = keystroke.modifiers.some(mod => mod === KeyModifier.CtrlCmd);\n                    schema.ctrl = keystroke.modifiers.some(mod => mod === KeyModifier.MacCtrl);\n                } else {\n                    schema.meta = false;\n                    schema.ctrl = keystroke.modifiers.some(mod => mod === KeyModifier.CtrlCmd);\n                }\n                schema.shift = keystroke.modifiers.some(mod => mod === KeyModifier.Shift);\n                schema.alt = keystroke.modifiers.some(mod => mod === KeyModifier.Alt);\n            }\n            return new KeyCode(schema);\n        } else {\n            return new KeyCode(input as KeyCodeSchema);\n        }\n    }\n\n    private static keybindings: { [key: string]: KeyCode } = {};\n\n    /* Reset the key hashmap, this is for testing purposes.  */\n    public static resetKeyBindings(): void {\n        KeyCode.keybindings = {};\n    }\n\n    /**\n     * Parses a string and returns a KeyCode object.\n     * @param keybinding String representation of a keybinding\n     */\n    public static parse(keybinding: string): KeyCode {\n        if (KeyCode.keybindings[keybinding]) {\n            return KeyCode.keybindings[keybinding];\n        }\n\n        const schema: KeyCodeSchema = {};\n        const keys = [];\n        let currentKey = '';\n        for (const character of keybinding.trim().toLowerCase()) {\n            if (currentKey && (character === '-' || character === '+')) {\n                keys.push(currentKey);\n                currentKey = '';\n            } else if (character !== '+') {\n                currentKey += character;\n            }\n        }\n        if (currentKey) {\n            keys.push(currentKey);\n        }\n        /* If duplicates i.e ctrl+ctrl+a or alt+alt+b or b+alt+b it is invalid */\n        if (keys.length !== new Set(keys).size) {\n            throw new Error(nls.localize('theia/core/keybinding/duplicateModifierError', \"Can't parse keybinding {0} Duplicate modifiers\", keybinding));\n        }\n\n        for (let keyString of keys) {\n            if (SPECIAL_ALIASES[keyString] !== undefined) {\n                keyString = SPECIAL_ALIASES[keyString];\n            }\n            const key = EASY_TO_KEY[keyString];\n\n            /* meta only works on macOS */\n            if (keyString === SpecialCases.META) {\n                if (isOSX) {\n                    schema.meta = true;\n                } else {\n                    throw new Error(nls.localize('theia/core/keybinding/metaError', \"Can't parse keybinding {0} meta is for OSX only\", keybinding));\n                }\n                /* ctrlcmd for M1 keybindings that work on both macOS and other platforms */\n            } else if (keyString === SpecialCases.CTRLCMD) {\n                if (isOSX) {\n                    schema.meta = true;\n                } else {\n                    schema.ctrl = true;\n                }\n            } else if (Key.isKey(key)) {\n                if (Key.isModifier(key.code)) {\n                    if (key.code === Key.CONTROL_LEFT.code || key.code === Key.CONTROL_RIGHT.code) {\n                        schema.ctrl = true;\n                    } else if (key.code === Key.SHIFT_LEFT.code || key.code === Key.SHIFT_RIGHT.code) {\n                        schema.shift = true;\n                    } else if (key.code === Key.ALT_LEFT.code || key.code === Key.ALT_RIGHT.code) {\n                        schema.alt = true;\n                    }\n                } else {\n                    schema.key = key;\n                }\n            } else {\n                throw new Error(nls.localize('theia/core/keybinding/unrecognizedKeyError', 'Unrecognized key {0} in {1}', keyString, keybinding));\n            }\n        }\n\n        KeyCode.keybindings[keybinding] = new KeyCode(schema);\n        return KeyCode.keybindings[keybinding];\n    }\n\n}\n\nexport namespace KeyCode {\n\n    /**\n     * Determines a `true` of `false` value for the key code argument.\n     */\n    export type Predicate = (keyCode: KeyCode) => boolean;\n\n    /*\n     * Return true if the string is a modifier M1 to M4.\n     */\n    export function isModifierString(key: string): boolean {\n        return key === KeyModifier.CtrlCmd\n            || key === KeyModifier.Shift\n            || key === KeyModifier.Alt\n            || key === KeyModifier.MacCtrl;\n    }\n\n    /**\n     * Different scopes have different execution environments. This means that they have different built-ins\n     * (different global object, different constructors, etc.). This may result in unexpected results. For instance,\n     * `[] instanceof window.frames[0].Array` will return `false`, because `Array.prototype !== window.frames[0].Array`\n     * and arrays inherit from the former.\n     * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof\n     *\n     * Note: just add another check if the current `event.type` checking is insufficient.\n     */\n    export function isKeyboardEvent(event: object & { readonly type?: string }): event is KeyboardEvent {\n        if (typeof KeyboardEvent === 'undefined') { // This can happen in tests\n            return false;\n        }\n        if (event instanceof KeyboardEvent) {\n            return true;\n        }\n        const { type } = event;\n        if (type) {\n            return type === 'keypress' || type === 'keydown' || type === 'keyup';\n        }\n        return false;\n    }\n\n    /**\n     * Determine the pressed key of a keyboard event. This key should correspond to the physical key according\n     * to a standard US keyboard layout. International keyboard layouts are handled by `KeyboardLayoutService`.\n     *\n     * `keyIdentifier` is used to access this deprecated field:\n     * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyIdentifier\n     */\n    export function toKey(event: KeyboardEvent, dispatch: 'code' | 'keyCode' = 'code'): Key {\n        const code = event.code;\n        if (code && dispatch === 'code') {\n            if (isOSX) {\n                // https://github.com/eclipse-theia/theia/issues/4986\n                const char = event.key;\n                if (code === 'IntlBackslash' && (char === '`' || char === '~')) {\n                    return Key.BACKQUOTE;\n                } else if (code === 'Backquote' && (char === '' || char === '')) {\n                    return Key.INTL_BACKSLASH;\n                }\n            }\n\n            // https://github.com/eclipse-theia/theia/issues/7315\n            if (code.startsWith('Numpad') && event.key && event.key.length > 1) {\n                const k = Key.getKey(event.key);\n                if (k) {\n                    return k;\n                }\n            }\n\n            const key = Key.getKey(code);\n            if (key) {\n                return key;\n            }\n        }\n\n        // tslint:disable-next-line: deprecation\n        const keyCode = event.keyCode;\n        if (keyCode) {\n            const key = Key.getKey(keyCode);\n            if (key) {\n                return key;\n            }\n        }\n\n        const keyIdentifier = (event as KeyboardEvent & { keyIdentifier?: string }).keyIdentifier;\n        if (keyIdentifier) {\n            const key = Key.getKey(keyIdentifier);\n            if (key) {\n                return key;\n            }\n        }\n        throw new Error(`Cannot get key code from the keyboard event: ${event}.`);\n    }\n\n    /**\n     * Determine the actual printable character that is generated from a pressed key.\n     * If the key does not correspond to a printable character, `undefined` is returned.\n     * The result may be altered by modifier keys.\n     */\n    export function toCharacter(event: KeyboardEvent): string | undefined {\n        const key = event.key;\n        // Use the key property if it contains exactly one unicode character\n        if (key && Array.from(key).length === 1) {\n            return key;\n        }\n        const charCode = event.charCode;\n        // Use the charCode property if it does not correspond to a unicode control character\n        if (charCode && charCode > 0x1f && !(charCode >= 0x80 && charCode <= 0x9f)) {\n            return String.fromCharCode(charCode);\n        }\n        return undefined;\n    }\n\n}\n\nexport enum KeyModifier {\n    /**\n     * M1 is the COMMAND key on MacOS X, and the CTRL key on most other platforms.\n     */\n    CtrlCmd = 'M1',\n    /**\n     * M2 is the SHIFT key.\n     */\n    Shift = 'M2',\n    /**\n     * M3 is the Option key on MacOS X, and the ALT key on most other platforms.\n     */\n    Alt = 'M3',\n    /**\n     * M4 is the CTRL key on MacOS X, and is undefined on other platforms.\n     */\n    MacCtrl = 'M4'\n}\n\nexport namespace KeyModifier {\n    /**\n     * The CTRL key, independently of the platform.\n     * _Note:_ In general `KeyModifier.CtrlCmd` should be preferred over this constant.\n     */\n    export const CTRL: KeyModifier.MacCtrl | KeyModifier.CtrlCmd = isOSX ? KeyModifier.MacCtrl : KeyModifier.CtrlCmd;\n    /**\n     * An alias for the SHIFT key (`KeyModifier.Shift`).\n     */\n    export const SHIFT: KeyModifier.Shift = KeyModifier.Shift;\n\n    /**\n     * `true` if the argument represents a modifier. Otherwise, `false`.\n     */\n    export function isModifier(key: string | undefined): boolean {\n        if (key) {\n            switch (key) {\n                case 'M1': // Fall through.\n                case 'M2': // Fall through.\n                case 'M3': // Fall through.\n                case 'M4': return true;\n                default: return false;\n            }\n        }\n        return false;\n    }\n}\n\nexport interface Key {\n    readonly code: string;\n    readonly keyCode: number;\n    readonly easyString: string;\n}\n\nconst CODE_TO_KEY: { [code: string]: Key } = {};\nconst KEY_CODE_TO_KEY: { [keyCode: number]: Key } = {};\nconst EASY_TO_KEY: { [code: string]: Key } = {}; // From 'ctrl' to Key structure\nconst MODIFIERS: Key[] = [];\n\nconst SPECIAL_ALIASES: { [index: string]: string } = {\n    'option': 'alt',\n    'command': 'meta',\n    'cmd': 'meta',\n    'return': 'enter',\n    'esc': 'escape',\n    'mod': 'ctrl',\n    'ins': 'insert',\n    'del': 'delete',\n    'control': 'ctrl',\n};\n\nexport namespace SpecialCases {\n    export const META = 'meta';\n    export const CTRLCMD = 'ctrlcmd';\n}\n\nexport namespace Key {\n\n    export function isKey(arg: unknown): arg is Key {\n        return isObject(arg) && 'code' in arg && 'keyCode' in arg;\n    }\n\n    export function getKey(arg: string | number): Key | undefined {\n        if (typeof arg === 'number') {\n            return KEY_CODE_TO_KEY[arg];\n        } else {\n            return CODE_TO_KEY[arg];\n        }\n    }\n\n    export function isModifier(arg: string | number): boolean {\n        if (typeof arg === 'number') {\n            return MODIFIERS.find(key => key.keyCode === arg) !== undefined;\n        }\n        return MODIFIERS.find(key => key.code === arg) !== undefined;\n    }\n\n    export function equals(key: Key, keyCode: KeyCode): boolean {\n        return !!keyCode.key && key.keyCode === keyCode.key.keyCode;\n    }\n\n    export const BACKSPACE: Key = { code: 'Backspace', keyCode: 8, easyString: 'backspace' };\n    export const TAB: Key = { code: 'Tab', keyCode: 9, easyString: 'tab' };\n    export const ENTER: Key = { code: 'Enter', keyCode: 13, easyString: 'enter' };\n    export const ESCAPE: Key = { code: 'Escape', keyCode: 27, easyString: 'escape' };\n    export const SPACE: Key = { code: 'Space', keyCode: 32, easyString: 'space' };\n    export const PAGE_UP: Key = { code: 'PageUp', keyCode: 33, easyString: 'pageup' };\n    export const PAGE_DOWN: Key = { code: 'PageDown', keyCode: 34, easyString: 'pagedown' };\n    export const END: Key = { code: 'End', keyCode: 35, easyString: 'end' };\n    export const HOME: Key = { code: 'Home', keyCode: 36, easyString: 'home' };\n    export const ARROW_LEFT: Key = { code: 'ArrowLeft', keyCode: 37, easyString: 'left' };\n    export const ARROW_UP: Key = { code: 'ArrowUp', keyCode: 38, easyString: 'up' };\n    export const ARROW_RIGHT: Key = { code: 'ArrowRight', keyCode: 39, easyString: 'right' };\n    export const ARROW_DOWN: Key = { code: 'ArrowDown', keyCode: 40, easyString: 'down' };\n    export const INSERT: Key = { code: 'Insert', keyCode: 45, easyString: 'insert' };\n    export const DELETE: Key = { code: 'Delete', keyCode: 46, easyString: 'delete' };\n\n    export const SHIFT_LEFT: Key = { code: 'ShiftLeft', keyCode: 16, easyString: 'shift' };\n    export const SHIFT_RIGHT: Key = { code: 'ShiftRight', keyCode: 16, easyString: 'shift' };\n    export const CONTROL_LEFT: Key = { code: 'ControlLeft', keyCode: 17, easyString: 'ctrl' };\n    export const CONTROL_RIGHT: Key = { code: 'ControlRight', keyCode: 17, easyString: 'ctrl' };\n    export const ALT_LEFT: Key = { code: 'AltLeft', keyCode: 18, easyString: 'alt' };\n    export const ALT_RIGHT: Key = { code: 'AltRight', keyCode: 18, easyString: 'alt' };\n    export const CAPS_LOCK: Key = { code: 'CapsLock', keyCode: 20, easyString: 'capslock' };\n    export const OS_LEFT: Key = { code: 'OSLeft', keyCode: 91, easyString: 'super' };\n    export const OS_RIGHT: Key = { code: 'OSRight', keyCode: 92, easyString: 'super' };\n\n    export const DIGIT0: Key = { code: 'Digit0', keyCode: 48, easyString: '0' };\n    export const DIGIT1: Key = { code: 'Digit1', keyCode: 49, easyString: '1' };\n    export const DIGIT2: Key = { code: 'Digit2', keyCode: 50, easyString: '2' };\n    export const DIGIT3: Key = { code: 'Digit3', keyCode: 51, easyString: '3' };\n    export const DIGIT4: Key = { code: 'Digit4', keyCode: 52, easyString: '4' };\n    export const DIGIT5: Key = { code: 'Digit5', keyCode: 53, easyString: '5' };\n    export const DIGIT6: Key = { code: 'Digit6', keyCode: 54, easyString: '6' };\n    export const DIGIT7: Key = { code: 'Digit7', keyCode: 55, easyString: '7' };\n    export const DIGIT8: Key = { code: 'Digit8', keyCode: 56, easyString: '8' };\n    export const DIGIT9: Key = { code: 'Digit9', keyCode: 57, easyString: '9' };\n\n    export const KEY_A: Key = { code: 'KeyA', keyCode: 65, easyString: 'a' };\n    export const KEY_B: Key = { code: 'KeyB', keyCode: 66, easyString: 'b' };\n    export const KEY_C: Key = { code: 'KeyC', keyCode: 67, easyString: 'c' };\n    export const KEY_D: Key = { code: 'KeyD', keyCode: 68, easyString: 'd' };\n    export const KEY_E: Key = { code: 'KeyE', keyCode: 69, easyString: 'e' };\n    export const KEY_F: Key = { code: 'KeyF', keyCode: 70, easyString: 'f' };\n    export const KEY_G: Key = { code: 'KeyG', keyCode: 71, easyString: 'g' };\n    export const KEY_H: Key = { code: 'KeyH', keyCode: 72, easyString: 'h' };\n    export const KEY_I: Key = { code: 'KeyI', keyCode: 73, easyString: 'i' };\n    export const KEY_J: Key = { code: 'KeyJ', keyCode: 74, easyString: 'j' };\n    export const KEY_K: Key = { code: 'KeyK', keyCode: 75, easyString: 'k' };\n    export const KEY_L: Key = { code: 'KeyL', keyCode: 76, easyString: 'l' };\n    export const KEY_M: Key = { code: 'KeyM', keyCode: 77, easyString: 'm' };\n    export const KEY_N: Key = { code: 'KeyN', keyCode: 78, easyString: 'n' };\n    export const KEY_O: Key = { code: 'KeyO', keyCode: 79, easyString: 'o' };\n    export const KEY_P: Key = { code: 'KeyP', keyCode: 80, easyString: 'p' };\n    export const KEY_Q: Key = { code: 'KeyQ', keyCode: 81, easyString: 'q' };\n    export const KEY_R: Key = { code: 'KeyR', keyCode: 82, easyString: 'r' };\n    export const KEY_S: Key = { code: 'KeyS', keyCode: 83, easyString: 's' };\n    export const KEY_T: Key = { code: 'KeyT', keyCode: 84, easyString: 't' };\n    export const KEY_U: Key = { code: 'KeyU', keyCode: 85, easyString: 'u' };\n    export const KEY_V: Key = { code: 'KeyV', keyCode: 86, easyString: 'v' };\n    export const KEY_W: Key = { code: 'KeyW', keyCode: 87, easyString: 'w' };\n    export const KEY_X: Key = { code: 'KeyX', keyCode: 88, easyString: 'x' };\n    export const KEY_Y: Key = { code: 'KeyY', keyCode: 89, easyString: 'y' };\n    export const KEY_Z: Key = { code: 'KeyZ', keyCode: 90, easyString: 'z' };\n\n    export const MULTIPLY: Key = { code: 'NumpadMultiply', keyCode: 106, easyString: 'multiply' };\n    export const ADD: Key = { code: 'NumpadAdd', keyCode: 107, easyString: 'add' };\n    export const DECIMAL: Key = { code: 'NumpadDecimal', keyCode: 108, easyString: 'decimal' };\n    export const SUBTRACT: Key = { code: 'NumpadSubtract', keyCode: 109, easyString: 'subtract' };\n    export const DIVIDE: Key = { code: 'NumpadDivide', keyCode: 111, easyString: 'divide' };\n\n    export const F1: Key = { code: 'F1', keyCode: 112, easyString: 'f1' };\n    export const F2: Key = { code: 'F2', keyCode: 113, easyString: 'f2' };\n    export const F3: Key = { code: 'F3', keyCode: 114, easyString: 'f3' };\n    export const F4: Key = { code: 'F4', keyCode: 115, easyString: 'f4' };\n    export const F5: Key = { code: 'F5', keyCode: 116, easyString: 'f5' };\n    export const F6: Key = { code: 'F6', keyCode: 117, easyString: 'f6' };\n    export const F7: Key = { code: 'F7', keyCode: 118, easyString: 'f7' };\n    export const F8: Key = { code: 'F8', keyCode: 119, easyString: 'f8' };\n    export const F9: Key = { code: 'F9', keyCode: 120, easyString: 'f9' };\n    export const F10: Key = { code: 'F10', keyCode: 121, easyString: 'f10' };\n    export const F11: Key = { code: 'F11', keyCode: 122, easyString: 'f11' };\n    export const F12: Key = { code: 'F12', keyCode: 123, easyString: 'f12' };\n    export const F13: Key = { code: 'F13', keyCode: 124, easyString: 'f13' };\n    export const F14: Key = { code: 'F14', keyCode: 125, easyString: 'f14' };\n    export const F15: Key = { code: 'F15', keyCode: 126, easyString: 'f15' };\n    export const F16: Key = { code: 'F16', keyCode: 127, easyString: 'f16' };\n    export const F17: Key = { code: 'F17', keyCode: 128, easyString: 'f17' };\n    export const F18: Key = { code: 'F18', keyCode: 129, easyString: 'f18' };\n    export const F19: Key = { code: 'F19', keyCode: 130, easyString: 'f19' };\n    export const F20: Key = { code: 'F20', keyCode: 131, easyString: 'f20' };\n    export const F21: Key = { code: 'F21', keyCode: 132, easyString: 'f21' };\n    export const F22: Key = { code: 'F22', keyCode: 133, easyString: 'f22' };\n    export const F23: Key = { code: 'F23', keyCode: 134, easyString: 'f23' };\n    export const F24: Key = { code: 'F24', keyCode: 135, easyString: 'f24' };\n\n    export const NUM_LOCK: Key = { code: 'NumLock', keyCode: 144, easyString: 'numlock' };\n    export const SEMICOLON: Key = { code: 'Semicolon', keyCode: 186, easyString: ';' };\n    export const EQUAL: Key = { code: 'Equal', keyCode: 187, easyString: '=' };\n    export const COMMA: Key = { code: 'Comma', keyCode: 188, easyString: ',' };\n    export const MINUS: Key = { code: 'Minus', keyCode: 189, easyString: '-' };\n    export const PERIOD: Key = { code: 'Period', keyCode: 190, easyString: '.' };\n    export const SLASH: Key = { code: 'Slash', keyCode: 191, easyString: '/' };\n    export const BACKQUOTE: Key = { code: 'Backquote', keyCode: 192, easyString: '`' };\n    export const INTL_RO: Key = { code: 'IntlRo', keyCode: 193, easyString: 'intlro' };\n    export const BRACKET_LEFT: Key = { code: 'BracketLeft', keyCode: 219, easyString: '[' };\n    export const BACKSLASH: Key = { code: 'Backslash', keyCode: 220, easyString: '\\\\' };\n    export const BRACKET_RIGHT: Key = { code: 'BracketRight', keyCode: 221, easyString: ']' };\n    export const QUOTE: Key = { code: 'Quote', keyCode: 222, easyString: '\\'' };\n    export const INTL_BACKSLASH: Key = { code: 'IntlBackslash', keyCode: 229, easyString: 'intlbackslash' };\n    export const INTL_YEN: Key = { code: 'IntlYen', keyCode: 255, easyString: 'intlyen' };\n\n    export const MAX_KEY_CODE = INTL_YEN.keyCode;\n\n}\n\n/* -------------------- Initialize the static key mappings -------------------- */\n(() => {\n    // Set the default key mappings from the constants in the Key namespace\n    Object.keys(Key).map(prop => Reflect.get(Key, prop)).filter(key => Key.isKey(key)).forEach(key => {\n        CODE_TO_KEY[key.code] = key;\n        KEY_CODE_TO_KEY[key.keyCode] = key;\n        EASY_TO_KEY[key.easyString] = key;\n    });\n\n    // Set additional key mappings\n    CODE_TO_KEY['Numpad0'] = Key.DIGIT0;\n    KEY_CODE_TO_KEY[96] = Key.DIGIT0;\n    CODE_TO_KEY['Numpad1'] = Key.DIGIT1;\n    KEY_CODE_TO_KEY[97] = Key.DIGIT1;\n    CODE_TO_KEY['Numpad2'] = Key.DIGIT2;\n    KEY_CODE_TO_KEY[98] = Key.DIGIT2;\n    CODE_TO_KEY['Numpad3'] = Key.DIGIT3;\n    KEY_CODE_TO_KEY[99] = Key.DIGIT3;\n    CODE_TO_KEY['Numpad4'] = Key.DIGIT4;\n    KEY_CODE_TO_KEY[100] = Key.DIGIT4;\n    CODE_TO_KEY['Numpad5'] = Key.DIGIT5;\n    KEY_CODE_TO_KEY[101] = Key.DIGIT5;\n    CODE_TO_KEY['Numpad6'] = Key.DIGIT6;\n    KEY_CODE_TO_KEY[102] = Key.DIGIT6;\n    CODE_TO_KEY['Numpad7'] = Key.DIGIT7;\n    KEY_CODE_TO_KEY[103] = Key.DIGIT7;\n    CODE_TO_KEY['Numpad8'] = Key.DIGIT8;\n    KEY_CODE_TO_KEY[104] = Key.DIGIT8;\n    CODE_TO_KEY['Numpad9'] = Key.DIGIT9;\n    KEY_CODE_TO_KEY[105] = Key.DIGIT9;\n    CODE_TO_KEY['NumpadEnter'] = Key.ENTER;\n    CODE_TO_KEY['NumpadEqual'] = Key.EQUAL;\n    CODE_TO_KEY['MetaLeft'] = Key.OS_LEFT;   // Chrome, Safari\n    KEY_CODE_TO_KEY[224] = Key.OS_LEFT;      // Firefox on Mac\n    CODE_TO_KEY['MetaRight'] = Key.OS_RIGHT; // Chrome, Safari\n    KEY_CODE_TO_KEY[93] = Key.OS_RIGHT;      // Chrome, Safari, Edge\n    KEY_CODE_TO_KEY[225] = Key.ALT_RIGHT;    // Linux\n    KEY_CODE_TO_KEY[110] = Key.DECIMAL;      // Mac, Windows\n    KEY_CODE_TO_KEY[59] = Key.SEMICOLON;     // Firefox\n    KEY_CODE_TO_KEY[61] = Key.EQUAL;         // Firefox\n    KEY_CODE_TO_KEY[173] = Key.MINUS;        // Firefox\n    KEY_CODE_TO_KEY[226] = Key.BACKSLASH;    // Chrome, Edge on Windows\n    KEY_CODE_TO_KEY[60] = Key.BACKSLASH;     // Firefox on Linux\n\n    // Set the modifier keys\n    MODIFIERS.push(...[Key.ALT_LEFT, Key.ALT_RIGHT, Key.CONTROL_LEFT, Key.CONTROL_RIGHT, Key.OS_LEFT, Key.OS_RIGHT, Key.SHIFT_LEFT, Key.SHIFT_RIGHT]);\n})();\n\nexport type KeysOrKeyCodes = Key | KeyCode | (Key | KeyCode)[];\nexport namespace KeysOrKeyCodes {\n\n    export const toKeyCode = (keyOrKeyCode: Key | KeyCode) =>\n        keyOrKeyCode instanceof KeyCode ? keyOrKeyCode : KeyCode.createKeyCode({ first: keyOrKeyCode });\n\n    export const toKeyCodes = (keysOrKeyCodes: KeysOrKeyCodes) => {\n        if (keysOrKeyCodes instanceof KeyCode) {\n            return [keysOrKeyCodes];\n        } else if (Array.isArray(keysOrKeyCodes)) {\n            return keysOrKeyCodes.slice().map(toKeyCode);\n        }\n        return [toKeyCode(keysOrKeyCodes)];\n    };\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { RpcServer } from './messaging/proxy-factory';\n\nexport const ILoggerServer = Symbol('ILoggerServer');\n\nexport const loggerPath = '/services/logger';\n\nexport interface ILoggerServer extends RpcServer<ILoggerClient> {\n    setLogLevel(name: string, logLevel: number): Promise<void>;\n    getLogLevel(name: string): Promise<number>;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    log(name: string, logLevel: number, message: any, params: any[]): Promise<void>;\n    child(name: string): Promise<void>;\n}\n\nexport const ILoggerClient = Symbol('ILoggerClient');\n\nexport interface ILogLevelChangedEvent {\n    loggerName: string;\n    newLogLevel: number;\n}\n\nexport interface ILoggerClient {\n    onLogLevelChanged(event: ILogLevelChangedEvent): void;\n    onLogConfigChanged(): void;\n}\n\n@injectable()\nexport class DispatchingLoggerClient implements ILoggerClient {\n\n    readonly clients = new Set<ILoggerClient>();\n\n    onLogLevelChanged(event: ILogLevelChangedEvent): void {\n        this.clients.forEach(client => client.onLogLevelChanged(event));\n    }\n\n    onLogConfigChanged(): void {\n        this.clients.forEach(client => client.onLogConfigChanged());\n    }\n}\n\nexport const rootLoggerName = 'root';\n\nexport enum LogLevel {\n    FATAL = 60,\n    ERROR = 50,\n    WARN = 40,\n    INFO = 30,\n    DEBUG = 20,\n    TRACE = 10\n}\nexport namespace LogLevel {\n    export const strings = new Map<LogLevel, string>([\n        [LogLevel.FATAL, 'fatal'],\n        [LogLevel.ERROR, 'error'],\n        [LogLevel.WARN, 'warn'],\n        [LogLevel.INFO, 'info'],\n        [LogLevel.DEBUG, 'debug'],\n        [LogLevel.TRACE, 'trace']\n    ]);\n\n    export function toString(level: LogLevel): string | undefined {\n        return strings.get(level);\n    }\n\n    export function fromString(levelStr: string): LogLevel | undefined {\n        for (const pair of strings) {\n            if (pair[1] === levelStr) {\n                return pair[0];\n            }\n        }\n\n        return undefined;\n    }\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nexport namespace ConsoleLogger {\n    type Console = (message?: any, ...optionalParams: any[]) => void;\n    const originalConsoleLog = console.log;\n    const consoles = new Map<LogLevel, Console>([\n        [LogLevel.FATAL, console.error],\n        [LogLevel.ERROR, console.error],\n        [LogLevel.WARN, console.warn],\n        [LogLevel.INFO, console.info],\n        [LogLevel.DEBUG, console.debug],\n        [LogLevel.TRACE, console.trace]\n    ]);\n    export function reset(): void {\n        console.error = consoles.get(LogLevel.ERROR)!;\n        console.warn = consoles.get(LogLevel.WARN)!;\n        console.info = consoles.get(LogLevel.INFO)!;\n        console.debug = consoles.get(LogLevel.DEBUG)!;\n        console.trace = consoles.get(LogLevel.TRACE)!;\n        console.log = originalConsoleLog;\n    }\n    export function log(name: string, logLevel: number, message: string, params: any[]): void {\n        const console = consoles.get(logLevel) || originalConsoleLog;\n        const severity = (LogLevel.strings.get(logLevel) || 'unknown').toUpperCase();\n        const now = new Date();\n        console(`${now.toISOString()} ${name} ${severity} ${message}`, ...params);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { Emitter, Event } from './event';\nimport { ILoggerClient, ILogLevelChangedEvent } from './logger-protocol';\n\n@injectable()\nexport class LoggerWatcher {\n\n    getLoggerClient(): ILoggerClient {\n        const logLevelEmitter = this.onLogLevelChangedEmitter;\n        const logConfigEmitter = this.onLogConfigChangedEmitter;\n        return {\n            onLogLevelChanged(event: ILogLevelChangedEvent): void {\n                logLevelEmitter.fire(event);\n            },\n            onLogConfigChanged(): void {\n                logConfigEmitter.fire();\n            },\n        };\n    }\n\n    protected onLogLevelChangedEmitter = new Emitter<ILogLevelChangedEvent>();\n\n    get onLogLevelChanged(): Event<ILogLevelChangedEvent> {\n        return this.onLogLevelChangedEmitter.event;\n    }\n\n    protected onLogConfigChangedEmitter = new Emitter<void>();\n\n    get onLogConfigChanged(): Event<void> {\n        return this.onLogConfigChangedEmitter.event;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, postConstruct } from 'inversify';\nimport { LoggerWatcher } from './logger-watcher';\nimport { ILoggerServer, LogLevel, ConsoleLogger, rootLoggerName } from './logger-protocol';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nexport {\n    LogLevel, rootLoggerName\n};\n\n/* This is to be initialized from container composition root. It can be used outside of the inversify context.  */\nexport let logger: ILogger;\n\n/**\n * Counterpart of the `#setRootLogger(ILogger)`. Restores the `console.xxx` bindings to the original one.\n * Invoking has no side-effect if `setRootLogger` was not called before. Multiple function invocation has\n * no side-effect either.\n */\nexport function unsetRootLogger(): void {\n    if (logger !== undefined) {\n        ConsoleLogger.reset();\n        (<any>logger) = undefined;\n    }\n}\n\nexport function setRootLogger(aLogger: ILogger): void {\n    logger = aLogger;\n    const log = (logLevel: number, message?: any, ...optionalParams: any[]) =>\n        logger.log(logLevel, message, ...optionalParams);\n\n    console.error = log.bind(undefined, LogLevel.ERROR);\n    console.warn = log.bind(undefined, LogLevel.WARN);\n    console.info = log.bind(undefined, LogLevel.INFO);\n    console.debug = log.bind(undefined, LogLevel.DEBUG);\n    console.trace = log.bind(undefined, LogLevel.TRACE);\n    console.log = log.bind(undefined, LogLevel.INFO);\n}\n\nexport type Log = (message: any, ...params: any[]) => void;\nexport type Loggable = (log: Log) => void;\n\nexport const LoggerFactory = Symbol('LoggerFactory');\nexport type LoggerFactory = (name: string) => ILogger;\n\nexport const LoggerName = Symbol('LoggerName');\n\nexport const ILogger = Symbol('ILogger');\n\nexport interface ILogger {\n    /**\n     * Set the log level.\n     *\n     * @param loglevel - The loglevel to set. see Logger.LogLevel for\n     * possible options.\n     */\n    setLogLevel(logLevel: number): Promise<void>\n    /**\n     * Get the log level.\n     *\n     * @returns a Promise to the log level.\n     */\n    getLogLevel(): Promise<number>;\n\n    /**\n     * Test whether the given log level is enabled.\n     */\n    isEnabled(logLevel: number): Promise<boolean>;\n    /**\n     * Resolve if the given log is enabled.\n     */\n    ifEnabled(logLevel: number): Promise<void>;\n    /**\n     * Log a loggable with the given level if it is enabled.\n     */\n    log(logLevel: number, loggable: Loggable): Promise<void>;\n    /**\n     * Log a message with the given level if it is enabled.\n     *\n     * @param logLevel - The loglevel to use.\n     * @param message - The message format string.\n     * @param params - The format string variables.\n     */\n    log(logLevel: number, message: any, ...params: any[]): void;\n\n    /**\n     * Test whether the trace level is enabled.\n     */\n    isTrace(): Promise<boolean>;\n    /**\n     * Resolve if the trace level is enabled.\n     */\n    ifTrace(): Promise<void>;\n    /**\n     * Log a loggable with the trace level if it is enabled.\n     */\n    trace(loggable: Loggable): Promise<void>;\n    /**\n     * Log a message with the trace level if it is enabled.\n     *\n     * @param message - The message format string.\n     * @param params - The format string variables.\n     */\n    trace(message: any, ...params: any[]): Promise<void>;\n\n    /**\n     * Test whether the debug level is enabled.\n     */\n    isDebug(): Promise<boolean>;\n    /**\n     * Resolve if the debug level is enabled.\n     */\n    ifDebug(): Promise<void>;\n    /**\n     * Log a loggable with the debug level if it is enabled.\n     */\n    debug(loggable: Loggable): Promise<void>;\n    /**\n     * Log a message with the debug level if it is enabled.\n     *\n     * @param message - The message format string.\n     * @param params - The format string variables.\n     */\n    debug(message: any, ...params: any[]): Promise<void>;\n\n    /**\n     * Test whether the info level is enabled.\n     */\n    isInfo(): Promise<boolean>;\n    /**\n     * Resolve if the info level is enabled.\n     */\n    ifInfo(): Promise<void>;\n    /**\n     * Log a loggable with the info level if it is enabled.\n     */\n    info(loggable: Loggable): Promise<void>;\n    /**\n     * Log a message with the info level if it is enabled.\n     *\n     * @param message - The message format string.\n     * @param params - The format string variables.\n     */\n    info(message: any, ...params: any[]): Promise<void>;\n\n    /**\n     * Test whether the warn level is enabled.\n     */\n    isWarn(): Promise<boolean>;\n    /**\n     * Resolve if the warn level is enabled.\n     */\n    ifWarn(): Promise<void>;\n    /**\n     * Log a loggable with the warn level if it is enabled.\n     */\n    warn(loggable: Loggable): Promise<void>;\n    /**\n     * Log a message with the warn level if it is enabled.\n     *\n     * @param message - The message format string.\n     * @param params - The format string variables.\n     */\n    warn(message: any, ...params: any[]): Promise<void>;\n\n    /**\n     * Test whether the error level is enabled.\n     */\n    isError(): Promise<boolean>;\n    /**\n     * Resolve if the error level is enabled.\n     */\n    ifError(): Promise<void>;\n    /**\n     * Log a loggable with the error level if it is enabled.\n     */\n    error(loggable: Loggable): Promise<void>;\n    /**\n     * Log a message with the error level.\n     *\n     * @param message - The message format string.\n     * @param params - The format string variables.\n     */\n    error(message: any, ...params: any[]): Promise<void>;\n\n    /**\n     * Test whether the fatal level is enabled.\n     */\n    isFatal(): Promise<boolean>;\n    /**\n     * Resolve if the fatal level is enabled.\n     */\n    ifFatal(): Promise<void>;\n    /**\n     * Log a loggable with the fatal level if it is enabled.\n     */\n    fatal(loggable: Loggable): Promise<void>;\n    /**\n     * Log a message with the fatal level if it is enabled.\n     *\n     * @param message - The message format string.\n     * @param params - The format string variables.\n     */\n    fatal(message: any, ...params: any[]): Promise<void>;\n\n    /**\n     * Create a child logger from this logger.\n     *\n     * @param name - The name of the child logger.\n     */\n    child(name: string): ILogger;\n}\n\n@injectable()\nexport class Logger implements ILogger {\n\n    /* Log level for the logger.  */\n    protected _logLevel: Promise<number>;\n\n    /* A promise resolved when the logger has been created by the backend.  */\n    protected created: Promise<void>;\n\n    @inject(ILoggerServer) protected readonly server: ILoggerServer;\n    @inject(LoggerWatcher) protected readonly loggerWatcher: LoggerWatcher;\n    @inject(LoggerFactory) protected readonly factory: LoggerFactory;\n    @inject(LoggerName) protected name: string;\n\n    @postConstruct()\n    protected init(): void {\n        if (this.name !== rootLoggerName) {\n            /* Creating a child logger.  */\n            this.created = this.server.child(this.name);\n        } else {\n            /* Creating the root logger (it already exists at startup).  */\n            this.created = Promise.resolve();\n        }\n\n        /* Fetch the log level so it's cached in the frontend.  */\n        this._logLevel = this.created.then(_ => this.server.getLogLevel(this.name));\n\n        /* Update the log level if it changes in the backend. */\n        this.loggerWatcher.onLogLevelChanged(event => {\n            this.created.then(() => {\n                if (event.loggerName === this.name) {\n                    this._logLevel = Promise.resolve(event.newLogLevel);\n                }\n            });\n        });\n\n        /* Refetch log level if overall config in backend changed. */\n        this.loggerWatcher.onLogConfigChanged(() => {\n            this._logLevel = this.created.then(_ => this.server.getLogLevel(this.name));\n        });\n    }\n\n    setLogLevel(logLevel: number): Promise<void> {\n        return new Promise<void>(resolve => {\n            this.created.then(() => {\n                this._logLevel.then(oldLevel => {\n                    this.server.setLogLevel(this.name, logLevel).then(() => {\n                        this._logLevel = Promise.resolve(logLevel);\n                        resolve();\n                    });\n                });\n            });\n        });\n    }\n    getLogLevel(): Promise<number> {\n        return this._logLevel;\n    }\n\n    isEnabled(logLevel: number): Promise<boolean> {\n        return this._logLevel.then(level =>\n            logLevel >= level\n        );\n    }\n    ifEnabled(logLevel: number): Promise<void> {\n        return new Promise<void>(resolve =>\n            this.isEnabled(logLevel).then(enabled => {\n                if (enabled) {\n                    resolve();\n                }\n            })\n        );\n    }\n    log(logLevel: number, arg2: any | Loggable, ...params: any[]): Promise<void> {\n        return this.getLog(logLevel).then(log => {\n            if (typeof arg2 === 'function') {\n                const loggable = arg2;\n                loggable(log);\n            } else if (arg2) {\n                log(arg2, ...params);\n            }\n        });\n    }\n    protected getLog(logLevel: number): Promise<Log> {\n        return this.ifEnabled(logLevel).then(() =>\n            this.created.then(() =>\n                (message: any, ...params: any[]) =>\n                    this.server.log(this.name, logLevel, this.format(message), params.map(p => this.format(p)))\n            )\n        );\n    }\n    protected format(value: any): any {\n        if (value instanceof Error) {\n            return value.stack || value.toString();\n        }\n        return value;\n    }\n\n    isTrace(): Promise<boolean> {\n        return this.isEnabled(LogLevel.TRACE);\n    }\n    ifTrace(): Promise<void> {\n        return this.ifEnabled(LogLevel.TRACE);\n    }\n    trace(arg: any | Loggable, ...params: any[]): Promise<void> {\n        return this.log(LogLevel.TRACE, arg, ...params);\n    }\n\n    isDebug(): Promise<boolean> {\n        return this.isEnabled(LogLevel.DEBUG);\n    }\n    ifDebug(): Promise<void> {\n        return this.ifEnabled(LogLevel.DEBUG);\n    }\n    debug(arg: any | Loggable, ...params: any[]): Promise<void> {\n        return this.log(LogLevel.DEBUG, arg, ...params);\n    }\n\n    isInfo(): Promise<boolean> {\n        return this.isEnabled(LogLevel.INFO);\n    }\n    ifInfo(): Promise<void> {\n        return this.ifEnabled(LogLevel.INFO);\n    }\n    info(arg: any | Loggable, ...params: any[]): Promise<void> {\n        return this.log(LogLevel.INFO, arg, ...params);\n    }\n\n    isWarn(): Promise<boolean> {\n        return this.isEnabled(LogLevel.WARN);\n    }\n    ifWarn(): Promise<void> {\n        return this.ifEnabled(LogLevel.WARN);\n    }\n    warn(arg: any | Loggable, ...params: any[]): Promise<void> {\n        return this.log(LogLevel.WARN, arg, ...params);\n    }\n\n    isError(): Promise<boolean> {\n        return this.isEnabled(LogLevel.ERROR);\n    }\n    ifError(): Promise<void> {\n        return this.ifEnabled(LogLevel.ERROR);\n    }\n    error(arg: any | Loggable, ...params: any[]): Promise<void> {\n        return this.log(LogLevel.ERROR, arg, ...params);\n    }\n\n    isFatal(): Promise<boolean> {\n        return this.isEnabled(LogLevel.FATAL);\n    }\n    ifFatal(): Promise<void> {\n        return this.ifEnabled(LogLevel.FATAL);\n    }\n    fatal(arg: any | Loggable, ...params: any[]): Promise<void> {\n        return this.log(LogLevel.FATAL, arg, ...params);\n    }\n\n    child(name: string): ILogger {\n        return this.factory(name);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Range } from 'vscode-languageserver-protocol';\nimport { isNumber, isObject, isString, isUndefined } from './types';\n\nexport interface TextDocumentContentChangeDelta {\n    readonly range: Range;\n    readonly rangeLength?: number;\n    readonly text: string;\n}\nexport namespace TextDocumentContentChangeDelta {\n\n    export function is(arg: unknown): arg is TextDocumentContentChangeDelta {\n        return isObject<TextDocumentContentChangeDelta>(arg)\n            && isString(arg.text)\n            && (isNumber(arg.rangeLength) || isUndefined(arg.rangeLength))\n            && Range.is(arg.range);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { CommandRegistry } from '../command';\nimport { AlternativeHandlerMenuNode, CommandMenuNode, MenuAction, MenuNode } from './menu-types';\n\n/**\n * Node representing an action in the menu tree structure.\n * It's based on {@link MenuAction} for which it tries to determine the\n * best label, icon and sortString with the given data.\n */\nexport class ActionMenuNode implements MenuNode, CommandMenuNode, Partial<AlternativeHandlerMenuNode> {\n\n    readonly altNode: ActionMenuNode | undefined;\n\n    constructor(\n        protected readonly action: MenuAction,\n        protected readonly commands: CommandRegistry,\n    ) {\n        if (action.alt) {\n            this.altNode = new ActionMenuNode({ commandId: action.alt }, commands);\n        }\n    }\n\n    get command(): string { return this.action.commandId; };\n\n    get when(): string | undefined { return this.action.when; }\n\n    get id(): string { return this.action.commandId; }\n\n    get label(): string {\n        if (this.action.label) {\n            return this.action.label;\n        }\n        const cmd = this.commands.getCommand(this.action.commandId);\n        if (!cmd) {\n            console.debug(`No label for action menu node: No command \"${this.action.commandId}\" exists.`);\n            return '';\n        }\n        return cmd.label || cmd.id;\n    }\n\n    get icon(): string | undefined {\n        if (this.action.icon) {\n            return this.action.icon;\n        }\n        const command = this.commands.getCommand(this.action.commandId);\n        return command && command.iconClass;\n    }\n\n    get sortString(): string { return this.action.order || this.label; }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Disposable } from '../disposable';\nimport { CompoundMenuNode, CompoundMenuNodeRole, MenuNode, MutableCompoundMenuNode, SubMenuOptions } from './menu-types';\n\n/**\n * Node representing a (sub)menu in the menu tree structure.\n */\nexport class CompositeMenuNode implements MutableCompoundMenuNode {\n    protected readonly _children: MenuNode[] = [];\n    public iconClass?: string;\n    public order?: string;\n    protected _when?: string;\n    protected _role?: CompoundMenuNodeRole;\n\n    constructor(\n        public readonly id: string,\n        public label?: string,\n        options?: SubMenuOptions,\n        readonly parent?: MenuNode & CompoundMenuNode,\n    ) {\n        this.updateOptions(options);\n    }\n\n    get when(): string | undefined { return this._when; }\n    get icon(): string | undefined { return this.iconClass; }\n    get children(): ReadonlyArray<MenuNode> { return this._children; }\n    get role(): CompoundMenuNodeRole { return this._role ?? (this.label ? CompoundMenuNodeRole.Submenu : CompoundMenuNodeRole.Group); }\n\n    addNode(node: MenuNode): Disposable {\n        this._children.push(node);\n        this._children.sort(CompoundMenuNode.sortChildren);\n        return {\n            dispose: () => {\n                const idx = this._children.indexOf(node);\n                if (idx >= 0) {\n                    this._children.splice(idx, 1);\n                }\n            }\n        };\n    }\n\n    removeNode(id: string): void {\n        const idx = this._children.findIndex(n => n.id === id);\n        if (idx >= 0) {\n            this._children.splice(idx, 1);\n        }\n    }\n\n    updateOptions(options?: SubMenuOptions): void {\n        if (options) {\n            this.iconClass = options.icon ?? options.iconClass ?? this.iconClass;\n            this.label = options.label ?? this.label;\n            this.order = options.order ?? this.order;\n            this._role = options.role ?? this._role;\n            this._when = options.when ?? this._when;\n        }\n    }\n\n    get sortString(): string {\n        return this.order || this.id;\n    }\n\n    get isSubmenu(): boolean {\n        return Boolean(this.label);\n    }\n\n    /** @deprecated @since 1.28 use CompoundMenuNode.isNavigationGroup instead */\n    static isNavigationGroup = CompoundMenuNode.isNavigationGroup;\n}\n\nexport class CompositeMenuNodeWrapper implements MutableCompoundMenuNode {\n    constructor(protected readonly wrapped: Readonly<MutableCompoundMenuNode>, readonly parent: CompoundMenuNode, protected readonly options?: SubMenuOptions) { }\n\n    get id(): string { return this.wrapped.id; }\n\n    get label(): string | undefined { return this.wrapped.label; }\n\n    get sortString(): string { return this.options?.order || this.wrapped.sortString; }\n\n    get isSubmenu(): boolean { return Boolean(this.label); }\n\n    get role(): CompoundMenuNodeRole { return this.options?.role ?? this.wrapped.role; }\n\n    get icon(): string | undefined { return this.iconClass; }\n\n    get iconClass(): string | undefined { return this.options?.iconClass ?? this.wrapped.icon; }\n\n    get order(): string | undefined { return this.sortString; }\n\n    get when(): string | undefined { return this.options?.when ?? this.wrapped.when; }\n\n    get children(): ReadonlyArray<MenuNode> { return this.wrapped.children; }\n\n    addNode(node: MenuNode): Disposable { return this.wrapped.addNode(node); }\n\n    removeNode(id: string): void { return this.wrapped.removeNode(id); }\n\n    updateOptions(options: SubMenuOptions): void { return this.wrapped.updateOptions(options); }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './action-menu-node';\nexport * from './composite-menu-node';\nexport * from './menu-adapter';\nexport * from './menu-model-registry';\nexport * from './menu-types';\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable } from 'inversify';\nimport { CommandRegistry } from '../command';\nimport { Disposable } from '../disposable';\nimport { MenuPath } from './menu-types';\n\nexport type MenuCommandArguments = [menuPath: MenuPath, command: string, ...commandArgs: unknown[]];\n\nexport const MenuCommandExecutor = Symbol('MenuCommandExecutor');\nexport interface MenuCommandExecutor {\n    isVisible(...args: MenuCommandArguments): boolean;\n    isEnabled(...args: MenuCommandArguments): boolean;\n    isToggled(...args: MenuCommandArguments): boolean;\n    executeCommand(...args: MenuCommandArguments): Promise<unknown>;\n};\n\nexport const MenuCommandAdapter = Symbol('MenuCommandAdapter');\nexport interface MenuCommandAdapter extends MenuCommandExecutor {\n    /** Return values less than or equal to 0 are treated as rejections. */\n    canHandle(...args: MenuCommandArguments): number;\n}\n\nexport const MenuCommandAdapterRegistry = Symbol('MenuCommandAdapterRegistry');\nexport interface MenuCommandAdapterRegistry {\n    registerAdapter(adapter: MenuCommandAdapter): Disposable;\n    getAdapterFor(...args: MenuCommandArguments): MenuCommandAdapter | undefined;\n}\n\n@injectable()\nexport class MenuCommandExecutorImpl implements MenuCommandExecutor {\n    @inject(MenuCommandAdapterRegistry) protected readonly adapterRegistry: MenuCommandAdapterRegistry;\n    @inject(CommandRegistry) protected readonly commandRegistry: CommandRegistry;\n\n    executeCommand(menuPath: MenuPath, command: string, ...commandArgs: unknown[]): Promise<unknown> {\n        return this.delegate(menuPath, command, commandArgs, 'executeCommand');\n    }\n\n    isVisible(menuPath: MenuPath, command: string, ...commandArgs: unknown[]): boolean {\n        return this.delegate(menuPath, command, commandArgs, 'isVisible');\n    }\n\n    isEnabled(menuPath: MenuPath, command: string, ...commandArgs: unknown[]): boolean {\n        return this.delegate(menuPath, command, commandArgs, 'isEnabled');\n    }\n\n    isToggled(menuPath: MenuPath, command: string, ...commandArgs: unknown[]): boolean {\n        return this.delegate(menuPath, command, commandArgs, 'isToggled');\n    }\n\n    protected delegate<T extends keyof MenuCommandExecutor>(menuPath: MenuPath, command: string, commandArgs: unknown[], method: T): ReturnType<MenuCommandExecutor[T]> {\n        const adapter = this.adapterRegistry.getAdapterFor(menuPath, command, commandArgs);\n        return (adapter\n            ? adapter[method](menuPath, command, ...commandArgs)\n            : this.commandRegistry[method](command, ...commandArgs)) as ReturnType<MenuCommandExecutor[T]>;\n    }\n}\n\n@injectable()\nexport class MenuCommandAdapterRegistryImpl implements MenuCommandAdapterRegistry {\n    protected readonly adapters = new Array<MenuCommandAdapter>();\n\n    registerAdapter(adapter: MenuCommandAdapter): Disposable {\n        if (!this.adapters.includes(adapter)) {\n            this.adapters.push(adapter);\n            return Disposable.create(() => {\n                const index = this.adapters.indexOf(adapter);\n                if (index !== -1) {\n                    this.adapters.splice(index, 1);\n                }\n            });\n        }\n        return Disposable.NULL;\n    }\n\n    getAdapterFor(menuPath: MenuPath, command: string, ...commandArgs: unknown[]): MenuCommandAdapter | undefined {\n        let bestAdapter: MenuCommandAdapter | undefined = undefined;\n        let bestScore = 0;\n        let currentScore = 0;\n        for (const adapter of this.adapters) {\n            // Greater than or equal: favor later registrations over earlier.\n            if ((currentScore = adapter.canHandle(menuPath, command, ...commandArgs)) >= bestScore) {\n                bestScore = currentScore;\n                bestAdapter = adapter;\n            }\n        }\n        return bestAdapter;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, named } from 'inversify';\nimport { Command, CommandRegistry } from '../command';\nimport { ContributionProvider } from '../contribution-provider';\nimport { Disposable } from '../disposable';\nimport { ActionMenuNode } from './action-menu-node';\nimport { CompositeMenuNode, CompositeMenuNodeWrapper } from './composite-menu-node';\nimport { CompoundMenuNode, MenuAction, MenuNode, MenuNodeMetadata, MenuPath, MutableCompoundMenuNode, SubMenuOptions } from './menu-types';\n\nexport const MenuContribution = Symbol('MenuContribution');\n\n/**\n * Representation of a menu contribution.\n *\n * Note that there are also convenience classes which combine multiple contributions into one.\n * For example to register a view together with a menu and keybinding you could use\n * {@link AbstractViewContribution} instead.\n *\n * ### Example usage\n *\n * ```ts\n * import { MenuContribution, MenuModelRegistry, MAIN_MENU_BAR } from '@theia/core';\n *\n * @injectable()\n * export class NewMenuContribution implements MenuContribution {\n *    registerMenus(menus: MenuModelRegistry): void {\n *         const menuPath = [...MAIN_MENU_BAR, '99_mymenu'];\n *         menus.registerSubmenu(menuPath, 'My Menu');\n *\n *         menus.registerMenuAction(menuPath, {\n *            commandId: MyCommand.id,\n *            label: 'My Action'\n *         });\n *     }\n * }\n * ```\n */\nexport interface MenuContribution {\n    /**\n     * Registers menus.\n     * @param menus the menu model registry.\n     */\n    registerMenus(menus: MenuModelRegistry): void;\n}\n\n/**\n * The MenuModelRegistry allows to register and unregister menus, submenus and actions\n * via strings and {@link MenuAction}s without the need to access the underlying UI\n * representation.\n */\n@injectable()\nexport class MenuModelRegistry {\n    protected readonly root = new CompositeMenuNode('');\n    protected readonly independentSubmenus = new Map<string, MutableCompoundMenuNode>();\n\n    constructor(\n        @inject(ContributionProvider) @named(MenuContribution)\n        protected readonly contributions: ContributionProvider<MenuContribution>,\n        @inject(CommandRegistry) protected readonly commands: CommandRegistry\n    ) { }\n\n    onStart(): void {\n        for (const contrib of this.contributions.getContributions()) {\n            contrib.registerMenus(this);\n        }\n    }\n\n    /**\n     * Adds the given menu action to the menu denoted by the given path.\n     *\n     * @returns a disposable which, when called, will remove the menu action again.\n     */\n    registerMenuAction(menuPath: MenuPath, item: MenuAction): Disposable {\n        const menuNode = new ActionMenuNode(item, this.commands);\n        return this.registerMenuNode(menuPath, menuNode);\n    }\n\n    /**\n     * Adds the given menu node to the menu denoted by the given path.\n     *\n     * @returns a disposable which, when called, will remove the menu node again.\n     */\n    registerMenuNode(menuPath: MenuPath | string, menuNode: MenuNode, group?: string): Disposable {\n        const parent = this.getMenuNode(menuPath, group);\n        return parent.addNode(menuNode);\n    }\n\n    getMenuNode(menuPath: MenuPath | string, group?: string): MutableCompoundMenuNode {\n        if (typeof menuPath === 'string') {\n            const target = this.independentSubmenus.get(menuPath);\n            if (!target) { throw new Error(`Could not find submenu with id ${menuPath}`); }\n            if (group) {\n                return this.findSubMenu(target, group);\n            }\n            return target;\n        } else {\n            return this.findGroup(group ? menuPath.concat(group) : menuPath);\n        }\n    }\n\n    /**\n     * Register a new menu at the given path with the given label.\n     * (If the menu already exists without a label, iconClass or order this method can be used to set them.)\n     *\n     * @param menuPath the path for which a new submenu shall be registered.\n     * @param label the label to be used for the new submenu.\n     * @param options optionally allows to set an icon class and specify the order of the new menu.\n     *\n     * @returns if the menu was successfully created a disposable will be returned which,\n     * when called, will remove the menu again. If the menu already existed a no-op disposable\n     * will be returned.\n     *\n     * Note that if the menu already existed and was registered with a different label an error\n     * will be thrown.\n     */\n    registerSubmenu(menuPath: MenuPath, label: string, options?: SubMenuOptions): Disposable {\n        if (menuPath.length === 0) {\n            throw new Error('The sub menu path cannot be empty.');\n        }\n        const index = menuPath.length - 1;\n        const menuId = menuPath[index];\n        const groupPath = index === 0 ? [] : menuPath.slice(0, index);\n        const parent = this.findGroup(groupPath, options);\n        let groupNode = this.findSubMenu(parent, menuId, options);\n        if (!groupNode) {\n            groupNode = new CompositeMenuNode(menuId, label, options, parent);\n            return parent.addNode(groupNode);\n        } else {\n            groupNode.updateOptions({ ...options, label });\n            return Disposable.NULL;\n        }\n    }\n\n    registerIndependentSubmenu(id: string, label: string, options?: SubMenuOptions): Disposable {\n        if (this.independentSubmenus.has(id)) {\n            console.debug(`Independent submenu with path ${id} registered, but given ID already exists.`);\n        }\n        this.independentSubmenus.set(id, new CompositeMenuNode(id, label, options));\n        return { dispose: () => this.independentSubmenus.delete(id) };\n    }\n\n    linkSubmenu(parentPath: MenuPath | string, childId: string | MenuPath, options?: SubMenuOptions, group?: string): Disposable {\n        const child = this.getMenuNode(childId);\n        const parent = this.getMenuNode(parentPath, group);\n\n        const isRecursive = (node: MenuNodeMetadata, childNode: MenuNodeMetadata): boolean => {\n            if (node.id === childNode.id) {\n                return true;\n            }\n            if (node.parent) {\n                return isRecursive(node.parent, childNode);\n            }\n            return false;\n        };\n\n        // check for menu contribution recursion\n        if (isRecursive(parent, child)) {\n            console.warn(`Recursive menu contribution detected: ${child.id} is already in hierarchy of ${parent.id}.`);\n            return Disposable.NULL;\n        }\n\n        const wrapper = new CompositeMenuNodeWrapper(child, parent, options);\n        return parent.addNode(wrapper);\n    }\n\n    /**\n     * Unregister all menu nodes with the same id as the given menu action.\n     *\n     * @param item the item whose id will be used.\n     * @param menuPath if specified only nodes within the path will be unregistered.\n     */\n    unregisterMenuAction(item: MenuAction, menuPath?: MenuPath): void;\n    /**\n     * Unregister all menu nodes with the same id as the given command.\n     *\n     * @param command the command whose id will be used.\n     * @param menuPath if specified only nodes within the path will be unregistered.\n     */\n    unregisterMenuAction(command: Command, menuPath?: MenuPath): void;\n    /**\n     * Unregister all menu nodes with the given id.\n     *\n     * @param id the id which shall be removed.\n     * @param menuPath if specified only nodes within the path will be unregistered.\n     */\n    unregisterMenuAction(id: string, menuPath?: MenuPath): void;\n    unregisterMenuAction(itemOrCommandOrId: MenuAction | Command | string, menuPath?: MenuPath): void {\n        const id = MenuAction.is(itemOrCommandOrId) ? itemOrCommandOrId.commandId\n            : Command.is(itemOrCommandOrId) ? itemOrCommandOrId.id\n                : itemOrCommandOrId;\n\n        if (menuPath) {\n            const parent = this.findGroup(menuPath);\n            parent.removeNode(id);\n            return;\n        }\n\n        this.unregisterMenuNode(id);\n    }\n\n    /**\n     * Recurse all menus, removing any menus matching the `id`.\n     *\n     * @param id technical identifier of the `MenuNode`.\n     */\n    unregisterMenuNode(id: string): void {\n        const recurse = (root: MutableCompoundMenuNode) => {\n            root.children.forEach(node => {\n                if (CompoundMenuNode.isMutable(node)) {\n                    node.removeNode(id);\n                    recurse(node);\n                }\n            });\n        };\n        recurse(this.root);\n    }\n\n    /**\n     * Finds a submenu as a descendant of the `root` node.\n     * See {@link MenuModelRegistry.findSubMenu findSubMenu}.\n     */\n    protected findGroup(menuPath: MenuPath, options?: SubMenuOptions): MutableCompoundMenuNode {\n        let currentMenu: MutableCompoundMenuNode = this.root;\n        for (const segment of menuPath) {\n            currentMenu = this.findSubMenu(currentMenu, segment, options);\n        }\n        return currentMenu;\n    }\n\n    /**\n     * Finds or creates a submenu as an immediate child of `current`.\n     * @throws if a node with the given `menuId` exists but is not a {@link MutableCompoundMenuNode}.\n     */\n    protected findSubMenu(current: MutableCompoundMenuNode, menuId: string, options?: SubMenuOptions): MutableCompoundMenuNode {\n        const sub = current.children.find(e => e.id === menuId);\n        if (CompoundMenuNode.isMutable(sub)) {\n            return sub;\n        }\n        if (sub) {\n            throw new Error(`'${menuId}' is not a menu group.`);\n        }\n        const newSub = new CompositeMenuNode(menuId, undefined, options, current);\n        current.addNode(newSub);\n        return newSub;\n    }\n\n    /**\n     * Returns the menu at the given path.\n     *\n     * @param menuPath the path specifying the menu to return. If not given the empty path will be used.\n     *\n     * @returns the root menu when `menuPath` is empty. If `menuPath` is not empty the specified menu is\n     * returned if it exists, otherwise an error is thrown.\n     */\n    getMenu(menuPath: MenuPath = []): MutableCompoundMenuNode {\n        return this.findGroup(menuPath);\n    }\n\n    /**\n     * Checks the given menu model whether it will show a menu with a single submenu.\n     *\n     * @param fullMenuModel the menu model to analyze\n     * @param menuPath the menu's path\n     * @returns if the menu will show a single submenu this returns a menu that will show the child elements of the submenu,\n     * otherwise the given `fullMenuModel` is return\n     */\n    removeSingleRootNode(fullMenuModel: MutableCompoundMenuNode, menuPath: MenuPath): CompoundMenuNode {\n        // check whether all children are compound menus and that there is only one child that has further children\n        if (!this.allChildrenCompound(fullMenuModel.children)) {\n            return fullMenuModel;\n        }\n        let nonEmptyNode = undefined;\n        for (const child of fullMenuModel.children) {\n            if (!this.isEmpty(child.children || [])) {\n                if (nonEmptyNode === undefined) {\n                    nonEmptyNode = child;\n                } else {\n                    return fullMenuModel;\n                }\n            }\n        }\n\n        if (CompoundMenuNode.is(nonEmptyNode) && nonEmptyNode.children.length === 1 && CompoundMenuNode.is(nonEmptyNode.children[0])) {\n            nonEmptyNode = nonEmptyNode.children[0];\n        }\n\n        return CompoundMenuNode.is(nonEmptyNode) ? nonEmptyNode : fullMenuModel;\n    }\n\n    protected allChildrenCompound(children: ReadonlyArray<MenuNode>): boolean {\n        return children.every(CompoundMenuNode.is);\n    }\n\n    protected isEmpty(children: ReadonlyArray<MenuNode>): boolean {\n        if (children.length === 0) {\n            return true;\n        }\n        if (!this.allChildrenCompound(children)) {\n            return false;\n        }\n        for (const child of children) {\n            if (!this.isEmpty(child.children || [])) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     * Returns the {@link MenuPath path} at which a given menu node can be accessed from this registry, if it can be determined.\n     * Returns `undefined` if the `parent` of any node in the chain is unknown.\n     */\n    getPath(node: MenuNode): MenuPath | undefined {\n        const identifiers = [];\n        const visited: MenuNode[] = [];\n        let next: MenuNode | undefined = node;\n\n        while (next && !visited.includes(next)) {\n            if (next === this.root) {\n                return identifiers.reverse();\n            }\n            visited.push(next);\n            identifiers.push(next.id);\n            next = next.parent;\n        }\n        return undefined;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2022 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Disposable } from '../disposable';\nimport { isObject } from '../types';\n\nexport type MenuPath = string[];\nexport const MAIN_MENU_BAR: MenuPath = ['menubar'];\nexport const MANAGE_MENU: MenuPath = ['manage_menu'];\nexport const ACCOUNTS_MENU: MenuPath = ['accounts_menu'];\nexport const ACCOUNTS_SUBMENU = [...ACCOUNTS_MENU, '1_accounts_submenu'];\n\n/**\n * @internal For most use cases, refer to {@link MenuAction} or {@link MenuNode}\n */\nexport interface MenuNodeMetadata {\n    /**\n     * technical identifier.\n     */\n    readonly id: string;\n    /**\n     * Menu nodes are sorted in ascending order based on their `sortString`.\n     */\n    readonly sortString: string;\n    /**\n     * Condition under which the menu node should be rendered.\n     * See https://code.visualstudio.com/docs/getstarted/keybindings#_when-clause-contexts\n     */\n    readonly when?: string;\n    /**\n     * A reference to the parent node - useful for determining the menu path by which the node can be accessed.\n     */\n    readonly parent?: MenuNode;\n}\n\n/**\n * Metadata for the visual presentation of a node.\n * @internal For most uses cases, refer to {@link MenuNode}, {@link CommandMenuNode}, or {@link CompoundMenuNode}\n */\nexport interface MenuNodeRenderingData {\n    /**\n     * Optional label. Will be rendered as text of the menu item.\n     */\n    readonly label?: string;\n    /**\n     * Icon classes for the menu node. If present, these will produce an icon to the left of the label in browser-style menus.\n     */\n    readonly icon?: string;\n}\n\n/** @internal For most use cases refer to {@link MenuNode}, {@link CommandMenuNode}, or {@link CompoundMenuNode} */\nexport interface MenuNodeBase extends MenuNodeMetadata, MenuNodeRenderingData { }\n\n/**\n * A menu entry representing an action, e.g. \"New File\".\n */\nexport interface MenuAction extends MenuNodeRenderingData, Pick<MenuNodeMetadata, 'when'> {\n    /**\n     * The command to execute.\n     */\n    commandId: string;\n    /**\n     * In addition to the mandatory command property, an alternative command can be defined.\n     * It will be shown and invoked when pressing Alt while opening a menu.\n     */\n    alt?: string;\n    /**\n     * Menu entries are sorted in ascending order based on their `order` strings. If omitted the determined\n     * label will be used instead.\n     */\n    order?: string;\n}\n\nexport namespace MenuAction {\n    /* Determine whether object is a MenuAction */\n    export function is(arg: unknown): arg is MenuAction {\n        return isObject(arg) && 'commandId' in arg;\n    }\n}\n\n/**\n * Additional options when creating a new submenu.\n */\nexport interface SubMenuOptions extends Pick<MenuAction, 'order'>, Pick<MenuNodeMetadata, 'when'>, Partial<Pick<CompoundMenuNode, 'role' | 'label' | 'icon'>> {\n    /**\n     * The class to use for the submenu icon.\n     * @deprecated use `icon` instead;\n     */\n    iconClass?: string;\n}\n\nexport const enum CompoundMenuNodeRole {\n    /** Indicates that the node should be rendered as submenu that opens a new menu on hover */\n    Submenu,\n    /** Indicates that the node's children should be rendered as group separated from other items by a separator */\n    Group,\n    /** Indicates that the node's children should be treated as though they were direct children of the node's parent */\n    Flat,\n}\n\nexport interface CompoundMenuNode extends MenuNodeBase {\n    /**\n     * Items that are grouped under this menu.\n     */\n    readonly children: ReadonlyArray<MenuNode>\n    /**\n     * @deprecated @since 1.28 use `role` instead.\n     * Whether the item should be rendered as a submenu.\n     */\n    readonly isSubmenu: boolean;\n    /**\n     * How the node and its children should be rendered. See {@link CompoundMenuNodeRole}.\n     */\n    readonly role: CompoundMenuNodeRole;\n}\n\nexport interface MutableCompoundMenuNode extends CompoundMenuNode {\n    /**\n     * Inserts the given node at the position indicated by `sortString`.\n     *\n     * @returns a disposable which, when called, will remove the given node again.\n     */\n    addNode(node: MenuNode): Disposable;\n    /**\n     * Removes the first node with the given id.\n     *\n     * @param id node id.\n     */\n    removeNode(id: string): void;\n\n    /**\n     * Fills any `undefined` fields with the values from the {@link options}.\n     */\n    updateOptions(options: SubMenuOptions): void;\n}\n\nexport namespace CompoundMenuNode {\n    export function is(node?: MenuNode): node is CompoundMenuNode { return !!node && Array.isArray(node.children); }\n    export function getRole(node: MenuNode): CompoundMenuNodeRole | undefined {\n        if (!is(node)) { return undefined; }\n        return node.role ?? (node.label ? CompoundMenuNodeRole.Submenu : CompoundMenuNodeRole.Group);\n    }\n    export function sortChildren(m1: MenuNode, m2: MenuNode): number {\n        // The navigation group is special as it will always be sorted to the top/beginning of a menu.\n        if (isNavigationGroup(m1)) {\n            return -1;\n        }\n        if (isNavigationGroup(m2)) {\n            return 1;\n        }\n        return m1.sortString.localeCompare(m2.sortString);\n    }\n\n    /** Collapses the children of any subemenus with role {@link CompoundMenuNodeRole Flat} and sorts */\n    export function getFlatChildren(children: ReadonlyArray<MenuNode>): MenuNode[] {\n        const childrenToMerge: ReadonlyArray<MenuNode>[] = [];\n        return children.filter(child => {\n            if (getRole(child) === CompoundMenuNodeRole.Flat) {\n                childrenToMerge.push((child as CompoundMenuNode).children);\n                return false;\n            }\n            return true;\n        }).concat(...childrenToMerge).sort(sortChildren);\n    }\n\n    /**\n     * Indicates whether the given node is the special `navigation` menu.\n     *\n     * @param node the menu node to check.\n     * @returns `true` when the given node is a {@link CompoundMenuNode} with id `navigation`,\n     * `false` otherwise.\n     */\n    export function isNavigationGroup(node: MenuNode): node is CompoundMenuNode {\n        return is(node) && node.id === 'navigation';\n    }\n\n    export function isMutable(node?: MenuNode): node is MutableCompoundMenuNode {\n        const candidate = node as MutableCompoundMenuNode;\n        return is(candidate) && typeof candidate.addNode === 'function' && typeof candidate.removeNode === 'function';\n    }\n}\n\nexport interface CommandMenuNode extends MenuNodeBase {\n    command: string;\n}\n\nexport namespace CommandMenuNode {\n    export function is(candidate?: MenuNode): candidate is CommandMenuNode { return Boolean(candidate?.command); }\n    export function hasAltHandler(candidate?: MenuNode): candidate is AlternativeHandlerMenuNode {\n        const asAltNode = candidate as AlternativeHandlerMenuNode;\n        return is(asAltNode) && is(asAltNode?.altNode);\n    }\n}\n\nexport interface AlternativeHandlerMenuNode extends CommandMenuNode {\n    altNode: CommandMenuNode;\n}\n\n/**\n * Base interface of the nodes used in the menu tree structure.\n */\nexport type MenuNode = MenuNodeMetadata\n    & MenuNodeRenderingData\n    & Partial<CompoundMenuNode>\n    & Partial<CommandMenuNode>\n    & Partial<AlternativeHandlerMenuNode>;\n","// *****************************************************************************\n// Copyright (C) 2021 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Disposable, DisposableCollection } from '../disposable';\nimport { Emitter, Event } from '../event';\nimport { ReadBuffer, WriteBuffer } from './message-buffer';\n\n/**\n * A channel is a bidirectional communications channel with lifecycle and\n * error signalling. Note that creation of channels is specific to particular\n * implementations and thus not part of the protocol.\n */\nexport interface Channel {\n\n    /**\n     * The remote side has closed the channel\n     */\n    onClose: Event<ChannelCloseEvent>;\n\n    /**\n     * An error has occurred while writing to or reading from the channel\n     */\n    onError: Event<unknown>;\n\n    /**\n     * A message has arrived and can be read  by listeners using a {@link MessageProvider}.\n     */\n    onMessage: Event<MessageProvider>;\n\n    /**\n     * Obtain a {@link WriteBuffer} to write a message to the channel.\n     */\n    getWriteBuffer(): WriteBuffer;\n\n    /**\n     * Close this channel. No {@link onClose} event should be sent\n     */\n    close(): void;\n}\n\n/**\n * The event that is emitted when a channel is closed from the remote side.\n */\nexport interface ChannelCloseEvent {\n    reason: string,\n    code?: number\n};\n\n/**\n * The `MessageProvider` is emitted when a channel receives a new message.\n * Listeners can invoke the provider to obtain a new {@link ReadBuffer} for the received message.\n * This ensures that each listener has its own isolated {@link ReadBuffer} instance.\n *\n */\nexport type MessageProvider = () => ReadBuffer;\n\n/**\n *  Reusable abstract {@link Channel} implementation that sets up\n *  the basic channel event listeners and offers a generic close method.\n */\nexport abstract class AbstractChannel implements Channel {\n\n    onCloseEmitter: Emitter<ChannelCloseEvent> = new Emitter();\n    get onClose(): Event<ChannelCloseEvent> {\n        return this.onCloseEmitter.event;\n    };\n\n    onErrorEmitter: Emitter<unknown> = new Emitter();\n    get onError(): Event<unknown> {\n        return this.onErrorEmitter.event;\n    };\n\n    onMessageEmitter: Emitter<MessageProvider> = new Emitter();\n    get onMessage(): Event<MessageProvider> {\n        return this.onMessageEmitter.event;\n    };\n\n    protected toDispose: DisposableCollection = new DisposableCollection();\n\n    constructor() {\n        this.toDispose.pushAll([this.onCloseEmitter, this.onErrorEmitter, this.onMessageEmitter]);\n    }\n\n    close(): void {\n        this.toDispose.dispose();\n    }\n\n    abstract getWriteBuffer(): WriteBuffer;\n}\n\n/**\n * A very basic {@link AbstractChannel} implementation which takes a function\n * for retrieving the {@link WriteBuffer} as constructor argument.\n */\nexport class BasicChannel extends AbstractChannel {\n\n    constructor(protected writeBufferProvider: () => WriteBuffer) {\n        super();\n    }\n\n    getWriteBuffer(): WriteBuffer {\n        return this.writeBufferProvider();\n    }\n}\n\n/**\n * Helper class to implement the single channels on a {@link ChannelMultiplexer}. Simply forwards write requests to\n * the given write buffer source i.e. the main channel of the {@link ChannelMultiplexer}.\n */\nexport class ForwardingChannel extends AbstractChannel {\n\n    constructor(readonly id: string, protected readonly closeHandler: () => void, protected readonly writeBufferSource: () => WriteBuffer) {\n        super();\n    }\n\n    getWriteBuffer(): WriteBuffer {\n        return this.writeBufferSource();\n    }\n\n    override close(): void {\n        super.close();\n        this.closeHandler();\n    }\n}\n\n/**\n * The different message types used in the messaging protocol of the {@link ChannelMultiplexer}\n */\nexport enum MessageTypes {\n    Open = 1,\n    Close = 2,\n    AckOpen = 3,\n    Data = 4\n}\n\n/**\n * The write buffers in this implementation immediately write to the underlying\n * channel, so we rely on writers to the multiplexed channels to always commit their\n * messages and always in one go.\n */\nexport class ChannelMultiplexer implements Disposable {\n    protected pendingOpen: Map<string, (channel: ForwardingChannel) => void> = new Map();\n    protected openChannels: Map<string, ForwardingChannel> = new Map();\n\n    protected readonly onOpenChannelEmitter = new Emitter<{ id: string, channel: Channel }>();\n    get onDidOpenChannel(): Event<{ id: string, channel: Channel }> {\n        return this.onOpenChannelEmitter.event;\n    }\n\n    protected toDispose = new DisposableCollection();\n\n    constructor(protected readonly underlyingChannel: Channel) {\n        this.toDispose.pushAll([\n            this.underlyingChannel.onMessage(buffer => this.handleMessage(buffer())),\n            this.underlyingChannel.onClose(event => this.onUnderlyingChannelClose(event)),\n            this.underlyingChannel.onError(error => this.handleError(error)),\n            this.onOpenChannelEmitter\n        ]);\n    }\n\n    protected handleError(error: unknown): void {\n        this.openChannels.forEach(channel => {\n            channel.onErrorEmitter.fire(error);\n        });\n    }\n\n    onUnderlyingChannelClose(event?: ChannelCloseEvent): void {\n        if (!this.toDispose.disposed) {\n            this.toDispose.push(Disposable.create(() => {\n                this.pendingOpen.clear();\n                this.openChannels.forEach(channel => {\n                    channel.onCloseEmitter.fire(event ?? { reason: 'Multiplexer main channel has been closed from the remote side!' });\n                });\n\n                this.openChannels.clear();\n            }));\n            this.dispose();\n        }\n\n    }\n\n    protected handleMessage(buffer: ReadBuffer): void {\n        const type = buffer.readUint8();\n        const id = buffer.readString();\n        switch (type) {\n            case MessageTypes.AckOpen: {\n                return this.handleAckOpen(id);\n            }\n            case MessageTypes.Open: {\n                return this.handleOpen(id);\n            }\n            case MessageTypes.Close: {\n                return this.handleClose(id);\n            }\n            case MessageTypes.Data: {\n                return this.handleData(id, buffer);\n            }\n        }\n    }\n\n    protected handleAckOpen(id: string): void {\n        // edge case: both side try to open a channel at the same time.\n        const resolve = this.pendingOpen.get(id);\n        if (resolve) {\n            const channel = this.createChannel(id);\n            this.pendingOpen.delete(id);\n            this.openChannels.set(id, channel);\n            resolve(channel);\n            this.onOpenChannelEmitter.fire({ id, channel });\n        } else {\n            console.error(`not expecting ack-open on for ${id}`);\n        }\n    }\n\n    protected handleOpen(id: string): void {\n        if (!this.openChannels.has(id)) {\n            const channel = this.createChannel(id);\n            this.openChannels.set(id, channel);\n            const resolve = this.pendingOpen.get(id);\n            if (resolve) {\n                // edge case: both side try to open a channel at the same time.\n                resolve(channel);\n            }\n            this.underlyingChannel.getWriteBuffer().writeUint8(MessageTypes.AckOpen).writeString(id).commit();\n            this.onOpenChannelEmitter.fire({ id, channel });\n        } else {\n            console.error(`channel already open: ${id}`);\n        }\n    }\n\n    protected handleClose(id: string): void {\n        const channel = this.openChannels.get(id);\n        if (channel) {\n            channel.onCloseEmitter.fire({ reason: 'Channel has been closed from the remote side' });\n            this.openChannels.delete(id);\n        }\n    }\n\n    protected handleData(id: string, data: ReadBuffer): void {\n        const channel = this.openChannels.get(id);\n        if (channel) {\n            channel.onMessageEmitter.fire(() => data.sliceAtReadPosition());\n        }\n    }\n\n    protected createChannel(id: string): ForwardingChannel {\n        return new ForwardingChannel(id, () => this.closeChannel(id), () => this.prepareWriteBuffer(id));\n    }\n\n    // Prepare the write buffer for the channel with the give, id. The channel id has to be encoded\n    // and written to the buffer before the actual message.\n    protected prepareWriteBuffer(id: string): WriteBuffer {\n        const underlying = this.underlyingChannel.getWriteBuffer();\n        underlying.writeUint8(MessageTypes.Data);\n        underlying.writeString(id);\n        return underlying;\n    }\n\n    protected closeChannel(id: string): void {\n        this.underlyingChannel.getWriteBuffer()\n            .writeUint8(MessageTypes.Close)\n            .writeString(id)\n            .commit();\n\n        this.openChannels.delete(id);\n    }\n\n    open(id: string): Promise<Channel> {\n        if (this.openChannels.has(id) || this.pendingOpen.has(id)) {\n            throw new Error(`Another channel with the id '${id}' is already open.`);\n        }\n        const result = new Promise<Channel>((resolve, reject) => {\n            this.pendingOpen.set(id, resolve);\n        });\n        this.underlyingChannel.getWriteBuffer().writeUint8(MessageTypes.Open).writeString(id).commit();\n        return result;\n    }\n\n    getOpenChannel(id: string): Channel | undefined {\n        return this.openChannels.get(id);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n}\n\n","// *****************************************************************************\n// Copyright (C) 2022 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\nexport { AbstractChannel, Channel, ChannelCloseEvent, MessageProvider } from './channel';\nexport { ReadBuffer, WriteBuffer } from './message-buffer';\nexport { RequestHandler, RpcProtocol, RpcProtocolOptions } from './rpc-protocol';\n\nimport { registerMsgPackExtensions } from './rpc-message-encoder';\n\nregisterMsgPackExtensions();\n","// *****************************************************************************\n// Copyright (C) 2022 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { addExtension } from 'msgpackr';\n\n/**\n * Handles the global registration of custom MsgPackR extensions\n * required for the default RPC communication. MsgPackR extensions\n * are installed globally on both ends of the communication channel.\n * (frontend-backend, pluginExt-pluginMain).\n * Is implemented as singleton as it is also used in plugin child processes which have no access to inversify.\n */\nexport class MsgPackExtensionManager {\n    private static readonly INSTANCE = new MsgPackExtensionManager();\n    public static getInstance(): MsgPackExtensionManager {\n        return this.INSTANCE;\n    }\n\n    private extensions = new Map<number, MsgPackExtension>();\n\n    private constructor() {\n    }\n\n    registerExtensions(...extensions: MsgPackExtension[]): void {\n        extensions.forEach(extension => {\n            if (extension.tag < 1 || extension.tag > 100) {\n                // MsgPackR reserves the tag range 1-100 for custom extensions.\n                throw new Error(`MsgPack extension tag should be a number from 1-100 but was '${extension.tag}'`);\n            }\n            if (this.extensions.has(extension.tag)) {\n                throw new Error(`Another MsgPack extension with the tag '${extension.tag}' is already registered`);\n            }\n            this.extensions.set(extension.tag, extension);\n            addExtension({\n                Class: extension.class,\n                type: extension.tag,\n                write: extension.serialize,\n                read: extension.deserialize\n            });\n        });\n    }\n\n    getExtension(tag: number): MsgPackExtension | undefined {\n        return this.extensions.get(tag);\n    }\n}\n\nexport interface MsgPackExtension {\n    class: Function,\n    tag: number,\n    serialize(instance: unknown): unknown,\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    deserialize(serialized: any): unknown\n}\n\nexport type Constructor<T> = new (...params: unknown[]) => T;\n\n","// *****************************************************************************\n// Copyright (C) 2022 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { Packr as MsgPack } from 'msgpackr';\nimport { ReadBuffer, WriteBuffer } from './message-buffer';\nimport { MsgPackExtensionManager } from './msg-pack-extension-manager';\n\n/**\n * This code lets you encode rpc protocol messages (request/reply/notification/error/cancel)\n * into a channel write buffer and decode the same messages from a read buffer.\n * Custom encoders/decoders can be registered to specially handling certain types of values\n * to be encoded. Clients are responsible for ensuring that the set of tags for encoders\n * is distinct and the same at both ends of a channel.\n */\n\nexport type RpcMessage = RequestMessage | ReplyMessage | ReplyErrMessage | CancelMessage | NotificationMessage;\n\nexport const enum RpcMessageType {\n    Request = 1,\n    Notification = 2,\n    Reply = 3,\n    ReplyErr = 4,\n    Cancel = 5,\n}\n\nexport interface CancelMessage {\n    type: RpcMessageType.Cancel;\n    id: number;\n}\n\nexport interface RequestMessage {\n    type: RpcMessageType.Request;\n    id: number;\n    method: string;\n    args: any[];\n}\n\nexport interface NotificationMessage {\n    type: RpcMessageType.Notification;\n    id?: number;\n    method: string;\n    args: any[];\n}\n\nexport interface ReplyMessage {\n    type: RpcMessageType.Reply;\n    id: number;\n    res: any;\n}\n\nexport interface ReplyErrMessage {\n    type: RpcMessageType.ReplyErr;\n    id: number;\n    err: any;\n}\n\nexport interface SerializedError {\n    readonly $isError: true;\n    readonly name: string;\n    readonly message: string;\n    readonly stack: string;\n}\n\n/**\n * A special error that can be returned in case a request\n * has failed. Provides additional information i.e. an error code\n * and additional error data.\n */\nexport class ResponseError extends Error {\n    constructor(readonly code: number, message: string, readonly data: any) {\n        super(message);\n    }\n}\n\n/**\n * Custom error thrown by the {@link RpcMessageEncoder} if an error occurred during the encoding and the\n * object could not be written to the given {@link WriteBuffer}\n */\nexport class EncodingError extends Error {\n    constructor(msg: string, public cause?: Error) {\n        super(msg);\n    }\n}\n\n/**\n * A `RpcMessageDecoder` parses a a binary message received via {@link ReadBuffer} into a {@link RpcMessage}\n */\nexport interface RpcMessageDecoder {\n    parse(buffer: ReadBuffer): RpcMessage;\n}\n\n/**\n * A `RpcMessageEncoder` writes {@link RpcMessage} objects to a {@link WriteBuffer}. Note that it is\n * up to clients to commit the message. This allows for multiple messages being\n * encoded before sending.\n */\nexport interface RpcMessageEncoder {\n    cancel(buf: WriteBuffer, requestId: number): void;\n\n    notification(buf: WriteBuffer, method: string, args: any[], id?: number): void\n\n    request(buf: WriteBuffer, requestId: number, method: string, args: any[]): void\n\n    replyOK(buf: WriteBuffer, requestId: number, res: any): void\n\n    replyErr(buf: WriteBuffer, requestId: number, err: any): void\n\n}\n\nexport const defaultMsgPack = new MsgPack({ moreTypes: true, encodeUndefinedAsNil: false, bundleStrings: false });\n\nexport class MsgPackMessageEncoder implements RpcMessageEncoder {\n\n    constructor(protected readonly msgPack: MsgPack = defaultMsgPack) { }\n\n    cancel(buf: WriteBuffer, requestId: number): void {\n        this.encode<CancelMessage>(buf, { type: RpcMessageType.Cancel, id: requestId });\n    }\n    notification(buf: WriteBuffer, method: string, args: any[], id?: number): void {\n        this.encode<NotificationMessage>(buf, { type: RpcMessageType.Notification, method, args, id });\n    }\n    request(buf: WriteBuffer, requestId: number, method: string, args: any[]): void {\n        this.encode<RequestMessage>(buf, { type: RpcMessageType.Request, id: requestId, method, args });\n    }\n    replyOK(buf: WriteBuffer, requestId: number, res: any): void {\n        this.encode<ReplyMessage>(buf, { type: RpcMessageType.Reply, id: requestId, res });\n    }\n    replyErr(buf: WriteBuffer, requestId: number, err: any): void {\n        this.encode<ReplyErrMessage>(buf, { type: RpcMessageType.ReplyErr, id: requestId, err });\n    }\n\n    encode<T = unknown>(buf: WriteBuffer, value: T): void {\n        try {\n            buf.writeBytes(this.msgPack.encode(value));\n        } catch (err) {\n            if (err instanceof Error) {\n                throw new EncodingError(`Error during encoding: '${err.message}'`, err);\n            }\n            throw err;\n        }\n    }\n}\n\nexport class MsgPackMessageDecoder implements RpcMessageDecoder {\n    constructor(protected readonly msgPack: MsgPack = defaultMsgPack) { }\n\n    decode<T = any>(buf: ReadBuffer): T {\n        const bytes = buf.readBytes();\n        return this.msgPack.decode(bytes);\n    }\n\n    parse(buffer: ReadBuffer): RpcMessage {\n        return this.decode(buffer);\n    }\n}\n\nexport function registerMsgPackExtensions(): void {\n    // Register custom msgPack extension for Errors.\n    MsgPackExtensionManager.getInstance().registerExtensions({\n        class: Error,\n        tag: 1,\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        serialize: (error: any) => {\n            const { code, data, message, name } = error;\n            const stack = error.stacktrace ?? error.stack;\n            const isResponseError = error instanceof ResponseError;\n            return { code, data, message, name, stack, isResponseError };\n        },\n        deserialize: data => {\n            const error = data.isResponseError ? new ResponseError(data.code, data.message, data.data) : new Error(data.message);\n            error.name = data.name;\n            error.stack = data.stack;\n            return error;\n        }\n    });\n}\n","// *****************************************************************************\n// Copyright (C) 2021 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { CancellationToken, CancellationTokenSource } from '../cancellation';\nimport { DisposableWrapper, Disposable, DisposableCollection } from '../disposable';\nimport { Emitter, Event } from '../event';\nimport { Deferred } from '../promise-util';\nimport { Channel } from './channel';\nimport { MsgPackMessageDecoder, MsgPackMessageEncoder, RpcMessage, RpcMessageDecoder, RpcMessageEncoder, RpcMessageType } from './rpc-message-encoder';\n\n/**\n * Handles request messages received by the {@link RPCProtocol}.\n */\nexport type RequestHandler = (method: string, args: any[]) => Promise<any>;\n\n/**\n * Initialization options for a {@link RpcProtocol}.\n */\nexport interface RpcProtocolOptions {\n    /**\n     * The message encoder that should be used. If `undefined` the default {@link RpcMessageEncoder} will be used.\n     */\n    encoder?: RpcMessageEncoder,\n    /**\n     * The message decoder that should be used. If `undefined` the default {@link RpcMessageDecoder} will be used.\n     */\n    decoder?: RpcMessageDecoder,\n    /**\n     * The runtime mode determines whether the RPC protocol is bi-directional (default) or acts as a client or server only.\n     */\n    mode?: 'default' | 'clientOnly' | 'serverOnly'\n}\n\n/**\n * Establish a RPC protocol on top of a given channel. By default the rpc protocol is bi-directional, meaning it is possible to send\n * requests and notifications to the remote side (i.e. acts as client) as well as receiving requests and notifications from the remote side (i.e. acts as a server).\n * Clients can get a promise for a remote request result that will be either resolved or\n * rejected depending on the success of the request. Keeps track of outstanding requests and matches replies to the appropriate request\n * Currently, there is no timeout handling for long running requests implemented.\n * The bi-directional mode can be reconfigured using the {@link RpcProtocolOptions} to construct an RPC protocol instance that acts only as client or server instead.\n */\nexport class RpcProtocol {\n    static readonly CANCELLATION_TOKEN_KEY = 'add.cancellation.token';\n\n    protected readonly pendingRequests: Map<number, Deferred<any>> = new Map();\n    protected readonly pendingRequestCancellationEventListeners: Map<number, DisposableWrapper> = new Map();\n\n    protected nextMessageId: number = 0;\n\n    protected readonly encoder: RpcMessageEncoder;\n    protected readonly decoder: RpcMessageDecoder;\n    protected readonly mode: 'default' | 'clientOnly' | 'serverOnly';\n\n    protected readonly onNotificationEmitter: Emitter<{ method: string; args: any[]; }> = new Emitter();\n    protected readonly cancellationTokenSources = new Map<number, CancellationTokenSource>();\n\n    get onNotification(): Event<{ method: string; args: any[]; }> {\n        return this.onNotificationEmitter.event;\n    }\n\n    protected toDispose = new DisposableCollection();\n\n    constructor(public readonly channel: Channel, public readonly requestHandler: RequestHandler | undefined, options: RpcProtocolOptions = {}) {\n        this.encoder = options.encoder ?? new MsgPackMessageEncoder();\n        this.decoder = options.decoder ?? new MsgPackMessageDecoder();\n        this.toDispose.push(this.onNotificationEmitter);\n        channel.onClose(event => {\n            this.pendingRequests.forEach(pending => pending.reject(new Error(event.reason)));\n            this.pendingRequests.clear();\n            this.pendingRequestCancellationEventListeners.forEach(disposable => disposable.dispose());\n            this.pendingRequestCancellationEventListeners.clear();\n            this.toDispose.dispose();\n        });\n        this.toDispose.push(channel.onMessage(readBuffer => this.handleMessage(this.decoder.parse(readBuffer()))));\n        this.mode = options.mode ?? 'default';\n\n        if (this.mode !== 'clientOnly' && requestHandler === undefined) {\n            console.error('RPCProtocol was initialized without a request handler but was not set to clientOnly mode.');\n        }\n    }\n\n    handleMessage(message: RpcMessage): void {\n        if (this.mode !== 'clientOnly') {\n            switch (message.type) {\n                case RpcMessageType.Cancel: {\n                    this.handleCancel(message.id);\n                    return;\n                }\n                case RpcMessageType.Request: {\n                    this.handleRequest(message.id, message.method, message.args);\n                    return;\n                }\n                case RpcMessageType.Notification: {\n                    this.handleNotify(message.method, message.args, message.id);\n                    return;\n                }\n            }\n        }\n        if (this.mode !== 'serverOnly') {\n            switch (message.type) {\n                case RpcMessageType.Reply: {\n                    this.handleReply(message.id, message.res);\n                    return;\n                }\n                case RpcMessageType.ReplyErr: {\n                    this.handleReplyErr(message.id, message.err);\n                    return;\n                }\n            }\n        }\n        // If the message was not handled until here, it is incompatible with the mode.\n        console.warn(`Received message incompatible with this RPCProtocol's mode '${this.mode}'. Type: ${message.type}. ID: ${message.id}.`);\n    }\n\n    protected handleReply(id: number, value: any): void {\n        const replyHandler = this.pendingRequests.get(id);\n        if (replyHandler) {\n            this.pendingRequests.delete(id);\n            replyHandler.resolve(value);\n        } else {\n            throw new Error(`No reply handler for reply with id: ${id}`);\n        }\n        this.disposeCancellationEventListener(id);\n    }\n\n    protected handleReplyErr(id: number, error: any): void {\n        const replyHandler = this.pendingRequests.get(id);\n        if (replyHandler) {\n            this.pendingRequests.delete(id);\n            replyHandler.reject(error);\n        } else {\n            throw new Error(`No reply handler for error reply with id: ${id}`);\n        }\n        this.disposeCancellationEventListener(id);\n    }\n\n    protected disposeCancellationEventListener(id: number): void {\n        const toDispose = this.pendingRequestCancellationEventListeners.get(id);\n        if (toDispose) {\n            this.pendingRequestCancellationEventListeners.delete(id);\n            toDispose.dispose();\n        }\n    }\n\n    sendRequest<T>(method: string, args: any[]): Promise<T> {\n        // The last element of the request args might be a cancellation token. As these tokens are not serializable we have to remove it from the\n        // args array and the `CANCELLATION_TOKEN_KEY` string instead.\n        const cancellationToken: CancellationToken | undefined = args.length && CancellationToken.is(args[args.length - 1]) ? args.pop() : undefined;\n\n        const id = this.nextMessageId++;\n        const reply = new Deferred<T>();\n\n        if (cancellationToken) {\n            args.push(RpcProtocol.CANCELLATION_TOKEN_KEY);\n        }\n\n        this.pendingRequests.set(id, reply);\n\n        // register disposable before output.commit() even when not available yet\n        const disposableWrapper = new DisposableWrapper();\n        this.pendingRequestCancellationEventListeners.set(id, disposableWrapper);\n\n        const output = this.channel.getWriteBuffer();\n        this.encoder.request(output, id, method, args);\n        output.commit();\n\n        if (cancellationToken?.isCancellationRequested) {\n            this.sendCancel(id);\n        } else {\n            const disposable = cancellationToken?.onCancellationRequested(() => this.sendCancel(id));\n            if (disposable) {\n                disposableWrapper.set(disposable);\n            }\n        }\n\n        return reply.promise;\n    }\n\n    sendNotification(method: string, args: any[]): void {\n        // If the notification supports a CancellationToken, it needs to be treated like a request\n        // because cancellation does not work with the simplified \"fire and forget\" approach of simple notifications.\n        if (args.length && CancellationToken.is(args[args.length - 1])) {\n            this.sendRequest(method, args);\n            return;\n        }\n\n        const output = this.channel.getWriteBuffer();\n        this.encoder.notification(output, method, args, this.nextMessageId++);\n        output.commit();\n    }\n\n    sendCancel(requestId: number): void {\n        const output = this.channel.getWriteBuffer();\n        this.encoder.cancel(output, requestId);\n        output.commit();\n    }\n\n    protected handleCancel(id: number): void {\n        const cancellationTokenSource = this.cancellationTokenSources.get(id);\n        if (cancellationTokenSource) {\n            cancellationTokenSource.cancel();\n        }\n    }\n\n    protected async handleRequest(id: number, method: string, args: any[]): Promise<void> {\n        const output = this.channel.getWriteBuffer();\n\n        // Check if the last argument of the received args is the key for indicating that a cancellation token should be used\n        // If so remove the key from the args and create a new cancellation token.\n        const addToken = args.length && args[args.length - 1] === RpcProtocol.CANCELLATION_TOKEN_KEY ? args.pop() : false;\n        if (addToken) {\n            const tokenSource = new CancellationTokenSource();\n            this.cancellationTokenSources.set(id, tokenSource);\n            args.push(tokenSource.token);\n        }\n\n        try {\n            const result = await this.requestHandler!(method, args);\n            this.cancellationTokenSources.delete(id);\n            this.encoder.replyOK(output, id, result);\n            output.commit();\n        } catch (err) {\n            // In case of an error the output buffer might already contains parts of an message.\n            // => Dispose the current buffer and retrieve a new, clean one for writing the response error.\n            if (Disposable.is(output)) {\n                output.dispose();\n            }\n            const errorOutput = this.channel.getWriteBuffer();\n            this.cancellationTokenSources.delete(id);\n            this.encoder.replyErr(errorOutput, id, err);\n            errorOutput.commit();\n        }\n    }\n\n    protected async handleNotify(method: string, args: any[], id?: number): Promise<void> {\n        if (this.toDispose.disposed) {\n            return;\n        }\n        this.onNotificationEmitter.fire({ method, args });\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from 'inversify';\nimport { CancellationToken } from './cancellation';\nimport { nls } from './nls';\n\nexport const messageServicePath = '/services/messageService';\n\nexport enum MessageType {\n    Error = 1,\n    Warning = 2,\n    Info = 3,\n    Log = 4,\n    Progress = 5\n}\n\nexport interface Message {\n    /**\n     * Type of the message, i.e. error, warning, info, etc.\n     */\n    readonly type?: MessageType;\n    /**\n     * Message text.\n     */\n    readonly text: string;\n    /**\n     * Actions offered to the user in the context of the message.\n     */\n    readonly actions?: string[];\n    /**\n     * Additional options.\n     */\n    readonly options?: MessageOptions;\n    readonly source?: string;\n}\n\nexport interface ProgressMessage extends Message {\n    readonly type?: MessageType.Progress;\n    readonly options?: ProgressMessageOptions;\n}\nexport namespace ProgressMessage {\n    export const Cancel = nls.localizeByDefault('Cancel');\n    export function isCancelable(message: ProgressMessage): boolean {\n        return !!message.options?.cancelable;\n    }\n}\n\nexport interface MessageOptions {\n    /**\n     * Timeout in milliseconds.\n     * `0` and negative values are treated as no timeout.\n     */\n    readonly timeout?: number;\n}\n\nexport interface ProgressMessageOptions extends MessageOptions {\n    /**\n     * Default: `false`\n     */\n    readonly cancelable?: boolean;\n    /**\n     * Known values: `notification` | `window` | `scm`\n     */\n    readonly location?: string;\n}\n\nexport interface Progress {\n    /**\n     * Unique progress id.\n     */\n    readonly id: string;\n    /**\n     * Update the current progress.\n     *\n     * @param update the data to update.\n     */\n    readonly report: (update: ProgressUpdate) => void;\n    /**\n     * Cancel or complete the current progress.\n     */\n    readonly cancel: () => void;\n    /**\n     * Result of the progress.\n     *\n     * @returns a promise which resolves to either 'Cancel', an alternative action or `undefined`.\n     */\n    readonly result: Promise<string | undefined>;\n}\n\nexport interface ProgressUpdate {\n    /**\n     * Updated message for the progress.\n     */\n    readonly message?: string;\n    /**\n     * Updated ratio between steps done so far and total number of steps.\n     */\n    readonly work?: { done: number, total: number };\n}\n\n@injectable()\nexport class MessageClient {\n\n    /**\n     * Show a message of the given type and possible actions to the user.\n     * Resolve to a chosen action.\n     * Never reject.\n     *\n     * To be implemented by an extension, e.g. by the messages extension.\n     */\n    showMessage(message: Message): Promise<string | undefined> {\n        console.info(message.text);\n        return Promise.resolve(undefined);\n    }\n\n    /**\n     * Show a progress message with possible actions to user.\n     *\n     * To be implemented by an extension, e.g. by the messages extension.\n     */\n    showProgress(progressId: string, message: ProgressMessage, cancellationToken: CancellationToken): Promise<string | undefined> {\n        console.info(message.text);\n        return Promise.resolve(undefined);\n    }\n\n    /**\n     * Update a previously created progress message.\n     *\n     * To be implemented by an extension, e.g. by the messages extension.\n     */\n    reportProgress(progressId: string, update: ProgressUpdate, message: ProgressMessage, cancellationToken: CancellationToken): Promise<void> {\n        return Promise.resolve(undefined);\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from 'inversify';\nimport {\n    MessageClient,\n    MessageType,\n    MessageOptions,\n    Progress,\n    ProgressUpdate,\n    ProgressMessage\n} from './message-service-protocol';\nimport { CancellationTokenSource } from './cancellation';\n\n/**\n * Service to log and categorize messages, show progress information and offer actions.\n *\n * The messages are processed by this service and forwarded to an injected {@link MessageClient}.\n * For example \"@theia/messages\" provides such a client, rendering messages as notifications\n * in the frontend.\n *\n * ### Example usage\n *\n * ```typescript\n *   @inject(MessageService)\n *   protected readonly messageService: MessageService;\n *\n *   messageService.warn(\"Typings not available\");\n *\n *   messageService.error(\"Could not restore state\", [\"Rollback\", \"Ignore\"])\n *   .then(action => action === \"Rollback\" && rollback());\n * ```\n */\n@injectable()\nexport class MessageService {\n\n    constructor(\n        @inject(MessageClient) protected readonly client: MessageClient\n    ) { }\n\n    /**\n     * Logs the message and, if given, offers actions to act on it.\n     * @param message the message to log.\n     * @param actions the actions to offer. Can be omitted.\n     *\n     * @returns the selected action if there is any, `undefined` when there was no action or none was selected.\n     */\n    log<T extends string>(message: string, ...actions: T[]): Promise<T | undefined>;\n    /**\n     * Logs the message and, if given, offers actions to act on it.\n     * @param message the message to log.\n     * @param options additional options. Can be omitted\n     * @param actions the actions to offer. Can be omitted.\n     *\n     * @returns the selected action if there is any, `undefined` when there was no action or none was selected.\n     */\n    log<T extends string>(message: string, options?: MessageOptions, ...actions: T[]): Promise<T | undefined>;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    log(message: string, ...args: any[]): Promise<string | undefined> {\n        return this.processMessage(MessageType.Log, message, args);\n    }\n\n    /**\n     * Logs the message as \"info\" and, if given, offers actions to act on it.\n     * @param message the message to log.\n     * @param actions the actions to offer. Can be omitted.\n     *\n     * @returns the selected action if there is any, `undefined` when there was no action or none was selected.\n     */\n    info<T extends string>(message: string, ...actions: T[]): Promise<T | undefined>;\n    /**\n     * Logs the message as \"info\" and, if given, offers actions to act on it.\n     * @param message the message to log.\n     * @param options additional options. Can be omitted\n     * @param actions the actions to offer. Can be omitted.\n     *\n     * @returns the selected action if there is any, `undefined` when there was no action or none was selected.\n     */\n    info<T extends string>(message: string, options?: MessageOptions, ...actions: T[]): Promise<T | undefined>;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    info(message: string, ...args: any[]): Promise<string | undefined> {\n        return this.processMessage(MessageType.Info, message, args);\n    }\n\n    /**\n     * Logs the message as \"warning\" and, if given, offers actions to act on it.\n     * @param message the message to log.\n     * @param actions the actions to offer. Can be omitted.\n     *\n     * @returns the selected action if there is any, `undefined` when there was no action or none was selected.\n     */\n    warn<T extends string>(message: string, ...actions: T[]): Promise<T | undefined>;\n    /**\n     * Logs the message as \"warning\" and, if given, offers actions to act on it.\n     * @param message the message to log.\n     * @param options additional options. Can be omitted\n     * @param actions the actions to offer. Can be omitted.\n     *\n     * @returns the selected action if there is any, `undefined` when there was no action or none was selected.\n     */\n    warn<T extends string>(message: string, options?: MessageOptions, ...actions: T[]): Promise<T | undefined>;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    warn(message: string, ...args: any[]): Promise<string | undefined> {\n        return this.processMessage(MessageType.Warning, message, args);\n    }\n\n    /**\n     * Logs the message as \"error\" and, if given, offers actions to act on it.\n     * @param message the message to log.\n     * @param actions the actions to offer. Can be omitted.\n     *\n     * @returns the selected action if there is any, `undefined` when there was no action or none was selected.\n     */\n    error<T extends string>(message: string, ...actions: T[]): Promise<T | undefined>;\n    /**\n     * Logs the message as \"error\" and, if given, offers actions to act on it.\n     * @param message the message to log.\n     * @param options additional options. Can be omitted\n     * @param actions the actions to offer. Can be omitted.\n     *\n     * @returns the selected action if there is any, `undefined` when there was no action or none was selected.\n     */\n    error<T extends string>(message: string, options?: MessageOptions, ...actions: T[]): Promise<T | undefined>;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    error(message: string, ...args: any[]): Promise<string | undefined> {\n        return this.processMessage(MessageType.Error, message, args);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected processMessage(type: MessageType, text: string, args?: any[]): Promise<string | undefined> {\n        if (!!args && args.length > 0) {\n            const first = args[0];\n            const actions = Array.from(new Set<string>(args.filter(a => typeof a === 'string')));\n            const options = (typeof first === 'object' && !Array.isArray(first))\n                ? <MessageOptions>first\n                : undefined;\n            return this.client.showMessage({ type, options, text, actions });\n        }\n        return this.client.showMessage({ type, text });\n    }\n\n    /**\n     * Shows the given message as a progress.\n     *\n     * @param message the message to show for the progress.\n     * @param onDidCancel an optional callback which will be invoked if the progress indicator was canceled.\n     *\n     * @returns a promise resolving to a {@link Progress} object with which the progress can be updated.\n     *\n     * ### Example usage\n     *\n     * ```typescript\n     *   @inject(MessageService)\n     *   protected readonly messageService: MessageService;\n     *\n     *   // this will show \"Progress\" as a cancelable message\n     *   this.messageService.showProgress({text: 'Progress'});\n     *\n     *   // this will show \"Rolling back\" with \"Cancel\" and an additional \"Skip\" action\n     *   this.messageService.showProgress({\n     *     text: `Rolling back`,\n     *     actions: [\"Skip\"],\n     *   },\n     *   () => console.log(\"canceled\"))\n     *   .then((progress) => {\n     *     // register if interested in the result (only necessary for custom actions)\n     *     progress.result.then((result) => {\n     *       // will be 'Cancel', 'Skip' or `undefined`\n     *       console.log(\"result is\", result);\n     *     });\n     *     progress.report({message: \"Cleaning references\", work: {done: 10, total: 100}});\n     *     progress.report({message: \"Restoring previous state\", work: {done: 80, total: 100}});\n     *     progress.report({message: \"Complete\", work: {done: 100, total: 100}});\n     *     // we are done so we can cancel the progress message, note that this will also invoke `onDidCancel`\n     *     progress.cancel();\n     *   });\n     * ```\n     */\n    async showProgress(message: ProgressMessage, onDidCancel?: () => void): Promise<Progress> {\n        const id = this.newProgressId();\n        const cancellationSource = new CancellationTokenSource();\n        const report = (update: ProgressUpdate) => {\n            this.client.reportProgress(id, update, message, cancellationSource.token);\n        };\n        const type = message.type ?? MessageType.Progress;\n        const actions = new Set<string>(message.actions);\n        if (ProgressMessage.isCancelable(message)) {\n            actions.delete(ProgressMessage.Cancel);\n            actions.add(ProgressMessage.Cancel);\n        }\n        const clientMessage = { ...message, type, actions: Array.from(actions) };\n        const result = this.client.showProgress(id, clientMessage, cancellationSource.token);\n        if (ProgressMessage.isCancelable(message) && typeof onDidCancel === 'function') {\n            result.then(value => {\n                if (value === ProgressMessage.Cancel) {\n                    onDidCancel();\n                }\n            });\n        }\n        return {\n            id,\n            cancel: () => cancellationSource.cancel(),\n            result,\n            report\n        };\n    }\n\n    private progressIdPrefix = Math.random().toString(36).substring(5);\n    private counter = 0;\n    protected newProgressId(): string {\n        return `${this.progressIdPrefix}-${++this.counter}`;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { ILogger } from '../../common';\n\nexport interface ResolvedConnectionErrorHandlerOptions {\n    readonly serverName: string\n    readonly logger: ILogger\n    /**\n     * The maximum amount of errors allowed before stopping the server.\n     */\n    readonly maxErrors: number\n    /**\n     * The minimum amount of restarts allowed in the restart interval.\n     */\n    readonly maxRestarts: number\n    /**\n     * In minutes.\n     */\n    readonly restartInterval: number\n}\n\nexport type ConnectionErrorHandlerOptions = Partial<ResolvedConnectionErrorHandlerOptions> & {\n    readonly serverName: string\n    readonly logger: ILogger\n};\n\nexport class ConnectionErrorHandler {\n\n    protected readonly options: ResolvedConnectionErrorHandlerOptions;\n    constructor(options: ConnectionErrorHandlerOptions) {\n        this.options = {\n            maxErrors: 3,\n            maxRestarts: 5,\n            restartInterval: 3,\n            ...options\n        };\n    }\n\n    shouldStop(error: Error, count?: number): boolean {\n        return !count || count > this.options.maxErrors;\n    }\n\n    protected readonly restarts: number[] = [];\n    shouldRestart(): boolean {\n        this.restarts.push(Date.now());\n        if (this.restarts.length <= this.options.maxRestarts) {\n            return true;\n        }\n        const diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\n        if (diff <= this.options.restartInterval * 60 * 1000) {\n            // eslint-disable-next-line max-len\n            this.options.logger.error(`The ${this.options.serverName} server crashed ${this.options.maxRestarts} times in the last ${this.options.restartInterval} minutes. The server will not be restarted.`);\n            return false;\n        }\n        this.restarts.shift();\n        return true;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Channel } from '../message-rpc/channel';\n\nexport const servicesPath = '/services';\n\nexport const ConnectionHandler = Symbol('ConnectionHandler');\n\nexport interface ConnectionHandler {\n    readonly path: string;\n    onConnection(connection: Channel): void;\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './handler';\nexport * from './proxy-factory';\nexport * from './connection-error-handler';\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { ResponseError } from '../message-rpc/rpc-message-encoder';\nimport { ApplicationError } from '../application-error';\nimport { Disposable } from '../disposable';\nimport { Emitter, Event } from '../event';\nimport { Channel } from '../message-rpc/channel';\nimport { RequestHandler, RpcProtocol } from '../message-rpc/rpc-protocol';\nimport { ConnectionHandler } from './handler';\nimport { Deferred } from '../promise-util';\nimport { decorate, injectable, unmanaged } from '../../../shared/inversify';\n\nexport type RpcServer<Client> = Disposable & {\n    /**\n     * If this server is a proxy to a remote server then\n     * a client is used as a local object\n     * to handle RPC messages from the remote server.\n     */\n    setClient(client: Client | undefined): void;\n    getClient?(): Client | undefined;\n};\n\nexport interface RpcConnectionEventEmitter {\n    readonly onDidOpenConnection: Event<void>;\n    readonly onDidCloseConnection: Event<void>;\n}\nexport type RpcProxy<T> = T & RpcConnectionEventEmitter;\n\nexport class RpcConnectionHandler<T extends object> implements ConnectionHandler {\n    constructor(\n        readonly path: string,\n        readonly targetFactory: (proxy: RpcProxy<T>) => any,\n        readonly factoryConstructor: new () => RpcProxyFactory<T> = RpcProxyFactory\n    ) { }\n\n    onConnection(connection: Channel): void {\n        const factory = new this.factoryConstructor();\n        const proxy = factory.createProxy();\n        factory.target = this.targetFactory(proxy);\n        factory.listen(connection);\n    }\n}\n/**\n * Factory for creating a new {@link RpcProtocol} for a given chanel and {@link RequestHandler}.\n */\nexport type RpcProtocolFactory = (channel: Channel, requestHandler: RequestHandler) => RpcProtocol;\n\nconst defaultRpcProtocolFactory: RpcProtocolFactory = (channel, requestHandler) => new RpcProtocol(channel, requestHandler);\n\n/**\n * Factory for RPC proxy objects.\n *\n * A RPC proxy exposes the programmatic interface of an object through\n * Theia's RPC protocol. This allows remote programs to call methods of this objects by\n * sending RPC requests. This takes place over a bi-directional stream,\n * where both ends can expose an object and both can call methods on each other'\n * exposed object.\n *\n * For example, assuming we have an object of the following type on one end:\n *\n *     class Foo {\n *         bar(baz: number): number { return baz + 1 }\n *     }\n *\n * which we want to expose through a RPC interface.  We would do:\n *\n *     let target = new Foo()\n *     let factory = new RpcProxyFactory<Foo>('/foo', target)\n *     factory.onConnection(connection)\n *\n * The party at the other end of the `connection`, in order to remotely call\n * methods on this object would do:\n *\n *     let factory = new RpcProxyFactory<Foo>('/foo')\n *     factory.onConnection(connection)\n *     let proxy = factory.createProxy();\n *     let result = proxy.bar(42)\n *     // result is equal to 43\n *\n * One the wire, it would look like this:\n *\n *     --> { \"type\":\"1\", \"id\": 1, \"method\": \"bar\", \"args\": [42]}\n *     <-- { \"type\":\"3\", \"id\": 1, \"res\": 43}\n *\n * Note that in the code of the caller, we didn't pass a target object to\n * RpcProxyFactory, because we don't want/need to expose an object.\n * If we had passed a target object, the other side could've called methods on\n * it.\n *\n * @param <T> - The type of the object to expose to RPC.\n */\n\nexport class RpcProxyFactory<T extends object> implements ProxyHandler<T> {\n\n    protected readonly onDidOpenConnectionEmitter = new Emitter<void>();\n    protected readonly onDidCloseConnectionEmitter = new Emitter<void>();\n\n    protected rpcDeferred: Deferred<RpcProtocol>;\n\n    /**\n     * Build a new RpcProxyFactory.\n     *\n     * @param target - The object to expose to RPC methods calls.  If this\n     *   is omitted, the proxy won't be able to handle requests, only send them.\n     */\n    constructor(public target?: any, protected rpcProtocolFactory = defaultRpcProtocolFactory) {\n        this.waitForConnection();\n    }\n\n    protected waitForConnection(): void {\n        this.rpcDeferred = new Deferred<RpcProtocol>();\n        this.rpcDeferred.promise.then(protocol => {\n            protocol.channel.onClose(() => {\n                this.onDidCloseConnectionEmitter.fire(undefined);\n                // Wait for connection in case the backend reconnects\n                this.waitForConnection();\n            });\n            this.onDidOpenConnectionEmitter.fire(undefined);\n        });\n    }\n\n    /**\n     * Connect a {@link Channel} to the factory by creating an {@link RpcProtocol} on top of it.\n     *\n     * This protocol will be used to send/receive RPC requests and\n     * responses.\n     */\n    listen(channel: Channel): void {\n        const protocol = this.rpcProtocolFactory(channel, (meth, args) => this.onRequest(meth, ...args));\n        protocol.onNotification(event => this.onNotification(event.method, ...event.args));\n\n        this.rpcDeferred.resolve(protocol);\n    }\n\n    /**\n     * Process an incoming RPC method call.\n     *\n     * onRequest is called when the RPC connection received a method call\n     * request.  It calls the corresponding method on [[target]].\n     *\n     * The return value is a Promise object that is resolved with the return\n     * value of the method call, if it is successful.  The promise is rejected\n     * if the called method does not exist or if it throws.\n     *\n     * @returns A promise of the method call completion.\n     */\n    protected async onRequest(method: string, ...args: any[]): Promise<any> {\n        try {\n            if (this.target) {\n                return await this.target[method](...args);\n            } else {\n                throw new Error(`no target was set to handle ${method}`);\n            }\n        } catch (error) {\n            throw this.serializeError(error);\n        }\n    }\n\n    /**\n     * Process an incoming RPC notification.\n     *\n     * Same as [[onRequest]], but called on incoming notifications rather than\n     * methods calls.\n     */\n    protected onNotification(method: string, ...args: any[]): void {\n        if (this.target) {\n            this.target[method](...args);\n        }\n    }\n\n    /**\n     * Create a Proxy exposing the interface of an object of type T.  This Proxy\n     * can be used to do RPC method calls on the remote target object as\n     * if it was local.\n     *\n     * If `T` implements `RpcServer` then a client is used as a target object for a remote target object.\n     */\n    createProxy(): RpcProxy<T> {\n        const result = new Proxy<T>(this as any, this);\n        return result as any;\n    }\n\n    /**\n     * Get a callable object that executes a RPC method call.\n     *\n     * Getting a property on the Proxy object returns a callable that, when\n     * called, executes a RPC call.  The name of the property defines the\n     * method to be called.  The callable takes a variable number of arguments,\n     * which are passed in the RPC method call.\n     *\n     * For example, if you have a Proxy object:\n     *\n     *     let fooProxyFactory = RpcProxyFactory<Foo>('/foo')\n     *     let fooProxy = fooProxyFactory.createProxy()\n     *\n     * accessing `fooProxy.bar` will return a callable that, when called,\n     * executes a RPC method call to method `bar`.  Therefore, doing\n     * `fooProxy.bar()` will call the `bar` method on the remote Foo object.\n     *\n     * @param target - unused.\n     * @param p - The property accessed on the Proxy object.\n     * @param receiver - unused.\n     * @returns A callable that executes the RPC call.\n     */\n    get(target: T, p: PropertyKey, receiver: any): any {\n        if (p === 'setClient') {\n            return (client: any) => {\n                this.target = client;\n            };\n        }\n        if (p === 'getClient') {\n            return () => this.target;\n        }\n        if (p === 'onDidOpenConnection') {\n            return this.onDidOpenConnectionEmitter.event;\n        }\n        if (p === 'onDidCloseConnection') {\n            return this.onDidCloseConnectionEmitter.event;\n        }\n        if (p === 'then') {\n            // Prevent inversify from identifying this proxy as a promise object.\n            return undefined;\n        }\n        const isNotify = this.isNotification(p);\n        return (...args: any[]) => {\n            const method = p.toString();\n            const capturedError = new Error(`Request '${method}' failed`);\n            return this.rpcDeferred.promise.then(connection =>\n                new Promise<void>((resolve, reject) => {\n                    try {\n                        if (isNotify) {\n                            connection.sendNotification(method, args);\n                            resolve(undefined);\n                        } else {\n                            const resultPromise = connection.sendRequest(method, args) as Promise<any>;\n                            resultPromise\n                                .catch((err: any) => reject(this.deserializeError(capturedError, err)))\n                                .then((result: any) => resolve(result));\n                        }\n                    } catch (err) {\n                        reject(err);\n                    }\n                })\n            );\n        };\n    }\n\n    /**\n     * Return whether the given property represents a notification.\n     *\n     * A property leads to a notification rather than a method call if its name\n     * begins with `notify` or `on`.\n     *\n     * @param p - The property being called on the proxy.\n     * @return Whether `p` represents a notification.\n     */\n    protected isNotification(p: PropertyKey): boolean {\n        return p.toString().startsWith('notify') || p.toString().startsWith('on');\n    }\n\n    protected serializeError(e: any): any {\n        if (ApplicationError.is(e)) {\n            return new ResponseError(e.code, '',\n                Object.assign({ kind: 'application' }, e.toJson())\n            );\n        }\n        return e;\n    }\n    protected deserializeError(capturedError: Error, e: any): any {\n        if (e instanceof ResponseError) {\n            const capturedStack = capturedError.stack || '';\n            if (e.data && e.data.kind === 'application') {\n                const { stack, data, message } = e.data;\n                return ApplicationError.fromJson(e.code, {\n                    message: message || capturedError.message,\n                    data,\n                    stack: `${capturedStack}\\nCaused by: ${stack}`\n                });\n            }\n            e.stack = capturedStack;\n        }\n        return e;\n    }\n\n}\n\n/**\n * @deprecated since 1.39.0 use `RpcConnectionEventEmitter` instead\n */\nexport type JsonRpcConnectionEventEmitter = RpcConnectionEventEmitter;\n\n/**\n * @deprecated since 1.39.0 use `RpcServer` instead\n */\nexport type JsonRpcServer<Client> = RpcServer<Client>;\n\n/**\n * @deprecated since 1.39.0 use `RpcProxy` instead\n */\nexport type JsonRpcProxy<T> = RpcProxy<T>;\n\n/**\n * @deprecated since 1.39.0 use `RpcConnectionHandler` instead\n */\nexport class JsonRpcConnectionHandler<T extends object> extends RpcConnectionHandler<T> {\n\n}\n\n/**\n * @deprecated since 1.39.0 use `RpcProxyFactory` instead\n */\nexport class JsonRpcProxyFactory<T extends object> extends RpcProxyFactory<T> {\n\n}\n\n// eslint-disable-next-line deprecation/deprecation\ndecorate(injectable(), JsonRpcProxyFactory);\n// eslint-disable-next-line deprecation/deprecation\ndecorate(unmanaged(), JsonRpcProxyFactory, 0);\n\n","// *****************************************************************************\n// Copyright (C) 2021 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { FormatType, Localization } from './i18n/localization';\n\nexport namespace nls {\n\n    export let localization: Localization | undefined;\n\n    export const defaultLocale = 'en';\n\n    export const localeId = 'localeId';\n\n    export const locale = typeof window === 'object' && window && window.localStorage.getItem(localeId) || undefined;\n\n    let keyProvider: LocalizationKeyProvider | undefined;\n\n    /**\n     * Automatically localizes a text if that text also exists in the vscode repository.\n     */\n    export function localizeByDefault(defaultValue: string, ...args: FormatType[]): string {\n        if (localization) {\n            const key = getDefaultKey(defaultValue);\n            if (key) {\n                return localize(key, defaultValue, ...args);\n            } else {\n                console.warn(`Could not find translation key for default value: \"${defaultValue}\"`);\n            }\n        }\n        return Localization.format(defaultValue, args);\n    }\n\n    export function getDefaultKey(defaultValue: string): string {\n        if (!keyProvider) {\n            keyProvider = new LocalizationKeyProvider();\n        }\n        const key = keyProvider.get(defaultValue);\n        if (key) {\n            return key;\n        }\n        return '';\n    }\n\n    export function localize(key: string, defaultValue: string, ...args: FormatType[]): string {\n        return Localization.localize(localization, key, defaultValue, ...args);\n    }\n\n    export function isSelectedLocale(id: string): boolean {\n        if (locale === undefined && id === defaultLocale) {\n            return true;\n        }\n        return locale === id;\n    }\n\n    export function setLocale(id: string): void {\n        window.localStorage.setItem(localeId, id);\n    }\n}\n\ninterface NlsKeys {\n    [key: string]: (string | NlsInfo)[]\n}\n\ninterface NlsInfo {\n    key: string\n    comment: string[]\n}\n\nclass LocalizationKeyProvider {\n\n    private preferredKeys = new Set([\n        // We only want the `File` translation used in the menu\n        'vscode/fileActions.contribution/filesCategory',\n        // Needed for `Close Editor` translation\n        'vscode/editor.contribution/closeEditor'\n    ]);\n    private data = this.buildData();\n\n    get(defaultValue: string): string | undefined {\n        const normalized = Localization.normalize(defaultValue);\n        return this.data.get(normalized) || this.data.get(normalized.toUpperCase());\n    }\n\n    /**\n     * Transforms the data coming from the `nls.metadata.json` file into a map.\n     * The original data contains arrays of keys and messages.\n     * The result is a map that matches each message to the key that belongs to it.\n     *\n     * This allows us to skip the key in the localization process and map the original english default values to their translations in different languages.\n     */\n    private buildData(): Map<string, string> {\n        const bundles = require('../../src/common/i18n/nls.metadata.json');\n        const keys: NlsKeys = bundles.keys;\n        const messages: Record<string, string[]> = bundles.messages;\n        const data = new Map<string, string>();\n        const foundPreferredKeys = new Set<string>();\n        const keysAndMessages = this.buildKeyMessageTuples(keys, messages);\n        for (const { key, message } of keysAndMessages) {\n            if (!foundPreferredKeys.has(message)) {\n                data.set(message, key);\n                if (this.preferredKeys.has(key)) {\n                    // Prevent messages with preferred keys to be overridden\n                    foundPreferredKeys.add(message);\n                }\n            }\n        }\n        // Second pass adds each message again in upper case, if the message doesn't already exist in upper case\n        // The second pass is needed to not accidentally override any translations which actually use the upper case message\n        for (const { key, message } of keysAndMessages) {\n            const upperMessage = message.toUpperCase();\n            if (!data.has(upperMessage)) {\n                data.set(upperMessage, key);\n            }\n        }\n        return data;\n    }\n\n    private buildKeyMessageTuples(keys: NlsKeys, messages: Record<string, string[]>): { key: string, message: string }[] {\n        const list: { key: string, message: string }[] = [];\n        for (const [fileKey, messageBundle] of Object.entries(messages)) {\n            const keyBundle = keys[fileKey];\n            for (let i = 0; i < messageBundle.length; i++) {\n                const message = Localization.normalize(messageBundle[i]);\n                const key = keyBundle[i];\n                const localizationKey = this.buildKey(typeof key === 'string' ? key : key.key, fileKey);\n                list.push({\n                    key: localizationKey,\n                    message\n                });\n            }\n        }\n        return list;\n    }\n\n    private buildKey(key: string, filepath: string): string {\n        return `vscode/${Localization.transformKey(filepath)}/${key}`;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2021 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * The maximum safe integer (`2^32-1`) is used as a placeholder for large numbers which are not allowed to be floats.\n * For example as line/column arguments for monaco-ranges.\n */\nexport const MAX_SAFE_INTEGER = 2147483647;\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { isObject, isUndefined, isUndefinedOrNull } from './types';\n\nexport function deepClone<T>(obj: T): T {\n    if (!isObject(obj)) {\n        return obj;\n    }\n    if (obj instanceof RegExp) {\n        return obj;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const result: any = Array.isArray(obj) ? [] : {};\n    Object.keys(obj).forEach((key: string) => {\n        const prop = obj[key];\n        if (isObject(prop)) {\n            result[key] = deepClone(prop);\n        } else {\n            result[key] = prop;\n        }\n    });\n    return result;\n}\n\nexport function deepFreeze<T>(obj: T): T {\n    if (!isObject(obj)) {\n        return obj;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const stack: any[] = [obj];\n    while (stack.length > 0) {\n        const objectToFreeze = stack.shift();\n        Object.freeze(objectToFreeze);\n        for (const key in objectToFreeze) {\n            if (_hasOwnProperty.call(objectToFreeze, key)) {\n                const prop = objectToFreeze[key];\n                if (isObject(prop) && !Object.isFrozen(prop)) {\n                    stack.push(prop);\n                }\n            }\n        }\n    }\n    return obj;\n}\n\nconst _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport function notEmpty<T>(arg: T | undefined | null): arg is T {\n    // eslint-disable-next-line no-null/no-null\n    return arg !== undefined && arg !== null;\n}\n\n/**\n * `true` if the argument is an empty object. Otherwise, `false`.\n */\nexport function isEmpty(arg: Object): boolean {\n    return Object.keys(arg).length === 0 && arg.constructor === Object;\n}\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation and others. All rights reserved.\n *  Licensed under the MIT License. See https://github.com/Microsoft/vscode/blob/master/LICENSE.txt for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// Copied from https://github.com/microsoft/vscode/blob/1.72.2/src/vs/base/common/objects.ts\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function cloneAndChange(obj: any, changer: (orig: any) => any): any {\n    return _cloneAndChange(obj, changer, new Set());\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction _cloneAndChange(obj: any, changer: (orig: any) => any, seen: Set<any>): any {\n    if (isUndefinedOrNull(obj)) {\n        return obj;\n    }\n\n    const changed = changer(obj);\n    if (!isUndefined(changed)) {\n        return changed;\n    }\n\n    if (Array.isArray(obj)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const r1: any[] = [];\n        for (const e of obj) {\n            r1.push(_cloneAndChange(e, changer, seen));\n        }\n        return r1;\n    }\n\n    if (isObject(obj)) {\n        if (seen.has(obj)) {\n            throw new Error('Cannot clone recursive data-structure');\n        }\n        seen.add(obj);\n        const r2 = {};\n        for (const i2 in obj) {\n            if (_hasOwnProperty.call(obj, i2)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                (r2 as any)[i2] = _cloneAndChange(obj[i2], changer, seen);\n            }\n        }\n        seen.delete(obj);\n        return r2;\n    }\n\n    return obj;\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nfunction is(userAgent: string, platform: string): boolean {\n    if (typeof navigator !== 'undefined') {\n        if (navigator.userAgent && navigator.userAgent.indexOf(userAgent) >= 0) {\n            return true;\n        }\n    }\n    if (typeof process !== 'undefined') {\n        return (process.platform === platform);\n    }\n    return false;\n}\n\nexport const isWindows = is('Windows', 'win32');\nexport const isOSX = is('Mac', 'darwin');\n\nexport const EOL = isWindows ? '\\r\\n' : '\\n';\n\nexport type CMD = [string, string[]];\nexport function cmd(command: string, ...args: string[]): CMD {\n    return [\n        isWindows ? 'cmd' : command,\n        isWindows ? ['/c', command, ...args] : args\n    ];\n}\n\nexport namespace OS {\n\n    /**\n     * Enumeration of the supported operating systems.\n     */\n    export enum Type {\n        Windows = 'Windows',\n        Linux = 'Linux',\n        OSX = 'OSX'\n    }\n\n    /**\n     * Returns with the type of the operating system. If it is neither [Windows](isWindows) nor [OS X](isOSX), then\n     * it always return with the `Linux` OS type.\n     */\n    export function type(): OS.Type {\n        if (isWindows) {\n            return Type.Windows;\n        }\n        if (isOSX) {\n            return Type.OSX;\n        }\n        return Type.Linux;\n    }\n\n    export const backend = {\n        type,\n        isWindows,\n        isOSX,\n        EOL\n    };\n\n}\n\nexport const OSBackendProviderPath = '/os';\n\nexport const OSBackendProvider = Symbol('OSBackendProvider');\n\nexport interface OSBackendProvider {\n    getBackendOS(): Promise<OS.Type>;\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * On POSIX:\n * \n *           dir             base    \n *                \n *  root                 name  ext \n * \"  /     home/user/dir / file  .txt \"\n * \n *\n * On Windows:\n * \n *            dir            base    \n *                \n *  root                 name  ext \n * \"  /c: / home/user/dir / file  .txt \"\n * \n */\n\nimport { OS } from './os';\n\nexport class Path {\n    static separator: '/' = '/';\n\n    static isDrive(segment: string): boolean {\n        return segment.endsWith(':');\n    }\n\n    /**\n     * vscode-uri always normalizes drive letters to lower case:\n     * https://github.com/Microsoft/vscode-uri/blob/b1d3221579f97f28a839b6f996d76fc45e9964d8/src/index.ts#L1025\n     * Theia path should be adjusted to this.\n     */\n    static normalizeDrive(path: string): string {\n        // lower-case windows drive letters in /C:/fff or C:/fff\n        if (path.length >= 3 && path.charCodeAt(0) === 47 /* '/' */ && path.charCodeAt(2) === 58 /* ':' */) {\n            const code = path.charCodeAt(1);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = `/${String.fromCharCode(code + 32)}:${path.substring(3)}`; // \"/c:\".length === 3\n            }\n        } else if (path.length >= 2 && path.charCodeAt(1) === 58 /* ':' */) {\n            const code = path.charCodeAt(0);\n            if (code >= 65 /* A */ && code <= 90 /* Z */) {\n                path = `${String.fromCharCode(code + 32)}:${path.substring(2)}`; // \"c:\".length === 2\n            }\n            if (path.charCodeAt(0) !== 47 /* '/' */) {\n                path = `${String.fromCharCode(47)}${path}`;\n            }\n        }\n        return path;\n    }\n    /**\n     * Normalize path separator to use Path.separator\n     * @param Path candidate to normalize\n     * @returns Normalized string path\n     */\n    static normalizePathSeparator(path: string): string {\n        return path.split(/[\\\\]/).join(Path.separator);\n    }\n\n    /**\n     * Creates a windows path from the given path string.\n     * A windows path uses an upper case drive letter and backwards slashes.\n     * @param path The input path\n     * @returns Windows style path\n     */\n    static windowsPath(path: string): string {\n        const offset = path.charAt(0) === '/' ? 1 : 0;\n        if (path.charAt(offset + 1) === ':') {\n            const driveLetter = path.charAt(offset).toUpperCase();\n            const substring = path.substring(offset + 2).replace(/\\//g, '\\\\');\n            return `${driveLetter}:${substring || '\\\\'}`;\n        }\n        return path.replace(/\\//g, '\\\\');\n    }\n\n    /**\n     * Tildify path, replacing `home` with `~` if user's `home` is present at the beginning of the path.\n     * This is a non-operation for Windows.\n     *\n     * @param resourcePath\n     * @param home\n     */\n    static tildify(resourcePath: string, home: string): string {\n        const path = new Path(resourcePath);\n        const isWindows = path.root && Path.isDrive(path.root.base);\n\n        if (!isWindows && home && resourcePath.indexOf(`${home}/`) === 0) {\n            return resourcePath.replace(`${home}/`, '~/');\n        }\n\n        return resourcePath;\n    }\n\n    /**\n     * Untildify path, replacing `~` with `home` if `~` present at the beginning of the path.\n     * This is a non-operation for Windows.\n     *\n     * @param resourcePath\n     * @param home\n     */\n    static untildify(resourcePath: string, home: string): string {\n        if (resourcePath.startsWith('~')) {\n            const untildifiedResource = resourcePath.replace(/^~/, home);\n            const untildifiedPath = new Path(untildifiedResource);\n            const isWindows = untildifiedPath.root && Path.isDrive(untildifiedPath.root.base);\n            if (!isWindows && home && untildifiedResource.startsWith(`${home}`)) {\n                return untildifiedResource;\n            }\n        }\n        return resourcePath;\n    }\n\n    readonly isAbsolute: boolean;\n    readonly isRoot: boolean;\n    readonly root: Path | undefined;\n    readonly base: string;\n    readonly name: string;\n    readonly ext: string;\n\n    private _dir: Path;\n    private readonly raw: string;\n\n    /**\n     * The raw should be normalized, meaning that only '/' is allowed as a path separator.\n     */\n    constructor(\n        raw: string\n    ) {\n        raw = Path.normalizePathSeparator(raw);\n        this.raw = Path.normalizeDrive(raw);\n        const firstIndex = this.raw.indexOf(Path.separator);\n        const lastIndex = this.raw.lastIndexOf(Path.separator);\n        this.isAbsolute = firstIndex === 0;\n        this.base = lastIndex === -1 ? this.raw : this.raw.substring(lastIndex + 1);\n        this.isRoot = this.isAbsolute && firstIndex === lastIndex && (!this.base || Path.isDrive(this.base));\n        this.root = this.computeRoot();\n\n        const extIndex = this.base.lastIndexOf('.');\n        this.name = extIndex === -1 ? this.base : this.base.substring(0, extIndex);\n        this.ext = extIndex === -1 ? '' : this.base.substring(extIndex);\n    }\n\n    protected computeRoot(): Path | undefined {\n        // '/' -> '/'\n        // '/c:' -> '/c:'\n        if (this.isRoot) {\n            return this;\n        }\n        // 'foo/bar' -> `undefined`\n        if (!this.isAbsolute) {\n            return undefined;\n        }\n        const index = this.raw.indexOf(Path.separator, Path.separator.length);\n        if (index === -1) {\n            // '/foo/bar' -> '/'\n            return new Path(Path.separator);\n        }\n        // '/c:/foo/bar' -> '/c:'\n        // '/foo/bar' -> '/'\n        return new Path(this.raw.substring(0, index)).root;\n    }\n\n    /**\n     * Returns the parent directory if it exists (`hasDir === true`) or `this` otherwise.\n     */\n    get dir(): Path {\n        if (this._dir === undefined) {\n            this._dir = this.computeDir();\n        }\n        return this._dir;\n    }\n\n    /**\n     * Returns `true` if this has a parent directory, `false` otherwise.\n     *\n     * _This implementation returns `true` if and only if this is not the root dir and\n     * there is a path separator in the raw path._\n     */\n    get hasDir(): boolean {\n        return !this.isRoot && this.raw.lastIndexOf(Path.separator) !== -1;\n    }\n\n    protected computeDir(): Path {\n        if (!this.hasDir) {\n            return this;\n        }\n        const lastIndex = this.raw.lastIndexOf(Path.separator);\n        if (this.isAbsolute) {\n            const firstIndex = this.raw.indexOf(Path.separator);\n            if (firstIndex === lastIndex) {\n                return new Path(this.raw.substring(0, firstIndex + 1));\n            }\n        }\n        return new Path(this.raw.substring(0, lastIndex));\n    }\n\n    join(...paths: string[]): Path {\n        const relativePath = paths.filter(s => !!s).join(Path.separator);\n        if (!relativePath) {\n            return this;\n        }\n        if (this.raw.endsWith(Path.separator)) {\n            return new Path(this.raw + relativePath);\n        }\n        return new Path(this.raw + Path.separator + relativePath);\n    }\n\n    /**\n     *\n     * @param paths portions of a path\n     * @returns a new Path if an absolute path can be computed from the segments passed in + this.raw\n     * If no absolute path can be computed, returns undefined.\n     *\n     * Processes the path segments passed in from right to left (reverse order) concatenating until an\n     * absolute path is found.\n     */\n    resolve(...paths: string[]): Path | undefined {\n        const segments = paths.slice().reverse(); // Don't mutate the caller's array.\n        segments.push(this.raw);\n        let result = new Path('');\n        for (const segment of segments) {\n            if (segment) {\n                const next = new Path(segment).join(result.raw);\n                if (next.isAbsolute) {\n                    return next.normalize();\n                }\n                result = next;\n            }\n        }\n    }\n\n    toString(): string {\n        return this.raw;\n    }\n\n    /**\n     * Converts the current path into a file system path.\n     * @param format Determines the format of the path.\n     * If `undefined`, the format will be determined by the `OS.backend.type` value.\n     * @returns A file system path.\n     */\n    fsPath(format?: Path.Format): string {\n        if (format === Path.Format.Windows || (format === undefined && OS.backend.isWindows)) {\n            return Path.windowsPath(this.raw);\n        } else {\n            return this.raw;\n        }\n    }\n\n    relative(path: Path): Path | undefined {\n        if (this.raw === path.raw) {\n            return new Path('');\n        }\n        if (!this.raw || !path.raw) {\n            return undefined;\n        }\n        const raw = this.base ? this.raw + Path.separator : this.raw;\n        if (!path.raw.startsWith(raw)) {\n            return undefined;\n        }\n        const relativePath = path.raw.substring(raw.length);\n        return new Path(relativePath);\n    }\n\n    isEqualOrParent(path: Path): boolean {\n        return !!this.relative(path);\n    }\n\n    relativity(path: Path): number {\n        const relative = this.relative(path);\n        if (relative) {\n            const relativeStr = relative.toString();\n            if (relativeStr === '') {\n                return 0;\n            }\n            return relativeStr.split(Path.separator).length;\n        }\n        return -1;\n    }\n\n    /*\n     * return a normalized Path, resolving '..' and '.' segments\n     */\n    normalize(): Path {\n        const trailingSlash = this.raw.endsWith('/');\n        const pathArray = this.toString().split('/');\n        const resultArray: string[] = [];\n        pathArray.forEach((value, index) => {\n            if (!value || value === '.') {\n                return;\n            }\n            if (value === '..') {\n                if (resultArray.length && resultArray[resultArray.length - 1] !== '..') {\n                    resultArray.pop();\n                } else if (!this.isAbsolute) {\n                    resultArray.push('..');\n                }\n            } else {\n                resultArray.push(value);\n            }\n        });\n        if (resultArray.length === 0) {\n            if (this.isRoot) {\n                return new Path('/');\n            } else {\n                return new Path('.');\n            }\n        }\n        return new Path((this.isAbsolute ? '/' : '') + resultArray.join('/') + (trailingSlash ? '/' : ''));\n    }\n}\n\nexport namespace Path {\n    export enum Format {\n        Posix,\n        Windows\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n// copied from https://github.com/Microsoft/vscode/blob/bf7ac9201e7a7d01741d4e6e64b5dc9f3197d97b/src/vs/base/common/paths.ts\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* eslint-disable no-void */\n/* eslint-disable no-null/no-null */\n'use strict';\nimport { isWindows } from './os';\nimport { startsWithIgnoreCase } from './strings';\nimport { CharCode } from './char-code';\n\n/**\n * The forward slash path separator.\n */\nexport const sep = '/';\n\n/**\n * The native path separator depending on the OS.\n */\nexport const nativeSep = isWindows ? '\\\\' : '/';\n\nconst _posixBadPath = /(\\/\\.\\.?\\/)|(\\/\\.\\.?)$|^(\\.\\.?\\/)|(\\/\\/+)|(\\\\)/;\nconst _winBadPath = /(\\\\\\.\\.?\\\\)|(\\\\\\.\\.?)$|^(\\.\\.?\\\\)|(\\\\\\\\+)|(\\/)/;\n\nfunction _isNormal(path: string, win: boolean): boolean {\n    return win\n        ? !_winBadPath.test(path)\n        : !_posixBadPath.test(path);\n}\n\n/**\n * @returns the base name of a path.\n */\nexport function basename(path: string): string {\n    const idx = ~path.lastIndexOf('/') || ~path.lastIndexOf('\\\\');\n    if (idx === 0) {\n        return path;\n    } else if (~idx === path.length - 1) {\n        return basename(path.substring(0, path.length - 1));\n    } else {\n        return path.substring(~idx + 1);\n    }\n}\n\n/**\n * @returns `.far` from `boo.far` or the empty string.\n */\nexport function extname(path: string): string {\n    path = basename(path);\n    const idx = ~path.lastIndexOf('.');\n    return idx ? path.substring(~idx) : '';\n}\n\nexport function normalize(path: string, toOSPath?: boolean): string {\n    if (path === null || path === void 0) {\n        return path;\n    }\n\n    const len = path.length;\n    if (len === 0) {\n        return '.';\n    }\n\n    const wantsBackslash = isWindows && toOSPath;\n    if (_isNormal(path, wantsBackslash!)) {\n        return path;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    const sep = wantsBackslash ? '\\\\' : '/';\n    const root = getRoot(path, sep);\n\n    // skip the root-portion of the path\n    let start = root.length;\n    let skip = false;\n    let res = '';\n\n    for (let end = root.length; end <= len; end++) {\n\n        // either at the end or at a path-separator character\n        if (end === len || path.charCodeAt(end) === CharCode.Slash || path.charCodeAt(end) === CharCode.Backslash) {\n\n            if (streql(path, start, end, '..')) {\n                // skip current and remove parent (if there is already something)\n                const prev_start = res.lastIndexOf(sep);\n                const prev_part = res.slice(prev_start + 1);\n                if ((root || prev_part.length > 0) && prev_part !== '..') {\n                    res = prev_start === -1 ? '' : res.slice(0, prev_start);\n                    skip = true;\n                }\n            } else if (streql(path, start, end, '.') && (root || res || end < len - 1)) {\n                // skip current (if there is already something or if there is more to come)\n                skip = true;\n            }\n\n            if (!skip) {\n                const part = path.slice(start, end);\n                if (res !== '' && res[res.length - 1] !== sep) {\n                    res += sep;\n                }\n                res += part;\n            }\n            start = end + 1;\n            skip = false;\n        }\n    }\n\n    return root + res;\n}\nfunction streql(value: string, start: number, end: number, other: string): boolean {\n    return start + other.length === end && value.indexOf(other, start) === start;\n}\n\n/**\n * Computes the _root_ this path, like `getRoot('c:\\files') === c:\\`,\n * `getRoot('files:///files/path') === files:///`,\n * or `getRoot('\\\\server\\shares\\path') === \\\\server\\shares\\`\n */\n// eslint-disable-next-line @typescript-eslint/no-shadow\nexport function getRoot(path: string, sep: string = '/'): string {\n\n    if (!path) {\n        return '';\n    }\n\n    const len = path.length;\n    let code = path.charCodeAt(0);\n    if (code === CharCode.Slash || code === CharCode.Backslash) {\n\n        code = path.charCodeAt(1);\n        if (code === CharCode.Slash || code === CharCode.Backslash) {\n            // UNC candidate \\\\localhost\\shares\\ddd\n            //               ^^^^^^^^^^^^^^^^^^^\n            code = path.charCodeAt(2);\n            if (code !== CharCode.Slash && code !== CharCode.Backslash) {\n                // eslint-disable-next-line @typescript-eslint/no-shadow\n                let pos = 3;\n                const start = pos;\n                for (; pos < len; pos++) {\n                    code = path.charCodeAt(pos);\n                    if (code === CharCode.Slash || code === CharCode.Backslash) {\n                        break;\n                    }\n                }\n                code = path.charCodeAt(pos + 1);\n                if (start !== pos && code !== CharCode.Slash && code !== CharCode.Backslash) {\n                    pos += 1;\n                    for (; pos < len; pos++) {\n                        code = path.charCodeAt(pos);\n                        if (code === CharCode.Slash || code === CharCode.Backslash) {\n                            return path.slice(0, pos + 1) // consume this separator\n                                .replace(/[\\\\/]/g, sep);\n                        }\n                    }\n                }\n            }\n        }\n\n        // /user/far\n        // ^\n        return sep;\n\n    } else if ((code >= CharCode.A && code <= CharCode.Z) || (code >= CharCode.a && code <= CharCode.z)) {\n        // check for windows drive letter c:\\ or c:\n\n        if (path.charCodeAt(1) === CharCode.Colon) {\n            code = path.charCodeAt(2);\n            if (code === CharCode.Slash || code === CharCode.Backslash) {\n                // C:\\fff\n                // ^^^\n                return path.slice(0, 2) + sep;\n            } else {\n                // C:\n                // ^^\n                return path.slice(0, 2);\n            }\n        }\n    }\n\n    // check for URI\n    // scheme://authority/path\n    // ^^^^^^^^^^^^^^^^^^^\n    let pos = path.indexOf('://');\n    if (pos !== -1) {\n        pos += 3; // 3 -> \"://\".length\n        for (; pos < len; pos++) {\n            code = path.charCodeAt(pos);\n            if (code === CharCode.Slash || code === CharCode.Backslash) {\n                return path.slice(0, pos + 1); // consume this separator\n            }\n        }\n    }\n\n    return '';\n}\n\nexport function isEqualOrParent(path: string, candidate: string, ignoreCase?: boolean): boolean {\n    if (path === candidate) {\n        return true;\n    }\n\n    if (!path || !candidate) {\n        return false;\n    }\n\n    if (candidate.length > path.length) {\n        return false;\n    }\n\n    if (ignoreCase) {\n        const beginsWith = startsWithIgnoreCase(path, candidate);\n        if (!beginsWith) {\n            return false;\n        }\n\n        if (candidate.length === path.length) {\n            return true; // same path, different casing\n        }\n\n        let sepOffset = candidate.length;\n        if (candidate.charAt(candidate.length - 1) === nativeSep) {\n            sepOffset--; // adjust the expected sep offset in case our candidate already ends in separator character\n        }\n\n        return path.charAt(sepOffset) === nativeSep;\n    }\n\n    if (candidate.charAt(candidate.length - 1) !== nativeSep) {\n        candidate += nativeSep;\n    }\n\n    return path.indexOf(candidate) === 0;\n}\n","// *****************************************************************************\n// Copyright (C) 2021 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './measurement';\nexport * from './stopwatch';\nexport * from './measurement-protocol';\n","/********************************************************************************\n* Copyright (c) 2021 STMicroelectronics and others.\n*\n* This program and the accompanying materials are made available under the\n* terms of the Eclipse Public License 2.0 which is available at\n* http://www.eclipse.org/legal/epl-2.0.\n*\n* This Source Code may also be made available under the following Secondary\n* Licenses when the conditions for such availability set forth in the Eclipse\n* Public License v. 2.0 are satisfied: GNU General Public License, version 2\n* with the GNU Classpath Exception which is available at\n* https://www.gnu.org/software/classpath/license.html.\n*\n* SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n*******************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { inject, injectable } from 'inversify';\nimport { Measurement, MeasurementOptions } from './measurement';\nimport { Stopwatch } from './stopwatch';\n\nexport const BackendStopwatch = Symbol('BackendStopwatch');\n\n/** API path of the stopwatch service that exposes the back-end stopwatch to clients. */\nexport const stopwatchPath = '/services/stopwatch';\n\n/** Token representing a remote measurement in the {@link BackendStopwatch} protocol. */\nexport type RemoteMeasurement = number;\n\nexport const BackendStopwatchOptions = Symbol('BackendStopwatchOptions');\n\n/**\n * A service that exposes the back-end's {@link Stopwatch} to clients\n * via the remote API. If you do not need this service then bind or re-bind\n * the {@link NullBackendStopwatch} implementation to this service interface.\n */\nexport interface BackendStopwatch {\n\n    /**\n     * Create a {@link Measurement} that will compute the time that elapsed on the back-end when logged.\n     *\n     * @param name the {@link Measurement.name measurement name}\n     * @param options optional configuration of the new measurement\n     * @returns a token identifying an unique self-timing measurement relative to the back-end's timeline\n     */\n    start(name: string, options?: MeasurementOptions): Promise<RemoteMeasurement>;\n\n    /**\n     * Stop a measurement previously {@link start started} and log in the back-end a measurement of\n     * its duration relative to the back-end's timeline.\n     *\n     * @param measurement token identifying a measurement previously {@link start started}\n     * @param message a message to log\n     * @param messageArgs optional arguments to the `message`\n     */\n    stop(measurement: RemoteMeasurement, message: string, messageArgs: any[]): Promise<void>;\n\n}\n\n/**\n * Default implementation of the (remote) back-end stopwatch service.\n */\n@injectable()\nexport class DefaultBackendStopwatch {\n\n    readonly measurements = new Map<number, Measurement>();\n\n    protected idSequence: number = 0;\n\n    @inject(Stopwatch)\n    protected readonly stopwatch: Stopwatch;\n\n    start(name: string, options?: MeasurementOptions): RemoteMeasurement {\n        const result = ++this.idSequence;\n        this.measurements.set(result, this.stopwatch.start(name, options));\n        return result;\n    }\n\n    stop(measurementToken: RemoteMeasurement, message: string, messageArgs: any[]): void {\n        const measurement = this.measurements.get(measurementToken);\n        if (measurement) {\n            this.measurements.delete(measurementToken);\n            measurement.log(message, ...messageArgs);\n        }\n    }\n\n}\n\n/**\n * No-op implementation of the (remote) back-end stopwatch service.\n */\n@injectable()\nexport class NullBackendStopwatch implements BackendStopwatch {\n\n    start(): Promise<RemoteMeasurement> {\n        return Promise.resolve(0);\n    }\n\n    stop(): Promise<void> {\n        return Promise.resolve();\n    }\n\n}\n","/********************************************************************************\n* Copyright (c) 2021 STMicroelectronics and others.\n*\n* This program and the accompanying materials are made available under the\n* terms of the Eclipse Public License 2.0 which is available at\n* http://www.eclipse.org/legal/epl-2.0.\n*\n* This Source Code may also be made available under the following Secondary\n* Licenses when the conditions for such availability set forth in the Eclipse\n* Public License v. 2.0 are satisfied: GNU General Public License, version 2\n* with the GNU Classpath Exception which is available at\n* https://www.gnu.org/software/classpath/license.html.\n*\n* SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n*******************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { LogLevel } from '../logger';\n\n/**\n * A `Measurement` counts the time elapsed between its creation when the {@link Stopwatch}\n * is {@link Stopwatch.start started} and when it is {@link stop stopped}.\n */\nexport interface Measurement {\n    /**\n     * Compute the elapsed time, in milliseconds, if not already done (only has effect on the first invocation).\n     * A `NaN` result indicates that the watch was stopped but failed to make a measurement.\n     */\n    stop(): number;\n\n    /** The measurement name. This may show up in the performance measurement framework appropriate to the application context. */\n    name: string;\n\n    /**\n     * The elapsed time measured, if it has been {@link stop stopped} and measured, or `NaN` if the platform disabled\n     * performance measurement.\n     */\n    elapsed?: number;\n\n    /**\n     * Compute the elapsed time and log a message annotated with that timing information.\n     * The message is logged at the level determined by the {@link MeasurementOptions}.\n     *\n     * @param detail a message detailing what activity was measured\n     * @param optionalArgs optional message arguments as per the usual console API\n     */\n    log(detail: string, ...optionalArgs: any[]): void;\n\n    /**\n     * Compute the elapsed time and log a debug message annotated with that timing information.\n     *\n     * @param detail a message detailing what activity was measured\n     * @param optionalArgs optional message arguments as per the usual console API\n     */\n    debug(detail: string, ...optionalArgs: any[]): void;\n\n    /**\n     * Compute the elapsed time and log an info message annotated with that timing information.\n     *\n     * @param detail a message detailing what activity was measured\n     * @param optionalArgs optional message arguments as per the usual console API\n     */\n    info(detail: string, ...optionalArgs: any[]): void;\n\n    /**\n     * Compute the elapsed time and log a warning message annotated with that timing information.\n     *\n     * @param detail a message detailing what activity was measured\n     * @param optionalArgs optional message arguments as per the usual console API\n     */\n    warn(detail: string, ...optionalArgs: any[]): void;\n\n    /**\n     * Compute the elapsed time and log an error message annotated with that timing information.\n     *\n     * @param detail a message detailing what activity was measured\n     * @param optionalArgs optional message arguments as per the usual console API\n     */\n    error(detail: string, ...optionalArgs: any[]): void;\n}\n\n/**\n * Optional configuration of a {@link Measurement} specified at the time of its creation.\n */\nexport interface MeasurementOptions {\n    /**\n     * A specific context of the application in which an activity was measured.\n     * Results in logs being emitted with a \"[<context>]\" qualified at the head.\n     */\n    context?: string;\n\n    /** An optional logging level at which to emit the log message. The default value is {@link LogLevel.INFO}. */\n    defaultLogLevel?: LogLevel;\n\n    /**\n     * Some measurements are measured against a threshold (in millis) that they should not exceed.\n     * If omitted, the implied threshold is unlimited time (no threshold).\n     *\n     * @see {@link Stopwatch.startAsync}\n     * @see {@link thresholdLogLevel}\n     */\n    thresholdMillis?: number;\n\n    /**\n     * Flag to indicate whether the stopwatch should store measurement results for later retrieval.\n     * For example the cache can be used to retrieve measurements which were taken during startup before a listener had a chance to register.\n     */\n    storeResults?: boolean\n}\n\n/**\n * Captures the result of a {@link Measurement} in a serializable format.\n */\nexport interface MeasurementResult {\n    /** The measurement name. This may show up in the performance measurement framework appropriate to the application context. */\n    name: string;\n\n    /** The time when the measurement recording has been started */\n    startTime: number;\n\n    /**\n     * The elapsed time measured, if it has been {@link stop stopped} and measured, or `NaN` if the platform disabled\n     * performance measurement.\n     */\n    elapsed: number;\n\n    /** An optional label for the application the start of which (in real time) is the basis of all measurements. */\n    owner?: string;\n}\n","/********************************************************************************\n* Copyright (c) 2021 STMicroelectronics and others.\n*\n* This program and the accompanying materials are made available under the\n* terms of the Eclipse Public License 2.0 which is available at\n* http://www.eclipse.org/legal/epl-2.0.\n*\n* This Source Code may also be made available under the following Secondary\n* Licenses when the conditions for such availability set forth in the Eclipse\n* Public License v. 2.0 are satisfied: GNU General Public License, version 2\n* with the GNU Classpath Exception which is available at\n* https://www.gnu.org/software/classpath/license.html.\n*\n* SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n*******************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { inject, injectable } from 'inversify';\nimport { ILogger, LogLevel } from '../logger';\nimport { MaybePromise } from '../types';\nimport { Measurement, MeasurementOptions, MeasurementResult } from './measurement';\nimport { Emitter, Event } from '../event';\n\n/** The default log level for measurements that are not otherwise configured with a default. */\nconst DEFAULT_LOG_LEVEL = LogLevel.INFO;\n\n/**\n * Configuration of the log messages written by a {@link Measurement}.\n */\ninterface LogOptions extends MeasurementOptions {\n    /** A function that computes the current time, in millis, since the start of the application. */\n    now: () => number;\n\n    /** An optional label for the application the start of which (in real time) is the basis of all measurements. */\n    owner?: string;\n\n    /** An optional log level to override any default or dynamic log level for a specific log message. */\n    levelOverride?: LogLevel;\n\n    /** Optional arguments to the log message. The 'optionalArgs' coming in from the {@link Measurement} API are slotted in here. */\n    arguments?: any[];\n}\n\n/**\n * A factory of {@link Measurement}s for performance logging.\n */\n@injectable()\nexport abstract class Stopwatch {\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    protected _storedMeasurements: MeasurementResult[] = [];\n\n    protected onDidAddMeasurementResultEmitter = new Emitter<MeasurementResult>();\n    get onDidAddMeasurementResult(): Event<MeasurementResult> {\n        return this.onDidAddMeasurementResultEmitter.event;\n    }\n\n    constructor(protected readonly defaultLogOptions: LogOptions) {\n        if (!defaultLogOptions.defaultLogLevel) {\n            defaultLogOptions.defaultLogLevel = DEFAULT_LOG_LEVEL;\n        }\n        if (defaultLogOptions.storeResults === undefined) {\n            defaultLogOptions.storeResults = true;\n        }\n    }\n\n    /**\n     * Create a {@link Measurement} that will compute its elapsed time when logged.\n     *\n     * @param name the {@link Measurement.name measurement name}\n     * @param options optional configuration of the new measurement\n     * @returns a self-timing measurement\n     */\n    public abstract start(name: string, options?: MeasurementOptions): Measurement;\n\n    /**\n     * Wrap an asynchronous function in a {@link Measurement} that logs itself on completion.\n     * If obtaining and awaiting the `computation` runs too long according to the threshold\n     * set in the `options`, then the log message is a warning, otherwise a debug log.\n     *\n     * @param name the {@link Measurement.name name of the measurement} to wrap around the function\n     * @param description a description of what the function does, to be included in the log\n     * @param computation a supplier of the asynchronous function to wrap\n     * @param options optional addition configuration as for {@link measure}\n     * @returns the wrapped `computation`\n     *\n     * @see {@link MeasurementOptions.thresholdMillis}\n     */\n    public async startAsync<T>(name: string, description: string, computation: () => MaybePromise<T>, options?: MeasurementOptions): Promise<T> {\n        const threshold = options?.thresholdMillis ?? Number.POSITIVE_INFINITY;\n\n        const measure = this.start(name, options);\n        const result = await computation();\n        if (measure.stop() > threshold) {\n            measure.warn(`${description} took longer than the expected maximum ${threshold} milliseconds`);\n        } else {\n            measure.log(description);\n        }\n        return result;\n    }\n\n    protected createMeasurement(name: string, measure: () => { startTime: number, duration: number }, options?: MeasurementOptions): Measurement {\n        const logOptions = this.mergeLogOptions(options);\n\n        const measurement: Measurement = {\n            name,\n            stop: () => {\n                if (measurement.elapsed === undefined) {\n                    const { startTime, duration } = measure();\n                    measurement.elapsed = duration;\n                    const result: MeasurementResult = {\n                        name,\n                        elapsed: duration,\n                        startTime,\n                        owner: logOptions.owner\n                    };\n                    if (logOptions.storeResults) {\n                        this._storedMeasurements.push(result);\n                    }\n                    this.onDidAddMeasurementResultEmitter.fire(result);\n                }\n                return measurement.elapsed;\n            },\n            log: (activity: string, ...optionalArgs: any[]) => this.log(measurement, activity, this.atLevel(logOptions, undefined, optionalArgs)),\n            debug: (activity: string, ...optionalArgs: any[]) => this.log(measurement, activity, this.atLevel(logOptions, LogLevel.DEBUG, optionalArgs)),\n            info: (activity: string, ...optionalArgs: any[]) => this.log(measurement, activity, this.atLevel(logOptions, LogLevel.INFO, optionalArgs)),\n            warn: (activity: string, ...optionalArgs: any[]) => this.log(measurement, activity, this.atLevel(logOptions, LogLevel.WARN, optionalArgs)),\n            error: (activity: string, ...optionalArgs: any[]) => this.log(measurement, activity, this.atLevel(logOptions, LogLevel.ERROR, optionalArgs)),\n        };\n\n        return measurement;\n    }\n\n    protected mergeLogOptions(logOptions?: Partial<LogOptions>): LogOptions {\n        const result: LogOptions = { ...this.defaultLogOptions };\n        if (logOptions) {\n            Object.assign(result, logOptions);\n        }\n        return result;\n    }\n\n    protected atLevel(logOptions: LogOptions, levelOverride?: LogLevel, optionalArgs?: any[]): LogOptions {\n        return { ...logOptions, levelOverride, arguments: optionalArgs };\n    }\n\n    protected logLevel(elapsed: number, options?: Partial<LogOptions>): LogLevel {\n        if (options?.levelOverride) {\n            return options.levelOverride;\n        }\n\n        return options?.defaultLogLevel ?? this.defaultLogOptions.defaultLogLevel ?? DEFAULT_LOG_LEVEL;\n    }\n\n    protected log(measurement: Measurement, activity: string, options: LogOptions): void {\n        const elapsed = measurement.stop();\n        const level = this.logLevel(elapsed, options);\n\n        if (Number.isNaN(elapsed)) {\n            switch (level) {\n                case LogLevel.ERROR:\n                case LogLevel.FATAL:\n                    // Always log errors, even if NaN duration from native API preventing a measurement\n                    break;\n                default:\n                    // Measurement was prevented by native API, do not log NaN duration\n                    return;\n            }\n        }\n\n        const start = options.owner ? `${options.owner} start` : 'start';\n        const timeFromStart = `Finished ${(options.now() / 1000).toFixed(3)} s after ${start}`;\n        const whatWasMeasured = options.context ? `[${options.context}] ${activity}` : activity;\n        this.logger.log(level, `${whatWasMeasured}: ${elapsed.toFixed(1)} ms [${timeFromStart}]`, ...(options.arguments ?? []));\n    }\n\n    get storedMeasurements(): ReadonlyArray<MeasurementResult> {\n        return this._storedMeasurements;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { JSONValue } from '@phosphor/coreutils';\nimport { IJSONSchema } from '../json-schema';\nimport { PreferenceScope } from './preference-scope';\nimport { isObject, isString } from '../types';\n\nexport interface PreferenceSchema {\n    [name: string]: any,\n    scope?: 'application' | 'window' | 'resource' | PreferenceScope,\n    overridable?: boolean;\n    properties: PreferenceSchemaProperties\n}\nexport namespace PreferenceSchema {\n    export function is(obj: unknown): obj is PreferenceSchema {\n        return isObject<PreferenceSchema>(obj) && PreferenceSchemaProperties.is(obj.properties);\n    }\n    export function getDefaultScope(schema: PreferenceSchema): PreferenceScope {\n        let defaultScope: PreferenceScope = PreferenceScope.Workspace;\n        if (!PreferenceScope.is(schema.scope)) {\n            defaultScope = PreferenceScope.fromString(<string>schema.scope) || PreferenceScope.Workspace;\n        } else {\n            defaultScope = schema.scope;\n        }\n        return defaultScope;\n    }\n}\n\nexport interface PreferenceSchemaProperties {\n    [name: string]: PreferenceSchemaProperty\n}\nexport namespace PreferenceSchemaProperties {\n    export function is(obj: unknown): obj is PreferenceSchemaProperties {\n        return isObject(obj);\n    }\n}\n\nexport interface PreferenceDataSchema {\n    [name: string]: any,\n    scope?: PreferenceScope,\n    properties: {\n        [name: string]: PreferenceDataProperty\n    }\n    patternProperties: {\n        [name: string]: PreferenceDataProperty\n    };\n}\n\nexport interface PreferenceItem extends IJSONSchema {\n    /**\n     * preference default value, if `undefined` then `default`\n     */\n    defaultValue?: JSONValue;\n    overridable?: boolean;\n    included?: boolean;\n    [key: string]: any;\n}\nexport interface PreferenceSchemaProperty extends PreferenceItem {\n    description?: string;\n    markdownDescription?: string;\n    scope?: 'application' | 'machine' | 'window' | 'resource' | 'language-overridable' | 'machine-overridable' | PreferenceScope;\n}\n\nexport interface PreferenceDataProperty extends PreferenceItem {\n    description?: string;\n    markdownDescription?: string;\n    scope?: PreferenceScope;\n    typeDetails?: any;\n}\nexport namespace PreferenceDataProperty {\n    export function fromPreferenceSchemaProperty(schemaProps: PreferenceSchemaProperty, defaultScope: PreferenceScope = PreferenceScope.Workspace): PreferenceDataProperty {\n        if (!schemaProps.scope) {\n            schemaProps.scope = defaultScope;\n        } else if (isString(schemaProps.scope)) {\n            return Object.assign(schemaProps, { scope: PreferenceScope.fromString(schemaProps.scope) || defaultScope });\n        }\n        return <PreferenceDataProperty>schemaProps;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport enum PreferenceScope {\n    Default,\n    User,\n    Workspace,\n    Folder\n}\n\nexport namespace PreferenceScope {\n    export function is(scope: unknown): scope is PreferenceScope {\n        return typeof scope === 'number' && getScopes().includes(scope);\n    }\n\n    /**\n     * @returns preference scopes from broadest to narrowest: Default -> Folder.\n     */\n    export function getScopes(): PreferenceScope[] {\n        return Object.values(PreferenceScope).filter(nameOrIndex => !isNaN(Number(nameOrIndex))) as PreferenceScope[];\n    }\n\n    /**\n     * @returns preference scopes from narrowest to broadest. Folder -> Default.\n     */\n    export function getReversedScopes(): PreferenceScope[] {\n        return getScopes().reverse();\n    }\n\n    export function getScopeNames(scope?: PreferenceScope): string[] {\n        const names: string[] = [];\n        const scopes = getScopes();\n        if (scope) {\n            for (const scopeIndex of scopes) {\n                if (scopeIndex <= scope) {\n                    names.push(PreferenceScope[scopeIndex]);\n                }\n            }\n        }\n        return names;\n    }\n\n    export function fromString(strScope: string): PreferenceScope | undefined {\n        switch (strScope) {\n            case 'application':\n                return PreferenceScope.User;\n            case 'window':\n                return PreferenceScope.Folder;\n            case 'resource':\n                return PreferenceScope.Folder;\n            case 'language-overridable':\n                return PreferenceScope.Folder;\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2023 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport type { MaybeArray, MaybePromise } from './types';\n\nexport interface Prioritizeable<T> {\n    readonly priority: number;\n    readonly value: T;\n}\nexport namespace Prioritizeable {\n    export type GetPriority<T> = (value: T) => MaybePromise<number>;\n    export type GetPrioritySync<T> = (value: T) => number;\n    export async function toPrioritizeable<T>(rawValue: MaybePromise<T>, getPriority: GetPriority<T>): Promise<Prioritizeable<T>>;\n    export async function toPrioritizeable<T>(rawValue: MaybePromise<T>[], getPriority: GetPriority<T>): Promise<Prioritizeable<T>[]>;\n    export async function toPrioritizeable<T>(rawValue: MaybeArray<MaybePromise<T>>, getPriority: GetPriority<T>): Promise<MaybeArray<Prioritizeable<T>>> {\n        if (rawValue instanceof Array) {\n            return Promise.all(\n                rawValue.map(v => toPrioritizeable(v, getPriority))\n            );\n        }\n        const value = await rawValue;\n        const priority = await getPriority(value);\n        return { priority, value };\n    }\n    export function toPrioritizeableSync<T>(rawValue: T[], getPriority: GetPrioritySync<T>): Prioritizeable<T>[] {\n        return rawValue.map(v => ({\n            value: v,\n            priority: getPriority(v)\n        }));\n    }\n    export function prioritizeAllSync<T>(values: T[], getPriority: GetPrioritySync<T>): Prioritizeable<T>[] {\n        const prioritizeable = toPrioritizeableSync(values, getPriority);\n        return prioritizeable.filter(isValid).sort(compare);\n    }\n    export async function prioritizeAll<T>(values: MaybePromise<T>[], getPriority: GetPriority<T>): Promise<Prioritizeable<T>[]> {\n        const prioritizeable = await toPrioritizeable(values, getPriority);\n        return prioritizeable.filter(isValid).sort(compare);\n    }\n    export function isValid<T>(p: Prioritizeable<T>): boolean {\n        return p.priority > 0;\n    }\n    export function compare<T>(p: Prioritizeable<T>, p2: Prioritizeable<T>): number {\n        return p2.priority - p.priority;\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport {\n    ProgressUpdate,\n    ProgressMessage\n} from './message-service-protocol';\nimport { CancellationToken } from './cancellation';\n\nexport const ProgressClient = Symbol('ProgressClient');\nexport interface ProgressClient {\n\n    /**\n     * Show a progress message with possible actions to user.\n     */\n    showProgress(progressId: string, message: ProgressMessage, cancellationToken: CancellationToken): Promise<string | undefined>;\n\n    /**\n     * Update a previously created progress message.\n     */\n    reportProgress(progressId: string, update: ProgressUpdate, message: ProgressMessage, cancellationToken: CancellationToken): Promise<void>;\n}\n","// *****************************************************************************\n// Copyright (C) 2019 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject } from 'inversify';\nimport {\n    Progress,\n    ProgressUpdate,\n    ProgressMessage\n} from './message-service-protocol';\nimport { CancellationTokenSource } from './cancellation';\nimport { ProgressClient } from './progress-service-protocol';\nimport { MessageService } from './message-service';\n\n@injectable()\nexport class ProgressService {\n\n    @inject(ProgressClient) protected readonly client: ProgressClient;\n    @inject(MessageService) protected readonly messageService: MessageService;\n\n    async showProgress(message: ProgressMessage, onDidCancel?: () => void): Promise<Progress> {\n        if (this.shouldDelegate(message)) {\n            return this.messageService.showProgress(message, onDidCancel);\n        }\n        const id = this.newProgressId();\n        const cancellationSource = new CancellationTokenSource();\n        const report = (update: ProgressUpdate) => {\n            this.client.reportProgress(id, update, message, cancellationSource.token);\n        };\n        const actions = new Set<string>(message.actions);\n        if (ProgressMessage.isCancelable(message)) {\n            actions.delete(ProgressMessage.Cancel);\n            actions.add(ProgressMessage.Cancel);\n        }\n        const clientMessage = { ...message, actions: Array.from(actions) };\n        const result = this.client.showProgress(id, clientMessage, cancellationSource.token);\n        if (ProgressMessage.isCancelable(message) && typeof onDidCancel === 'function') {\n            result.then(value => {\n                if (value === ProgressMessage.Cancel) {\n                    onDidCancel();\n                }\n            });\n        }\n        return {\n            id,\n            cancel: () => cancellationSource.cancel(),\n            result,\n            report\n        };\n    }\n    protected shouldDelegate(message: ProgressMessage): boolean {\n        const location = message.options && message.options.location;\n        return location === 'notification';\n    }\n\n    private progressIdPrefix = Math.random().toString(36).substring(5);\n    private counter = 0;\n    protected newProgressId(): string {\n        return `${this.progressIdPrefix}-${++this.counter}`;\n    }\n\n    async withProgress<T>(text: string, locationId: string, task: () => Promise<T>, onDidCancel?: () => void): Promise<T> {\n        const progress = await this.showProgress({ text, options: { cancelable: true, location: locationId } }, onDidCancel);\n        try {\n            return await task();\n        } finally {\n            progress.cancel();\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Disposable } from './disposable';\nimport { Event } from './event';\nimport { CancellationToken, CancellationError, cancelled } from './cancellation';\nimport { isFunction, isObject } from './types';\n\n/**\n * Simple implementation of the deferred pattern.\n * An object that exposes a promise and functions to resolve and reject it.\n */\nexport class Deferred<T = void> {\n    state: 'resolved' | 'rejected' | 'unresolved' = 'unresolved';\n    resolve: (value: T | PromiseLike<T>) => void;\n    reject: (err?: unknown) => void;\n\n    promise = new Promise<T>((resolve, reject) => {\n        this.resolve = resolve;\n        this.reject = reject;\n    }).then(\n        res => (this.setState('resolved'), res),\n        err => (this.setState('rejected'), Promise.reject(err)),\n    );\n\n    protected setState(state: 'resolved' | 'rejected'): void {\n        if (this.state === 'unresolved') {\n            this.state = state;\n        }\n    }\n}\n\n/**\n * @returns resolves after a specified number of milliseconds\n * @throws cancelled if a given token is cancelled before a specified number of milliseconds\n */\nexport function timeout(ms: number, token = CancellationToken.None): Promise<void> {\n    const deferred = new Deferred<void>();\n    const handle = setTimeout(() => deferred.resolve(), ms);\n    token.onCancellationRequested(() => {\n        clearTimeout(handle);\n        deferred.reject(cancelled());\n    });\n    return deferred.promise;\n}\n\n/**\n * Creates a promise that is rejected after the given amount of time. A typical use case is to wait for another promise until a specified timeout using:\n * ```\n * Promise.race([ promiseToPerform, timeoutReject(timeout, 'Timeout error message') ]);\n * ```\n *\n * @param ms timeout in milliseconds\n * @param message error message on promise rejection\n * @returns rejection promise\n */\nexport function timeoutReject<T>(ms: number, message?: string): Promise<T> {\n    const deferred = new Deferred<T>();\n    setTimeout(() => deferred.reject(new Error(message)), ms);\n    return deferred.promise;\n}\n\nexport async function retry<T>(task: () => Promise<T>, retryDelay: number, retries: number): Promise<T> {\n    let lastError: Error | undefined;\n\n    for (let i = 0; i < retries; i++) {\n        try {\n            return await task();\n        } catch (error) {\n            lastError = error;\n\n            await timeout(retryDelay);\n        }\n    }\n\n    throw lastError;\n}\n\n/**\n * A function to allow a promise resolution to be delayed by a number of milliseconds. Usage is as follows:\n *\n * `const stringValue = await myPromise.then(delay(600)).then(value => value.toString());`\n *\n * @param ms the number of millisecond to delay\n * @returns a function that returns a promise that returns the given value, but delayed\n */\nexport function delay<T>(ms: number): (value: T) => Promise<T> {\n    return value => new Promise((resolve, reject) => { setTimeout(() => resolve(value), ms); });\n}\n\n/**\n * Constructs a promise that will resolve after a given delay.\n * @param ms the number of milliseconds to wait\n */\nexport async function wait(ms: number): Promise<void> {\n    await delay(ms)(undefined);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function waitForEvent<T>(event: Event<T>, ms: number, thisArg?: any, disposables?: Disposable[]): Promise<T> {\n    return new Promise<T>((resolve, reject) => {\n        const registration = setTimeout(() => {\n            listener.dispose();\n            reject(new CancellationError());\n        }, ms);\n\n        const listener = event((evt: T) => {\n            clearTimeout(registration);\n            listener.dispose();\n            resolve(evt);\n        }, thisArg, disposables);\n\n    });\n}\n\nexport function isThenable<T>(obj: unknown): obj is Promise<T> {\n    return isObject<Promise<unknown>>(obj) && isFunction(obj.then);\n}\n\n/**\n * Returns with a promise that waits until the first promise resolves to `true`.\n */\n// Based on https://stackoverflow.com/a/51160727/5529090\nexport function firstTrue(...promises: readonly Promise<boolean>[]): Promise<boolean> {\n    const newPromises = promises.map(promise => new Promise<boolean>(\n        (resolve, reject) => promise.then(result => result && resolve(true), reject)\n    ));\n    newPromises.push(Promise.all(promises).then(() => false));\n    return Promise.race(newPromises);\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport * as fuzzy from 'fuzzy';\nimport { Event } from './event';\nimport { KeySequence } from './keys';\nimport { CancellationToken } from './cancellation';\nimport { URI as Uri } from 'vscode-uri';\n\nexport const quickPickServicePath = '/services/quickPick';\nexport const QuickPickService = Symbol('QuickPickService');\nexport interface QuickPickService {\n    show<T extends QuickPickItem>(items: Array<T | QuickPickSeparator>, options?: QuickPickOptions<T>): Promise<T | undefined>;\n    setItems<T extends QuickPickItem>(items: Array<T>): void;\n    hide(): void\n    readonly onDidHide: Event<void>;\n    readonly onDidAccept: Event<void>;\n    readonly onDidChangeValue: Event<{ quickPick: QuickPick<QuickPickItem>, filter: string }>;\n    readonly onDidChangeActive: Event<{ quickPick: QuickPick<QuickPickItem>, activeItems: Array<QuickPickItem> }>;\n    readonly onDidChangeSelection: Event<{ quickPick: QuickPick<QuickPickItem>, selectedItems: Array<QuickPickItem> }>;\n    readonly onDidTriggerButton: Event<QuickInputButtonHandle>;\n}\n\nexport interface Match {\n    start: number;\n    end: number;\n}\nexport interface QuickPickItemHighlights {\n    label?: Match[];\n    description?: Match[];\n    detail?: Match[];\n}\n\nexport interface QuickPickItem {\n    type?: 'item';\n    id?: string;\n    label: string;\n    meta?: string;\n    ariaLabel?: string;\n    description?: string;\n    detail?: string;\n    keySequence?: KeySequence;\n    iconPath?: { light?: Uri; dark: Uri };\n    iconClasses?: string[];\n    alwaysShow?: boolean;\n    highlights?: QuickPickItemHighlights;\n    buttons?: QuickInputButton[];\n    execute?: () => void;\n}\n\nexport interface QuickPickSeparator {\n    type: 'separator';\n    label?: string;\n}\n\nexport type QuickPickItemOrSeparator = QuickPickItem | QuickPickSeparator;\nexport type QuickPickInput<T = QuickPickItem> = T | QuickPickSeparator;\n\nexport namespace QuickPickItem {\n    export function is(item: QuickPickSeparator | QuickPickItem): item is QuickPickItem {\n        // if it's not a separator, it's an item\n        return item.type !== 'separator';\n    }\n}\n\nexport interface QuickPickSeparator {\n    type: 'separator';\n    label?: string;\n}\n\nexport namespace QuickPickSeparator {\n    export function is(item: QuickPickItemOrSeparator): item is QuickPickSeparator {\n        return item.type === 'separator';\n    }\n}\n\nexport type QuickPicks = (QuickPickSeparator | QuickPickItem)[];\n\nexport interface QuickPickValue<V> extends QuickPickItem {\n    value: V\n}\n\nexport interface QuickInputButton {\n    iconPath?: { light?: Uri; dark: Uri };\n    iconClass?: string;\n    tooltip?: string;\n    /**\n     * Whether the button should be visible even when the user is not hovering.\n     */\n    alwaysVisible?: boolean;\n}\n\nexport interface QuickInputButtonHandle extends QuickInputButton {\n    handle: number; // index of where the button is in buttons array if QuickInputButton or -1 if QuickInputButtons.Back\n}\n\nexport enum QuickInputHideReason {\n    /**\n     * Focus was moved away from the input, but the user may not have explicitly closed it.\n     */\n    Blur = 1,\n    /**\n     * An explicit close gesture, like striking the Escape key\n     */\n    Gesture = 2,\n    /**\n     * Any other reason\n     */\n    Other = 3,\n}\n\nexport interface QuickInput {\n    readonly onDidHide: Event<{ reason: QuickInputHideReason }>;\n    readonly onDispose: Event<void>;\n    title: string | undefined;\n    description: string | undefined;\n    step: number | undefined;\n    totalSteps: number | undefined;\n    enabled: boolean;\n    contextKey: string | undefined;\n    busy: boolean;\n    ignoreFocusOut: boolean;\n    show(): void;\n    hide(): void;\n    dispose(): void;\n}\n\nexport interface InputBox extends QuickInput {\n    value: string | undefined;\n    valueSelection: Readonly<[number, number]> | undefined;\n    placeholder: string | undefined;\n    password: boolean;\n    readonly onDidChangeValue: Event<string>;\n    readonly onDidAccept: Event<void>;\n    buttons: ReadonlyArray<QuickInputButton>;\n    readonly onDidTriggerButton: Event<QuickInputButton>;\n    prompt: string | undefined;\n    validationMessage: string | undefined;\n}\n\nexport interface QuickPick<T extends QuickPickItemOrSeparator> extends QuickInput {\n    value: string;\n    placeholder: string | undefined;\n    items: ReadonlyArray<T | QuickPickSeparator>;\n    activeItems: ReadonlyArray<T>;\n    selectedItems: ReadonlyArray<T>;\n    canSelectMany: boolean;\n    matchOnDescription: boolean;\n    matchOnDetail: boolean;\n    keepScrollPosition: boolean;\n    buttons: ReadonlyArray<QuickInputButton>;\n    readonly onDidAccept: Event<{ inBackground: boolean } | undefined>;\n    readonly onDidChangeValue: Event<string>;\n    readonly onDidTriggerButton: Event<QuickInputButton>;\n    readonly onDidTriggerItemButton: Event<QuickPickItemButtonEvent<QuickPickItem>>;\n    readonly onDidChangeActive: Event<T[]>;\n    readonly onDidChangeSelection: Event<T[]>;\n}\n\nexport interface PickOptions<T extends QuickPickItem> {\n    title?: string;\n    placeHolder?: string;\n    matchOnDescription?: boolean;\n    matchOnDetail?: boolean;\n    matchOnLabel?: boolean;\n    autoFocusOnList?: boolean;\n    ignoreFocusLost?: boolean;\n    canPickMany?: boolean;\n    contextKey?: string;\n    activeItem?: Promise<T> | T;\n    onDidFocus?: (entry: T) => void;\n}\n\nexport interface InputOptions {\n    title?: string;\n    value?: string;\n    valueSelection?: [number, number];\n    prompt?: string;\n    placeHolder?: string;\n    password?: boolean;\n    ignoreFocusLost?: boolean;\n    validateInput?(input: string): Promise<string | { content: string; severity: number; } | null | undefined> | undefined;\n}\n\nexport interface QuickPickItemButtonEvent<T extends QuickPickItemOrSeparator> {\n    button: QuickInputButton;\n    item: T;\n}\n\nexport interface QuickPickItemButtonContext<T extends QuickPickItemOrSeparator> extends QuickPickItemButtonEvent<T> {\n    removeItem(): void;\n}\n\nexport interface QuickPickOptions<T extends QuickPickItemOrSeparator> {\n    busy?: boolean;\n    enabled?: boolean;\n    title?: string;\n    description?: string;\n    value?: string;\n    filterValue?: (value: string) => string;\n    ariaLabel?: string;\n    buttons?: Array<QuickInputButton>;\n    placeholder?: string;\n    canAcceptInBackground?: boolean;\n    customButton?: boolean;\n    customLabel?: string;\n    customHover?: string;\n    canSelectMany?: boolean;\n    matchOnDescription?: boolean;\n    matchOnDetail?: boolean;\n    matchOnLabel?: boolean;\n    sortByLabel?: boolean;\n    keepScrollPosition?: boolean;\n    autoFocusOnList?: boolean;\n    ignoreFocusOut?: boolean;\n    valueSelection?: Readonly<[number, number]>;\n    validationMessage?: string;\n    hideInput?: boolean;\n    hideCheckAll?: boolean;\n    runIfSingle?: boolean\n    contextKey?: string;\n    activeItem?: T,\n    step?: number;\n    totalSteps?: number;\n\n    onDidAccept?: () => void,\n    onDidChangeActive?: (quickPick: QuickPick<T>, activeItems: Array<T>) => void,\n    onDidChangeSelection?: (quickPick: QuickPick<T>, selectedItems: Array<T>) => void,\n    onDidChangeValue?: (quickPick: QuickPick<T>, filter: string) => void,\n    onDidCustom?: () => void,\n    onDidHide?: () => void;\n    onDidTriggerButton?: (button: QuickInputButton) => void,\n    onDidTriggerItemButton?: (ItemButtonEvent: QuickPickItemButtonContext<T>) => void\n}\n\nexport const quickInputServicePath = '/services/quickInput';\nexport const QuickInputService = Symbol('QuickInputService');\nexport interface QuickInputService {\n    readonly backButton: QuickInputButton;\n    readonly onShow: Event<void>;\n    readonly onHide: Event<void>;\n    open(filter: string): void;\n    createInputBox(): InputBox;\n    input(options?: InputOptions, token?: CancellationToken): Promise<string | undefined>;\n    pick<T extends QuickPickItem>(picks: Promise<QuickPickInput<T>[]> | QuickPickInput<T>[],\n        options?: PickOptions<T> & { canPickMany: true }, token?: CancellationToken): Promise<T[] | undefined>;\n    pick<T extends QuickPickItem>(picks: Promise<QuickPickInput<T>[]> | QuickPickInput<T>[],\n        options?: PickOptions<T> & { canPickMany: false }, token?: CancellationToken): Promise<T | undefined>;\n    pick<T extends QuickPickItem>(picks: Promise<QuickPickInput<T>[]> | QuickPickInput<T>[],\n        options?: Omit<PickOptions<T>, 'canPickMany'>, token?: CancellationToken): Promise<T | undefined>;\n\n    showQuickPick<T extends QuickPickItem>(items: Array<T | QuickPickSeparator>, options?: QuickPickOptions<T>): Promise<T | undefined>;\n    hide(): void;\n    /**\n     * Provides raw access to the quick pick controller.\n     */\n    createQuickPick<T extends QuickPickItem>(): QuickPick<T>;\n}\n\n/**\n * Filter the list of quick pick items based on the provided filter.\n * Items are filtered based on if:\n * - their `label` satisfies the filter using `fuzzy`.\n * - their `description` satisfies the filter using `fuzzy`.\n * - their `detail` satisfies the filter using `fuzzy`.\n * Filtered items are also updated to display proper highlights based on how they were filtered.\n * @param items the list of quick pick items.\n * @param filter the filter to search for.\n * @returns the list of quick pick items that satisfy the filter.\n */\nexport function filterItems(items: QuickPickItemOrSeparator[], filter: string): QuickPickItemOrSeparator[] {\n    filter = filter.trim().toLowerCase();\n\n    if (filter.length === 0) {\n        for (const item of items) {\n            if (item.type !== 'separator') {\n                item.highlights = undefined; // reset highlights from previous filtering.\n            }\n        }\n        return items;\n    }\n\n    const filteredItems: QuickPickItemOrSeparator[] = [];\n    for (const item of items) {\n        if (item.type === 'separator') {\n            filteredItems.push(item);\n        } else if (\n            fuzzy.test(filter, item.label) ||\n            (item.description && fuzzy.test(filter, item.description)) ||\n            (item.detail && fuzzy.test(filter, item.detail))\n        ) {\n            item.highlights = {\n                label: findMatches(item.label, filter),\n                description: item.description ? findMatches(item.description, filter) : undefined,\n                detail: item.detail ? findMatches(item.detail, filter) : undefined\n            };\n            filteredItems.push(item);\n        }\n    }\n    return filteredItems;\n}\n\n/**\n * Find match highlights when testing a word against a pattern.\n * @param word the word to test.\n * @param pattern the word to match against.\n * @returns the list of highlights if present.\n */\nexport function findMatches(word: string, pattern: string): Array<{ start: number, end: number }> | undefined {\n    word = word.toLocaleLowerCase();\n    pattern = pattern.toLocaleLowerCase();\n\n    if (pattern.trim().length === 0) {\n        return undefined;\n    }\n\n    const delimiter = '\\u0000'; // null byte that shouldn't appear in the input and is used to denote matches.\n    const matchResult = fuzzy.match(pattern.replace(/\\u0000/gu, ''), word, { pre: delimiter, post: delimiter });\n    if (!matchResult) {\n        return undefined;\n    }\n\n    const match = matchResult.rendered;\n    const highlights: { start: number, end: number }[] = [];\n\n    let lastIndex = 0;\n    /** We need to account for the extra markers by removing them from the range */\n    let offset = 0;\n\n    while (true) {\n        const start = match.indexOf(delimiter, lastIndex);\n        if (start === -1) { break; }\n        const end = match.indexOf(delimiter, start + 1);\n        if (end === -1) { break; }\n        highlights.push({\n            start: start - offset++,\n            end: end - offset++\n        });\n        lastIndex = end + 1;\n    }\n\n    return highlights.length > 0 ? highlights : undefined;\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { Disposable, DisposableCollection } from './disposable';\nimport { Emitter, Event } from './event';\nimport { MaybePromise } from './types';\n\nexport interface Reference<T> extends Disposable {\n    readonly object: T\n}\n\n/**\n * Abstract class for a map of reference-counted disposable objects, with the\n * following features:\n *\n *    - values are not inserted explicitly; instead, acquire() is used to\n *      create the value for a given key, or return the previously created\n *      value for it. How the value is created for a given key is\n *      implementation specific.\n *\n *    - any subsquent acquire() with the same key will bump the reference\n *      count on that value. acquire() returns not the value directly but\n *      a reference object that holds the value. Calling dispose() on the\n *      reference decreases the value's effective reference count.\n *\n *    - a contained value will have its dispose() function called when its\n *      reference count reaches zero. The key/value pair will be purged\n *      from the collection.\n *\n *    - calling dispose() on the value directly, instead of calling it on\n *      the reference returned by acquire(), will automatically dispose\n *      all outstanding references to that value and the key/value pair\n *      will be purged from the collection.\n *\n *    - supports synchronous and asynchronous implementations. acquire() will\n *      return a Promise if the value cannot be created immediately\n *\n *    - functions has|keys|values|get are always synchronous and the result\n *      excludes asynchronous additions in flight.\n *\n *    - functions values|get return the value directly and not a reference\n *      to the value. Use these functions to obtain a value without bumping\n *      its reference count.\n *\n *    - clients can register to be notified when values are added and removed;\n *      notification for asynchronous additions happen when the creation\n *      completes, not when it's requested.\n *\n *    - keys can be any value/object that can be successfully stringified using\n *      JSON.stringify(), sans arguments\n *\n *    - calling dispose() on the collection will dispose all outstanding\n *      references to all contained values, which results in the disposal of\n *      the values themselves.\n */\nexport abstract class AbstractReferenceCollection<K, V extends Disposable> implements Disposable {\n\n    protected readonly _keys = new Map<string, K>();\n    protected readonly _values = new Map<string, V>();\n    protected readonly references = new Map<string, DisposableCollection>();\n\n    protected readonly onDidCreateEmitter = new Emitter<V>();\n    readonly onDidCreate: Event<V> = this.onDidCreateEmitter.event;\n\n    protected readonly onWillDisposeEmitter = new Emitter<V>();\n    readonly onWillDispose: Event<V> = this.onWillDisposeEmitter.event;\n\n    protected readonly toDispose = new DisposableCollection();\n\n    constructor() {\n        this.toDispose.push(this.onDidCreateEmitter);\n        this.toDispose.push(this.onWillDisposeEmitter);\n        this.toDispose.push(Disposable.create(() => this.clear()));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    clear(): void {\n        for (const value of this._values.values()) {\n            try {\n                value.dispose();\n            } catch (e) {\n                console.error(e);\n            }\n        }\n    }\n\n    has(args: K): boolean {\n        const key = this.toKey(args);\n        return this.references.has(key);\n    }\n\n    keys(): K[] {\n        return [...this._keys.values()];\n    }\n\n    values(): V[] {\n        return [...this._values.values()];\n    }\n\n    get(args: K): V | undefined {\n        const key = this.toKey(args);\n        return this._values.get(key);\n    }\n\n    abstract acquire(args: K): MaybePromise<Reference<V>>;\n\n    protected doAcquire(key: string, object: V): Reference<V> {\n        const references = this.references.get(key) || this.createReferences(key, object);\n        const reference: Reference<V> = {\n            object,\n            dispose: () => { }\n        };\n        references.push(reference);\n        return reference;\n    }\n\n    protected toKey(args: K): string {\n        return JSON.stringify(args);\n    }\n\n    protected createReferences(key: string, value: V): DisposableCollection {\n        const references = new DisposableCollection();\n        references.onDispose(() => value.dispose());\n        const disposeObject = value.dispose.bind(value);\n        value.dispose = () => {\n            this.onWillDisposeEmitter.fire(value);\n            disposeObject();\n            this._values.delete(key);\n            this._keys.delete(key);\n            this.references.delete(key);\n            references!.dispose();\n        };\n        this.references.set(key, references);\n        return references;\n    }\n\n}\n\n/**\n * Asynchronous implementation of AbstractReferenceCollection that requires\n * the client to provide a value factory, used to service the acquire()\n * function. That factory may return a Promise if the value cannot be\n * created immediately.\n */\nexport class ReferenceCollection<K, V extends Disposable> extends AbstractReferenceCollection<K, V> {\n\n    constructor(protected readonly factory: (key: K) => MaybePromise<V>) {\n        super();\n    }\n\n    async acquire(args: K): Promise<Reference<V>> {\n        const key = this.toKey(args);\n        const existing = this._values.get(key);\n        if (existing) {\n            return this.doAcquire(key, existing);\n        }\n        const object = await this.getOrCreateValue(key, args);\n        return this.doAcquire(key, object);\n    }\n\n    protected readonly pendingValues = new Map<string, MaybePromise<V>>();\n    protected async getOrCreateValue(key: string, args: K): Promise<V> {\n        const existing = this.pendingValues.get(key);\n        if (existing) {\n            return existing;\n        }\n        const pending = this.factory(args);\n        this._keys.set(key, args);\n        this.pendingValues.set(key, pending);\n        try {\n            const value = await pending;\n            this._values.set(key, value);\n            this.onDidCreateEmitter.fire(value);\n            return value;\n        } catch (e) {\n            this._keys.delete(key);\n            throw e;\n        } finally {\n            this.pendingValues.delete(key);\n        }\n    }\n\n}\n\n/**\n * Synchronous implementation of AbstractReferenceCollection that requires\n * the client to provide a value factory, used to service the acquire()\n * function.\n */\nexport class SyncReferenceCollection<K, V extends Disposable> extends AbstractReferenceCollection<K, V> {\n\n    constructor(protected readonly factory: (key: K) => V) {\n        super();\n    }\n\n    acquire(args: K): Reference<V> {\n        const key = this.toKey(args);\n        const object = this.getOrCreateValue(key, args);\n        return this.doAcquire(key, object);\n    }\n\n    protected getOrCreateValue(key: string, args: K): V {\n        const existing = this._values.get(key);\n        if (existing) {\n            return existing;\n        }\n        const value = this.factory(args);\n        this._keys.set(key, args);\n        this._values.set(key, value);\n        this.onDidCreateEmitter.fire(value);\n        return value;\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable, inject, named } from 'inversify';\nimport { TextDocumentContentChangeEvent } from 'vscode-languageserver-protocol';\nimport URI from '../common/uri';\nimport { ContributionProvider } from './contribution-provider';\nimport { Event, Emitter } from './event';\nimport { Disposable } from './disposable';\nimport { MaybePromise } from './types';\nimport { CancellationToken } from './cancellation';\nimport { ApplicationError } from './application-error';\nimport { ReadableStream, Readable } from './stream';\nimport { SyncReferenceCollection, Reference } from './reference';\nimport { MarkdownString } from './markdown-rendering';\n\nexport interface ResourceVersion {\n}\n\nexport interface ResourceReadOptions {\n    encoding?: string\n}\n\nexport interface ResourceSaveOptions {\n    encoding?: string\n    overwriteEncoding?: boolean\n    version?: ResourceVersion\n}\n\nexport interface Resource extends Disposable {\n    readonly uri: URI;\n    /**\n     * Latest read version of this resource.\n     *\n     * Optional if a resource does not support versioning, check with `in` operator`.\n     * Undefined if a resource did not read content yet.\n     */\n    readonly version?: ResourceVersion | undefined;\n    /**\n     * Latest read encoding of this resource.\n     *\n     * Optional if a resource does not support encoding, check with `in` operator`.\n     * Undefined if a resource did not read content yet.\n     */\n    readonly encoding?: string | undefined;\n\n    readonly onDidChangeReadOnly?: Event<boolean | MarkdownString>;\n\n    readonly readOnly?: boolean | MarkdownString;\n    /**\n     * Reads latest content of this resource.\n     *\n     * If a resource supports versioning it updates version to latest.\n     * If a resource supports encoding it updates encoding to latest.\n     *\n     * @throws `ResourceError.NotFound` if a resource not found\n     */\n    readContents(options?: ResourceReadOptions): Promise<string>;\n    /**\n     * Stream latest content of this resource.\n     *\n     * If a resource supports versioning it updates version to latest.\n     * If a resource supports encoding it updates encoding to latest.\n     *\n     * @throws `ResourceError.NotFound` if a resource not found\n     */\n    readStream?(options?: ResourceReadOptions): Promise<ReadableStream<string>>;\n    /**\n     * Rewrites the complete content for this resource.\n     * If a resource does not exist it will be created.\n     *\n     * If a resource supports versioning clients can pass some version\n     * to check against it, if it is not provided latest version is used.\n     *\n     * It updates version and encoding to latest.\n     *\n     * @throws `ResourceError.OutOfSync` if latest resource version is out of sync with the given\n     */\n    saveContents?(content: string, options?: ResourceSaveOptions): Promise<void>;\n    /**\n     * Rewrites the complete content for this resource.\n     * If a resource does not exist it will be created.\n     *\n     * If a resource supports versioning clients can pass some version\n     * to check against it, if it is not provided latest version is used.\n     *\n     * It updates version and encoding to latest.\n     *\n     * @throws `ResourceError.OutOfSync` if latest resource version is out of sync with the given\n     */\n    saveStream?(content: Readable<string>, options?: ResourceSaveOptions): Promise<void>;\n    /**\n     * Applies incremental content changes to this resource.\n     *\n     * If a resource supports versioning clients can pass some version\n     * to check against it, if it is not provided latest version is used.\n     * It updates version to latest.\n     *\n     * @throws `ResourceError.NotFound` if a resource not found or was not read yet\n     * @throws `ResourceError.OutOfSync` if latest resource version is out of sync with the given\n     */\n    saveContentChanges?(changes: TextDocumentContentChangeEvent[], options?: ResourceSaveOptions): Promise<void>;\n    readonly onDidChangeContents?: Event<void>;\n    guessEncoding?(): Promise<string | undefined>\n}\nexport namespace Resource {\n    export interface SaveContext {\n        contentLength: number\n        content: string | Readable<string>\n        changes?: TextDocumentContentChangeEvent[]\n        options?: ResourceSaveOptions\n    }\n    export async function save(resource: Resource, context: SaveContext, token?: CancellationToken): Promise<void> {\n        if (!resource.saveContents) {\n            return;\n        }\n        if (await trySaveContentChanges(resource, context)) {\n            return;\n        }\n        if (token && token.isCancellationRequested) {\n            return;\n        }\n        if (typeof context.content !== 'string' && resource.saveStream) {\n            await resource.saveStream(context.content, context.options);\n        } else {\n            const content = typeof context.content === 'string' ? context.content : Readable.toString(context.content);\n            await resource.saveContents(content, context.options);\n        }\n    }\n    export async function trySaveContentChanges(resource: Resource, context: SaveContext): Promise<boolean> {\n        if (!context.changes || !resource.saveContentChanges || shouldSaveContent(resource, context)) {\n            return false;\n        }\n        try {\n            await resource.saveContentChanges(context.changes, context.options);\n            return true;\n        } catch (e) {\n            if (!ResourceError.NotFound.is(e) && !ResourceError.OutOfSync.is(e)) {\n                console.error(`Failed to apply incremental changes to '${resource.uri.toString()}':`, e);\n            }\n            return false;\n        }\n    }\n    export function shouldSaveContent(resource: Resource, { contentLength, changes }: SaveContext): boolean {\n        if (!changes || (resource.saveStream && contentLength > 32 * 1024 * 1024)) {\n            return true;\n        }\n        let contentChangesLength = 0;\n        for (const change of changes) {\n            contentChangesLength += JSON.stringify(change).length;\n            if (contentChangesLength > contentLength) {\n                return true;\n            }\n        }\n        return contentChangesLength > contentLength;\n    }\n}\n\nexport namespace ResourceError {\n    export const NotFound = ApplicationError.declare(-40000, (raw: ApplicationError.Literal<{ uri: URI }>) => raw);\n    export const OutOfSync = ApplicationError.declare(-40001, (raw: ApplicationError.Literal<{ uri: URI }>) => raw);\n}\n\nexport const ResourceResolver = Symbol('ResourceResolver');\nexport interface ResourceResolver {\n    /**\n     * Reject if a resource cannot be provided.\n     */\n    resolve(uri: URI): MaybePromise<Resource>;\n}\n\nexport const ResourceProvider = Symbol('ResourceProvider');\nexport type ResourceProvider = (uri: URI) => Promise<Resource>;\n\n@injectable()\nexport class DefaultResourceProvider {\n\n    constructor(\n        @inject(ContributionProvider) @named(ResourceResolver)\n        protected readonly resolversProvider: ContributionProvider<ResourceResolver>\n    ) { }\n\n    /**\n     * Reject if a resource cannot be provided.\n     */\n    async get(uri: URI): Promise<Resource> {\n        const resolvers = this.resolversProvider.getContributions();\n        for (const resolver of resolvers) {\n            try {\n                return await resolver.resolve(uri);\n            } catch (err) {\n                // no-op\n            }\n        }\n        return Promise.reject(new Error(`A resource provider for '${uri.toString()}' is not registered.`));\n    }\n\n}\n\nexport class MutableResource implements Resource {\n    private contents: string = '';\n\n    constructor(readonly uri: URI) {\n    }\n\n    dispose(): void { }\n\n    async readContents(): Promise<string> {\n        return this.contents;\n    }\n\n    async saveContents(contents: string): Promise<void> {\n        this.contents = contents;\n        this.fireDidChangeContents();\n    }\n\n    protected readonly onDidChangeContentsEmitter = new Emitter<void>();\n    readonly onDidChangeContents = this.onDidChangeContentsEmitter.event;\n    protected fireDidChangeContents(): void {\n        this.onDidChangeContentsEmitter.fire(undefined);\n    }\n}\nexport class ReferenceMutableResource implements Resource {\n    constructor(protected reference: Reference<MutableResource>) { }\n\n    get uri(): URI {\n        return this.reference.object.uri;\n    }\n\n    get onDidChangeContents(): Event<void> {\n        return this.reference.object.onDidChangeContents;\n    }\n\n    dispose(): void {\n        this.reference.dispose();\n    }\n\n    readContents(): Promise<string> {\n        return this.reference.object.readContents();\n    }\n\n    saveContents(contents: string): Promise<void> {\n        return this.reference.object.saveContents(contents);\n    }\n}\n\n@injectable()\nexport class InMemoryResources implements ResourceResolver {\n\n    protected readonly resources = new SyncReferenceCollection<string, MutableResource>(uri => new MutableResource(new URI(uri)));\n\n    add(uri: URI, contents: string): Resource {\n        const resourceUri = uri.toString();\n        if (this.resources.has(resourceUri)) {\n            throw new Error(`Cannot add already existing in-memory resource '${resourceUri}'`);\n        }\n        const resource = this.acquire(resourceUri);\n        resource.saveContents(contents);\n        return resource;\n    }\n\n    update(uri: URI, contents: string): Resource {\n        const resourceUri = uri.toString();\n        const resource = this.resources.get(resourceUri);\n        if (!resource) {\n            throw new Error(`Cannot update non-existed in-memory resource '${resourceUri}'`);\n        }\n        resource.saveContents(contents);\n        return resource;\n    }\n\n    resolve(uri: URI): Resource {\n        const uriString = uri.toString();\n        if (!this.resources.has(uriString)) {\n            throw new Error(`In memory '${uriString}' resource does not exist.`);\n        }\n        return this.acquire(uriString);\n    }\n\n    protected acquire(uri: string): ReferenceMutableResource {\n        const reference = this.resources.acquire(uri);\n        return new ReferenceMutableResource(reference);\n    }\n}\n\nexport const MEMORY_TEXT = 'mem-txt';\n\n/**\n * Resource implementation for 'mem-txt' URI scheme where content is saved in URI query.\n */\nexport class InMemoryTextResource implements Resource {\n    constructor(readonly uri: URI) { }\n\n    async readContents(options?: { encoding?: string | undefined; } | undefined): Promise<string> {\n        return this.uri.query;\n    }\n    dispose(): void { }\n}\n\n/**\n * ResourceResolver implementation for 'mem-txt' URI scheme.\n */\n@injectable()\nexport class InMemoryTextResourceResolver implements ResourceResolver {\n    resolve(uri: URI): MaybePromise<Resource> {\n        if (uri.scheme !== MEMORY_TEXT) {\n            throw new Error(`Expected a URI with ${MEMORY_TEXT} scheme. Was: ${uri}.`);\n        }\n        return new InMemoryTextResource(uri);\n    }\n}\n\nexport const UNTITLED_SCHEME = 'untitled';\n\nlet untitledResourceSequenceIndex = 0;\n\n@injectable()\nexport class UntitledResourceResolver implements ResourceResolver {\n\n    protected readonly resources = new Map<string, UntitledResource>();\n\n    has(uri: URI): boolean {\n        if (uri.scheme !== UNTITLED_SCHEME) {\n            throw new Error('The given uri is not untitled file uri: ' + uri);\n        } else {\n            return this.resources.has(uri.toString());\n        }\n    }\n\n    async resolve(uri: URI): Promise<UntitledResource> {\n        if (uri.scheme !== UNTITLED_SCHEME) {\n            throw new Error('The given uri is not untitled file uri: ' + uri);\n        } else {\n            const untitledResource = this.resources.get(uri.toString());\n            if (!untitledResource) {\n                return this.createUntitledResource('', '', uri);\n            } else {\n                return untitledResource;\n            }\n        }\n    }\n\n    async createUntitledResource(content?: string, extension?: string, uri?: URI): Promise<UntitledResource> {\n        if (!uri) {\n            uri = this.createUntitledURI(extension);\n        }\n        return new UntitledResource(this.resources, uri, content);\n    }\n\n    createUntitledURI(extension?: string, parent?: URI): URI {\n        let counter = 1; // vscode starts at 1\n        let untitledUri;\n        do {\n            const name = `Untitled-${counter}${extension ?? ''}`;\n            if (parent) {\n                untitledUri = parent.resolve(name).withScheme(UNTITLED_SCHEME);\n            }\n            untitledUri = new URI().resolve(name).withScheme(UNTITLED_SCHEME);\n            counter++;\n        } while (this.has(untitledUri));\n        return untitledUri;\n    }\n}\n\nexport class UntitledResource implements Resource {\n\n    protected readonly onDidChangeContentsEmitter = new Emitter<void>();\n    get onDidChangeContents(): Event<void> {\n        return this.onDidChangeContentsEmitter.event;\n    }\n\n    constructor(private resources: Map<string, UntitledResource>, public uri: URI, private content?: string) {\n        this.resources.set(this.uri.toString(), this);\n    }\n\n    dispose(): void {\n        this.resources.delete(this.uri.toString());\n        this.onDidChangeContentsEmitter.dispose();\n    }\n\n    async readContents(options?: { encoding?: string | undefined; } | undefined): Promise<string> {\n        if (this.content) {\n            return this.content;\n        } else {\n            return '';\n        }\n    }\n\n    async saveContents(content: string, options?: { encoding?: string, overwriteEncoding?: boolean }): Promise<void> {\n        // This function must exist to ensure readOnly is false for the Monaco editor.\n        // However it should not be called because saving 'untitled' is always processed as 'Save As'.\n        throw Error('Untitled resources cannot be saved.');\n    }\n\n    protected fireDidChangeContents(): void {\n        this.onDidChangeContentsEmitter.fire(undefined);\n    }\n\n    get version(): ResourceVersion | undefined {\n        return undefined;\n    }\n\n    get encoding(): string | undefined {\n        return undefined;\n    }\n}\n\n/**\n * @deprecated Since 1.27.0. Please use `UntitledResourceResolver.createUntitledURI` instead.\n */\nexport function createUntitledURI(extension?: string, parent?: URI): URI {\n    const name = `Untitled-${untitledResourceSequenceIndex++}${extension ?? ''}`;\n    if (parent) {\n        return parent.resolve(name).withScheme(UNTITLED_SCHEME);\n    }\n    return new URI().resolve(name).withScheme(UNTITLED_SCHEME);\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { injectable } from 'inversify';\nimport { Emitter, Event } from '../common/event';\n\n/**\n * `SelectionProvider` is implemented by services to notify listeners about selection changes.\n */\nexport interface SelectionProvider<T> {\n    onSelectionChanged: Event<T | undefined>;\n}\n\n/**\n * Singleton service that is used to share the current selection globally in a Theia application.\n * On each change of selection, subscribers are notified and receive the updated selection object.\n */\n@injectable()\nexport class SelectionService implements SelectionProvider<Object | undefined> {\n\n    private currentSelection: Object | undefined;\n\n    protected readonly onSelectionChangedEmitter = new Emitter<any>();\n    readonly onSelectionChanged: Event<any> = this.onSelectionChangedEmitter.event;\n\n    get selection(): Object | undefined {\n        return this.currentSelection;\n    }\n\n    set selection(selection: Object | undefined) {\n        this.currentSelection = selection;\n        this.onSelectionChangedEmitter.fire(this.currentSelection);\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { isObject } from './types';\nimport URI from './uri';\n\nexport interface UriSelection {\n    readonly uri: URI\n}\n\nexport namespace UriSelection {\n\n    export function is(arg: unknown): arg is UriSelection {\n        return isObject<UriSelection>(arg) && arg.uri instanceof URI;\n    }\n\n    export function getUri(selection: unknown): URI | undefined {\n        if (is(selection)) {\n            return selection.uri;\n        }\n        if (Array.isArray(selection) && is(selection[0])) {\n            return selection[0].uri;\n        }\n        return undefined;\n    }\n\n    export function getUris(selection: unknown): URI[] {\n        if (is(selection)) {\n            return [selection.uri];\n        }\n        if (Array.isArray(selection)) {\n            return selection.filter(is).map(s => s.uri);\n        }\n        return [];\n    }\n\n}\n","// *****************************************************************************\n// Copyright (C) 2019 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { DiagnosticSeverity } from 'vscode-languageserver-protocol';\nimport { nls } from './nls';\n\nexport enum Severity {\n    Ignore = 0,\n    Error = 1,\n    Warning = 2,\n    Info = 3,\n    Log = 4\n}\n\nconst error = 'Errors';\nconst warning = 'Warnings';\nconst info = 'Info';\nconst log = 'Log';\nconst ignore = 'All';\n\nexport namespace Severity {\n    export function fromValue(value: string | undefined): Severity {\n        value = value && value.toLowerCase();\n\n        if (!value) {\n            return Severity.Ignore;\n        }\n        if (['error', 'errors'].indexOf(value) !== -1) {\n            return Severity.Error;\n        }\n        if (['warn', 'warning', 'warnings'].indexOf(value) !== -1) {\n            return Severity.Warning;\n        }\n        if (value === 'info') {\n            return Severity.Info;\n        }\n        if (value === 'log') {\n            return Severity.Log;\n        }\n\n        return Severity.Ignore;\n    }\n\n    export function toDiagnosticSeverity(value: Severity): DiagnosticSeverity {\n        switch (value) {\n            case Severity.Ignore:\n                return DiagnosticSeverity.Hint;\n            case Severity.Info:\n                return DiagnosticSeverity.Information;\n            case Severity.Log:\n                return DiagnosticSeverity.Information;\n            case Severity.Warning:\n                return DiagnosticSeverity.Warning;\n            case Severity.Error:\n                return DiagnosticSeverity.Error;\n            default:\n                return DiagnosticSeverity.Error;\n        }\n    }\n\n    export function toString(severity: Severity | undefined): string {\n        switch (severity) {\n            case Severity.Error:\n                return error;\n            case Severity.Warning:\n                return warning;\n            case Severity.Info:\n                return info;\n            case Severity.Log:\n                return log;\n            default:\n                return ignore;\n        }\n    }\n\n    export function toLocaleString(severity: string | Severity): string {\n        if (severity === Severity.Error || severity === error) {\n            return nls.localize('theia/core/severity/errors', 'Errors');\n        } else if (severity === Severity.Warning || severity === warning) {\n            return nls.localize('theia/core/severity/warnings', 'Warnings');\n        } else if (severity === Severity.Info || severity === info) {\n            return nls.localizeByDefault('Info');\n        } else if (severity === Severity.Log || severity === log) {\n            return nls.localize('theia/core/severity/log', 'Log');\n        } else {\n            return nls.localizeByDefault('All');\n        }\n    }\n\n    export function toArray(): string[] {\n        return [ignore, error, warning, info, log];\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/base/common/stream.ts\n\n/* eslint-disable max-len */\n/* eslint-disable no-null/no-null */\n/* eslint-disable @typescript-eslint/tslint/config */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { DisposableCollection, Disposable } from './disposable';\n\nexport interface ReadableStreamEvents<T> {\n\n    /**\n     * The 'data' event is emitted whenever the stream is\n     * relinquishing ownership of a chunk of data to a consumer.\n     */\n    on(event: 'data', callback: (data: T) => void): void;\n\n    /**\n     * Emitted when any error occurs.\n     */\n    on(event: 'error', callback: (err: Error) => void): void;\n\n    /**\n     * The 'end' event is emitted when there is no more data\n     * to be consumed from the stream. The 'end' event will\n     * not be emitted unless the data is completely consumed.\n     */\n    on(event: 'end', callback: () => void): void;\n}\n\n/**\n * A interface that emulates the API shape of a node.js readable\n * stream for use in desktop and web environments.\n */\nexport interface ReadableStream<T> extends ReadableStreamEvents<T> {\n\n    /**\n     * Stops emitting any events until resume() is called.\n     */\n    pause(): void;\n\n    /**\n     * Starts emitting events again after pause() was called.\n     */\n    resume(): void;\n\n    /**\n     * Destroys the stream and stops emitting any event.\n     */\n    destroy(): void;\n\n    /**\n     * Allows to remove a listener that was previously added.\n     */\n    removeListener(event: string, callback: Function): void;\n}\n\n/**\n * A interface that emulates the API shape of a node.js readable\n * for use in desktop and web environments.\n */\nexport interface Readable<T> {\n\n    /**\n     * Read data from the underlying source. Will return\n     * null to indicate that no more data can be read.\n     */\n    read(): T | null;\n}\nexport namespace Readable {\n    export function fromString(value: string): Readable<string> {\n        let done = false;\n\n        return {\n            read(): string | null {\n                if (!done) {\n                    done = true;\n\n                    return value;\n                }\n\n                return null;\n            }\n        };\n    }\n    export function toString(readable: Readable<string>): string {\n        let result = '';\n        let chunk: string | null;\n        while ((chunk = readable.read()) != null) {\n            result += chunk;\n        }\n        return result;\n    }\n}\n\n/**\n * A interface that emulates the API shape of a node.js writeable\n * stream for use in desktop and web environments.\n */\nexport interface WriteableStream<T> extends ReadableStream<T> {\n\n    /**\n     * Writing data to the stream will trigger the on('data')\n     * event listener if the stream is flowing and buffer the\n     * data otherwise until the stream is flowing.\n     *\n     * If a `highWaterMark` is configured and writing to the\n     * stream reaches this mark, a promise will be returned\n     * that should be awaited on before writing more data.\n     * Otherwise there is a risk of buffering a large number\n     * of data chunks without consumer.\n     */\n    write(data: T): void | Promise<void>;\n\n    /**\n     * Signals an error to the consumer of the stream via the\n     * on('error') handler if the stream is flowing.\n     */\n    error(error: Error): void;\n\n    /**\n     * Signals the end of the stream to the consumer. If the\n     * result is not an error, will trigger the on('data') event\n     * listener if the stream is flowing and buffer the data\n     * otherwise until the stream is flowing.\n     *\n     * In case of an error, the on('error') event will be used\n     * if the stream is flowing.\n     */\n    end(result?: T | Error): void;\n}\n\n/**\n * A stream that has a buffer already read. Returns the original stream\n * that was read as well as the chunks that got read.\n *\n * The `ended` flag indicates if the stream has been fully consumed.\n */\nexport interface ReadableBufferedStream<T> {\n\n    /**\n     * The original stream that is being read.\n     */\n    stream: ReadableStream<T>;\n\n    /**\n     * An array of chunks already read from this stream.\n     */\n    buffer: T[];\n\n    /**\n     * Signals if the stream has ended or not. If not, consumers\n     * should continue to read from the stream until consumed.\n     */\n    ended: boolean;\n}\n\nexport function isReadableStream<T>(obj: unknown): obj is ReadableStream<T> {\n    const candidate = obj as ReadableStream<T>;\n\n    return candidate && [candidate.on, candidate.pause, candidate.resume, candidate.destroy].every(fn => typeof fn === 'function');\n}\n\nexport function isReadableBufferedStream<T>(obj: unknown): obj is ReadableBufferedStream<T> {\n    const candidate = obj as ReadableBufferedStream<T>;\n\n    return candidate && isReadableStream(candidate.stream) && Array.isArray(candidate.buffer) && typeof candidate.ended === 'boolean';\n}\n\nexport interface Reducer<T> {\n    (data: T[]): T;\n}\n\nexport interface DataTransformer<Original, Transformed> {\n    (data: Original): Transformed;\n}\n\nexport interface ErrorTransformer {\n    (error: Error): Error;\n}\n\nexport interface ITransformer<Original, Transformed> {\n    data: DataTransformer<Original, Transformed>;\n    error?: ErrorTransformer;\n}\n\nexport function newWriteableStream<T>(reducer: Reducer<T>, options?: WriteableStreamOptions): WriteableStream<T> {\n    return new WriteableStreamImpl<T>(reducer);\n}\n\nexport interface WriteableStreamOptions {\n\n    /**\n     * The number of objects to buffer before WriteableStream#write()\n     * signals back that the buffer is full. Can be used to reduce\n     * the memory pressure when the stream is not flowing.\n     */\n    highWaterMark?: number;\n}\n\nclass WriteableStreamImpl<T> implements WriteableStream<T> {\n\n    private readonly state = {\n        flowing: false,\n        ended: false,\n        destroyed: false\n    };\n\n    private readonly buffer = {\n        data: [] as T[],\n        error: [] as Error[]\n    };\n\n    private readonly listeners = {\n        data: [] as { (data: T): void }[],\n        error: [] as { (error: Error): void }[],\n        end: [] as { (): void }[]\n    };\n\n    private readonly pendingWritePromises: Function[] = [];\n\n    constructor(private reducer: Reducer<T>, private options?: WriteableStreamOptions) { }\n\n    pause(): void {\n        if (this.state.destroyed) {\n            return;\n        }\n\n        this.state.flowing = false;\n    }\n\n    resume(): void {\n        if (this.state.destroyed) {\n            return;\n        }\n\n        if (!this.state.flowing) {\n            this.state.flowing = true;\n\n            // emit buffered events\n            this.flowData();\n            this.flowErrors();\n            this.flowEnd();\n        }\n    }\n\n    write(data: T): void | Promise<void> {\n        if (this.state.destroyed) {\n            return;\n        }\n\n        // flowing: directly send the data to listeners\n        if (this.state.flowing) {\n            this.listeners.data.forEach(listener => listener(data));\n        }\n\n        // not yet flowing: buffer data until flowing\n        else {\n            this.buffer.data.push(data);\n\n            // highWaterMark: if configured, signal back when buffer reached limits\n            if (typeof this.options?.highWaterMark === 'number' && this.buffer.data.length > this.options.highWaterMark) {\n                return new Promise(resolve => this.pendingWritePromises.push(resolve));\n            }\n        }\n    }\n\n    error(error: Error): void {\n        if (this.state.destroyed) {\n            return;\n        }\n\n        // flowing: directly send the error to listeners\n        if (this.state.flowing) {\n            this.listeners.error.forEach(listener => listener(error));\n        }\n\n        // not yet flowing: buffer errors until flowing\n        else {\n            this.buffer.error.push(error);\n        }\n    }\n\n    end(result?: T | Error): void {\n        if (this.state.destroyed) {\n            return;\n        }\n\n        // end with data or error if provided\n        if (result instanceof Error) {\n            this.error(result);\n        } else if (result) {\n            this.write(result);\n        }\n\n        // flowing: send end event to listeners\n        if (this.state.flowing) {\n            this.listeners.end.forEach(listener => listener());\n\n            this.destroy();\n        }\n\n        // not yet flowing: remember state\n        else {\n            this.state.ended = true;\n        }\n    }\n\n    on(event: 'data', callback: (data: T) => void): void;\n    on(event: 'error', callback: (err: Error) => void): void;\n    on(event: 'end', callback: () => void): void;\n    on(event: 'data' | 'error' | 'end', callback: (arg0?: any) => void): void {\n        if (this.state.destroyed) {\n            return;\n        }\n\n        switch (event) {\n            case 'data':\n                this.listeners.data.push(callback);\n\n                // switch into flowing mode as soon as the first 'data'\n                // listener is added and we are not yet in flowing mode\n                this.resume();\n\n                break;\n\n            case 'end':\n                this.listeners.end.push(callback);\n\n                // emit 'end' event directly if we are flowing\n                // and the end has already been reached\n                //\n                // finish() when it went through\n                if (this.state.flowing && this.flowEnd()) {\n                    this.destroy();\n                }\n\n                break;\n\n            case 'error':\n                this.listeners.error.push(callback);\n\n                // emit buffered 'error' events unless done already\n                // now that we know that we have at least one listener\n                if (this.state.flowing) {\n                    this.flowErrors();\n                }\n\n                break;\n        }\n    }\n\n    removeListener(event: string, callback: Function): void {\n        if (this.state.destroyed) {\n            return;\n        }\n\n        let listeners: unknown[] | undefined = undefined;\n\n        switch (event) {\n            case 'data':\n                listeners = this.listeners.data;\n                break;\n\n            case 'end':\n                listeners = this.listeners.end;\n                break;\n\n            case 'error':\n                listeners = this.listeners.error;\n                break;\n        }\n\n        if (listeners) {\n            const index = listeners.indexOf(callback);\n            if (index >= 0) {\n                listeners.splice(index, 1);\n            }\n        }\n    }\n\n    private flowData(): void {\n        if (this.buffer.data.length > 0) {\n            const fullDataBuffer = this.reducer(this.buffer.data);\n\n            this.listeners.data.forEach(listener => listener(fullDataBuffer));\n\n            this.buffer.data.length = 0;\n\n            // When the buffer is empty, resolve all pending writers\n            const pendingWritePromises = [...this.pendingWritePromises];\n            this.pendingWritePromises.length = 0;\n            pendingWritePromises.forEach(pendingWritePromise => pendingWritePromise());\n        }\n    }\n\n    private flowErrors(): void {\n        if (this.listeners.error.length > 0) {\n            for (const error of this.buffer.error) {\n                this.listeners.error.forEach(listener => listener(error));\n            }\n\n            this.buffer.error.length = 0;\n        }\n    }\n\n    private flowEnd(): boolean {\n        if (this.state.ended) {\n            this.listeners.end.forEach(listener => listener());\n\n            return this.listeners.end.length > 0;\n        }\n\n        return false;\n    }\n\n    destroy(): void {\n        if (!this.state.destroyed) {\n            this.state.destroyed = true;\n            this.state.ended = true;\n\n            this.buffer.data.length = 0;\n            this.buffer.error.length = 0;\n\n            this.listeners.data.length = 0;\n            this.listeners.error.length = 0;\n            this.listeners.end.length = 0;\n\n            this.pendingWritePromises.length = 0;\n        }\n    }\n}\n\n/**\n * Helper to fully read a T readable into a T.\n */\nexport function consumeReadable<T>(readable: Readable<T>, reducer: Reducer<T>): T {\n    const chunks: T[] = [];\n\n    let chunk: T | null;\n    while ((chunk = readable.read()) !== null) {\n        chunks.push(chunk);\n    }\n\n    return reducer(chunks);\n}\n\n/**\n * Helper to read a T readable up to a maximum of chunks. If the limit is\n * reached, will return a readable instead to ensure all data can still\n * be read.\n */\nexport function consumeReadableWithLimit<T>(readable: Readable<T>, reducer: Reducer<T>, maxChunks: number): T | Readable<T> {\n    const chunks: T[] = [];\n\n    let chunk: T | null | undefined = undefined;\n    while ((chunk = readable.read()) !== null && chunks.length < maxChunks) {\n        chunks.push(chunk);\n    }\n\n    // If the last chunk is null, it means we reached the end of\n    // the readable and return all the data at once\n    if (chunk === null && chunks.length > 0) {\n        return reducer(chunks);\n    }\n\n    // Otherwise, we still have a chunk, it means we reached the maxChunks\n    // value and as such we return a new Readable that first returns\n    // the existing read chunks and then continues with reading from\n    // the underlying readable.\n    return {\n        read: () => {\n\n            // First consume chunks from our array\n            if (chunks.length > 0) {\n                return chunks.shift()!;\n            }\n\n            // Then ensure to return our last read chunk\n            if (typeof chunk !== 'undefined') {\n                const lastReadChunk = chunk;\n\n                // explicitly use undefined here to indicate that we consumed\n                // the chunk, which could have either been null or valued.\n                chunk = undefined;\n\n                return lastReadChunk;\n            }\n\n            // Finally delegate back to the Readable\n            return readable.read();\n        }\n    };\n}\n\n/**\n * Helper to read a T readable up to a maximum of chunks. If the limit is\n * reached, will return a readable instead to ensure all data can still\n * be read.\n */\nexport function peekReadable<T>(readable: Readable<T>, reducer: Reducer<T>, maxChunks: number): T | Readable<T> {\n    const chunks: T[] = [];\n\n    let chunk: T | null | undefined = undefined;\n    while ((chunk = readable.read()) !== null && chunks.length < maxChunks) {\n        chunks.push(chunk);\n    }\n\n    // If the last chunk is null, it means we reached the end of\n    // the readable and return all the data at once\n    if (chunk === null && chunks.length > 0) {\n        return reducer(chunks);\n    }\n\n    // Otherwise, we still have a chunk, it means we reached the maxChunks\n    // value and as such we return a new Readable that first returns\n    // the existing read chunks and then continues with reading from\n    // the underlying readable.\n    return {\n        read: () => {\n\n            // First consume chunks from our array\n            if (chunks.length > 0) {\n                return chunks.shift()!;\n            }\n\n            // Then ensure to return our last read chunk\n            if (typeof chunk !== 'undefined') {\n                const lastReadChunk = chunk;\n\n                // explicitly use undefined here to indicate that we consumed\n                // the chunk, which could have either been null or valued.\n                chunk = undefined;\n\n                return lastReadChunk;\n            }\n\n            // Finally delegate back to the Readable\n            return readable.read();\n        }\n    };\n}\n\n/**\n * Helper to fully read a T stream into a T.\n */\nexport function consumeStream<T>(stream: ReadableStream<T>, reducer: Reducer<T>): Promise<T> {\n    return new Promise((resolve, reject) => {\n        const chunks: T[] = [];\n\n        stream.on('data', data => chunks.push(data));\n        stream.on('error', error => reject(error));\n        stream.on('end', () => resolve(reducer(chunks)));\n    });\n}\n\n/**\n * Helper to peek up to `maxChunks` into a stream. The return type signals if\n * the stream has ended or not. If not, caller needs to add a `data` listener\n * to continue reading.\n */\nexport function peekStream<T>(stream: ReadableStream<T>, maxChunks: number): Promise<ReadableBufferedStream<T>> {\n    return new Promise((resolve, reject) => {\n        const streamListeners = new DisposableCollection();\n\n        // Data Listener\n        const buffer: T[] = [];\n        const dataListener = (chunk: T) => {\n\n            // Add to buffer\n            buffer.push(chunk);\n\n            // We reached maxChunks and thus need to return\n            if (buffer.length > maxChunks) {\n\n                // Dispose any listeners and ensure to pause the\n                // stream so that it can be consumed again by caller\n                streamListeners.dispose();\n                stream.pause();\n\n                return resolve({ stream, buffer, ended: false });\n            }\n        };\n\n        streamListeners.push(Disposable.create(() => stream.removeListener('data', dataListener)));\n        stream.on('data', dataListener);\n\n        // Error Listener\n        const errorListener = (error: Error) => reject(error);\n\n        streamListeners.push(Disposable.create(() => stream.removeListener('error', errorListener)));\n        stream.on('error', errorListener);\n\n        const endListener = () => resolve({ stream, buffer, ended: true });\n\n        streamListeners.push(Disposable.create(() => stream.removeListener('end', endListener)));\n        stream.on('end', endListener);\n    });\n}\n\n/**\n * Helper to read a T stream up to a maximum of chunks. If the limit is\n * reached, will return a stream instead to ensure all data can still\n * be read.\n */\nexport function consumeStreamWithLimit<T>(stream: ReadableStream<T>, reducer: Reducer<T>, maxChunks: number): Promise<T | ReadableStream<T>> {\n    return new Promise((resolve, reject) => {\n        const chunks: T[] = [];\n\n        let wrapperStream: WriteableStream<T> | undefined = undefined;\n\n        stream.on('data', data => {\n\n            // If we reach maxChunks, we start to return a stream\n            // and make sure that any data we have already read\n            // is in it as well\n            if (!wrapperStream && chunks.length === maxChunks) {\n                wrapperStream = newWriteableStream(reducer);\n                while (chunks.length) {\n                    wrapperStream.write(chunks.shift()!);\n                }\n\n                wrapperStream.write(data);\n\n                return resolve(wrapperStream);\n            }\n\n            if (wrapperStream) {\n                wrapperStream.write(data);\n            } else {\n                chunks.push(data);\n            }\n        });\n\n        stream.on('error', error => {\n            if (wrapperStream) {\n                wrapperStream.error(error);\n            } else {\n                return reject(error);\n            }\n        });\n\n        stream.on('end', () => {\n            if (wrapperStream) {\n                while (chunks.length) {\n                    wrapperStream.write(chunks.shift()!);\n                }\n\n                wrapperStream.end();\n            } else {\n                return resolve(reducer(chunks));\n            }\n        });\n    });\n}\n\n/**\n * Helper to create a readable stream from an existing T.\n */\nexport function toStream<T>(t: T, reducer: Reducer<T>): ReadableStream<T> {\n    const stream = newWriteableStream<T>(reducer);\n\n    stream.end(t);\n\n    return stream;\n}\n\n/**\n * Helper to convert a T into a Readable<T>.\n */\nexport function toReadable<T>(t: T): Readable<T> {\n    let consumed = false;\n\n    return {\n        read: () => {\n            if (consumed) {\n                return null;\n            }\n\n            consumed = true;\n\n            return t;\n        }\n    };\n}\n\n/**\n * Helper to transform a readable stream into another stream.\n */\nexport function transform<Original, Transformed>(stream: ReadableStreamEvents<Original>, transformer: ITransformer<Original, Transformed>, reducer: Reducer<Transformed>): ReadableStream<Transformed> {\n    const target = newWriteableStream<Transformed>(reducer);\n\n    stream.on('data', data => target.write(transformer.data(data)));\n    stream.on('end', () => target.end());\n    stream.on('error', error => target.error(transformer.error ? transformer.error(error) : error));\n\n    return target;\n}\n","// *****************************************************************************\n// Copyright (C) 2018 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/base/common/strings.ts\n\nimport { CharCode } from './char-code';\n\n/**\n * Determines if haystack ends with needle.\n */\nexport function endsWith(haystack: string, needle: string): boolean {\n    const diff = haystack.length - needle.length;\n    if (diff > 0) {\n        return haystack.indexOf(needle, diff) === diff;\n    } else if (diff === 0) {\n        return haystack === needle;\n    } else {\n        return false;\n    }\n}\nexport function isLowerAsciiLetter(code: number): boolean {\n    return code >= CharCode.a && code <= CharCode.z;\n}\n\nexport function isUpperAsciiLetter(code: number): boolean {\n    return code >= CharCode.A && code <= CharCode.Z;\n}\n\nfunction isAsciiLetter(code: number): boolean {\n    return isLowerAsciiLetter(code) || isUpperAsciiLetter(code);\n}\nexport function equalsIgnoreCase(a: string, b: string): boolean {\n    const len1 = a ? a.length : 0;\n    const len2 = b ? b.length : 0;\n\n    if (len1 !== len2) {\n        return false;\n    }\n\n    return doEqualsIgnoreCase(a, b);\n}\n\nfunction doEqualsIgnoreCase(a: string, b: string, stopAt = a.length): boolean {\n    if (typeof a !== 'string' || typeof b !== 'string') {\n        return false;\n    }\n\n    for (let i = 0; i < stopAt; i++) {\n        const codeA = a.charCodeAt(i);\n        const codeB = b.charCodeAt(i);\n\n        if (codeA === codeB) {\n            continue;\n        }\n\n        // a-z A-Z\n        if (isAsciiLetter(codeA) && isAsciiLetter(codeB)) {\n            const diff = Math.abs(codeA - codeB);\n            if (diff !== 0 && diff !== 32) {\n                return false;\n            }\n        }\n\n        // Any other charcode\n        // tslint:disable-next-line:one-line\n        else {\n            if (String.fromCharCode(codeA).toLowerCase() !== String.fromCharCode(codeB).toLowerCase()) {\n                return false;\n            }\n        }\n    }\n\n    return true;\n}\n\n/**\n * @returns the length of the common prefix of the two strings.\n */\nexport function commonPrefixLength(a: string, b: string): number {\n\n    let i: number;\n    const len = Math.min(a.length, b.length);\n\n    for (i = 0; i < len; i++) {\n        if (a.charCodeAt(i) !== b.charCodeAt(i)) {\n            return i;\n        }\n    }\n\n    return len;\n}\n\n/**\n * Escapes regular expression characters in a given string\n */\nexport function escapeRegExpCharacters(value: string): string {\n    return value.replace(/[\\-\\\\\\{\\}\\*\\+\\?\\|\\^\\$\\.\\[\\]\\(\\)\\#]/g, '\\\\$&');\n}\n\nexport function startsWithIgnoreCase(str: string, candidate: string): boolean {\n    const candidateLength = candidate.length;\n    if (candidate.length > str.length) {\n        return false;\n    }\n\n    return doEqualsIgnoreCase(str, candidate, candidateLength);\n}\n\nexport function* split(s: string, splitter: string): IterableIterator<string> {\n    let start = 0;\n    while (start < s.length) {\n        let end = s.indexOf(splitter, start);\n        if (end === -1) {\n            end = s.length;\n        }\n\n        yield s.substring(start, end);\n        start = end + splitter.length;\n    }\n}\n\nexport function escapeInvisibleChars(value: string): string {\n    return value.replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r');\n}\n\nexport function unescapeInvisibleChars(value: string): string {\n    return value.replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r');\n}\n\nexport function compare(a: string, b: string): number {\n    if (a < b) {\n        return -1;\n    } else if (a > b) {\n        return 1;\n    } else {\n        return 0;\n    }\n}\n\nexport function compareSubstring(a: string, b: string, aStart: number = 0, aEnd: number = a.length, bStart: number = 0, bEnd: number = b.length): number {\n    for (; aStart < aEnd && bStart < bEnd; aStart++, bStart++) {\n        const codeA = a.charCodeAt(aStart);\n        const codeB = b.charCodeAt(bStart);\n        if (codeA < codeB) {\n            return -1;\n        } else if (codeA > codeB) {\n            return 1;\n        }\n    }\n    const aLen = aEnd - aStart;\n    const bLen = bEnd - bStart;\n    if (aLen < bLen) {\n        return -1;\n    } else if (aLen > bLen) {\n        return 1;\n    }\n    return 0;\n}\n\nexport function compareIgnoreCase(a: string, b: string): number {\n    return compareSubstringIgnoreCase(a, b, 0, a.length, 0, b.length);\n}\n\nexport function compareSubstringIgnoreCase(a: string, b: string, aStart: number = 0, aEnd: number = a.length, bStart: number = 0, bEnd: number = b.length): number {\n\n    for (; aStart < aEnd && bStart < bEnd; aStart++, bStart++) {\n\n        const codeA = a.charCodeAt(aStart);\n        const codeB = b.charCodeAt(bStart);\n\n        if (codeA === codeB) {\n            // equal\n            continue;\n        }\n\n        const diff = codeA - codeB;\n        if (diff === 32 && isUpperAsciiLetter(codeB)) { // codeB =[65-90] && codeA =[97-122]\n            continue;\n\n        } else if (diff === -32 && isUpperAsciiLetter(codeA)) {  // codeB =[97-122] && codeA =[65-90]\n            continue;\n        }\n\n        if (isLowerAsciiLetter(codeA) && isLowerAsciiLetter(codeB)) {\n            //\n            return diff;\n\n        } else {\n            return compareSubstring(a.toLowerCase(), b.toLowerCase(), aStart, aEnd, bStart, bEnd);\n        }\n    }\n\n    const aLen = aEnd - aStart;\n    const bLen = bEnd - bStart;\n\n    if (aLen < bLen) {\n        return -1;\n    } else if (aLen > bLen) {\n        return 1;\n    }\n\n    return 0;\n}\n\n// Copied from https://github.com/microsoft/vscode/blob/1.72.2/src/vs/base/common/strings.ts\n\nexport function regExpFlags(regexp: RegExp): string {\n    return (regexp.global ? 'g' : '')\n        + (regexp.ignoreCase ? 'i' : '')\n        + (regexp.multiline ? 'm' : '')\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        + ((regexp as any /* standalone editor compilation */).unicode ? 'u' : '');\n}\n\n","// *****************************************************************************\n// Copyright (C) 2023 STMicroelectronics and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport class TelemetryTrustedValue<T> {\n    readonly value: T;\n\n    constructor(value: T) {\n        this.value = value;\n    }\n}\n\nexport interface TelemetryLogger {\n    readonly sender: TelemetrySender;\n    readonly options: TelemetryLoggerOptions | undefined;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    logUsage(eventName: string, data?: Record<string, any | TelemetryTrustedValue<any>>): void;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    logError(eventNameOrException: string | Error, data?: Record<string, any | TelemetryTrustedValue<any>>): void;\n\n    dispose(): void;\n}\n\ninterface TelemetrySender {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendEventData(eventName: string, data?: Record<string, any>): void;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    sendErrorData(error: Error, data?: Record<string, any>): void;\n    flush?(): void | Thenable<void>;\n}\n\ninterface TelemetryLoggerOptions {\n}\n","// *****************************************************************************\n// Copyright (C) 2020 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/base/common/map.ts#L251\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/tslint/config */\n\nimport URI from './uri';\nimport { CharCode } from './char-code';\nimport { compareSubstringIgnoreCase, compare, compareSubstring } from './strings';\n\nexport interface IKeyIterator<K> {\n    reset(key: K): this;\n    next(): this;\n\n    hasNext(): boolean;\n    cmp(a: string): number;\n    value(): string;\n}\n\nexport class PathIterator implements IKeyIterator<string> {\n\n    private _value!: string;\n    private _from!: number;\n    private _to!: number;\n\n    constructor(\n        private readonly _splitOnBackslash: boolean = true,\n        private readonly _caseSensitive: boolean = true\n    ) { }\n\n    reset(key: string): this {\n        this._value = key.replace(/\\\\$|\\/$/, '');\n        this._from = 0;\n        this._to = 0;\n        return this.next();\n    }\n\n    hasNext(): boolean {\n        return this._to < this._value.length;\n    }\n\n    next(): this {\n        // this._data = key.split(/[\\\\/]/).filter(s => !!s);\n        this._from = this._to;\n        let justSeps = true;\n        for (; this._to < this._value.length; this._to++) {\n            const ch = this._value.charCodeAt(this._to);\n            if (ch === CharCode.Slash || this._splitOnBackslash && ch === CharCode.Backslash) {\n                if (justSeps) {\n                    this._from++;\n                } else {\n                    break;\n                }\n            } else {\n                justSeps = false;\n            }\n        }\n        return this;\n    }\n\n    cmp(a: string): number {\n        return this._caseSensitive\n            ? compareSubstring(a, this._value, 0, a.length, this._from, this._to)\n            : compareSubstringIgnoreCase(a, this._value, 0, a.length, this._from, this._to);\n    }\n\n    value(): string {\n        return this._value.substring(this._from, this._to);\n    }\n}\n\nconst enum UriIteratorState {\n    Scheme = 1, Authority = 2, Path = 3, Query = 4, Fragment = 5\n}\n\nexport class UriIterator implements IKeyIterator<URI> {\n\n    private _pathIterator!: PathIterator;\n    private _value!: URI;\n    private _states: UriIteratorState[] = [];\n    private _stateIdx: number = 0;\n\n    constructor(\n        protected readonly caseSensitive: boolean\n    ) { }\n\n    reset(key: URI): this {\n        this._value = key;\n        this._states = [];\n        if (this._value.scheme) {\n            this._states.push(UriIteratorState.Scheme);\n        }\n        if (this._value.authority) {\n            this._states.push(UriIteratorState.Authority);\n        }\n        if (this._value.path) {\n            this._pathIterator = new PathIterator(false, this.caseSensitive);\n            this._pathIterator.reset(key.path.toString());\n            if (this._pathIterator.value()) {\n                this._states.push(UriIteratorState.Path);\n            }\n        }\n        if (this._value.query) {\n            this._states.push(UriIteratorState.Query);\n        }\n        if (this._value.fragment) {\n            this._states.push(UriIteratorState.Fragment);\n        }\n        this._stateIdx = 0;\n        return this;\n    }\n\n    next(): this {\n        if (this._states[this._stateIdx] === UriIteratorState.Path && this._pathIterator.hasNext()) {\n            this._pathIterator.next();\n        } else {\n            this._stateIdx += 1;\n        }\n        return this;\n    }\n\n    hasNext(): boolean {\n        return (this._states[this._stateIdx] === UriIteratorState.Path && this._pathIterator.hasNext())\n            || this._stateIdx < this._states.length - 1;\n    }\n\n    cmp(a: string): number {\n        if (this._states[this._stateIdx] === UriIteratorState.Scheme) {\n            return compareSubstringIgnoreCase(a, this._value.scheme);\n        } else if (this._states[this._stateIdx] === UriIteratorState.Authority) {\n            return compareSubstringIgnoreCase(a, this._value.authority);\n        } else if (this._states[this._stateIdx] === UriIteratorState.Path) {\n            return this._pathIterator.cmp(a);\n        } else if (this._states[this._stateIdx] === UriIteratorState.Query) {\n            return compare(a, this._value.query);\n        } else if (this._states[this._stateIdx] === UriIteratorState.Fragment) {\n            return compare(a, this._value.fragment);\n        }\n        throw new Error();\n    }\n\n    value(): string {\n        if (this._states[this._stateIdx] === UriIteratorState.Scheme) {\n            return this._value.scheme;\n        } else if (this._states[this._stateIdx] === UriIteratorState.Authority) {\n            return this._value.authority;\n        } else if (this._states[this._stateIdx] === UriIteratorState.Path) {\n            return this._pathIterator.value();\n        } else if (this._states[this._stateIdx] === UriIteratorState.Query) {\n            return this._value.query;\n        } else if (this._states[this._stateIdx] === UriIteratorState.Fragment) {\n            return this._value.fragment;\n        }\n        throw new Error();\n    }\n}\n\nclass TernarySearchTreeNode<K, V> {\n    segment!: string;\n    value: V | undefined;\n    key!: K;\n    left: TernarySearchTreeNode<K, V> | undefined;\n    mid: TernarySearchTreeNode<K, V> | undefined;\n    right: TernarySearchTreeNode<K, V> | undefined;\n\n    isEmpty(): boolean {\n        return !this.left && !this.mid && !this.right && !this.value;\n    }\n}\n\nexport class TernarySearchTree<K, V> {\n\n    static forUris<E>(caseSensitive: boolean): TernarySearchTree<URI, E> {\n        return new TernarySearchTree<URI, E>(new UriIterator(caseSensitive));\n    }\n\n    static forPaths<E>(): TernarySearchTree<string, E> {\n        return new TernarySearchTree<string, E>(new PathIterator());\n    }\n\n    private _iter: IKeyIterator<K>;\n    private _root: TernarySearchTreeNode<K, V> | undefined;\n\n    constructor(segments: IKeyIterator<K>) {\n        this._iter = segments;\n    }\n\n    clear(): void {\n        this._root = undefined;\n    }\n\n    set(key: K, element: V): V | undefined {\n        const iter = this._iter.reset(key);\n        let node: TernarySearchTreeNode<K, V>;\n\n        if (!this._root) {\n            this._root = new TernarySearchTreeNode<K, V>();\n            this._root.segment = iter.value();\n        }\n\n        node = this._root;\n        while (true) {\n            const val = iter.cmp(node.segment);\n            if (val > 0) {\n                // left\n                if (!node.left) {\n                    node.left = new TernarySearchTreeNode<K, V>();\n                    node.left.segment = iter.value();\n                }\n                node = node.left;\n\n            } else if (val < 0) {\n                // right\n                if (!node.right) {\n                    node.right = new TernarySearchTreeNode<K, V>();\n                    node.right.segment = iter.value();\n                }\n                node = node.right;\n\n            } else if (iter.hasNext()) {\n                // mid\n                iter.next();\n                if (!node.mid) {\n                    node.mid = new TernarySearchTreeNode<K, V>();\n                    node.mid.segment = iter.value();\n                }\n                node = node.mid;\n            } else {\n                break;\n            }\n        }\n        const oldElement = node.value;\n        node.value = element;\n        node.key = key;\n        return oldElement;\n    }\n\n    get(key: K): V | undefined {\n        const iter = this._iter.reset(key);\n        let node = this._root;\n        while (node) {\n            const val = iter.cmp(node.segment);\n            if (val > 0) {\n                // left\n                node = node.left;\n            } else if (val < 0) {\n                // right\n                node = node.right;\n            } else if (iter.hasNext()) {\n                // mid\n                iter.next();\n                node = node.mid;\n            } else {\n                break;\n            }\n        }\n        return node ? node.value : undefined;\n    }\n\n    delete(key: K): void {\n\n        const iter = this._iter.reset(key);\n        const stack: [-1 | 0 | 1, TernarySearchTreeNode<K, V>][] = [];\n        let node = this._root;\n\n        // find and unset node\n        while (node) {\n            const val = iter.cmp(node.segment);\n            if (val > 0) {\n                // left\n                stack.push([1, node]);\n                node = node.left;\n            } else if (val < 0) {\n                // right\n                stack.push([-1, node]);\n                node = node.right;\n            } else if (iter.hasNext()) {\n                // mid\n                iter.next();\n                stack.push([0, node]);\n                node = node.mid;\n            } else {\n                // remove element\n                node.value = undefined;\n\n                // clean up empty nodes\n                while (stack.length > 0 && node.isEmpty()) {\n                    const [dir, parent] = stack.pop()!;\n                    switch (dir) {\n                        case 1: parent.left = undefined; break;\n                        case 0: parent.mid = undefined; break;\n                        case -1: parent.right = undefined; break;\n                    }\n                    node = parent;\n                }\n                break;\n            }\n        }\n    }\n\n    findSubstr(key: K): V | undefined {\n        const iter = this._iter.reset(key);\n        let node = this._root;\n        let candidate: V | undefined = undefined;\n        while (node) {\n            const val = iter.cmp(node.segment);\n            if (val > 0) {\n                // left\n                node = node.left;\n            } else if (val < 0) {\n                // right\n                node = node.right;\n            } else if (iter.hasNext()) {\n                // mid\n                iter.next();\n                candidate = node.value || candidate;\n                node = node.mid;\n            } else {\n                break;\n            }\n        }\n        return node && node.value || candidate;\n    }\n\n    findSuperstr(key: K): Iterator<V> | undefined {\n        const iter = this._iter.reset(key);\n        let node = this._root;\n        while (node) {\n            const val = iter.cmp(node.segment);\n            if (val > 0) {\n                // left\n                node = node.left;\n            } else if (val < 0) {\n                // right\n                node = node.right;\n            } else if (iter.hasNext()) {\n                // mid\n                iter.next();\n                node = node.mid;\n            } else {\n                // collect\n                if (!node.mid) {\n                    return undefined;\n                } else {\n                    return this._nodeIterator(node.mid);\n                }\n            }\n        }\n        return undefined;\n    }\n\n    private _nodeIterator(node: TernarySearchTreeNode<K, V>): Iterator<V> {\n        let res: { done: false; value: V; };\n        let idx: number;\n        let data: V[];\n        const next = (): IteratorResult<V> => {\n            if (!data) {\n                // lazy till first invocation\n                data = [];\n                idx = 0;\n                this._forEach(node, value => data.push(value));\n            }\n            if (idx >= data.length) {\n                return { done: true, value: undefined };\n            }\n\n            if (!res) {\n                res = { done: false, value: data[idx++] };\n            } else {\n                res.value = data[idx++];\n            }\n            return res;\n        };\n        return { next };\n    }\n\n    forEach(callback: (value: V, index: K) => any) {\n        this._forEach(this._root, callback);\n    }\n\n    private _forEach(node: TernarySearchTreeNode<K, V> | undefined, callback: (value: V, index: K) => any) {\n        if (node) {\n            // left\n            this._forEach(node.left, callback);\n\n            // node\n            if (node.value) {\n                // callback(node.value, this._iter.join(parts));\n                callback(node.value, node.key);\n            }\n            // mid\n            this._forEach(node.mid, callback);\n\n            // right\n            this._forEach(node.right, callback);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport { ArrayUtils } from './array-utils';\nexport { Prioritizeable } from './prioritizeable';\n\ntype UnknownObject<T extends object> = Record<string | number | symbol, unknown> & { [K in keyof T]: unknown };\n\nexport type Deferred<T> = { [P in keyof T]: Promise<T[P]> };\nexport type MaybeArray<T> = T | T[];\nexport type MaybeNull<T> = { [P in keyof T]: T[P] | null };\nexport type MaybePromise<T> = T | PromiseLike<T>;\nexport type MaybeUndefined<T> = { [P in keyof T]?: T[P] | undefined };\nexport type Mutable<T> = { -readonly [P in keyof T]: T[P] };\nexport type RecursivePartial<T> = {\n    [P in keyof T]?: T[P] extends (infer I)[]\n    ? RecursivePartial<I>[]\n    : RecursivePartial<T[P]>;\n};\n\nexport function isBoolean(value: unknown): value is boolean {\n    return value === true || value === false;\n}\n\nexport function isString(value: unknown): value is string {\n    return typeof value === 'string' || value instanceof String;\n}\n\nexport function isNumber(value: unknown): value is number {\n    return typeof value === 'number' || value instanceof Number;\n}\n\nexport function isError(value: unknown): value is Error {\n    return value instanceof Error;\n}\n\nexport function isErrorLike(value: unknown): value is Error {\n    return isObject(value) && isString(value.name) && isString(value.message) && (isUndefined(value.stack) || isString(value.stack));\n}\n\n// eslint-disable-next-line space-before-function-paren\nexport function isFunction<T extends (...args: unknown[]) => unknown>(value: unknown): value is T {\n    return typeof value === 'function';\n}\n\n/**\n * @returns whether the provided parameter is an empty JavaScript Object or not.\n */\nexport function isEmptyObject(obj: unknown): obj is object {\n    if (!isObject(obj)) {\n        return false;\n    }\n\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nexport function isObject<T extends object>(value: unknown): value is UnknownObject<T> {\n    // eslint-disable-next-line no-null/no-null\n    return typeof value === 'object' && value !== null;\n}\n\nexport function isUndefined(value: unknown): value is undefined {\n    return typeof value === 'undefined';\n}\n\n/**\n * @param value value to check.\n * @param every optional predicate ran on every element of the array.\n * @param thisArg value to substitute `this` with when invoking in the predicate.\n * @returns whether or not `value` is an array.\n */\nexport function isArray<T>(value: unknown, every?: (value: unknown) => unknown, thisArg?: unknown): value is T[] {\n    return Array.isArray(value) && (!isFunction(every) || value.every(every, thisArg));\n}\n\nexport function isStringArray(value: unknown): value is string[] {\n    return isArray(value, isString);\n}\n\n/**\n * Creates a shallow copy with all ownkeys of the original object that are `null` made `undefined`\n */\nexport function nullToUndefined<T>(nullable: MaybeNull<T>): MaybeUndefined<T> {\n    const undefinable = { ...nullable } as MaybeUndefined<T>;\n    for (const key in nullable) {\n        // eslint-disable-next-line no-null/no-null\n        if (nullable[key] === null && Object.prototype.hasOwnProperty.call(nullable, key)) {\n            undefinable[key] = undefined;\n        }\n    }\n    return undefinable;\n}\n\n/**\n * Throws when called and statically makes sure that all variants of a type were consumed.\n */\nexport function unreachable(_never: never, message: string = 'unhandled case'): never {\n    throw new Error(message);\n}\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation and others. All rights reserved.\n *  Licensed under the MIT License. See https://github.com/Microsoft/vscode/blob/master/LICENSE.txt for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// Copied from https://github.com/microsoft/vscode/blob/1.72.2/src/vs/base/common/types.ts\n\n/**\n * @returns whether the provided parameter is defined.\n */\nexport function isDefined<T>(arg: T | null | undefined): arg is T {\n    return !isUndefinedOrNull(arg);\n}\n\n/**\n * @returns whether the provided parameter is undefined or null.\n */\nexport function isUndefinedOrNull(obj: unknown): obj is undefined | null {\n    // eslint-disable-next-line no-null/no-null\n    return (isUndefined(obj) || obj === null);\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Ericsson and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { SelectionService } from '../common/selection-service';\nimport { UriSelection } from '../common/selection';\nimport { CommandHandler } from './command';\nimport URI from './uri';\nimport { isArray, MaybeArray } from './types';\n\nexport interface UriCommandHandler<T extends MaybeArray<URI>> extends CommandHandler {\n\n    execute(uri: T, ...args: any[]): any;\n\n    isEnabled?(uri: T, ...args: any[]): boolean;\n\n    isVisible?(uri: T, ...args: any[]): boolean;\n\n}\n\n/**\n * Handler for a single URI-based selection.\n */\nexport interface SingleUriCommandHandler extends UriCommandHandler<URI> {\n\n}\n\n/**\n * Handler for multiple URIs.\n */\nexport interface MultiUriCommandHandler extends UriCommandHandler<URI[]> {\n\n}\n\nexport class UriAwareCommandHandler<T extends MaybeArray<URI>> implements UriCommandHandler<T> {\n    /**\n     * @deprecated since 1.6.0. Please use `UriAwareCommandHandler.MonoSelect` or `UriAwareCommandHandler.MultiSelect`.\n     */\n    constructor(\n        protected readonly selectionService: SelectionService,\n        protected readonly handler: UriCommandHandler<T>,\n        protected readonly options?: UriAwareCommandHandler.Options\n    ) { }\n\n    protected getUri(...args: any[]): T | undefined {\n        const [maybeUriArray] = args;\n        const firstArgIsOK = this.isMulti()\n            ? isArray(maybeUriArray, uri => uri instanceof URI)\n            : maybeUriArray instanceof URI;\n\n        if (firstArgIsOK) {\n            return maybeUriArray;\n        }\n\n        const { selection } = this.selectionService;\n\n        const uriOrUris = this.isMulti()\n            ? UriSelection.getUris(selection)\n            : UriSelection.getUri(selection);\n\n        return uriOrUris as T;\n    }\n\n    protected getArgsWithUri(...args: any[]): [T | undefined, ...any[]] {\n        const uri = this.getUri(...args);\n        const [maybeUri, ...others] = args;\n        if (uri === maybeUri) {\n            return [maybeUri, ...others];\n        }\n        return [uri, ...args];\n    }\n\n    execute(...args: any[]): object | undefined {\n        const [uri, ...others] = this.getArgsWithUri(...args);\n        return uri ? this.handler.execute(uri, ...others) : undefined;\n    }\n\n    isVisible(...args: any[]): boolean {\n        const [uri, ...others] = this.getArgsWithUri(...args);\n        if (uri) {\n            if (this.handler.isVisible) {\n                return this.handler.isVisible(uri, ...others);\n            }\n            return true;\n        }\n        return false;\n    }\n\n    isEnabled(...args: any[]): boolean {\n        const [uri, ...others] = this.getArgsWithUri(...args);\n        if (uri) {\n            if (this.handler.isEnabled) {\n                return this.handler.isEnabled(uri, ...others);\n            }\n            return true;\n        }\n        return false;\n    }\n\n    protected isMulti(): boolean | undefined {\n        return this.options && !!this.options.multi;\n    }\n}\n\nexport namespace UriAwareCommandHandler {\n    /**\n     * Further options for the URI aware command handler instantiation.\n     */\n    export interface Options {\n\n        /**\n         * `true` if the handler supports multiple selection. Otherwise, `false`. Defaults to `false`.\n         */\n        readonly multi?: boolean,\n\n    }\n\n    /**\n     * @returns a command handler for mono-select contexts that expects a `URI` as the first parameter of its methods.\n     */\n    export function MonoSelect(selectionService: SelectionService, handler: UriCommandHandler<URI>): UriAwareCommandHandler<URI> {\n        /* eslint-disable-next-line deprecation/deprecation*/ // Safe to use when the generic and the options agree.\n        return new UriAwareCommandHandler<URI>(selectionService, handler, { multi: false });\n    }\n\n    /**\n     * @returns a command handler for multi-select contexts that expects a `URI[]` as the first parameter of its methods.\n     */\n    export function MultiSelect(selectionService: SelectionService, handler: UriCommandHandler<URI[]>): UriAwareCommandHandler<URI[]> {\n        /* eslint-disable-next-line deprecation/deprecation*/ // Safe to use when the generic and the options agree.\n        return new UriAwareCommandHandler<URI[]>(selectionService, handler, { multi: true });\n    }\n}\n\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { URI as Uri } from 'vscode-uri';\nimport { Path } from './path';\n\nexport class URI {\n\n    public static fromComponents(components: UriComponents): URI;\n    public static fromComponents(components: undefined): undefined;\n    public static fromComponents(components: UriComponents | undefined): URI | undefined {\n        return components ? new URI(Uri.revive(components)) : undefined;\n    }\n\n    public static fromFilePath(path: string): URI {\n        return new URI(Uri.file(path));\n    }\n\n    private readonly codeUri: Uri;\n    private _path: Path | undefined;\n\n    constructor(uri: string | Uri = '') {\n        if (uri instanceof Uri) {\n            this.codeUri = uri;\n        } else {\n            this.codeUri = Uri.parse(uri);\n        }\n    }\n\n    /**\n     * TODO move implementation to `DefaultUriLabelProviderContribution.getName`\n     *\n     * @deprecated use `LabelProvider.getName` instead\n     */\n    get displayName(): string {\n        const base = this.path.base;\n        if (base) {\n            return base;\n        }\n        if (this.path.isRoot) {\n            return this.path.fsPath();\n        }\n        return '';\n    }\n\n    /**\n     * Return all uri from the current to the top most.\n     */\n    get allLocations(): URI[] {\n        const locations = [];\n        let location: URI = this;\n        while (!location.path.isRoot && location.path.hasDir) {\n            locations.push(location);\n            location = location.parent;\n        }\n        locations.push(location);\n        return locations;\n    }\n\n    get parent(): URI {\n        if (this.path.isRoot) {\n            return this;\n        }\n        return this.withPath(this.path.dir);\n    }\n\n    relative(uri: URI): Path | undefined {\n        if (this.authority !== uri.authority || this.scheme !== uri.scheme) {\n            return undefined;\n        }\n        return this.path.relative(uri.path);\n    }\n\n    resolve(path: string | Path): URI {\n        return this.withPath(this.path.join(path.toString()));\n    }\n\n    /**\n     * @returns a new, absolute URI if one can be computed from the path segments passed in.\n     */\n    resolveToAbsolute(...pathSegments: Array<string | Path>): URI | undefined {\n        const absolutePath = this.path.resolve(...pathSegments.map(path => path.toString()));\n        if (absolutePath) {\n            return this.withPath(absolutePath);\n        }\n    }\n\n    /**\n     * return a new URI replacing the current with the given scheme\n     */\n    withScheme(scheme: string): URI {\n        const newCodeUri = Uri.from({\n            ...this.codeUri.toJSON(),\n            scheme\n        });\n        return new URI(newCodeUri);\n    }\n\n    /**\n     * return a new URI replacing the current with the given authority\n     */\n    withAuthority(authority: string): URI {\n        const newCodeUri = Uri.from({\n            ...this.codeUri.toJSON(),\n            scheme: this.codeUri.scheme,\n            authority\n        });\n        return new URI(newCodeUri);\n    }\n\n    /**\n     * return this URI without a authority\n     */\n    withoutAuthority(): URI {\n        return this.withAuthority('');\n    }\n\n    /**\n     * return a new URI replacing the current with the given path\n     */\n    withPath(path: string | Path): URI {\n        const newCodeUri = Uri.from({\n            ...this.codeUri.toJSON(),\n            scheme: this.codeUri.scheme,\n            path: path.toString()\n        });\n        return new URI(newCodeUri);\n    }\n\n    /**\n     * return this URI without a path\n     */\n    withoutPath(): URI {\n        return this.withPath('');\n    }\n\n    /**\n     * return a new URI replacing the current with the given query\n     */\n    withQuery(query: string): URI {\n        const newCodeUri = Uri.from({\n            ...this.codeUri.toJSON(),\n            scheme: this.codeUri.scheme,\n            query\n        });\n        return new URI(newCodeUri);\n    }\n\n    /**\n     * return this URI without a query\n     */\n    withoutQuery(): URI {\n        return this.withQuery('');\n    }\n\n    /**\n     * return a new URI replacing the current with the given fragment\n     */\n    withFragment(fragment: string): URI {\n        const newCodeUri = Uri.from({\n            ...this.codeUri.toJSON(),\n            scheme: this.codeUri.scheme,\n            fragment\n        });\n        return new URI(newCodeUri);\n    }\n\n    /**\n     * return this URI without a fragment\n     */\n    withoutFragment(): URI {\n        return this.withFragment('');\n    }\n\n    /**\n     * return a new URI replacing the current with its normalized path, resolving '..' and '.' segments\n     */\n    normalizePath(): URI {\n        return this.withPath(this.path.normalize());\n    }\n\n    get scheme(): string {\n        return this.codeUri.scheme;\n    }\n\n    get authority(): string {\n        return this.codeUri.authority;\n    }\n\n    get path(): Path {\n        if (this._path === undefined) {\n            this._path = new Path(this.codeUri.path);\n        }\n        return this._path;\n    }\n\n    get query(): string {\n        return this.codeUri.query;\n    }\n\n    get fragment(): string {\n        return this.codeUri.fragment;\n    }\n\n    toString(skipEncoding?: boolean): string {\n        return this.codeUri.toString(skipEncoding);\n    }\n\n    isEqual(uri: URI, caseSensitive: boolean = true): boolean {\n        if (!this.hasSameOrigin(uri)) {\n            return false;\n        }\n\n        return caseSensitive\n            ? this.toString() === uri.toString()\n            : this.toString().toLowerCase() === uri.toString().toLowerCase();\n    }\n\n    isEqualOrParent(uri: URI, caseSensitive: boolean = true): boolean {\n        if (!this.hasSameOrigin(uri)) {\n            return false;\n        }\n        let left = this.path;\n        let right = uri.path;\n        if (!caseSensitive) {\n            left = new Path(left.toString().toLowerCase());\n            right = new Path(right.toString().toLowerCase());\n        }\n        return left.isEqualOrParent(right);\n    }\n\n    static getDistinctParents(uris: URI[]): URI[] {\n        const result: URI[] = [];\n        uris.forEach((uri, i) => {\n            if (!uris.some((otherUri, index) => index !== i && otherUri.isEqualOrParent(uri))) {\n                result.push(uri);\n            }\n        });\n        return result;\n    }\n\n    private hasSameOrigin(uri: URI): boolean {\n        return (this.authority === uri.authority) && (this.scheme === uri.scheme);\n    }\n\n    toComponents(): UriComponents {\n        return {\n            scheme: this.scheme,\n            authority: this.authority,\n            path: this.path.toString(),\n            query: this.query,\n            fragment: this.fragment\n        };\n    }\n}\n\nexport interface UriComponents {\n    scheme: string;\n    authority: string;\n    path: string;\n    query: string;\n    fragment: string;\n    external?: string;\n}\n\nexport default URI;\n","// *****************************************************************************\n// Copyright (C) 2023 Mathieu Bussieres and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation and others. All rights reserved.\n *  Licensed under the MIT License. See https://github.com/Microsoft/vscode/blob/master/LICENSE.txt for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// based on https://github.com/microsoft/vscode/blob/1.72.2/src/vs/base/common/uuid.ts\n\nimport { v4, v5 } from 'uuid';\n\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n\nexport function isUUID(value: string): boolean {\n    return _UUIDPattern.test(value);\n}\n\nexport function generateUuid(): string {\n    return v4();\n}\n\nconst NAMESPACE = '4c90ee4f-d952-44b1-83ca-f04121ab8e05';\n/**\n * This function will hash the given value using SHA1. The result will be a uuid.\n * @param value the string to hash\n * @returns a uuid\n */\nexport function hashValue(value: string): string {\n    // as opposed to v4, v5 is deterministic and uses SHA1 hashing\n    return v5(value, NAMESPACE);\n}\n","// *****************************************************************************\n// Copyright (C) 2017 TypeFox and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport const THEIA_VERSION: string = require('../../package.json').version;\n","// *****************************************************************************\n// Copyright (C) 2022 STMicroelectronics.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/**\n * Denotes a column in the editor window.\n * Columns are used to show editors side by side.\n */\nexport enum ViewColumn {\n    Active = -1,\n    Beside = -2,\n    One = 1,\n    Two = 2,\n    Three = 3,\n    Four = 4,\n    Five = 5,\n    Six = 6,\n    Seven = 7,\n    Eight = 8,\n    Nine = 9\n}\n","module.exports = require('@phosphor/algorithm');\n","module.exports = require('@theia/application-package/lib/environment');\n","module.exports = require('inversify');\n","module.exports = require('vscode-languageserver-protocol');\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nexport * from './variable';\nexport * from './variable-quick-open-service';\nexport * from './variable-resolver-service';\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { inject, injectable, optional } from '@theia/core/shared/inversify';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { VariableRegistry, Variable } from './variable';\nimport { VariableResolverService } from './variable-resolver-service';\nimport { QuickPickItem, QuickInputService } from '@theia/core/lib/browser';\n\n@injectable()\nexport class VariableQuickOpenService {\n\n    protected items: Array<QuickPickItem>;\n\n    @inject(MessageService)\n    protected readonly messages: MessageService;\n\n    @inject(QuickInputService) @optional()\n    protected readonly quickInputService: QuickInputService;\n\n    @inject(VariableResolverService)\n    protected readonly variableResolver: VariableResolverService;\n\n    constructor(\n        @inject(VariableRegistry) protected readonly variableRegistry: VariableRegistry\n    ) { }\n\n    open(): void {\n        this.items = this.variableRegistry.getVariables().map(v => ({\n            label: '${' + v.name + '}',\n            detail: v.description,\n            execute: () => {\n                setTimeout(() => this.showValue(v));\n            }\n        }));\n\n        this.quickInputService?.showQuickPick(this.items, { placeholder: 'Registered variables' });\n    }\n\n    protected async showValue(variable: Variable): Promise<void> {\n        const argument = await this.quickInputService?.input({\n            placeHolder: 'Type a variable argument'\n        });\n        const value = await this.variableResolver.resolve('${' + variable.name + ':' + argument + '}');\n        if (typeof value === 'string') {\n            this.messages.info(value);\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { VariableRegistry } from './variable';\nimport URI from '@theia/core/lib/common/uri';\nimport { CommandIdVariables } from '../common/variable-types';\nimport { isCancelled } from '@theia/core';\n\nexport interface VariableResolveOptions {\n    context?: URI;\n    /**\n     * Used for resolving inputs, see https://code.visualstudio.com/docs/editor/variables-reference#_input-variables\n     */\n    configurationSection?: string;\n    commandIdVariables?: CommandIdVariables;\n    configuration?: unknown;\n}\n\n/**\n * The variable resolver service should be used to resolve variables in strings.\n */\n@injectable()\nexport class VariableResolverService {\n\n    protected static VAR_REGEXP = /\\$\\{(.*?)\\}/g;\n\n    @inject(VariableRegistry) protected readonly variableRegistry: VariableRegistry;\n\n    /**\n     * Resolve the variables in the given string array.\n     * @param value The array of data to resolve variables in.\n     * @param options Options of the variable resolution.\n     * @returns Promise to array with variables resolved. Never rejects.\n     *\n     * @deprecated since 1.28.0 use {@link resolve} instead.\n     */\n    resolveArray(value: string[], options: VariableResolveOptions = {}): Promise<string[] | undefined> {\n        return this.resolve(value, options);\n    }\n\n    /**\n     * Resolve the variables for all strings found in the object and nested objects.\n     * @param value Data to resolve variables in.\n     * @param options Options of the variable resolution\n     * @returns Promise to object with variables resolved. Returns `undefined` if a variable resolution was cancelled.\n     */\n    async resolve<T>(value: T, options: VariableResolveOptions = {}): Promise<T | undefined> {\n        const context = new VariableResolverService.Context(this.variableRegistry, options);\n        try {\n            return await this.doResolve(value, context);\n        } catch (error) {\n            if (isCancelled(error)) {\n                return undefined;\n            }\n            throw error;\n        }\n    }\n\n    protected async doResolve(value: any, context: VariableResolverService.Context): Promise<any> {\n        // eslint-disable-next-line no-null/no-null\n        if (value === undefined || value === null) {\n            return value;\n        }\n        if (typeof value === 'string') {\n            return this.doResolveString(value, context);\n        }\n        if (Array.isArray(value)) {\n            return this.doResolveArray(value, context);\n        }\n        if (typeof value === 'object') {\n            return this.doResolveObject(value, context);\n        }\n        return value;\n    }\n\n    protected async doResolveObject(obj: object, context: VariableResolverService.Context): Promise<object> {\n        const result: {\n            [prop: string]: Object | undefined\n        } = {};\n        for (const name of Object.keys(obj)) {\n            const value = (obj as any)[name];\n            const resolved = await this.doResolve(value, context);\n            result[name] = resolved;\n        }\n        return result;\n    }\n\n    protected async doResolveArray(values: Array<Object | undefined>, context: VariableResolverService.Context): Promise<Array<Object | undefined>> {\n        const result: (Object | undefined)[] = [];\n        for (const value of values) {\n            const resolved = await this.doResolve(value, context);\n            result.push(resolved);\n        }\n        return result;\n    }\n\n    protected async doResolveString(value: string, context: VariableResolverService.Context): Promise<string> {\n        await this.resolveVariables(value, context);\n        return value.replace(VariableResolverService.VAR_REGEXP, (match: string, varName: string) => {\n            const varValue = context.get(varName);\n            return varValue !== undefined ? varValue : match;\n        });\n    }\n\n    protected async resolveVariables(value: string, context: VariableResolverService.Context): Promise<void> {\n        const variableRegExp = new RegExp(VariableResolverService.VAR_REGEXP);\n        let match;\n        // eslint-disable-next-line no-null/no-null\n        while ((match = variableRegExp.exec(value)) !== null) {\n            const variableName = match[1];\n            await context.resolve(variableName);\n        }\n    }\n}\nexport namespace VariableResolverService {\n\n    export class Context {\n\n        protected readonly resolved = new Map<string, string | undefined>();\n\n        constructor(\n            protected readonly variableRegistry: VariableRegistry,\n            protected readonly options: VariableResolveOptions\n        ) { }\n\n        get(name: string): string | undefined {\n            return this.resolved.get(name);\n        }\n\n        async resolve(name: string): Promise<void> {\n            if (this.resolved.has(name)) {\n                return;\n            }\n            try {\n                let variableName = name;\n                let argument: string | undefined;\n                const parts = name.split(':', 2);\n                if (parts.length > 1) {\n                    variableName = parts[0];\n                    argument = parts[1];\n                }\n                const variable = this.variableRegistry.getVariable(variableName);\n                const resolved = await variable?.resolve(\n                    this.options.context,\n                    argument,\n                    this.options.configurationSection,\n                    this.options.commandIdVariables,\n                    this.options.configuration\n                );\n                if (\n                    typeof resolved === 'bigint' ||\n                    typeof resolved === 'boolean' ||\n                    typeof resolved === 'number' ||\n                    typeof resolved === 'string'\n                ) {\n                    this.resolved.set(name, `${resolved}`);\n                } else {\n                    this.resolved.set(name, undefined);\n                }\n            } catch (e) {\n                if (isCancelled(e)) {\n                    throw e;\n                }\n                this.resolved.set(name, undefined);\n                console.error(`Failed to resolve '${name}' variable:`, e);\n            }\n        }\n    }\n}\n","// *****************************************************************************\n// Copyright (C) 2018 Red Hat, Inc. and others.\n//\n// This program and the accompanying materials are made available under the\n// terms of the Eclipse Public License v. 2.0 which is available at\n// http://www.eclipse.org/legal/epl-2.0.\n//\n// This Source Code may also be made available under the following Secondary\n// Licenses when the conditions for such availability set forth in the Eclipse\n// Public License v. 2.0 are satisfied: GNU General Public License, version 2\n// with the GNU Classpath Exception which is available at\n// https://www.gnu.org/software/classpath/license.html.\n//\n// SPDX-License-Identifier: EPL-2.0 OR GPL-2.0-only WITH Classpath-exception-2.0\n// *****************************************************************************\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { Disposable, DisposableCollection, MaybePromise } from '@theia/core';\nimport URI from '@theia/core/lib/common/uri';\nimport { CommandIdVariables } from '../common/variable-types';\n\n/**\n * Variable can be used inside of strings using ${variableName} syntax.\n */\nexport interface Variable {\n\n    /**\n     * A unique name of this variable.\n     */\n    readonly name: string;\n\n    /**\n     * A human-readable description of this variable.\n     */\n    readonly description?: string;\n\n    /**\n     * Resolve to a string value of this variable or\n     * `undefined` if variable cannot be resolved.\n     * Never reject.\n     */\n    resolve(\n        context?: URI,\n        argument?: string,\n        configurationSection?: string,\n        commandIdVariables?: CommandIdVariables,\n        configuration?: unknown\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ): MaybePromise<any>;\n}\n\nexport const VariableContribution = Symbol('VariableContribution');\n/**\n * The variable contribution should be implemented to register custom variables.\n */\nexport interface VariableContribution {\n    registerVariables(variables: VariableRegistry): void;\n}\n\n/**\n * The variable registry manages variables.\n */\n@injectable()\nexport class VariableRegistry implements Disposable {\n\n    protected readonly variables: Map<string, Variable> = new Map();\n    protected readonly toDispose = new DisposableCollection();\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    /**\n     * Register the given variable.\n     * Do nothing if a variable is already registered for the given variable name.\n     */\n    registerVariable(variable: Variable): Disposable {\n        if (this.variables.has(variable.name)) {\n            console.warn(`A variables with name ${variable.name} is already registered.`);\n            return Disposable.NULL;\n        }\n        this.variables.set(variable.name, variable);\n        const disposable = {\n            dispose: () => this.variables.delete(variable.name)\n        };\n        this.toDispose.push(disposable);\n        return disposable;\n    }\n\n    /**\n     * Return all registered variables.\n     */\n    getVariables(): Variable[] {\n        return [...this.variables.values()];\n    }\n\n    /**\n     * Get a variable for the given name or `undefined` if none.\n     */\n    getVariable(name: string): Variable | undefined {\n        return this.variables.get(name);\n    }\n\n    /**\n     * Register an array of variables.\n     * Do nothing if a variable is already registered for the given variable name.\n     */\n    registerVariables(variables: Variable[]): Disposable[] {\n        return variables.map(v => this.registerVariable(v));\n    }\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Multibyte codec. In this scheme, a character is represented by 1 or more bytes.\n// Our codec supports UTF-16 surrogates, extensions for GB18030 and unicode sequences.\n// To save memory and loading time, we read table files only when requested.\n\nexports._dbcs = DBCSCodec;\n\nvar UNASSIGNED = -1,\n    GB18030_CODE = -2,\n    SEQ_START  = -10,\n    NODE_START = -1000,\n    UNASSIGNED_NODE = new Array(0x100),\n    DEF_CHAR = -1;\n\nfor (var i = 0; i < 0x100; i++)\n    UNASSIGNED_NODE[i] = UNASSIGNED;\n\n\n// Class DBCSCodec reads and initializes mapping tables.\nfunction DBCSCodec(codecOptions, iconv) {\n    this.encodingName = codecOptions.encodingName;\n    if (!codecOptions)\n        throw new Error(\"DBCS codec is called without the data.\")\n    if (!codecOptions.table)\n        throw new Error(\"Encoding '\" + this.encodingName + \"' has no data.\");\n\n    // Load tables.\n    var mappingTable = codecOptions.table();\n\n\n    // Decode tables: MBCS -> Unicode.\n\n    // decodeTables is a trie, encoded as an array of arrays of integers. Internal arrays are trie nodes and all have len = 256.\n    // Trie root is decodeTables[0].\n    // Values: >=  0 -> unicode character code. can be > 0xFFFF\n    //         == UNASSIGNED -> unknown/unassigned sequence.\n    //         == GB18030_CODE -> this is the end of a GB18030 4-byte sequence.\n    //         <= NODE_START -> index of the next node in our trie to process next byte.\n    //         <= SEQ_START  -> index of the start of a character code sequence, in decodeTableSeq.\n    this.decodeTables = [];\n    this.decodeTables[0] = UNASSIGNED_NODE.slice(0); // Create root node.\n\n    // Sometimes a MBCS char corresponds to a sequence of unicode chars. We store them as arrays of integers here. \n    this.decodeTableSeq = [];\n\n    // Actual mapping tables consist of chunks. Use them to fill up decode tables.\n    for (var i = 0; i < mappingTable.length; i++)\n        this._addDecodeChunk(mappingTable[i]);\n\n    // Load & create GB18030 tables when needed.\n    if (typeof codecOptions.gb18030 === 'function') {\n        this.gb18030 = codecOptions.gb18030(); // Load GB18030 ranges.\n\n        // Add GB18030 common decode nodes.\n        var commonThirdByteNodeIdx = this.decodeTables.length;\n        this.decodeTables.push(UNASSIGNED_NODE.slice(0));\n\n        var commonFourthByteNodeIdx = this.decodeTables.length;\n        this.decodeTables.push(UNASSIGNED_NODE.slice(0));\n\n        // Fill out the tree\n        var firstByteNode = this.decodeTables[0];\n        for (var i = 0x81; i <= 0xFE; i++) {\n            var secondByteNode = this.decodeTables[NODE_START - firstByteNode[i]];\n            for (var j = 0x30; j <= 0x39; j++) {\n                if (secondByteNode[j] === UNASSIGNED) {\n                    secondByteNode[j] = NODE_START - commonThirdByteNodeIdx;\n                } else if (secondByteNode[j] > NODE_START) {\n                    throw new Error(\"gb18030 decode tables conflict at byte 2\");\n                }\n\n                var thirdByteNode = this.decodeTables[NODE_START - secondByteNode[j]];\n                for (var k = 0x81; k <= 0xFE; k++) {\n                    if (thirdByteNode[k] === UNASSIGNED) {\n                        thirdByteNode[k] = NODE_START - commonFourthByteNodeIdx;\n                    } else if (thirdByteNode[k] === NODE_START - commonFourthByteNodeIdx) {\n                        continue;\n                    } else if (thirdByteNode[k] > NODE_START) {\n                        throw new Error(\"gb18030 decode tables conflict at byte 3\");\n                    }\n\n                    var fourthByteNode = this.decodeTables[NODE_START - thirdByteNode[k]];\n                    for (var l = 0x30; l <= 0x39; l++) {\n                        if (fourthByteNode[l] === UNASSIGNED)\n                            fourthByteNode[l] = GB18030_CODE;\n                    }\n                }\n            }\n        }\n    }\n\n    this.defaultCharUnicode = iconv.defaultCharUnicode;\n\n    \n    // Encode tables: Unicode -> DBCS.\n\n    // `encodeTable` is array mapping from unicode char to encoded char. All its values are integers for performance.\n    // Because it can be sparse, it is represented as array of buckets by 256 chars each. Bucket can be null.\n    // Values: >=  0 -> it is a normal char. Write the value (if <=256 then 1 byte, if <=65536 then 2 bytes, etc.).\n    //         == UNASSIGNED -> no conversion found. Output a default char.\n    //         <= SEQ_START  -> it's an index in encodeTableSeq, see below. The character starts a sequence.\n    this.encodeTable = [];\n    \n    // `encodeTableSeq` is used when a sequence of unicode characters is encoded as a single code. We use a tree of\n    // objects where keys correspond to characters in sequence and leafs are the encoded dbcs values. A special DEF_CHAR key\n    // means end of sequence (needed when one sequence is a strict subsequence of another).\n    // Objects are kept separately from encodeTable to increase performance.\n    this.encodeTableSeq = [];\n\n    // Some chars can be decoded, but need not be encoded.\n    var skipEncodeChars = {};\n    if (codecOptions.encodeSkipVals)\n        for (var i = 0; i < codecOptions.encodeSkipVals.length; i++) {\n            var val = codecOptions.encodeSkipVals[i];\n            if (typeof val === 'number')\n                skipEncodeChars[val] = true;\n            else\n                for (var j = val.from; j <= val.to; j++)\n                    skipEncodeChars[j] = true;\n        }\n        \n    // Use decode trie to recursively fill out encode tables.\n    this._fillEncodeTable(0, 0, skipEncodeChars);\n\n    // Add more encoding pairs when needed.\n    if (codecOptions.encodeAdd) {\n        for (var uChar in codecOptions.encodeAdd)\n            if (Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd, uChar))\n                this._setEncodeChar(uChar.charCodeAt(0), codecOptions.encodeAdd[uChar]);\n    }\n\n    this.defCharSB  = this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = this.encodeTable[0]['?'];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = \"?\".charCodeAt(0);\n}\n\nDBCSCodec.prototype.encoder = DBCSEncoder;\nDBCSCodec.prototype.decoder = DBCSDecoder;\n\n// Decoder helpers\nDBCSCodec.prototype._getDecodeTrieNode = function(addr) {\n    var bytes = [];\n    for (; addr > 0; addr >>>= 8)\n        bytes.push(addr & 0xFF);\n    if (bytes.length == 0)\n        bytes.push(0);\n\n    var node = this.decodeTables[0];\n    for (var i = bytes.length-1; i > 0; i--) { // Traverse nodes deeper into the trie.\n        var val = node[bytes[i]];\n\n        if (val == UNASSIGNED) { // Create new node.\n            node[bytes[i]] = NODE_START - this.decodeTables.length;\n            this.decodeTables.push(node = UNASSIGNED_NODE.slice(0));\n        }\n        else if (val <= NODE_START) { // Existing node.\n            node = this.decodeTables[NODE_START - val];\n        }\n        else\n            throw new Error(\"Overwrite byte in \" + this.encodingName + \", addr: \" + addr.toString(16));\n    }\n    return node;\n}\n\n\nDBCSCodec.prototype._addDecodeChunk = function(chunk) {\n    // First element of chunk is the hex mbcs code where we start.\n    var curAddr = parseInt(chunk[0], 16);\n\n    // Choose the decoding node where we'll write our chars.\n    var writeTable = this._getDecodeTrieNode(curAddr);\n    curAddr = curAddr & 0xFF;\n\n    // Write all other elements of the chunk to the table.\n    for (var k = 1; k < chunk.length; k++) {\n        var part = chunk[k];\n        if (typeof part === \"string\") { // String, write as-is.\n            for (var l = 0; l < part.length;) {\n                var code = part.charCodeAt(l++);\n                if (0xD800 <= code && code < 0xDC00) { // Decode surrogate\n                    var codeTrail = part.charCodeAt(l++);\n                    if (0xDC00 <= codeTrail && codeTrail < 0xE000)\n                        writeTable[curAddr++] = 0x10000 + (code - 0xD800) * 0x400 + (codeTrail - 0xDC00);\n                    else\n                        throw new Error(\"Incorrect surrogate pair in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n                }\n                else if (0x0FF0 < code && code <= 0x0FFF) { // Character sequence (our own encoding used)\n                    var len = 0xFFF - code + 2;\n                    var seq = [];\n                    for (var m = 0; m < len; m++)\n                        seq.push(part.charCodeAt(l++)); // Simple variation: don't support surrogates or subsequences in seq.\n\n                    writeTable[curAddr++] = SEQ_START - this.decodeTableSeq.length;\n                    this.decodeTableSeq.push(seq);\n                }\n                else\n                    writeTable[curAddr++] = code; // Basic char\n            }\n        } \n        else if (typeof part === \"number\") { // Integer, meaning increasing sequence starting with prev character.\n            var charCode = writeTable[curAddr - 1] + 1;\n            for (var l = 0; l < part; l++)\n                writeTable[curAddr++] = charCode++;\n        }\n        else\n            throw new Error(\"Incorrect type '\" + typeof part + \"' given in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n    }\n    if (curAddr > 0xFF)\n        throw new Error(\"Incorrect chunk in \"  + this.encodingName + \" at addr \" + chunk[0] + \": too long\" + curAddr);\n}\n\n// Encoder helpers\nDBCSCodec.prototype._getEncodeBucket = function(uCode) {\n    var high = uCode >> 8; // This could be > 0xFF because of astral characters.\n    if (this.encodeTable[high] === undefined)\n        this.encodeTable[high] = UNASSIGNED_NODE.slice(0); // Create bucket on demand.\n    return this.encodeTable[high];\n}\n\nDBCSCodec.prototype._setEncodeChar = function(uCode, dbcsCode) {\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n    if (bucket[low] <= SEQ_START)\n        this.encodeTableSeq[SEQ_START-bucket[low]][DEF_CHAR] = dbcsCode; // There's already a sequence, set a single-char subsequence of it.\n    else if (bucket[low] == UNASSIGNED)\n        bucket[low] = dbcsCode;\n}\n\nDBCSCodec.prototype._setEncodeSequence = function(seq, dbcsCode) {\n    \n    // Get the root of character tree according to first character of the sequence.\n    var uCode = seq[0];\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n\n    var node;\n    if (bucket[low] <= SEQ_START) {\n        // There's already a sequence with  - use it.\n        node = this.encodeTableSeq[SEQ_START-bucket[low]];\n    }\n    else {\n        // There was no sequence object - allocate a new one.\n        node = {};\n        if (bucket[low] !== UNASSIGNED) node[DEF_CHAR] = bucket[low]; // If a char was set before - make it a single-char subsequence.\n        bucket[low] = SEQ_START - this.encodeTableSeq.length;\n        this.encodeTableSeq.push(node);\n    }\n\n    // Traverse the character tree, allocating new nodes as needed.\n    for (var j = 1; j < seq.length-1; j++) {\n        var oldVal = node[uCode];\n        if (typeof oldVal === 'object')\n            node = oldVal;\n        else {\n            node = node[uCode] = {}\n            if (oldVal !== undefined)\n                node[DEF_CHAR] = oldVal\n        }\n    }\n\n    // Set the leaf to given dbcsCode.\n    uCode = seq[seq.length-1];\n    node[uCode] = dbcsCode;\n}\n\nDBCSCodec.prototype._fillEncodeTable = function(nodeIdx, prefix, skipEncodeChars) {\n    var node = this.decodeTables[nodeIdx];\n    var hasValues = false;\n    var subNodeEmpty = {};\n    for (var i = 0; i < 0x100; i++) {\n        var uCode = node[i];\n        var mbCode = prefix + i;\n        if (skipEncodeChars[mbCode])\n            continue;\n\n        if (uCode >= 0) {\n            this._setEncodeChar(uCode, mbCode);\n            hasValues = true;\n        } else if (uCode <= NODE_START) {\n            var subNodeIdx = NODE_START - uCode;\n            if (!subNodeEmpty[subNodeIdx]) {  // Skip empty subtrees (they are too large in gb18030).\n                var newPrefix = (mbCode << 8) >>> 0;  // NOTE: '>>> 0' keeps 32-bit num positive.\n                if (this._fillEncodeTable(subNodeIdx, newPrefix, skipEncodeChars))\n                    hasValues = true;\n                else\n                    subNodeEmpty[subNodeIdx] = true;\n            }\n        } else if (uCode <= SEQ_START) {\n            this._setEncodeSequence(this.decodeTableSeq[SEQ_START - uCode], mbCode);\n            hasValues = true;\n        }\n    }\n    return hasValues;\n}\n\n\n\n// == Encoder ==================================================================\n\nfunction DBCSEncoder(options, codec) {\n    // Encoder state\n    this.leadSurrogate = -1;\n    this.seqObj = undefined;\n    \n    // Static data\n    this.encodeTable = codec.encodeTable;\n    this.encodeTableSeq = codec.encodeTableSeq;\n    this.defaultCharSingleByte = codec.defCharSB;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSEncoder.prototype.write = function(str) {\n    var newBuf = Buffer.alloc(str.length * (this.gb18030 ? 4 : 3)),\n        leadSurrogate = this.leadSurrogate,\n        seqObj = this.seqObj, nextChar = -1,\n        i = 0, j = 0;\n\n    while (true) {\n        // 0. Get next character.\n        if (nextChar === -1) {\n            if (i == str.length) break;\n            var uCode = str.charCodeAt(i++);\n        }\n        else {\n            var uCode = nextChar;\n            nextChar = -1;    \n        }\n\n        // 1. Handle surrogates.\n        if (0xD800 <= uCode && uCode < 0xE000) { // Char is one of surrogates.\n            if (uCode < 0xDC00) { // We've got lead surrogate.\n                if (leadSurrogate === -1) {\n                    leadSurrogate = uCode;\n                    continue;\n                } else {\n                    leadSurrogate = uCode;\n                    // Double lead surrogate found.\n                    uCode = UNASSIGNED;\n                }\n            } else { // We've got trail surrogate.\n                if (leadSurrogate !== -1) {\n                    uCode = 0x10000 + (leadSurrogate - 0xD800) * 0x400 + (uCode - 0xDC00);\n                    leadSurrogate = -1;\n                } else {\n                    // Incomplete surrogate pair - only trail surrogate found.\n                    uCode = UNASSIGNED;\n                }\n                \n            }\n        }\n        else if (leadSurrogate !== -1) {\n            // Incomplete surrogate pair - only lead surrogate found.\n            nextChar = uCode; uCode = UNASSIGNED; // Write an error, then current char.\n            leadSurrogate = -1;\n        }\n\n        // 2. Convert uCode character.\n        var dbcsCode = UNASSIGNED;\n        if (seqObj !== undefined && uCode != UNASSIGNED) { // We are in the middle of the sequence\n            var resCode = seqObj[uCode];\n            if (typeof resCode === 'object') { // Sequence continues.\n                seqObj = resCode;\n                continue;\n\n            } else if (typeof resCode == 'number') { // Sequence finished. Write it.\n                dbcsCode = resCode;\n\n            } else if (resCode == undefined) { // Current character is not part of the sequence.\n\n                // Try default character for this sequence\n                resCode = seqObj[DEF_CHAR];\n                if (resCode !== undefined) {\n                    dbcsCode = resCode; // Found. Write it.\n                    nextChar = uCode; // Current character will be written too in the next iteration.\n\n                } else {\n                    // TODO: What if we have no default? (resCode == undefined)\n                    // Then, we should write first char of the sequence as-is and try the rest recursively.\n                    // Didn't do it for now because no encoding has this situation yet.\n                    // Currently, just skip the sequence and write current char.\n                }\n            }\n            seqObj = undefined;\n        }\n        else if (uCode >= 0) {  // Regular character\n            var subtable = this.encodeTable[uCode >> 8];\n            if (subtable !== undefined)\n                dbcsCode = subtable[uCode & 0xFF];\n            \n            if (dbcsCode <= SEQ_START) { // Sequence start\n                seqObj = this.encodeTableSeq[SEQ_START-dbcsCode];\n                continue;\n            }\n\n            if (dbcsCode == UNASSIGNED && this.gb18030) {\n                // Use GB18030 algorithm to find character(s) to write.\n                var idx = findIdx(this.gb18030.uChars, uCode);\n                if (idx != -1) {\n                    var dbcsCode = this.gb18030.gbChars[idx] + (uCode - this.gb18030.uChars[idx]);\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 12600); dbcsCode = dbcsCode % 12600;\n                    newBuf[j++] = 0x30 + Math.floor(dbcsCode / 1260); dbcsCode = dbcsCode % 1260;\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 10); dbcsCode = dbcsCode % 10;\n                    newBuf[j++] = 0x30 + dbcsCode;\n                    continue;\n                }\n            }\n        }\n\n        // 3. Write dbcsCode character.\n        if (dbcsCode === UNASSIGNED)\n            dbcsCode = this.defaultCharSingleByte;\n        \n        if (dbcsCode < 0x100) {\n            newBuf[j++] = dbcsCode;\n        }\n        else if (dbcsCode < 0x10000) {\n            newBuf[j++] = dbcsCode >> 8;   // high byte\n            newBuf[j++] = dbcsCode & 0xFF; // low byte\n        }\n        else if (dbcsCode < 0x1000000) {\n            newBuf[j++] = dbcsCode >> 16;\n            newBuf[j++] = (dbcsCode >> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        } else {\n            newBuf[j++] = dbcsCode >>> 24;\n            newBuf[j++] = (dbcsCode >>> 16) & 0xFF;\n            newBuf[j++] = (dbcsCode >>> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        }\n    }\n\n    this.seqObj = seqObj;\n    this.leadSurrogate = leadSurrogate;\n    return newBuf.slice(0, j);\n}\n\nDBCSEncoder.prototype.end = function() {\n    if (this.leadSurrogate === -1 && this.seqObj === undefined)\n        return; // All clean. Most often case.\n\n    var newBuf = Buffer.alloc(10), j = 0;\n\n    if (this.seqObj) { // We're in the sequence.\n        var dbcsCode = this.seqObj[DEF_CHAR];\n        if (dbcsCode !== undefined) { // Write beginning of the sequence.\n            if (dbcsCode < 0x100) {\n                newBuf[j++] = dbcsCode;\n            }\n            else {\n                newBuf[j++] = dbcsCode >> 8;   // high byte\n                newBuf[j++] = dbcsCode & 0xFF; // low byte\n            }\n        } else {\n            // See todo above.\n        }\n        this.seqObj = undefined;\n    }\n\n    if (this.leadSurrogate !== -1) {\n        // Incomplete surrogate pair - only lead surrogate found.\n        newBuf[j++] = this.defaultCharSingleByte;\n        this.leadSurrogate = -1;\n    }\n    \n    return newBuf.slice(0, j);\n}\n\n// Export for testing\nDBCSEncoder.prototype.findIdx = findIdx;\n\n\n// == Decoder ==================================================================\n\nfunction DBCSDecoder(options, codec) {\n    // Decoder state\n    this.nodeIdx = 0;\n    this.prevBytes = [];\n\n    // Static data\n    this.decodeTables = codec.decodeTables;\n    this.decodeTableSeq = codec.decodeTableSeq;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSDecoder.prototype.write = function(buf) {\n    var newBuf = Buffer.alloc(buf.length*2),\n        nodeIdx = this.nodeIdx, \n        prevBytes = this.prevBytes, prevOffset = this.prevBytes.length,\n        seqStart = -this.prevBytes.length, // idx of the start of current parsed sequence.\n        uCode;\n\n    for (var i = 0, j = 0; i < buf.length; i++) {\n        var curByte = (i >= 0) ? buf[i] : prevBytes[i + prevOffset];\n\n        // Lookup in current trie node.\n        var uCode = this.decodeTables[nodeIdx][curByte];\n\n        if (uCode >= 0) { \n            // Normal character, just use it.\n        }\n        else if (uCode === UNASSIGNED) { // Unknown char.\n            // TODO: Callback with seq.\n            uCode = this.defaultCharUnicode.charCodeAt(0);\n            i = seqStart; // Skip one byte ('i' will be incremented by the for loop) and try to parse again.\n        }\n        else if (uCode === GB18030_CODE) {\n            if (i >= 3) {\n                var ptr = (buf[i-3]-0x81)*12600 + (buf[i-2]-0x30)*1260 + (buf[i-1]-0x81)*10 + (curByte-0x30);\n            } else {\n                var ptr = (prevBytes[i-3+prevOffset]-0x81)*12600 + \n                          (((i-2 >= 0) ? buf[i-2] : prevBytes[i-2+prevOffset])-0x30)*1260 + \n                          (((i-1 >= 0) ? buf[i-1] : prevBytes[i-1+prevOffset])-0x81)*10 + \n                          (curByte-0x30);\n            }\n            var idx = findIdx(this.gb18030.gbChars, ptr);\n            uCode = this.gb18030.uChars[idx] + ptr - this.gb18030.gbChars[idx];\n        }\n        else if (uCode <= NODE_START) { // Go to next trie node.\n            nodeIdx = NODE_START - uCode;\n            continue;\n        }\n        else if (uCode <= SEQ_START) { // Output a sequence of chars.\n            var seq = this.decodeTableSeq[SEQ_START - uCode];\n            for (var k = 0; k < seq.length - 1; k++) {\n                uCode = seq[k];\n                newBuf[j++] = uCode & 0xFF;\n                newBuf[j++] = uCode >> 8;\n            }\n            uCode = seq[seq.length-1];\n        }\n        else\n            throw new Error(\"iconv-lite internal error: invalid decoding table value \" + uCode + \" at \" + nodeIdx + \"/\" + curByte);\n\n        // Write the character to buffer, handling higher planes using surrogate pair.\n        if (uCode >= 0x10000) { \n            uCode -= 0x10000;\n            var uCodeLead = 0xD800 | (uCode >> 10);\n            newBuf[j++] = uCodeLead & 0xFF;\n            newBuf[j++] = uCodeLead >> 8;\n\n            uCode = 0xDC00 | (uCode & 0x3FF);\n        }\n        newBuf[j++] = uCode & 0xFF;\n        newBuf[j++] = uCode >> 8;\n\n        // Reset trie node.\n        nodeIdx = 0; seqStart = i+1;\n    }\n\n    this.nodeIdx = nodeIdx;\n    this.prevBytes = (seqStart >= 0)\n        ? Array.prototype.slice.call(buf, seqStart)\n        : prevBytes.slice(seqStart + prevOffset).concat(Array.prototype.slice.call(buf));\n\n    return newBuf.slice(0, j).toString('ucs2');\n}\n\nDBCSDecoder.prototype.end = function() {\n    var ret = '';\n\n    // Try to parse all remaining chars.\n    while (this.prevBytes.length > 0) {\n        // Skip 1 character in the buffer.\n        ret += this.defaultCharUnicode;\n        var bytesArr = this.prevBytes.slice(1);\n\n        // Parse remaining as usual.\n        this.prevBytes = [];\n        this.nodeIdx = 0;\n        if (bytesArr.length > 0)\n            ret += this.write(bytesArr);\n    }\n\n    this.prevBytes = [];\n    this.nodeIdx = 0;\n    return ret;\n}\n\n// Binary search for GB18030. Returns largest i such that table[i] <= val.\nfunction findIdx(table, val) {\n    if (table[0] > val)\n        return -1;\n\n    var l = 0, r = table.length;\n    while (l < r-1) { // always table[l] <= val < table[r]\n        var mid = l + ((r-l+1) >> 1);\n        if (table[mid] <= val)\n            l = mid;\n        else\n            r = mid;\n    }\n    return l;\n}\n\n","\"use strict\";\n\n// Description of supported double byte encodings and aliases.\n// Tables are not require()-d until they are needed to speed up library load.\n// require()-s are direct to support Browserify.\n\nmodule.exports = {\n    \n    // == Japanese/ShiftJIS ====================================================\n    // All japanese encodings are based on JIS X set of standards:\n    // JIS X 0201 - Single-byte encoding of ASCII +  + Kana chars at 0xA1-0xDF.\n    // JIS X 0208 - Main set of 6879 characters, placed in 94x94 plane, to be encoded by 2 bytes. \n    //              Has several variations in 1978, 1983, 1990 and 1997.\n    // JIS X 0212 - Supplementary plane of 6067 chars in 94x94 plane. 1990. Effectively dead.\n    // JIS X 0213 - Extension and modern replacement of 0208 and 0212. Total chars: 11233.\n    //              2 planes, first is superset of 0208, second - revised 0212.\n    //              Introduced in 2000, revised 2004. Some characters are in Unicode Plane 2 (0x2xxxx)\n\n    // Byte encodings are:\n    //  * Shift_JIS: Compatible with 0201, uses not defined chars in top half as lead bytes for double-byte\n    //               encoding of 0208. Lead byte ranges: 0x81-0x9F, 0xE0-0xEF; Trail byte ranges: 0x40-0x7E, 0x80-0x9E, 0x9F-0xFC.\n    //               Windows CP932 is a superset of Shift_JIS. Some companies added more chars, notably KDDI.\n    //  * EUC-JP:    Up to 3 bytes per character. Used mostly on *nixes.\n    //               0x00-0x7F       - lower part of 0201\n    //               0x8E, 0xA1-0xDF - upper part of 0201\n    //               (0xA1-0xFE)x2   - 0208 plane (94x94).\n    //               0x8F, (0xA1-0xFE)x2 - 0212 plane (94x94).\n    //  * JIS X 208: 7-bit, direct encoding of 0208. Byte ranges: 0x21-0x7E (94 values). Uncommon.\n    //               Used as-is in ISO2022 family.\n    //  * ISO2022-JP: Stateful encoding, with escape sequences to switch between ASCII, \n    //                0201-1976 Roman, 0208-1978, 0208-1983.\n    //  * ISO2022-JP-1: Adds esc seq for 0212-1990.\n    //  * ISO2022-JP-2: Adds esc seq for GB2313-1980, KSX1001-1992, ISO8859-1, ISO8859-7.\n    //  * ISO2022-JP-3: Adds esc seq for 0201-1976 Kana set, 0213-2000 Planes 1, 2.\n    //  * ISO2022-JP-2004: Adds 0213-2004 Plane 1.\n    //\n    // After JIS X 0213 appeared, Shift_JIS-2004, EUC-JISX0213 and ISO2022-JP-2004 followed, with just changing the planes.\n    //\n    // Overall, it seems that it's a mess :( http://www8.plala.or.jp/tkubota1/unicode-symbols-map2.html\n\n    'shiftjis': {\n        type: '_dbcs',\n        table: function() { return require('./tables/shiftjis.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n        encodeSkipVals: [{from: 0xED40, to: 0xF940}],\n    },\n    'csshiftjis': 'shiftjis',\n    'mskanji': 'shiftjis',\n    'sjis': 'shiftjis',\n    'windows31j': 'shiftjis',\n    'ms31j': 'shiftjis',\n    'xsjis': 'shiftjis',\n    'windows932': 'shiftjis',\n    'ms932': 'shiftjis',\n    '932': 'shiftjis',\n    'cp932': 'shiftjis',\n\n    'eucjp': {\n        type: '_dbcs',\n        table: function() { return require('./tables/eucjp.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n    },\n\n    // TODO: KDDI extension to Shift_JIS\n    // TODO: IBM CCSID 942 = CP932, but F0-F9 custom chars and other char changes.\n    // TODO: IBM CCSID 943 = Shift_JIS = CP932 with original Shift_JIS lower 128 chars.\n\n\n    // == Chinese/GBK ==========================================================\n    // http://en.wikipedia.org/wiki/GBK\n    // We mostly implement W3C recommendation: https://www.w3.org/TR/encoding/#gbk-encoder\n\n    // Oldest GB2312 (1981, ~7600 chars) is a subset of CP936\n    'gb2312': 'cp936',\n    'gb231280': 'cp936',\n    'gb23121980': 'cp936',\n    'csgb2312': 'cp936',\n    'csiso58gb231280': 'cp936',\n    'euccn': 'cp936',\n\n    // Microsoft's CP936 is a subset and approximation of GBK.\n    'windows936': 'cp936',\n    'ms936': 'cp936',\n    '936': 'cp936',\n    'cp936': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json') },\n    },\n\n    // GBK (~22000 chars) is an extension of CP936 that added user-mapped chars and some other.\n    'gbk': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n    },\n    'xgbk': 'gbk',\n    'isoir58': 'gbk',\n\n    // GB18030 is an algorithmic extension of GBK.\n    // Main source: https://www.w3.org/TR/encoding/#gbk-encoder\n    // http://icu-project.org/docs/papers/gb18030.html\n    // http://source.icu-project.org/repos/icu/data/trunk/charset/data/xml/gb-18030-2000.xml\n    // http://www.khngai.com/chinese/charmap/tblgbk.php?page=0\n    'gb18030': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n        gb18030: function() { return require('./tables/gb18030-ranges.json') },\n        encodeSkipVals: [0x80],\n        encodeAdd: {'': 0xA2E3},\n    },\n\n    'chinese': 'gb18030',\n\n\n    // == Korean ===============================================================\n    // EUC-KR, KS_C_5601 and KS X 1001 are exactly the same.\n    'windows949': 'cp949',\n    'ms949': 'cp949',\n    '949': 'cp949',\n    'cp949': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp949.json') },\n    },\n\n    'cseuckr': 'cp949',\n    'csksc56011987': 'cp949',\n    'euckr': 'cp949',\n    'isoir149': 'cp949',\n    'korean': 'cp949',\n    'ksc56011987': 'cp949',\n    'ksc56011989': 'cp949',\n    'ksc5601': 'cp949',\n\n\n    // == Big5/Taiwan/Hong Kong ================================================\n    // There are lots of tables for Big5 and cp950. Please see the following links for history:\n    // http://moztw.org/docs/big5/  http://www.haible.de/bruno/charsets/conversion-tables/Big5.html\n    // Variations, in roughly number of defined chars:\n    //  * Windows CP 950: Microsoft variant of Big5. Canonical: http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT\n    //  * Windows CP 951: Microsoft variant of Big5-HKSCS-2001. Seems to be never public. http://me.abelcheung.org/articles/research/what-is-cp951/\n    //  * Big5-2003 (Taiwan standard) almost superset of cp950.\n    //  * Unicode-at-on (UAO) / Mozilla 1.8. Falling out of use on the Web. Not supported by other browsers.\n    //  * Big5-HKSCS (-2001, -2004, -2008). Hong Kong standard. \n    //    many unicode code points moved from PUA to Supplementary plane (U+2XXXX) over the years.\n    //    Plus, it has 4 combining sequences.\n    //    Seems that Mozilla refused to support it for 10 yrs. https://bugzilla.mozilla.org/show_bug.cgi?id=162431 https://bugzilla.mozilla.org/show_bug.cgi?id=310299\n    //    because big5-hkscs is the only encoding to include astral characters in non-algorithmic way.\n    //    Implementations are not consistent within browsers; sometimes labeled as just big5.\n    //    MS Internet Explorer switches from big5 to big5-hkscs when a patch applied.\n    //    Great discussion & recap of what's going on https://bugzilla.mozilla.org/show_bug.cgi?id=912470#c31\n    //    In the encoder, it might make sense to support encoding old PUA mappings to Big5 bytes seq-s.\n    //    Official spec: http://www.ogcio.gov.hk/en/business/tech_promotion/ccli/terms/doc/2003cmp_2008.txt\n    //                   http://www.ogcio.gov.hk/tc/business/tech_promotion/ccli/terms/doc/hkscs-2008-big5-iso.txt\n    // \n    // Current understanding of how to deal with Big5(-HKSCS) is in the Encoding Standard, http://encoding.spec.whatwg.org/#big5-encoder\n    // Unicode mapping (http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/OTHER/BIG5.TXT) is said to be wrong.\n\n    'windows950': 'cp950',\n    'ms950': 'cp950',\n    '950': 'cp950',\n    'cp950': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json') },\n    },\n\n    // Big5 has many variations and is an extension of cp950. We use Encoding Standard's as a consensus.\n    'big5': 'big5hkscs',\n    'big5hkscs': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json').concat(require('./tables/big5-added.json')) },\n        encodeSkipVals: [\n            // Although Encoding Standard says we should avoid encoding to HKSCS area (See Step 1 of\n            // https://encoding.spec.whatwg.org/#index-big5-pointer), we still do it to increase compatibility with ICU.\n            // But if a single unicode point can be encoded both as HKSCS and regular Big5, we prefer the latter.\n            0x8e69, 0x8e6f, 0x8e7e, 0x8eab, 0x8eb4, 0x8ecd, 0x8ed0, 0x8f57, 0x8f69, 0x8f6e, 0x8fcb, 0x8ffe,\n            0x906d, 0x907a, 0x90c4, 0x90dc, 0x90f1, 0x91bf, 0x92af, 0x92b0, 0x92b1, 0x92b2, 0x92d1, 0x9447, 0x94ca,\n            0x95d9, 0x96fc, 0x9975, 0x9b76, 0x9b78, 0x9b7b, 0x9bc6, 0x9bde, 0x9bec, 0x9bf6, 0x9c42, 0x9c53, 0x9c62,\n            0x9c68, 0x9c6b, 0x9c77, 0x9cbc, 0x9cbd, 0x9cd0, 0x9d57, 0x9d5a, 0x9dc4, 0x9def, 0x9dfb, 0x9ea9, 0x9eef,\n            0x9efd, 0x9f60, 0x9fcb, 0xa077, 0xa0dc, 0xa0df, 0x8fcc, 0x92c8, 0x9644, 0x96ed,\n\n            // Step 2 of https://encoding.spec.whatwg.org/#index-big5-pointer: Use last pointer for U+2550, U+255E, U+2561, U+256A, U+5341, or U+5345\n            0xa2a4, 0xa2a5, 0xa2a7, 0xa2a6, 0xa2cc, 0xa2ce,\n        ],\n    },\n\n    'cnbig5': 'big5hkscs',\n    'csbig5': 'big5hkscs',\n    'xxbig5': 'big5hkscs',\n};\n","\"use strict\";\n\n// Update this array if you add/rename/remove files in this directory.\n// We support Browserify by skipping automatic module discovery and requiring modules directly.\nvar modules = [\n    require(\"./internal\"),\n    require(\"./utf32\"),\n    require(\"./utf16\"),\n    require(\"./utf7\"),\n    require(\"./sbcs-codec\"),\n    require(\"./sbcs-data\"),\n    require(\"./sbcs-data-generated\"),\n    require(\"./dbcs-codec\"),\n    require(\"./dbcs-data\"),\n];\n\n// Put all encoding/alias/codec definitions to single object and export it.\nfor (var i = 0; i < modules.length; i++) {\n    var module = modules[i];\n    for (var enc in module)\n        if (Object.prototype.hasOwnProperty.call(module, enc))\n            exports[enc] = module[enc];\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Export Node.js internal encodings.\n\nmodule.exports = {\n    // Encodings\n    utf8:   { type: \"_internal\", bomAware: true},\n    cesu8:  { type: \"_internal\", bomAware: true},\n    unicode11utf8: \"utf8\",\n\n    ucs2:   { type: \"_internal\", bomAware: true},\n    utf16le: \"ucs2\",\n\n    binary: { type: \"_internal\" },\n    base64: { type: \"_internal\" },\n    hex:    { type: \"_internal\" },\n\n    // Codec.\n    _internal: InternalCodec,\n};\n\n//------------------------------------------------------------------------------\n\nfunction InternalCodec(codecOptions, iconv) {\n    this.enc = codecOptions.encodingName;\n    this.bomAware = codecOptions.bomAware;\n\n    if (this.enc === \"base64\")\n        this.encoder = InternalEncoderBase64;\n    else if (this.enc === \"cesu8\") {\n        this.enc = \"utf8\"; // Use utf8 for decoding.\n        this.encoder = InternalEncoderCesu8;\n\n        // Add decoder for versions of Node not supporting CESU-8\n        if (Buffer.from('eda0bdedb2a9', 'hex').toString() !== '') {\n            this.decoder = InternalDecoderCesu8;\n            this.defaultCharUnicode = iconv.defaultCharUnicode;\n        }\n    }\n}\n\nInternalCodec.prototype.encoder = InternalEncoder;\nInternalCodec.prototype.decoder = InternalDecoder;\n\n//------------------------------------------------------------------------------\n\n// We use node.js internal decoder. Its signature is the same as ours.\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nif (!StringDecoder.prototype.end) // Node v0.8 doesn't have this method.\n    StringDecoder.prototype.end = function() {};\n\n\nfunction InternalDecoder(options, codec) {\n    this.decoder = new StringDecoder(codec.enc);\n}\n\nInternalDecoder.prototype.write = function(buf) {\n    if (!Buffer.isBuffer(buf)) {\n        buf = Buffer.from(buf);\n    }\n\n    return this.decoder.write(buf);\n}\n\nInternalDecoder.prototype.end = function() {\n    return this.decoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n// Encoder is mostly trivial\n\nfunction InternalEncoder(options, codec) {\n    this.enc = codec.enc;\n}\n\nInternalEncoder.prototype.write = function(str) {\n    return Buffer.from(str, this.enc);\n}\n\nInternalEncoder.prototype.end = function() {\n}\n\n\n//------------------------------------------------------------------------------\n// Except base64 encoder, which must keep its state.\n\nfunction InternalEncoderBase64(options, codec) {\n    this.prevStr = '';\n}\n\nInternalEncoderBase64.prototype.write = function(str) {\n    str = this.prevStr + str;\n    var completeQuads = str.length - (str.length % 4);\n    this.prevStr = str.slice(completeQuads);\n    str = str.slice(0, completeQuads);\n\n    return Buffer.from(str, \"base64\");\n}\n\nInternalEncoderBase64.prototype.end = function() {\n    return Buffer.from(this.prevStr, \"base64\");\n}\n\n\n//------------------------------------------------------------------------------\n// CESU-8 encoder is also special.\n\nfunction InternalEncoderCesu8(options, codec) {\n}\n\nInternalEncoderCesu8.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length * 3), bufIdx = 0;\n    for (var i = 0; i < str.length; i++) {\n        var charCode = str.charCodeAt(i);\n        // Naive implementation, but it works because CESU-8 is especially easy\n        // to convert from UTF-16 (which all JS strings are encoded in).\n        if (charCode < 0x80)\n            buf[bufIdx++] = charCode;\n        else if (charCode < 0x800) {\n            buf[bufIdx++] = 0xC0 + (charCode >>> 6);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n        else { // charCode will always be < 0x10000 in javascript.\n            buf[bufIdx++] = 0xE0 + (charCode >>> 12);\n            buf[bufIdx++] = 0x80 + ((charCode >>> 6) & 0x3f);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n    }\n    return buf.slice(0, bufIdx);\n}\n\nInternalEncoderCesu8.prototype.end = function() {\n}\n\n//------------------------------------------------------------------------------\n// CESU-8 decoder is not implemented in Node v4.0+\n\nfunction InternalDecoderCesu8(options, codec) {\n    this.acc = 0;\n    this.contBytes = 0;\n    this.accBytes = 0;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n}\n\nInternalDecoderCesu8.prototype.write = function(buf) {\n    var acc = this.acc, contBytes = this.contBytes, accBytes = this.accBytes, \n        res = '';\n    for (var i = 0; i < buf.length; i++) {\n        var curByte = buf[i];\n        if ((curByte & 0xC0) !== 0x80) { // Leading byte\n            if (contBytes > 0) { // Previous code is invalid\n                res += this.defaultCharUnicode;\n                contBytes = 0;\n            }\n\n            if (curByte < 0x80) { // Single-byte code\n                res += String.fromCharCode(curByte);\n            } else if (curByte < 0xE0) { // Two-byte code\n                acc = curByte & 0x1F;\n                contBytes = 1; accBytes = 1;\n            } else if (curByte < 0xF0) { // Three-byte code\n                acc = curByte & 0x0F;\n                contBytes = 2; accBytes = 1;\n            } else { // Four or more are not supported for CESU-8.\n                res += this.defaultCharUnicode;\n            }\n        } else { // Continuation byte\n            if (contBytes > 0) { // We're waiting for it.\n                acc = (acc << 6) | (curByte & 0x3f);\n                contBytes--; accBytes++;\n                if (contBytes === 0) {\n                    // Check for overlong encoding, but support Modified UTF-8 (encoding NULL as C0 80)\n                    if (accBytes === 2 && acc < 0x80 && acc > 0)\n                        res += this.defaultCharUnicode;\n                    else if (accBytes === 3 && acc < 0x800)\n                        res += this.defaultCharUnicode;\n                    else\n                        // Actually add character.\n                        res += String.fromCharCode(acc);\n                }\n            } else { // Unexpected continuation byte\n                res += this.defaultCharUnicode;\n            }\n        }\n    }\n    this.acc = acc; this.contBytes = contBytes; this.accBytes = accBytes;\n    return res;\n}\n\nInternalDecoderCesu8.prototype.end = function() {\n    var res = 0;\n    if (this.contBytes > 0)\n        res += this.defaultCharUnicode;\n    return res;\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Single-byte codec. Needs a 'chars' string parameter that contains 256 or 128 chars that\n// correspond to encoded bytes (if 128 - then lower half is ASCII). \n\nexports._sbcs = SBCSCodec;\nfunction SBCSCodec(codecOptions, iconv) {\n    if (!codecOptions)\n        throw new Error(\"SBCS codec is called without the data.\")\n    \n    // Prepare char buffer for decoding.\n    if (!codecOptions.chars || (codecOptions.chars.length !== 128 && codecOptions.chars.length !== 256))\n        throw new Error(\"Encoding '\"+codecOptions.type+\"' has incorrect 'chars' (must be of len 128 or 256)\");\n    \n    if (codecOptions.chars.length === 128) {\n        var asciiString = \"\";\n        for (var i = 0; i < 128; i++)\n            asciiString += String.fromCharCode(i);\n        codecOptions.chars = asciiString + codecOptions.chars;\n    }\n\n    this.decodeBuf = Buffer.from(codecOptions.chars, 'ucs2');\n    \n    // Encoding buffer.\n    var encodeBuf = Buffer.alloc(65536, iconv.defaultCharSingleByte.charCodeAt(0));\n\n    for (var i = 0; i < codecOptions.chars.length; i++)\n        encodeBuf[codecOptions.chars.charCodeAt(i)] = i;\n\n    this.encodeBuf = encodeBuf;\n}\n\nSBCSCodec.prototype.encoder = SBCSEncoder;\nSBCSCodec.prototype.decoder = SBCSDecoder;\n\n\nfunction SBCSEncoder(options, codec) {\n    this.encodeBuf = codec.encodeBuf;\n}\n\nSBCSEncoder.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length);\n    for (var i = 0; i < str.length; i++)\n        buf[i] = this.encodeBuf[str.charCodeAt(i)];\n    \n    return buf;\n}\n\nSBCSEncoder.prototype.end = function() {\n}\n\n\nfunction SBCSDecoder(options, codec) {\n    this.decodeBuf = codec.decodeBuf;\n}\n\nSBCSDecoder.prototype.write = function(buf) {\n    // Strings are immutable in JS -> we use ucs2 buffer to speed up computations.\n    var decodeBuf = this.decodeBuf;\n    var newBuf = Buffer.alloc(buf.length*2);\n    var idx1 = 0, idx2 = 0;\n    for (var i = 0; i < buf.length; i++) {\n        idx1 = buf[i]*2; idx2 = i*2;\n        newBuf[idx2] = decodeBuf[idx1];\n        newBuf[idx2+1] = decodeBuf[idx1+1];\n    }\n    return newBuf.toString('ucs2');\n}\n\nSBCSDecoder.prototype.end = function() {\n}\n","\"use strict\";\n\n// Generated data for sbcs codec. Don't edit manually. Regenerate using generation/gen-sbcs.js script.\nmodule.exports = {\n  \"437\": \"cp437\",\n  \"737\": \"cp737\",\n  \"775\": \"cp775\",\n  \"850\": \"cp850\",\n  \"852\": \"cp852\",\n  \"855\": \"cp855\",\n  \"856\": \"cp856\",\n  \"857\": \"cp857\",\n  \"858\": \"cp858\",\n  \"860\": \"cp860\",\n  \"861\": \"cp861\",\n  \"862\": \"cp862\",\n  \"863\": \"cp863\",\n  \"864\": \"cp864\",\n  \"865\": \"cp865\",\n  \"866\": \"cp866\",\n  \"869\": \"cp869\",\n  \"874\": \"windows874\",\n  \"922\": \"cp922\",\n  \"1046\": \"cp1046\",\n  \"1124\": \"cp1124\",\n  \"1125\": \"cp1125\",\n  \"1129\": \"cp1129\",\n  \"1133\": \"cp1133\",\n  \"1161\": \"cp1161\",\n  \"1162\": \"cp1162\",\n  \"1163\": \"cp1163\",\n  \"1250\": \"windows1250\",\n  \"1251\": \"windows1251\",\n  \"1252\": \"windows1252\",\n  \"1253\": \"windows1253\",\n  \"1254\": \"windows1254\",\n  \"1255\": \"windows1255\",\n  \"1256\": \"windows1256\",\n  \"1257\": \"windows1257\",\n  \"1258\": \"windows1258\",\n  \"28591\": \"iso88591\",\n  \"28592\": \"iso88592\",\n  \"28593\": \"iso88593\",\n  \"28594\": \"iso88594\",\n  \"28595\": \"iso88595\",\n  \"28596\": \"iso88596\",\n  \"28597\": \"iso88597\",\n  \"28598\": \"iso88598\",\n  \"28599\": \"iso88599\",\n  \"28600\": \"iso885910\",\n  \"28601\": \"iso885911\",\n  \"28603\": \"iso885913\",\n  \"28604\": \"iso885914\",\n  \"28605\": \"iso885915\",\n  \"28606\": \"iso885916\",\n  \"windows874\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win874\": \"windows874\",\n  \"cp874\": \"windows874\",\n  \"windows1250\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1250\": \"windows1250\",\n  \"cp1250\": \"windows1250\",\n  \"windows1251\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1251\": \"windows1251\",\n  \"cp1251\": \"windows1251\",\n  \"windows1252\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1252\": \"windows1252\",\n  \"cp1252\": \"windows1252\",\n  \"windows1253\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1253\": \"windows1253\",\n  \"cp1253\": \"windows1253\",\n  \"windows1254\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1254\": \"windows1254\",\n  \"cp1254\": \"windows1254\",\n  \"windows1255\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1255\": \"windows1255\",\n  \"cp1255\": \"windows1255\",\n  \"windows1256\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1256\": \"windows1256\",\n  \"cp1256\": \"windows1256\",\n  \"windows1257\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1257\": \"windows1257\",\n  \"cp1257\": \"windows1257\",\n  \"windows1258\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1258\": \"windows1258\",\n  \"cp1258\": \"windows1258\",\n  \"iso88591\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28591\": \"iso88591\",\n  \"iso88592\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28592\": \"iso88592\",\n  \"iso88593\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28593\": \"iso88593\",\n  \"iso88594\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28594\": \"iso88594\",\n  \"iso88595\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28595\": \"iso88595\",\n  \"iso88596\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28596\": \"iso88596\",\n  \"iso88597\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28597\": \"iso88597\",\n  \"iso88598\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28598\": \"iso88598\",\n  \"iso88599\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28599\": \"iso88599\",\n  \"iso885910\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28600\": \"iso885910\",\n  \"iso885911\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28601\": \"iso885911\",\n  \"iso885913\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28603\": \"iso885913\",\n  \"iso885914\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28604\": \"iso885914\",\n  \"iso885915\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28605\": \"iso885915\",\n  \"iso885916\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28606\": \"iso885916\",\n  \"cp437\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm437\": \"cp437\",\n  \"csibm437\": \"cp437\",\n  \"cp737\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm737\": \"cp737\",\n  \"csibm737\": \"cp737\",\n  \"cp775\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm775\": \"cp775\",\n  \"csibm775\": \"cp775\",\n  \"cp850\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm850\": \"cp850\",\n  \"csibm850\": \"cp850\",\n  \"cp852\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm852\": \"cp852\",\n  \"csibm852\": \"cp852\",\n  \"cp855\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm855\": \"cp855\",\n  \"csibm855\": \"cp855\",\n  \"cp856\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm856\": \"cp856\",\n  \"csibm856\": \"cp856\",\n  \"cp857\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm857\": \"cp857\",\n  \"csibm857\": \"cp857\",\n  \"cp858\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm858\": \"cp858\",\n  \"csibm858\": \"cp858\",\n  \"cp860\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm860\": \"cp860\",\n  \"csibm860\": \"cp860\",\n  \"cp861\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm861\": \"cp861\",\n  \"csibm861\": \"cp861\",\n  \"cp862\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm862\": \"cp862\",\n  \"csibm862\": \"cp862\",\n  \"cp863\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm863\": \"cp863\",\n  \"csibm863\": \"cp863\",\n  \"cp864\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"ibm864\": \"cp864\",\n  \"csibm864\": \"cp864\",\n  \"cp865\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm865\": \"cp865\",\n  \"csibm865\": \"cp865\",\n  \"cp866\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm866\": \"cp866\",\n  \"csibm866\": \"cp866\",\n  \"cp869\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm869\": \"cp869\",\n  \"csibm869\": \"cp869\",\n  \"cp922\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm922\": \"cp922\",\n  \"csibm922\": \"cp922\",\n  \"cp1046\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1046\": \"cp1046\",\n  \"csibm1046\": \"cp1046\",\n  \"cp1124\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1124\": \"cp1124\",\n  \"csibm1124\": \"cp1124\",\n  \"cp1125\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1125\": \"cp1125\",\n  \"csibm1125\": \"cp1125\",\n  \"cp1129\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1129\": \"cp1129\",\n  \"csibm1129\": \"cp1129\",\n  \"cp1133\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1133\": \"cp1133\",\n  \"csibm1133\": \"cp1133\",\n  \"cp1161\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1161\": \"cp1161\",\n  \"csibm1161\": \"cp1161\",\n  \"cp1162\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1162\": \"cp1162\",\n  \"csibm1162\": \"cp1162\",\n  \"cp1163\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1163\": \"cp1163\",\n  \"csibm1163\": \"cp1163\",\n  \"maccroatian\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maccyrillic\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macgreek\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maciceland\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macroman\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macromania\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macthai\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macturkish\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macukraine\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8r\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8u\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8ru\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8t\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"armscii8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \")(.,-\"\n  },\n  \"rk1048\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tcvn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0003\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"georgianacademy\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"georgianps\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"pt154\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"viscii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0003\\u0004\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0015\\u0016\\u0017\\u0018\\u001a\\u001b\\u001c\\u001d\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"iso646cn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"iso646jp\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"hproman8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macintosh\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ascii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tis620\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  }\n}","\"use strict\";\n\n// Manually added data to be used by sbcs codec in addition to generated one.\n\nmodule.exports = {\n    // Not supported by iconv, not sure why.\n    \"10029\": \"maccenteuro\",\n    \"maccenteuro\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"808\": \"cp808\",\n    \"ibm808\": \"cp808\",\n    \"cp808\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"mik\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"cp720\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\\x80\\x81\\x84\\x86\\x8d\\x8e\\x8f\\x90\\u0651\\u0652\\u064b\\u064c\\u064d\\u064e\\u064f\\u0650\\u00a0\"\n    },\n\n    // Aliases of generated encodings.\n    \"ascii8bit\": \"ascii\",\n    \"usascii\": \"ascii\",\n    \"ansix34\": \"ascii\",\n    \"ansix341968\": \"ascii\",\n    \"ansix341986\": \"ascii\",\n    \"csascii\": \"ascii\",\n    \"cp367\": \"ascii\",\n    \"ibm367\": \"ascii\",\n    \"isoir6\": \"ascii\",\n    \"iso646us\": \"ascii\",\n    \"iso646irv\": \"ascii\",\n    \"us\": \"ascii\",\n\n    \"latin1\": \"iso88591\",\n    \"latin2\": \"iso88592\",\n    \"latin3\": \"iso88593\",\n    \"latin4\": \"iso88594\",\n    \"latin5\": \"iso88599\",\n    \"latin6\": \"iso885910\",\n    \"latin7\": \"iso885913\",\n    \"latin8\": \"iso885914\",\n    \"latin9\": \"iso885915\",\n    \"latin10\": \"iso885916\",\n\n    \"csisolatin1\": \"iso88591\",\n    \"csisolatin2\": \"iso88592\",\n    \"csisolatin3\": \"iso88593\",\n    \"csisolatin4\": \"iso88594\",\n    \"csisolatincyrillic\": \"iso88595\",\n    \"csisolatinarabic\": \"iso88596\",\n    \"csisolatingreek\" : \"iso88597\",\n    \"csisolatinhebrew\": \"iso88598\",\n    \"csisolatin5\": \"iso88599\",\n    \"csisolatin6\": \"iso885910\",\n\n    \"l1\": \"iso88591\",\n    \"l2\": \"iso88592\",\n    \"l3\": \"iso88593\",\n    \"l4\": \"iso88594\",\n    \"l5\": \"iso88599\",\n    \"l6\": \"iso885910\",\n    \"l7\": \"iso885913\",\n    \"l8\": \"iso885914\",\n    \"l9\": \"iso885915\",\n    \"l10\": \"iso885916\",\n\n    \"isoir14\": \"iso646jp\",\n    \"isoir57\": \"iso646cn\",\n    \"isoir100\": \"iso88591\",\n    \"isoir101\": \"iso88592\",\n    \"isoir109\": \"iso88593\",\n    \"isoir110\": \"iso88594\",\n    \"isoir144\": \"iso88595\",\n    \"isoir127\": \"iso88596\",\n    \"isoir126\": \"iso88597\",\n    \"isoir138\": \"iso88598\",\n    \"isoir148\": \"iso88599\",\n    \"isoir157\": \"iso885910\",\n    \"isoir166\": \"tis620\",\n    \"isoir179\": \"iso885913\",\n    \"isoir199\": \"iso885914\",\n    \"isoir203\": \"iso885915\",\n    \"isoir226\": \"iso885916\",\n\n    \"cp819\": \"iso88591\",\n    \"ibm819\": \"iso88591\",\n\n    \"cyrillic\": \"iso88595\",\n\n    \"arabic\": \"iso88596\",\n    \"arabic8\": \"iso88596\",\n    \"ecma114\": \"iso88596\",\n    \"asmo708\": \"iso88596\",\n\n    \"greek\" : \"iso88597\",\n    \"greek8\" : \"iso88597\",\n    \"ecma118\" : \"iso88597\",\n    \"elot928\" : \"iso88597\",\n\n    \"hebrew\": \"iso88598\",\n    \"hebrew8\": \"iso88598\",\n\n    \"turkish\": \"iso88599\",\n    \"turkish8\": \"iso88599\",\n\n    \"thai\": \"iso885911\",\n    \"thai8\": \"iso885911\",\n\n    \"celtic\": \"iso885914\",\n    \"celtic8\": \"iso885914\",\n    \"isoceltic\": \"iso885914\",\n\n    \"tis6200\": \"tis620\",\n    \"tis62025291\": \"tis620\",\n    \"tis62025330\": \"tis620\",\n\n    \"10000\": \"macroman\",\n    \"10006\": \"macgreek\",\n    \"10007\": \"maccyrillic\",\n    \"10079\": \"maciceland\",\n    \"10081\": \"macturkish\",\n\n    \"cspc8codepage437\": \"cp437\",\n    \"cspc775baltic\": \"cp775\",\n    \"cspc850multilingual\": \"cp850\",\n    \"cspcp852\": \"cp852\",\n    \"cspc862latinhebrew\": \"cp862\",\n    \"cpgr\": \"cp869\",\n\n    \"msee\": \"cp1250\",\n    \"mscyrl\": \"cp1251\",\n    \"msansi\": \"cp1252\",\n    \"msgreek\": \"cp1253\",\n    \"msturk\": \"cp1254\",\n    \"mshebr\": \"cp1255\",\n    \"msarab\": \"cp1256\",\n    \"winbaltrim\": \"cp1257\",\n\n    \"cp20866\": \"koi8r\",\n    \"20866\": \"koi8r\",\n    \"ibm878\": \"koi8r\",\n    \"cskoi8r\": \"koi8r\",\n\n    \"cp21866\": \"koi8u\",\n    \"21866\": \"koi8u\",\n    \"ibm1168\": \"koi8u\",\n\n    \"strk10482002\": \"rk1048\",\n\n    \"tcvn5712\": \"tcvn\",\n    \"tcvn57121\": \"tcvn\",\n\n    \"gb198880\": \"iso646cn\",\n    \"cn\": \"iso646cn\",\n\n    \"csiso14jisc6220ro\": \"iso646jp\",\n    \"jisc62201969ro\": \"iso646jp\",\n    \"jp\": \"iso646jp\",\n\n    \"cshproman8\": \"hproman8\",\n    \"r8\": \"hproman8\",\n    \"roman8\": \"hproman8\",\n    \"xroman8\": \"hproman8\",\n    \"ibm1051\": \"hproman8\",\n\n    \"mac\": \"macintosh\",\n    \"csmacintosh\": \"macintosh\",\n};\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Note: UTF16-LE (or UCS2) codec is Node.js native. See encodings/internal.js\n\n// == UTF16-BE codec. ==========================================================\n\nexports.utf16be = Utf16BECodec;\nfunction Utf16BECodec() {\n}\n\nUtf16BECodec.prototype.encoder = Utf16BEEncoder;\nUtf16BECodec.prototype.decoder = Utf16BEDecoder;\nUtf16BECodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf16BEEncoder() {\n}\n\nUtf16BEEncoder.prototype.write = function(str) {\n    var buf = Buffer.from(str, 'ucs2');\n    for (var i = 0; i < buf.length; i += 2) {\n        var tmp = buf[i]; buf[i] = buf[i+1]; buf[i+1] = tmp;\n    }\n    return buf;\n}\n\nUtf16BEEncoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf16BEDecoder() {\n    this.overflowByte = -1;\n}\n\nUtf16BEDecoder.prototype.write = function(buf) {\n    if (buf.length == 0)\n        return '';\n\n    var buf2 = Buffer.alloc(buf.length + 1),\n        i = 0, j = 0;\n\n    if (this.overflowByte !== -1) {\n        buf2[0] = buf[0];\n        buf2[1] = this.overflowByte;\n        i = 1; j = 2;\n    }\n\n    for (; i < buf.length-1; i += 2, j+= 2) {\n        buf2[j] = buf[i+1];\n        buf2[j+1] = buf[i];\n    }\n\n    this.overflowByte = (i == buf.length-1) ? buf[buf.length-1] : -1;\n\n    return buf2.slice(0, j).toString('ucs2');\n}\n\nUtf16BEDecoder.prototype.end = function() {\n    this.overflowByte = -1;\n}\n\n\n// == UTF-16 codec =============================================================\n// Decoder chooses automatically from UTF-16LE and UTF-16BE using BOM and space-based heuristic.\n// Defaults to UTF-16LE, as it's prevalent and default in Node.\n// http://en.wikipedia.org/wiki/UTF-16 and http://encoding.spec.whatwg.org/#utf-16le\n// Decoder default can be changed: iconv.decode(buf, 'utf16', {defaultEncoding: 'utf-16be'});\n\n// Encoder uses UTF-16LE and prepends BOM (which can be overridden with addBOM: false).\n\nexports.utf16 = Utf16Codec;\nfunction Utf16Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n}\n\nUtf16Codec.prototype.encoder = Utf16Encoder;\nUtf16Codec.prototype.decoder = Utf16Decoder;\n\n\n// -- Encoding (pass-through)\n\nfunction Utf16Encoder(options, codec) {\n    options = options || {};\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n    this.encoder = codec.iconv.getEncoder('utf-16le', options);\n}\n\nUtf16Encoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n}\n\nUtf16Encoder.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n// -- Decoding\n\nfunction Utf16Decoder(options, codec) {\n    this.decoder = null;\n    this.initialBufs = [];\n    this.initialBufsLen = 0;\n\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf16Decoder.prototype.write = function(buf) {\n    if (!this.decoder) {\n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBufs.push(buf);\n        this.initialBufsLen += buf.length;\n        \n        if (this.initialBufsLen < 16) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.write(buf);\n}\n\nUtf16Decoder.prototype.end = function() {\n    if (!this.decoder) {\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        var trail = this.decoder.end();\n        if (trail)\n            resStr += trail;\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n    return this.decoder.end();\n}\n\nfunction detectEncoding(bufs, defaultEncoding) {\n    var b = [];\n    var charsProcessed = 0;\n    var asciiCharsLE = 0, asciiCharsBE = 0; // Number of ASCII chars when decoded as LE or BE.\n\n    outer_loop:\n    for (var i = 0; i < bufs.length; i++) {\n        var buf = bufs[i];\n        for (var j = 0; j < buf.length; j++) {\n            b.push(buf[j]);\n            if (b.length === 2) {\n                if (charsProcessed === 0) {\n                    // Check BOM first.\n                    if (b[0] === 0xFF && b[1] === 0xFE) return 'utf-16le';\n                    if (b[0] === 0xFE && b[1] === 0xFF) return 'utf-16be';\n                }\n\n                if (b[0] === 0 && b[1] !== 0) asciiCharsBE++;\n                if (b[0] !== 0 && b[1] === 0) asciiCharsLE++;\n\n                b.length = 0;\n                charsProcessed++;\n\n                if (charsProcessed >= 100) {\n                    break outer_loop;\n                }\n            }\n        }\n    }\n\n    // Make decisions.\n    // Most of the time, the content has ASCII chars (U+00**), but the opposite (U+**00) is uncommon.\n    // So, we count ASCII as if it was LE or BE, and decide from that.\n    if (asciiCharsBE > asciiCharsLE) return 'utf-16be';\n    if (asciiCharsBE < asciiCharsLE) return 'utf-16le';\n\n    // Couldn't decide (likely all zeros or not enough data).\n    return defaultEncoding || 'utf-16le';\n}\n\n\n","'use strict';\n\nvar Buffer = require('safer-buffer').Buffer;\n\n// == UTF32-LE/BE codec. ==========================================================\n\nexports._utf32 = Utf32Codec;\n\nfunction Utf32Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n    this.bomAware = true;\n    this.isLE = codecOptions.isLE;\n}\n\nexports.utf32le = { type: '_utf32', isLE: true };\nexports.utf32be = { type: '_utf32', isLE: false };\n\n// Aliases\nexports.ucs4le = 'utf32le';\nexports.ucs4be = 'utf32be';\n\nUtf32Codec.prototype.encoder = Utf32Encoder;\nUtf32Codec.prototype.decoder = Utf32Decoder;\n\n// -- Encoding\n\nfunction Utf32Encoder(options, codec) {\n    this.isLE = codec.isLE;\n    this.highSurrogate = 0;\n}\n\nUtf32Encoder.prototype.write = function(str) {\n    var src = Buffer.from(str, 'ucs2');\n    var dst = Buffer.alloc(src.length * 2);\n    var write32 = this.isLE ? dst.writeUInt32LE : dst.writeUInt32BE;\n    var offset = 0;\n\n    for (var i = 0; i < src.length; i += 2) {\n        var code = src.readUInt16LE(i);\n        var isHighSurrogate = (0xD800 <= code && code < 0xDC00);\n        var isLowSurrogate = (0xDC00 <= code && code < 0xE000);\n\n        if (this.highSurrogate) {\n            if (isHighSurrogate || !isLowSurrogate) {\n                // There shouldn't be two high surrogates in a row, nor a high surrogate which isn't followed by a low\n                // surrogate. If this happens, keep the pending high surrogate as a stand-alone semi-invalid character\n                // (technically wrong, but expected by some applications, like Windows file names).\n                write32.call(dst, this.highSurrogate, offset);\n                offset += 4;\n            }\n            else {\n                // Create 32-bit value from high and low surrogates;\n                var codepoint = (((this.highSurrogate - 0xD800) << 10) | (code - 0xDC00)) + 0x10000;\n\n                write32.call(dst, codepoint, offset);\n                offset += 4;\n                this.highSurrogate = 0;\n\n                continue;\n            }\n        }\n\n        if (isHighSurrogate)\n            this.highSurrogate = code;\n        else {\n            // Even if the current character is a low surrogate, with no previous high surrogate, we'll\n            // encode it as a semi-invalid stand-alone character for the same reasons expressed above for\n            // unpaired high surrogates.\n            write32.call(dst, code, offset);\n            offset += 4;\n            this.highSurrogate = 0;\n        }\n    }\n\n    if (offset < dst.length)\n        dst = dst.slice(0, offset);\n\n    return dst;\n};\n\nUtf32Encoder.prototype.end = function() {\n    // Treat any leftover high surrogate as a semi-valid independent character.\n    if (!this.highSurrogate)\n        return;\n\n    var buf = Buffer.alloc(4);\n\n    if (this.isLE)\n        buf.writeUInt32LE(this.highSurrogate, 0);\n    else\n        buf.writeUInt32BE(this.highSurrogate, 0);\n\n    this.highSurrogate = 0;\n\n    return buf;\n};\n\n// -- Decoding\n\nfunction Utf32Decoder(options, codec) {\n    this.isLE = codec.isLE;\n    this.badChar = codec.iconv.defaultCharUnicode.charCodeAt(0);\n    this.overflow = [];\n}\n\nUtf32Decoder.prototype.write = function(src) {\n    if (src.length === 0)\n        return '';\n\n    var i = 0;\n    var codepoint = 0;\n    var dst = Buffer.alloc(src.length + 4);\n    var offset = 0;\n    var isLE = this.isLE;\n    var overflow = this.overflow;\n    var badChar = this.badChar;\n\n    if (overflow.length > 0) {\n        for (; i < src.length && overflow.length < 4; i++)\n            overflow.push(src[i]);\n        \n        if (overflow.length === 4) {\n            // NOTE: codepoint is a signed int32 and can be negative.\n            // NOTE: We copied this block from below to help V8 optimize it (it works with array, not buffer).\n            if (isLE) {\n                codepoint = overflow[i] | (overflow[i+1] << 8) | (overflow[i+2] << 16) | (overflow[i+3] << 24);\n            } else {\n                codepoint = overflow[i+3] | (overflow[i+2] << 8) | (overflow[i+1] << 16) | (overflow[i] << 24);\n            }\n            overflow.length = 0;\n\n            offset = _writeCodepoint(dst, offset, codepoint, badChar);\n        }\n    }\n\n    // Main loop. Should be as optimized as possible.\n    for (; i < src.length - 3; i += 4) {\n        // NOTE: codepoint is a signed int32 and can be negative.\n        if (isLE) {\n            codepoint = src[i] | (src[i+1] << 8) | (src[i+2] << 16) | (src[i+3] << 24);\n        } else {\n            codepoint = src[i+3] | (src[i+2] << 8) | (src[i+1] << 16) | (src[i] << 24);\n        }\n        offset = _writeCodepoint(dst, offset, codepoint, badChar);\n    }\n\n    // Keep overflowing bytes.\n    for (; i < src.length; i++) {\n        overflow.push(src[i]);\n    }\n\n    return dst.slice(0, offset).toString('ucs2');\n};\n\nfunction _writeCodepoint(dst, offset, codepoint, badChar) {\n    // NOTE: codepoint is signed int32 and can be negative. We keep it that way to help V8 with optimizations.\n    if (codepoint < 0 || codepoint > 0x10FFFF) {\n        // Not a valid Unicode codepoint\n        codepoint = badChar;\n    } \n\n    // Ephemeral Planes: Write high surrogate.\n    if (codepoint >= 0x10000) {\n        codepoint -= 0x10000;\n\n        var high = 0xD800 | (codepoint >> 10);\n        dst[offset++] = high & 0xff;\n        dst[offset++] = high >> 8;\n\n        // Low surrogate is written below.\n        var codepoint = 0xDC00 | (codepoint & 0x3FF);\n    }\n\n    // Write BMP char or low surrogate.\n    dst[offset++] = codepoint & 0xff;\n    dst[offset++] = codepoint >> 8;\n\n    return offset;\n};\n\nUtf32Decoder.prototype.end = function() {\n    this.overflow.length = 0;\n};\n\n// == UTF-32 Auto codec =============================================================\n// Decoder chooses automatically from UTF-32LE and UTF-32BE using BOM and space-based heuristic.\n// Defaults to UTF-32LE. http://en.wikipedia.org/wiki/UTF-32\n// Encoder/decoder default can be changed: iconv.decode(buf, 'utf32', {defaultEncoding: 'utf-32be'});\n\n// Encoder prepends BOM (which can be overridden with (addBOM: false}).\n\nexports.utf32 = Utf32AutoCodec;\nexports.ucs4 = 'utf32';\n\nfunction Utf32AutoCodec(options, iconv) {\n    this.iconv = iconv;\n}\n\nUtf32AutoCodec.prototype.encoder = Utf32AutoEncoder;\nUtf32AutoCodec.prototype.decoder = Utf32AutoDecoder;\n\n// -- Encoding\n\nfunction Utf32AutoEncoder(options, codec) {\n    options = options || {};\n\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n\n    this.encoder = codec.iconv.getEncoder(options.defaultEncoding || 'utf-32le', options);\n}\n\nUtf32AutoEncoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n};\n\nUtf32AutoEncoder.prototype.end = function() {\n    return this.encoder.end();\n};\n\n// -- Decoding\n\nfunction Utf32AutoDecoder(options, codec) {\n    this.decoder = null;\n    this.initialBufs = [];\n    this.initialBufsLen = 0;\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf32AutoDecoder.prototype.write = function(buf) {\n    if (!this.decoder) { \n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBufs.push(buf);\n        this.initialBufsLen += buf.length;\n\n        if (this.initialBufsLen < 32) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.write(buf);\n};\n\nUtf32AutoDecoder.prototype.end = function() {\n    if (!this.decoder) {\n        var encoding = detectEncoding(this.initialBufs, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var resStr = '';\n        for (var i = 0; i < this.initialBufs.length; i++)\n            resStr += this.decoder.write(this.initialBufs[i]);\n\n        var trail = this.decoder.end();\n        if (trail)\n            resStr += trail;\n\n        this.initialBufs.length = this.initialBufsLen = 0;\n        return resStr;\n    }\n\n    return this.decoder.end();\n};\n\nfunction detectEncoding(bufs, defaultEncoding) {\n    var b = [];\n    var charsProcessed = 0;\n    var invalidLE = 0, invalidBE = 0;   // Number of invalid chars when decoded as LE or BE.\n    var bmpCharsLE = 0, bmpCharsBE = 0; // Number of BMP chars when decoded as LE or BE.\n\n    outer_loop:\n    for (var i = 0; i < bufs.length; i++) {\n        var buf = bufs[i];\n        for (var j = 0; j < buf.length; j++) {\n            b.push(buf[j]);\n            if (b.length === 4) {\n                if (charsProcessed === 0) {\n                    // Check BOM first.\n                    if (b[0] === 0xFF && b[1] === 0xFE && b[2] === 0 && b[3] === 0) {\n                        return 'utf-32le';\n                    }\n                    if (b[0] === 0 && b[1] === 0 && b[2] === 0xFE && b[3] === 0xFF) {\n                        return 'utf-32be';\n                    }\n                }\n\n                if (b[0] !== 0 || b[1] > 0x10) invalidBE++;\n                if (b[3] !== 0 || b[2] > 0x10) invalidLE++;\n\n                if (b[0] === 0 && b[1] === 0 && (b[2] !== 0 || b[3] !== 0)) bmpCharsBE++;\n                if ((b[0] !== 0 || b[1] !== 0) && b[2] === 0 && b[3] === 0) bmpCharsLE++;\n\n                b.length = 0;\n                charsProcessed++;\n\n                if (charsProcessed >= 100) {\n                    break outer_loop;\n                }\n            }\n        }\n    }\n\n    // Make decisions.\n    if (bmpCharsBE - invalidBE > bmpCharsLE - invalidLE)  return 'utf-32be';\n    if (bmpCharsBE - invalidBE < bmpCharsLE - invalidLE)  return 'utf-32le';\n\n    // Couldn't decide (likely all zeros or not enough data).\n    return defaultEncoding || 'utf-32le';\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// UTF-7 codec, according to https://tools.ietf.org/html/rfc2152\n// See also below a UTF-7-IMAP codec, according to http://tools.ietf.org/html/rfc3501#section-5.1.3\n\nexports.utf7 = Utf7Codec;\nexports.unicode11utf7 = 'utf7'; // Alias UNICODE-1-1-UTF-7\nfunction Utf7Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7Codec.prototype.encoder = Utf7Encoder;\nUtf7Codec.prototype.decoder = Utf7Decoder;\nUtf7Codec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nvar nonDirectChars = /[^A-Za-z0-9'\\(\\),-\\.\\/:\\? \\n\\r\\t]+/g;\n\nfunction Utf7Encoder(options, codec) {\n    this.iconv = codec.iconv;\n}\n\nUtf7Encoder.prototype.write = function(str) {\n    // Naive implementation.\n    // Non-direct chars are encoded as \"+<base64>-\"; single \"+\" char is encoded as \"+-\".\n    return Buffer.from(str.replace(nonDirectChars, function(chunk) {\n        return \"+\" + (chunk === '+' ? '' : \n            this.iconv.encode(chunk, 'utf16-be').toString('base64').replace(/=+$/, '')) \n            + \"-\";\n    }.bind(this)));\n}\n\nUtf7Encoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf7Decoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64Regex = /[A-Za-z0-9\\/+]/;\nvar base64Chars = [];\nfor (var i = 0; i < 256; i++)\n    base64Chars[i] = base64Regex.test(String.fromCharCode(i));\n\nvar plusChar = '+'.charCodeAt(0), \n    minusChar = '-'.charCodeAt(0),\n    andChar = '&'.charCodeAt(0);\n\nUtf7Decoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '+'\n            if (buf[i] == plusChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64Chars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) {// \"+-\" -> \"+\"\n                    res += \"+\";\n                } else {\n                    var b64str = base64Accum + this.iconv.decode(buf.slice(lastI, i), \"ascii\");\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus is absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + this.iconv.decode(buf.slice(lastI), \"ascii\");\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7Decoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n// UTF-7-IMAP codec.\n// RFC3501 Sec. 5.1.3 Modified UTF-7 (http://tools.ietf.org/html/rfc3501#section-5.1.3)\n// Differences:\n//  * Base64 part is started by \"&\" instead of \"+\"\n//  * Direct characters are 0x20-0x7E, except \"&\" (0x26)\n//  * In Base64, \",\" is used instead of \"/\"\n//  * Base64 must not be used to represent direct characters.\n//  * No implicit shift back from Base64 (should always end with '-')\n//  * String must end in non-shifted position.\n//  * \"-&\" while in base64 is not allowed.\n\n\nexports.utf7imap = Utf7IMAPCodec;\nfunction Utf7IMAPCodec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7IMAPCodec.prototype.encoder = Utf7IMAPEncoder;\nUtf7IMAPCodec.prototype.decoder = Utf7IMAPDecoder;\nUtf7IMAPCodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf7IMAPEncoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = Buffer.alloc(6);\n    this.base64AccumIdx = 0;\n}\n\nUtf7IMAPEncoder.prototype.write = function(str) {\n    var inBase64 = this.inBase64,\n        base64Accum = this.base64Accum,\n        base64AccumIdx = this.base64AccumIdx,\n        buf = Buffer.alloc(str.length*5 + 10), bufIdx = 0;\n\n    for (var i = 0; i < str.length; i++) {\n        var uChar = str.charCodeAt(i);\n        if (0x20 <= uChar && uChar <= 0x7E) { // Direct character or '&'.\n            if (inBase64) {\n                if (base64AccumIdx > 0) {\n                    bufIdx += buf.write(base64Accum.slice(0, base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n                    base64AccumIdx = 0;\n                }\n\n                buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n                inBase64 = false;\n            }\n\n            if (!inBase64) {\n                buf[bufIdx++] = uChar; // Write direct character\n\n                if (uChar === andChar)  // Ampersand -> '&-'\n                    buf[bufIdx++] = minusChar;\n            }\n\n        } else { // Non-direct character\n            if (!inBase64) {\n                buf[bufIdx++] = andChar; // Write '&', then go to base64 mode.\n                inBase64 = true;\n            }\n            if (inBase64) {\n                base64Accum[base64AccumIdx++] = uChar >> 8;\n                base64Accum[base64AccumIdx++] = uChar & 0xFF;\n\n                if (base64AccumIdx == base64Accum.length) {\n                    bufIdx += buf.write(base64Accum.toString('base64').replace(/\\//g, ','), bufIdx);\n                    base64AccumIdx = 0;\n                }\n            }\n        }\n    }\n\n    this.inBase64 = inBase64;\n    this.base64AccumIdx = base64AccumIdx;\n\n    return buf.slice(0, bufIdx);\n}\n\nUtf7IMAPEncoder.prototype.end = function() {\n    var buf = Buffer.alloc(10), bufIdx = 0;\n    if (this.inBase64) {\n        if (this.base64AccumIdx > 0) {\n            bufIdx += buf.write(this.base64Accum.slice(0, this.base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n            this.base64AccumIdx = 0;\n        }\n\n        buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n        this.inBase64 = false;\n    }\n\n    return buf.slice(0, bufIdx);\n}\n\n\n// -- Decoding\n\nfunction Utf7IMAPDecoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64IMAPChars = base64Chars.slice();\nbase64IMAPChars[','.charCodeAt(0)] = true;\n\nUtf7IMAPDecoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n    // It is forgiving, closer to standard UTF-7 (for example, '-' is optional at the end).\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '&'\n            if (buf[i] == andChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64IMAPChars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) { // \"&-\" -> \"&\"\n                    res += \"&\";\n                } else {\n                    var b64str = base64Accum + this.iconv.decode(buf.slice(lastI, i), \"ascii\").replace(/,/g, '/');\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus may be absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + this.iconv.decode(buf.slice(lastI), \"ascii\").replace(/,/g, '/');\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7IMAPDecoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n","\"use strict\";\n\nvar BOMChar = '\\uFEFF';\n\nexports.PrependBOM = PrependBOMWrapper\nfunction PrependBOMWrapper(encoder, options) {\n    this.encoder = encoder;\n    this.addBOM = true;\n}\n\nPrependBOMWrapper.prototype.write = function(str) {\n    if (this.addBOM) {\n        str = BOMChar + str;\n        this.addBOM = false;\n    }\n\n    return this.encoder.write(str);\n}\n\nPrependBOMWrapper.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n\nexports.StripBOM = StripBOMWrapper;\nfunction StripBOMWrapper(decoder, options) {\n    this.decoder = decoder;\n    this.pass = false;\n    this.options = options || {};\n}\n\nStripBOMWrapper.prototype.write = function(buf) {\n    var res = this.decoder.write(buf);\n    if (this.pass || !res)\n        return res;\n\n    if (res[0] === BOMChar) {\n        res = res.slice(1);\n        if (typeof this.options.stripBOM === 'function')\n            this.options.stripBOM();\n    }\n\n    this.pass = true;\n    return res;\n}\n\nStripBOMWrapper.prototype.end = function() {\n    return this.decoder.end();\n}\n\n","\"use strict\";\n\nvar Buffer = require(\"safer-buffer\").Buffer;\n\nvar bomHandling = require(\"./bom-handling\"),\n    iconv = module.exports;\n\n// All codecs and aliases are kept here, keyed by encoding name/alias.\n// They are lazy loaded in `iconv.getCodec` from `encodings/index.js`.\niconv.encodings = null;\n\n// Characters emitted in case of error.\niconv.defaultCharUnicode = '';\niconv.defaultCharSingleByte = '?';\n\n// Public API.\niconv.encode = function encode(str, encoding, options) {\n    str = \"\" + (str || \"\"); // Ensure string.\n\n    var encoder = iconv.getEncoder(encoding, options);\n\n    var res = encoder.write(str);\n    var trail = encoder.end();\n    \n    return (trail && trail.length > 0) ? Buffer.concat([res, trail]) : res;\n}\n\niconv.decode = function decode(buf, encoding, options) {\n    if (typeof buf === 'string') {\n        if (!iconv.skipDecodeWarning) {\n            console.error('Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding');\n            iconv.skipDecodeWarning = true;\n        }\n\n        buf = Buffer.from(\"\" + (buf || \"\"), \"binary\"); // Ensure buffer.\n    }\n\n    var decoder = iconv.getDecoder(encoding, options);\n\n    var res = decoder.write(buf);\n    var trail = decoder.end();\n\n    return trail ? (res + trail) : res;\n}\n\niconv.encodingExists = function encodingExists(enc) {\n    try {\n        iconv.getCodec(enc);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n// Legacy aliases to convert functions\niconv.toEncoding = iconv.encode;\niconv.fromEncoding = iconv.decode;\n\n// Search for a codec in iconv.encodings. Cache codec data in iconv._codecDataCache.\niconv._codecDataCache = {};\niconv.getCodec = function getCodec(encoding) {\n    if (!iconv.encodings)\n        iconv.encodings = require(\"../encodings\"); // Lazy load all encoding definitions.\n    \n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    var enc = iconv._canonicalizeEncoding(encoding);\n\n    // Traverse iconv.encodings to find actual codec.\n    var codecOptions = {};\n    while (true) {\n        var codec = iconv._codecDataCache[enc];\n        if (codec)\n            return codec;\n\n        var codecDef = iconv.encodings[enc];\n\n        switch (typeof codecDef) {\n            case \"string\": // Direct alias to other encoding.\n                enc = codecDef;\n                break;\n\n            case \"object\": // Alias with options. Can be layered.\n                for (var key in codecDef)\n                    codecOptions[key] = codecDef[key];\n\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n                \n                enc = codecDef.type;\n                break;\n\n            case \"function\": // Codec itself.\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n\n                // The codec function must load all tables and return object with .encoder and .decoder methods.\n                // It'll be called only once (for each different options object).\n                codec = new codecDef(codecOptions, iconv);\n\n                iconv._codecDataCache[codecOptions.encodingName] = codec; // Save it to be reused later.\n                return codec;\n\n            default:\n                throw new Error(\"Encoding not recognized: '\" + encoding + \"' (searched as: '\"+enc+\"')\");\n        }\n    }\n}\n\niconv._canonicalizeEncoding = function(encoding) {\n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    return (''+encoding).toLowerCase().replace(/:\\d{4}$|[^0-9a-z]/g, \"\");\n}\n\niconv.getEncoder = function getEncoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        encoder = new codec.encoder(options, codec);\n\n    if (codec.bomAware && options && options.addBOM)\n        encoder = new bomHandling.PrependBOM(encoder, options);\n\n    return encoder;\n}\n\niconv.getDecoder = function getDecoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        decoder = new codec.decoder(options, codec);\n\n    if (codec.bomAware && !(options && options.stripBOM === false))\n        decoder = new bomHandling.StripBOM(decoder, options);\n\n    return decoder;\n}\n\n// Streaming API\n// NOTE: Streaming API naturally depends on 'stream' module from Node.js. Unfortunately in browser environments this module can add\n// up to 100Kb to the output bundle. To avoid unnecessary code bloat, we don't enable Streaming API in browser by default.\n// If you would like to enable it explicitly, please add the following code to your app:\n// > iconv.enableStreamingAPI(require('stream'));\niconv.enableStreamingAPI = function enableStreamingAPI(stream_module) {\n    if (iconv.supportsStreams)\n        return;\n\n    // Dependency-inject stream module to create IconvLite stream classes.\n    var streams = require(\"./streams\")(stream_module);\n\n    // Not public API yet, but expose the stream classes.\n    iconv.IconvLiteEncoderStream = streams.IconvLiteEncoderStream;\n    iconv.IconvLiteDecoderStream = streams.IconvLiteDecoderStream;\n\n    // Streaming API.\n    iconv.encodeStream = function encodeStream(encoding, options) {\n        return new iconv.IconvLiteEncoderStream(iconv.getEncoder(encoding, options), options);\n    }\n\n    iconv.decodeStream = function decodeStream(encoding, options) {\n        return new iconv.IconvLiteDecoderStream(iconv.getDecoder(encoding, options), options);\n    }\n\n    iconv.supportsStreams = true;\n}\n\n// Enable Streaming API automatically if 'stream' module is available and non-empty (the majority of environments).\nvar stream_module;\ntry {\n    stream_module = require(\"stream\");\n} catch (e) {}\n\nif (stream_module && stream_module.Transform) {\n    iconv.enableStreamingAPI(stream_module);\n\n} else {\n    // In rare cases where 'stream' module is not available by default, throw a helpful exception.\n    iconv.encodeStream = iconv.decodeStream = function() {\n        throw new Error(\"iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.\");\n    };\n}\n\nif (\"\" != \"\\u0100\") {\n    console.error(\"iconv-lite warning: js files use non-utf8 encoding. See https://github.com/ashtuchkin/iconv-lite/wiki/Javascript-source-file-encodings for more info.\");\n}\n","\"use strict\";\n\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// NOTE: Due to 'stream' module being pretty large (~100Kb, significant in browser environments), \n// we opt to dependency-inject it instead of creating a hard dependency.\nmodule.exports = function(stream_module) {\n    var Transform = stream_module.Transform;\n\n    // == Encoder stream =======================================================\n\n    function IconvLiteEncoderStream(conv, options) {\n        this.conv = conv;\n        options = options || {};\n        options.decodeStrings = false; // We accept only strings, so we don't need to decode them.\n        Transform.call(this, options);\n    }\n\n    IconvLiteEncoderStream.prototype = Object.create(Transform.prototype, {\n        constructor: { value: IconvLiteEncoderStream }\n    });\n\n    IconvLiteEncoderStream.prototype._transform = function(chunk, encoding, done) {\n        if (typeof chunk != 'string')\n            return done(new Error(\"Iconv encoding stream needs strings as its input.\"));\n        try {\n            var res = this.conv.write(chunk);\n            if (res && res.length) this.push(res);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteEncoderStream.prototype._flush = function(done) {\n        try {\n            var res = this.conv.end();\n            if (res && res.length) this.push(res);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteEncoderStream.prototype.collect = function(cb) {\n        var chunks = [];\n        this.on('error', cb);\n        this.on('data', function(chunk) { chunks.push(chunk); });\n        this.on('end', function() {\n            cb(null, Buffer.concat(chunks));\n        });\n        return this;\n    }\n\n\n    // == Decoder stream =======================================================\n\n    function IconvLiteDecoderStream(conv, options) {\n        this.conv = conv;\n        options = options || {};\n        options.encoding = this.encoding = 'utf8'; // We output strings.\n        Transform.call(this, options);\n    }\n\n    IconvLiteDecoderStream.prototype = Object.create(Transform.prototype, {\n        constructor: { value: IconvLiteDecoderStream }\n    });\n\n    IconvLiteDecoderStream.prototype._transform = function(chunk, encoding, done) {\n        if (!Buffer.isBuffer(chunk) && !(chunk instanceof Uint8Array))\n            return done(new Error(\"Iconv decoding stream needs buffers as its input.\"));\n        try {\n            var res = this.conv.write(chunk);\n            if (res && res.length) this.push(res, this.encoding);\n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteDecoderStream.prototype._flush = function(done) {\n        try {\n            var res = this.conv.end();\n            if (res && res.length) this.push(res, this.encoding);                \n            done();\n        }\n        catch (e) {\n            done(e);\n        }\n    }\n\n    IconvLiteDecoderStream.prototype.collect = function(cb) {\n        var res = '';\n        this.on('error', cb);\n        this.on('data', function(chunk) { res += chunk; });\n        this.on('end', function() {\n            cb(null, res);\n        });\n        return this;\n    }\n\n    return {\n        IconvLiteEncoderStream: IconvLiteEncoderStream,\n        IconvLiteDecoderStream: IconvLiteDecoderStream,\n    };\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"NIL\", {\n  enumerable: true,\n  get: function get() {\n    return _nil.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function get() {\n    return _parse.default;\n  }\n});\nObject.defineProperty(exports, \"stringify\", {\n  enumerable: true,\n  get: function get() {\n    return _stringify.default;\n  }\n});\nObject.defineProperty(exports, \"v1\", {\n  enumerable: true,\n  get: function get() {\n    return _v.default;\n  }\n});\nObject.defineProperty(exports, \"v3\", {\n  enumerable: true,\n  get: function get() {\n    return _v2.default;\n  }\n});\nObject.defineProperty(exports, \"v4\", {\n  enumerable: true,\n  get: function get() {\n    return _v3.default;\n  }\n});\nObject.defineProperty(exports, \"v5\", {\n  enumerable: true,\n  get: function get() {\n    return _v4.default;\n  }\n});\nObject.defineProperty(exports, \"validate\", {\n  enumerable: true,\n  get: function get() {\n    return _validate.default;\n  }\n});\nObject.defineProperty(exports, \"version\", {\n  enumerable: true,\n  get: function get() {\n    return _version.default;\n  }\n});\n\nvar _v = _interopRequireDefault(require(\"./v1.js\"));\n\nvar _v2 = _interopRequireDefault(require(\"./v3.js\"));\n\nvar _v3 = _interopRequireDefault(require(\"./v4.js\"));\n\nvar _v4 = _interopRequireDefault(require(\"./v5.js\"));\n\nvar _nil = _interopRequireDefault(require(\"./nil.js\"));\n\nvar _version = _interopRequireDefault(require(\"./version.js\"));\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  const output = [];\n  const length32 = input.length * 32;\n  const hexTab = '0123456789abcdef';\n\n  for (let i = 0; i < length32; i += 8) {\n    const x = input[i >> 5] >>> i % 32 & 0xff;\n    const hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  let a = 1732584193;\n  let b = -271733879;\n  let c = -1732584194;\n  let d = 271733878;\n\n  for (let i = 0; i < x.length; i += 16) {\n    const olda = a;\n    const oldb = b;\n    const oldc = c;\n    const oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  const length8 = input.length * 8;\n  const output = new Uint32Array(getOutputLength(length8));\n\n  for (let i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  const lsw = (x & 0xffff) + (y & 0xffff);\n  const msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nvar _default = md5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nvar _default = {\n  randomUUID\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = '00000000-0000-0000-0000-000000000000';\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction parse(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nvar _default = parse;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rng;\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\n\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  const K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  const H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  const l = bytes.length / 4 + 2;\n  const N = Math.ceil(l / 16);\n  const M = new Array(N);\n\n  for (let i = 0; i < N; ++i) {\n    const arr = new Uint32Array(16);\n\n    for (let j = 0; j < 16; ++j) {\n      arr[j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n\n    M[i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (let i = 0; i < N; ++i) {\n    const W = new Uint32Array(80);\n\n    for (let t = 0; t < 16; ++t) {\n      W[t] = M[i][t];\n    }\n\n    for (let t = 16; t < 80; ++t) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    let a = H[0];\n    let b = H[1];\n    let c = H[2];\n    let d = H[3];\n    let e = H[4];\n\n    for (let t = 0; t < 80; ++t) {\n      const s = Math.floor(t / 20);\n      const T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nvar _default = sha1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.unsafeStringify = unsafeStringify;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nvar _default = stringify;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng.default)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0, _stringify.unsafeStringify)(b);\n}\n\nvar _default = v1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _md = _interopRequireDefault(require(\"./md5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v3 = (0, _v.default)('v3', 0x30, _md.default);\nvar _default = v3;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.URL = exports.DNS = void 0;\nexports.default = v35;\n\nvar _stringify = require(\"./stringify.js\");\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexports.DNS = DNS;\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexports.URL = URL;\n\nfunction v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0, _parse.default)(namespace);\n    }\n\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0, _stringify.unsafeStringify)(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _native = _interopRequireDefault(require(\"./native.js\"));\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction v4(options, buf, offset) {\n  if (_native.default.randomUUID && !buf && !options) {\n    return _native.default.randomUUID();\n  }\n\n  options = options || {};\n\n  const rnds = options.random || (options.rng || _rng.default)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0, _stringify.unsafeStringify)(rnds);\n}\n\nvar _default = v4;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _sha = _interopRequireDefault(require(\"./sha1.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v5 = (0, _v.default)('v5', 0x50, _sha.default);\nvar _default = v5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regex = _interopRequireDefault(require(\"./regex.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex.default.test(uuid);\n}\n\nvar _default = validate;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction version(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.slice(14, 15), 16);\n}\n\nvar _default = version;\nexports.default = _default;","import api from \"!../../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../../../../css-loader/dist/cjs.js!./hover-service.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../../../../css-loader/dist/cjs.js!./select-component.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../../../../../css-loader/dist/cjs.js!./tree-compression.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js!./editor-language-status.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../../../css-loader/dist/cjs.js!./index.css\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};"],"names":[],"sourceRoot":""}